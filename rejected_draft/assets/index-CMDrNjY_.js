(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function qy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dd={exports:{}},Ys={};var fg;function ab(){if(fg)return Ys;fg=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(s,l,c){var u=null;if(c!==void 0&&(u=""+c),l.key!==void 0&&(u=""+l.key),"key"in l){c={};for(var m in l)m!=="key"&&(c[m]=l[m])}else c=l;return l=c.ref,{$$typeof:t,type:s,key:u,ref:l!==void 0?l:null,props:c}}return Ys.Fragment=a,Ys.jsx=i,Ys.jsxs=i,Ys}var dg;function rb(){return dg||(dg=1,dd.exports=ab()),dd.exports}var h=rb(),hd={exports:{}},Xs={},md={exports:{}},pd={};var hg;function ib(){return hg||(hg=1,(function(t){function a(S,T){var z=S.length;S.push(T);e:for(;0<z;){var q=z-1>>>1,F=S[q];if(0<l(F,T))S[q]=T,S[z]=F,z=q;else break e}}function i(S){return S.length===0?null:S[0]}function s(S){if(S.length===0)return null;var T=S[0],z=S.pop();if(z!==T){S[0]=z;e:for(var q=0,F=S.length,P=F>>>1;q<P;){var H=2*(q+1)-1,$=S[H],Q=H+1,te=S[Q];if(0>l($,z))Q<F&&0>l(te,$)?(S[q]=te,S[Q]=z,q=Q):(S[q]=$,S[H]=z,q=H);else if(Q<F&&0>l(te,z))S[q]=te,S[Q]=z,q=Q;else break e}}return T}function l(S,T){var z=S.sortIndex-T.sortIndex;return z!==0?z:S.id-T.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();t.unstable_now=function(){return u.now()-m}}var y=[],p=[],w=1,x=null,v=3,b=!1,E=!1,_=!1,j=!1,R=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function G(S){for(var T=i(p);T!==null;){if(T.callback===null)s(p);else if(T.startTime<=S)s(p),T.sortIndex=T.expirationTime,a(y,T);else break;T=i(p)}}function K(S){if(_=!1,G(S),!E)if(i(y)!==null)E=!0,V||(V=!0,O());else{var T=i(p);T!==null&&L(K,T.startTime-S)}}var V=!1,X=-1,C=5,M=-1;function U(){return j?!0:!(t.unstable_now()-M<C)}function D(){if(j=!1,V){var S=t.unstable_now();M=S;var T=!0;try{e:{E=!1,_&&(_=!1,B(X),X=-1),b=!0;var z=v;try{t:{for(G(S),x=i(y);x!==null&&!(x.expirationTime>S&&U());){var q=x.callback;if(typeof q=="function"){x.callback=null,v=x.priorityLevel;var F=q(x.expirationTime<=S);if(S=t.unstable_now(),typeof F=="function"){x.callback=F,G(S),T=!0;break t}x===i(y)&&s(y),G(S)}else s(y);x=i(y)}if(x!==null)T=!0;else{var P=i(p);P!==null&&L(K,P.startTime-S),T=!1}}break e}finally{x=null,v=z,b=!1}T=void 0}}finally{T?O():V=!1}}}var O;if(typeof N=="function")O=function(){N(D)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,A=Y.port2;Y.port1.onmessage=D,O=function(){A.postMessage(null)}}else O=function(){R(D,0)};function L(S,T){X=R(function(){S(t.unstable_now())},T)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(S){switch(v){case 1:case 2:case 3:var T=3;break;default:T=v}var z=v;v=T;try{return S()}finally{v=z}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(S,T){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var z=v;v=S;try{return T()}finally{v=z}},t.unstable_scheduleCallback=function(S,T,z){var q=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?q+z:q):z=q,S){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=z+F,S={id:w++,callback:T,priorityLevel:S,startTime:z,expirationTime:F,sortIndex:-1},z>q?(S.sortIndex=z,a(p,S),i(y)===null&&S===i(p)&&(_?(B(X),X=-1):_=!0,L(K,z-q))):(S.sortIndex=F,a(y,S),E||b||(E=!0,V||(V=!0,O()))),S},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(S){var T=v;return function(){var z=v;v=T;try{return S.apply(this,arguments)}finally{v=z}}}})(pd)),pd}var mg;function sb(){return mg||(mg=1,md.exports=ib()),md.exports}var gd={exports:{}},Re={};var pg;function lb(){if(pg)return Re;pg=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),v=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,j={};function R(P,H,$){this.props=P,this.context=H,this.refs=j,this.updater=$||E}R.prototype.isReactComponent={},R.prototype.setState=function(P,H){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,H,"setState")},R.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function B(){}B.prototype=R.prototype;function N(P,H,$){this.props=P,this.context=H,this.refs=j,this.updater=$||E}var G=N.prototype=new B;G.constructor=N,_(G,R.prototype),G.isPureReactComponent=!0;var K=Array.isArray;function V(){}var X={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function M(P,H,$){var Q=$.ref;return{$$typeof:t,type:P,key:H,ref:Q!==void 0?Q:null,props:$}}function U(P,H){return M(P.type,H,P.props)}function D(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function O(P){var H={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function($){return H[$]})}var Y=/\/+/g;function A(P,H){return typeof P=="object"&&P!==null&&P.key!=null?O(""+P.key):H.toString(36)}function L(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(V,V):(P.status="pending",P.then(function(H){P.status==="pending"&&(P.status="fulfilled",P.value=H)},function(H){P.status==="pending"&&(P.status="rejected",P.reason=H)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function S(P,H,$,Q,te){var ie=typeof P;(ie==="undefined"||ie==="boolean")&&(P=null);var se=!1;if(P===null)se=!0;else switch(ie){case"bigint":case"string":case"number":se=!0;break;case"object":switch(P.$$typeof){case t:case a:se=!0;break;case w:return se=P._init,S(se(P._payload),H,$,Q,te)}}if(se)return te=te(P),se=Q===""?"."+A(P,0):Q,K(te)?($="",se!=null&&($=se.replace(Y,"$&/")+"/"),S(te,H,$,"",function(Ne){return Ne})):te!=null&&(D(te)&&(te=U(te,$+(te.key==null||P&&P.key===te.key?"":(""+te.key).replace(Y,"$&/")+"/")+se)),H.push(te)),1;se=0;var fe=Q===""?".":Q+":";if(K(P))for(var me=0;me<P.length;me++)Q=P[me],ie=fe+A(Q,me),se+=S(Q,H,$,ie,te);else if(me=b(P),typeof me=="function")for(P=me.call(P),me=0;!(Q=P.next()).done;)Q=Q.value,ie=fe+A(Q,me++),se+=S(Q,H,$,ie,te);else if(ie==="object"){if(typeof P.then=="function")return S(L(P),H,$,Q,te);throw H=String(P),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return se}function T(P,H,$){if(P==null)return P;var Q=[],te=0;return S(P,Q,"","",function(ie){return H.call($,ie,te++)}),Q}function z(P){if(P._status===-1){var H=P._result;H=H(),H.then(function($){(P._status===0||P._status===-1)&&(P._status=1,P._result=$)},function($){(P._status===0||P._status===-1)&&(P._status=2,P._result=$)}),P._status===-1&&(P._status=0,P._result=H)}if(P._status===1)return P._result.default;throw P._result}var q=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},F={map:T,forEach:function(P,H,$){T(P,function(){H.apply(this,arguments)},$)},count:function(P){var H=0;return T(P,function(){H++}),H},toArray:function(P){return T(P,function(H){return H})||[]},only:function(P){if(!D(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Re.Activity=x,Re.Children=F,Re.Component=R,Re.Fragment=i,Re.Profiler=l,Re.PureComponent=N,Re.StrictMode=s,Re.Suspense=y,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Re.__COMPILER_RUNTIME={__proto__:null,c:function(P){return X.H.useMemoCache(P)}},Re.cache=function(P){return function(){return P.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(P,H,$){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var Q=_({},P.props),te=P.key;if(H!=null)for(ie in H.key!==void 0&&(te=""+H.key),H)!C.call(H,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&H.ref===void 0||(Q[ie]=H[ie]);var ie=arguments.length-2;if(ie===1)Q.children=$;else if(1<ie){for(var se=Array(ie),fe=0;fe<ie;fe++)se[fe]=arguments[fe+2];Q.children=se}return M(P.type,te,Q)},Re.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:c,_context:P},P},Re.createElement=function(P,H,$){var Q,te={},ie=null;if(H!=null)for(Q in H.key!==void 0&&(ie=""+H.key),H)C.call(H,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(te[Q]=H[Q]);var se=arguments.length-2;if(se===1)te.children=$;else if(1<se){for(var fe=Array(se),me=0;me<se;me++)fe[me]=arguments[me+2];te.children=fe}if(P&&P.defaultProps)for(Q in se=P.defaultProps,se)te[Q]===void 0&&(te[Q]=se[Q]);return M(P,ie,te)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(P){return{$$typeof:m,render:P}},Re.isValidElement=D,Re.lazy=function(P){return{$$typeof:w,_payload:{_status:-1,_result:P},_init:z}},Re.memo=function(P,H){return{$$typeof:p,type:P,compare:H===void 0?null:H}},Re.startTransition=function(P){var H=X.T,$={};X.T=$;try{var Q=P(),te=X.S;te!==null&&te($,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(V,q)}catch(ie){q(ie)}finally{H!==null&&$.types!==null&&(H.types=$.types),X.T=H}},Re.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Re.use=function(P){return X.H.use(P)},Re.useActionState=function(P,H,$){return X.H.useActionState(P,H,$)},Re.useCallback=function(P,H){return X.H.useCallback(P,H)},Re.useContext=function(P){return X.H.useContext(P)},Re.useDebugValue=function(){},Re.useDeferredValue=function(P,H){return X.H.useDeferredValue(P,H)},Re.useEffect=function(P,H){return X.H.useEffect(P,H)},Re.useEffectEvent=function(P){return X.H.useEffectEvent(P)},Re.useId=function(){return X.H.useId()},Re.useImperativeHandle=function(P,H,$){return X.H.useImperativeHandle(P,H,$)},Re.useInsertionEffect=function(P,H){return X.H.useInsertionEffect(P,H)},Re.useLayoutEffect=function(P,H){return X.H.useLayoutEffect(P,H)},Re.useMemo=function(P,H){return X.H.useMemo(P,H)},Re.useOptimistic=function(P,H){return X.H.useOptimistic(P,H)},Re.useReducer=function(P,H,$){return X.H.useReducer(P,H,$)},Re.useRef=function(P){return X.H.useRef(P)},Re.useState=function(P){return X.H.useState(P)},Re.useSyncExternalStore=function(P,H,$){return X.H.useSyncExternalStore(P,H,$)},Re.useTransition=function(){return X.H.useTransition()},Re.version="19.2.4",Re}var gg;function dl(){return gg||(gg=1,gd.exports=lb()),gd.exports}var yd={exports:{}},Lt={};var yg;function ob(){if(yg)return Lt;yg=1;var t=dl();function a(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,p,w){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:y,containerInfo:p,implementation:w}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Lt.createPortal=function(y,p){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return c(y,p,null,w)},Lt.flushSync=function(y){var p=u.T,w=s.p;try{if(u.T=null,s.p=2,y)return y()}finally{u.T=p,s.p=w,s.d.f()}},Lt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},Lt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Lt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var w=p.as,x=m(w,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;w==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:b}):w==="script"&&s.d.X(y,{crossOrigin:x,integrity:v,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Lt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var w=m(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},Lt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var w=p.as,x=m(w,p.crossOrigin);s.d.L(y,w,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Lt.preloadModule=function(y,p){if(typeof y=="string")if(p){var w=m(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},Lt.requestFormReset=function(y){s.d.r(y)},Lt.unstable_batchedUpdates=function(y,p){return y(p)},Lt.useFormState=function(y,p,w){return u.H.useFormState(y,p,w)},Lt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Lt.version="19.2.4",Lt}var xg;function Yy(){if(xg)return yd.exports;xg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),yd.exports=ob(),yd.exports}var wg;function cb(){if(wg)return Xs;wg=1;var t=sb(),a=dl(),i=Yy();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function u(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var d=r.return;if(d===null)break;var g=d.alternate;if(g===null){if(o=d.return,o!==null){r=o;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===r)return y(d),e;if(g===o)return y(d),n;g=g.sibling}throw Error(s(188))}if(r.return!==o.return)r=d,o=g;else{for(var k=!1,I=d.child;I;){if(I===r){k=!0,r=d,o=g;break}if(I===o){k=!0,o=d,r=g;break}I=I.sibling}if(!k){for(I=g.child;I;){if(I===r){k=!0,r=g,o=d;break}if(I===o){k=!0,o=g,r=d;break}I=I.sibling}if(!k)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function w(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=w(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),N=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Symbol.for("react.client.reference");function A(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Y?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case R:return"Profiler";case j:return"StrictMode";case K:return"Suspense";case V:return"SuspenseList";case M:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case N:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case G:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return n=e.displayName||null,n!==null?n:A(e.type)||"Memo";case C:n=e._payload,e=e._init;try{return A(e(n))}catch{}}return null}var L=Array.isArray,S=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},q=[],F=-1;function P(e){return{current:e}}function H(e){0>F||(e.current=q[F],q[F]=null,F--)}function $(e,n){F++,q[F]=e.current,e.current=n}var Q=P(null),te=P(null),ie=P(null),se=P(null);function fe(e,n){switch($(ie,n),$(te,e),$(Q,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Lp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Lp(n),e=Hp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(Q),$(Q,e)}function me(){H(Q),H(te),H(ie)}function Ne(e){e.memoizedState!==null&&$(se,e);var n=Q.current,r=Hp(n,e.type);n!==r&&($(te,e),$(Q,r))}function be(e){te.current===e&&(H(Q),H(te)),se.current===e&&(H(se),Ps._currentValue=z)}var xe,ve;function Ee(e){if(xe===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);xe=n&&n[1]||"",ve=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+e+ve}var _e=!1;function Xe(e,n){if(!e||_e)return"";_e=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(le){var re=le}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(le){re=le}e.call(ue.prototype)}}else{try{throw Error()}catch(le){re=le}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(le){if(le&&re&&typeof le.stack=="string")return[le.stack,re.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),k=g[0],I=g[1];if(k&&I){var Z=k.split(`
`),ae=I.split(`
`);for(d=o=0;o<Z.length&&!Z[o].includes("DetermineComponentFrameRoot");)o++;for(;d<ae.length&&!ae[d].includes("DetermineComponentFrameRoot");)d++;if(o===Z.length||d===ae.length)for(o=Z.length-1,d=ae.length-1;1<=o&&0<=d&&Z[o]!==ae[d];)d--;for(;1<=o&&0<=d;o--,d--)if(Z[o]!==ae[d]){if(o!==1||d!==1)do if(o--,d--,0>d||Z[o]!==ae[d]){var oe=`
`+Z[o].replace(" at new "," at ");return e.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",e.displayName)),oe}while(1<=o&&0<=d);break}}}finally{_e=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ee(r):""}function kt(e,n){switch(e.tag){case 26:case 27:case 5:return Ee(e.type);case 16:return Ee("Lazy");case 13:return e.child!==n&&n!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return Xe(e.type,!1);case 11:return Xe(e.type.render,!1);case 1:return Xe(e.type,!0);case 31:return Ee("Activity");default:return""}}function xn(e){try{var n="",r=null;do n+=kt(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Qt=Object.prototype.hasOwnProperty,wn=t.unstable_scheduleCallback,Zn=t.unstable_cancelCallback,dr=t.unstable_shouldYield,hr=t.unstable_requestPaint,Nt=t.unstable_now,Kr=t.unstable_getCurrentPriorityLevel,$n=t.unstable_ImmediatePriority,Ea=t.unstable_UserBlockingPriority,mr=t.unstable_NormalPriority,Zc=t.unstable_LowPriority,Zr=t.unstable_IdlePriority,$c=t.log,Qc=t.unstable_setDisableYieldValue,pr=null,Ot=null;function jn(e){if(typeof $c=="function"&&Qc(e),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(pr,e)}catch{}}var zt=Math.clz32?Math.clz32:Jc,Fc=Math.log,Wc=Math.LN2;function Jc(e){return e>>>=0,e===0?32:31-(Fc(e)/Wc|0)|0}var $r=256,Qr=262144,Fr=4194304;function Qn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wr(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var d=0,g=e.suspendedLanes,k=e.pingedLanes;e=e.warmLanes;var I=o&134217727;return I!==0?(o=I&~g,o!==0?d=Qn(o):(k&=I,k!==0?d=Qn(k):r||(r=I&~e,r!==0&&(d=Qn(r))))):(I=o&~g,I!==0?d=Qn(I):k!==0?d=Qn(k):r||(r=o&~e,r!==0&&(d=Qn(r)))),d===0?0:n!==0&&n!==d&&(n&g)===0&&(g=d&-d,r=n&-n,g>=r||g===32&&(r&4194048)!==0)?n:d}function gr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function eu(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bl(){var e=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),e}function Wi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function yr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tu(e,n,r,o,d,g){var k=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var I=e.entanglements,Z=e.expirationTimes,ae=e.hiddenUpdates;for(r=k&~r;0<r;){var oe=31-zt(r),ue=1<<oe;I[oe]=0,Z[oe]=-1;var re=ae[oe];if(re!==null)for(ae[oe]=null,oe=0;oe<re.length;oe++){var le=re[oe];le!==null&&(le.lane&=-536870913)}r&=~ue}o!==0&&kl(e,o,0),g!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=g&~(k&~n))}function kl(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-zt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Sl(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-zt(r),d=1<<o;d&n|e[o]&n&&(e[o]|=n),r&=~d}}function Cl(e,n){var r=n&-n;return r=(r&42)!==0?1:Ji(r),(r&(e.suspendedLanes|n))!==0?0:r}function Ji(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function es(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function El(){var e=T.p;return e!==0?e:(e=window.event,e===void 0?32:rg(e.type))}function Nl(e,n){var r=T.p;try{return T.p=e,n()}finally{T.p=r}}var Dn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Dn,Dt="__reactProps$"+Dn,Fn="__reactContainer$"+Dn,Jr="__reactEvents$"+Dn,_l="__reactListeners$"+Dn,nu="__reactHandles$"+Dn,Ml="__reactResources$"+Dn,xr="__reactMarker$"+Dn;function ts(e){delete e[wt],delete e[Dt],delete e[Jr],delete e[_l],delete e[nu]}function Na(e){var n=e[wt];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Fn]||r[wt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Ip(e);e!==null;){if(r=e[wt])return r;e=Ip(e)}return n}e=r,r=e.parentNode}return null}function _a(e){if(e=e[wt]||e[Fn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ma(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Ta(e){var n=e[Ml];return n||(n=e[Ml]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ht(e){e[xr]=!0}var Tl=new Set,Al={};function Wn(e,n){Aa(e,n),Aa(e+"Capture",n)}function Aa(e,n){for(Al[e]=n,e=0;e<n.length;e++)Tl.add(n[e])}var au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ns={},Rl={};function ru(e){return Qt.call(Rl,e)?!0:Qt.call(ns,e)?!1:au.test(e)?Rl[e]=!0:(ns[e]=!0,!1)}function ei(e,n,r){if(ru(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function ti(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function vn(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function iu(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(k){r=""+k,g.call(this,k)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(k){r=""+k},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ni(e){if(!e._valueTracker){var n=jl(e)?"checked":"value";e._valueTracker=iu(e,n,""+e[n])}}function Dl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=jl(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var su=/[\n"\\]/g;function Gt(e){return e.replace(su,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function vr(e,n,r,o,d,g,k,I){e.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?e.type=k:e.removeAttribute("type"),n!=null?k==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ut(n)):e.value!==""+Ut(n)&&(e.value=""+Ut(n)):k!=="submit"&&k!=="reset"||e.removeAttribute("value"),n!=null?as(e,k,Ut(n)):r!=null?as(e,k,Ut(r)):o!=null&&e.removeAttribute("value"),d==null&&g!=null&&(e.defaultChecked=!!g),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?e.name=""+Ut(I):e.removeAttribute("name")}function Ll(e,n,r,o,d,g,k,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||n!=null)){ni(e);return}r=r!=null?""+Ut(r):"",n=n!=null?""+Ut(n):r,I||n===e.value||(e.value=n),e.defaultValue=n}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=I?e.checked:!!o,e.defaultChecked=!!o,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(e.name=k),ni(e)}function as(e,n,r){n==="number"&&wr(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Jn(e,n,r,o){if(e=e.options,n){n={};for(var d=0;d<r.length;d++)n["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=n.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ut(r),n=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function T0(e,n,r){if(n!=null&&(n=""+Ut(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ut(r):""}function A0(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(L(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ut(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),ni(e)}function ai(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Wx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function R0(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||Wx.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function j0(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var d in n)o=n[d],n.hasOwnProperty(d)&&r[d]!==o&&R0(e,d,o)}else for(var g in n)n.hasOwnProperty(g)&&R0(e,g,n[g])}function lu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ew=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hl(e){return ew.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ea(){}var ou=null;function cu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ri=null,ii=null;function D0(e){var n=_a(e);if(n&&(e=n.stateNode)){var r=e[Dt]||null;e:switch(e=n.stateNode,n.type){case"input":if(vr(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Gt(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var d=o[Dt]||null;if(!d)throw Error(s(90));vr(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Dl(o)}break e;case"textarea":T0(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Jn(e,!!r.multiple,n,!1)}}}var uu=!1;function L0(e,n,r){if(uu)return e(n,r);uu=!0;try{var o=e(n);return o}finally{if(uu=!1,(ri!==null||ii!==null)&&(So(),ri&&(n=ri,e=ii,ii=ri=null,D0(n),e)))for(n=0;n<e.length;n++)D0(e[n])}}function rs(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Dt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fu=!1;if(ta)try{var is={};Object.defineProperty(is,"passive",{get:function(){fu=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{fu=!1}var Ra=null,du=null,Ol=null;function H0(){if(Ol)return Ol;var e,n=du,r=n.length,o,d="value"in Ra?Ra.value:Ra.textContent,g=d.length;for(e=0;e<r&&n[e]===d[e];e++);var k=r-e;for(o=1;o<=k&&n[r-o]===d[g-o];o++);return Ol=d.slice(e,1<o?1-o:void 0)}function zl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Bl(){return!0}function O0(){return!1}function Pt(e){function n(r,o,d,g,k){this._reactName=r,this._targetInst=d,this.type=o,this.nativeEvent=g,this.target=k,this.currentTarget=null;for(var I in e)e.hasOwnProperty(I)&&(r=e[I],this[I]=r?r(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Bl:O0,this.isPropagationStopped=O0,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),n}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ul=Pt(br),ss=x({},br,{view:0,detail:0}),tw=Pt(ss),hu,mu,ls,Gl=x({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ls&&(ls&&e.type==="mousemove"?(hu=e.screenX-ls.screenX,mu=e.screenY-ls.screenY):mu=hu=0,ls=e),hu)},movementY:function(e){return"movementY"in e?e.movementY:mu}}),z0=Pt(Gl),nw=x({},Gl,{dataTransfer:0}),aw=Pt(nw),rw=x({},ss,{relatedTarget:0}),pu=Pt(rw),iw=x({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),sw=Pt(iw),lw=x({},br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ow=Pt(lw),cw=x({},br,{data:0}),B0=Pt(cw),uw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hw(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=dw[e])?!!n[e]:!1}function gu(){return hw}var mw=x({},ss,{key:function(e){if(e.key){var n=uw[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(e){return e.type==="keypress"?zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pw=Pt(mw),gw=x({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U0=Pt(gw),yw=x({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),xw=Pt(yw),ww=x({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),vw=Pt(ww),bw=x({},Gl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kw=Pt(bw),Sw=x({},br,{newState:0,oldState:0}),Cw=Pt(Sw),Ew=[9,13,27,32],yu=ta&&"CompositionEvent"in window,os=null;ta&&"documentMode"in document&&(os=document.documentMode);var Nw=ta&&"TextEvent"in window&&!os,G0=ta&&(!yu||os&&8<os&&11>=os),P0=" ",I0=!1;function V0(e,n){switch(e){case"keyup":return Ew.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var si=!1;function _w(e,n){switch(e){case"compositionend":return q0(n);case"keypress":return n.which!==32?null:(I0=!0,P0);case"textInput":return e=n.data,e===P0&&I0?null:e;default:return null}}function Mw(e,n){if(si)return e==="compositionend"||!yu&&V0(e,n)?(e=H0(),Ol=du=Ra=null,si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return G0&&n.locale!=="ko"?null:n.data;default:return null}}var Tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y0(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Tw[e.type]:n==="textarea"}function X0(e,n,r,o){ri?ii?ii.push(o):ii=[o]:ri=o,n=Ao(n,"onChange"),0<n.length&&(r=new Ul("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var cs=null,us=null;function Aw(e){Mp(e,0)}function Pl(e){var n=Ma(e);if(Dl(n))return e}function K0(e,n){if(e==="change")return n}var Z0=!1;if(ta){var xu;if(ta){var wu="oninput"in document;if(!wu){var $0=document.createElement("div");$0.setAttribute("oninput","return;"),wu=typeof $0.oninput=="function"}xu=wu}else xu=!1;Z0=xu&&(!document.documentMode||9<document.documentMode)}function Q0(){cs&&(cs.detachEvent("onpropertychange",F0),us=cs=null)}function F0(e){if(e.propertyName==="value"&&Pl(us)){var n=[];X0(n,us,e,cu(e)),L0(Aw,n)}}function Rw(e,n,r){e==="focusin"?(Q0(),cs=n,us=r,cs.attachEvent("onpropertychange",F0)):e==="focusout"&&Q0()}function jw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pl(us)}function Dw(e,n){if(e==="click")return Pl(n)}function Lw(e,n){if(e==="input"||e==="change")return Pl(n)}function Hw(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ft=typeof Object.is=="function"?Object.is:Hw;function fs(e,n){if(Ft(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var d=r[o];if(!Qt.call(n,d)||!Ft(e[d],n[d]))return!1}return!0}function W0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function J0(e,n){var r=W0(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=W0(r)}}function eh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?eh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function th(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=wr(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=wr(e.document)}return n}function vu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Ow=ta&&"documentMode"in document&&11>=document.documentMode,li=null,bu=null,ds=null,ku=!1;function nh(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ku||li==null||li!==wr(o)||(o=li,"selectionStart"in o&&vu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ds&&fs(ds,o)||(ds=o,o=Ao(bu,"onSelect"),0<o.length&&(n=new Ul("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=li)))}function kr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var oi={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},Su={},ah={};ta&&(ah=document.createElement("div").style,"AnimationEvent"in window||(delete oi.animationend.animation,delete oi.animationiteration.animation,delete oi.animationstart.animation),"TransitionEvent"in window||delete oi.transitionend.transition);function Sr(e){if(Su[e])return Su[e];if(!oi[e])return e;var n=oi[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in ah)return Su[e]=n[r];return e}var rh=Sr("animationend"),ih=Sr("animationiteration"),sh=Sr("animationstart"),zw=Sr("transitionrun"),Bw=Sr("transitionstart"),Uw=Sr("transitioncancel"),lh=Sr("transitionend"),oh=new Map,Cu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cu.push("scrollEnd");function bn(e,n){oh.set(e,n),Wn(n,[e])}var Il=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ln=[],ci=0,Eu=0;function Vl(){for(var e=ci,n=Eu=ci=0;n<e;){var r=ln[n];ln[n++]=null;var o=ln[n];ln[n++]=null;var d=ln[n];ln[n++]=null;var g=ln[n];if(ln[n++]=null,o!==null&&d!==null){var k=o.pending;k===null?d.next=d:(d.next=k.next,k.next=d),o.pending=d}g!==0&&ch(r,d,g)}}function ql(e,n,r,o){ln[ci++]=e,ln[ci++]=n,ln[ci++]=r,ln[ci++]=o,Eu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Nu(e,n,r,o){return ql(e,n,r,o),Yl(e)}function Cr(e,n){return ql(e,null,null,n),Yl(e)}function ch(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var d=!1,g=e.return;g!==null;)g.childLanes|=r,o=g.alternate,o!==null&&(o.childLanes|=r),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(d=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,d&&n!==null&&(d=31-zt(r),e=g.hiddenUpdates,o=e[d],o===null?e[d]=[n]:o.push(n),n.lane=r|536870912),g):null}function Yl(e){if(50<Ls)throw Ls=0,Of=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ui={};function Gw(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,n,r,o){return new Gw(e,n,r,o)}function _u(e){return e=e.prototype,!(!e||!e.isReactComponent)}function na(e,n){var r=e.alternate;return r===null?(r=Wt(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function uh(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Xl(e,n,r,o,d,g){var k=0;if(o=e,typeof e=="function")_u(e)&&(k=1);else if(typeof e=="string")k=Yv(e,r,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case M:return e=Wt(31,r,n,d),e.elementType=M,e.lanes=g,e;case _:return Er(r.children,d,g,n);case j:k=8,d|=24;break;case R:return e=Wt(12,r,n,d|2),e.elementType=R,e.lanes=g,e;case K:return e=Wt(13,r,n,d),e.elementType=K,e.lanes=g,e;case V:return e=Wt(19,r,n,d),e.elementType=V,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N:k=10;break e;case B:k=9;break e;case G:k=11;break e;case X:k=14;break e;case C:k=16,o=null;break e}k=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=Wt(k,r,n,d),n.elementType=e,n.type=o,n.lanes=g,n}function Er(e,n,r,o){return e=Wt(7,e,o,n),e.lanes=r,e}function Mu(e,n,r){return e=Wt(6,e,null,n),e.lanes=r,e}function fh(e){var n=Wt(18,null,null,0);return n.stateNode=e,n}function Tu(e,n,r){return n=Wt(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var dh=new WeakMap;function on(e,n){if(typeof e=="object"&&e!==null){var r=dh.get(e);return r!==void 0?r:(n={value:e,source:n,stack:xn(n)},dh.set(e,n),n)}return{value:e,source:n,stack:xn(n)}}var fi=[],di=0,Kl=null,hs=0,cn=[],un=0,ja=null,Ln=1,Hn="";function aa(e,n){fi[di++]=hs,fi[di++]=Kl,Kl=e,hs=n}function hh(e,n,r){cn[un++]=Ln,cn[un++]=Hn,cn[un++]=ja,ja=e;var o=Ln;e=Hn;var d=32-zt(o)-1;o&=~(1<<d),r+=1;var g=32-zt(n)+d;if(30<g){var k=d-d%5;g=(o&(1<<k)-1).toString(32),o>>=k,d-=k,Ln=1<<32-zt(n)+d|r<<d|o,Hn=g+e}else Ln=1<<g|r<<d|o,Hn=e}function Au(e){e.return!==null&&(aa(e,1),hh(e,1,0))}function Ru(e){for(;e===Kl;)Kl=fi[--di],fi[di]=null,hs=fi[--di],fi[di]=null;for(;e===ja;)ja=cn[--un],cn[un]=null,Hn=cn[--un],cn[un]=null,Ln=cn[--un],cn[un]=null}function mh(e,n){cn[un++]=Ln,cn[un++]=Hn,cn[un++]=ja,Ln=n.id,Hn=n.overflow,ja=e}var _t=null,nt=null,Ge=!1,Da=null,fn=!1,ju=Error(s(519));function La(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ms(on(n,e)),ju}function ph(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[wt]=e,n[Dt]=o,r){case"dialog":Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":case"embed":Oe("load",n);break;case"video":case"audio":for(r=0;r<Os.length;r++)Oe(Os[r],n);break;case"source":Oe("error",n);break;case"img":case"image":case"link":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"input":Oe("invalid",n),Ll(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Oe("invalid",n);break;case"textarea":Oe("invalid",n),A0(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||jp(n.textContent,r)?(o.popover!=null&&(Oe("beforetoggle",n),Oe("toggle",n)),o.onScroll!=null&&Oe("scroll",n),o.onScrollEnd!=null&&Oe("scrollend",n),o.onClick!=null&&(n.onclick=ea),n=!0):n=!1,n||La(e,!0)}function gh(e){for(_t=e.return;_t;)switch(_t.tag){case 5:case 31:case 13:fn=!1;return;case 27:case 3:fn=!0;return;default:_t=_t.return}}function hi(e){if(e!==_t)return!1;if(!Ge)return gh(e),Ge=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Ff(e.type,e.memoizedProps)),r=!r),r&&nt&&La(e),gh(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));nt=Pp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));nt=Pp(e)}else n===27?(n=nt,Za(e.type)?(e=nd,nd=null,nt=e):nt=n):nt=_t?hn(e.stateNode.nextSibling):null;return!0}function Nr(){nt=_t=null,Ge=!1}function Du(){var e=Da;return e!==null&&(Yt===null?Yt=e:Yt.push.apply(Yt,e),Da=null),e}function ms(e){Da===null?Da=[e]:Da.push(e)}var Lu=P(null),_r=null,ra=null;function Ha(e,n,r){$(Lu,n._currentValue),n._currentValue=r}function ia(e){e._currentValue=Lu.current,H(Lu)}function Hu(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Ou(e,n,r,o){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var g=d.dependencies;if(g!==null){var k=d.child;g=g.firstContext;e:for(;g!==null;){var I=g;g=d;for(var Z=0;Z<n.length;Z++)if(I.context===n[Z]){g.lanes|=r,I=g.alternate,I!==null&&(I.lanes|=r),Hu(g.return,r,e),o||(k=null);break e}g=I.next}}else if(d.tag===18){if(k=d.return,k===null)throw Error(s(341));k.lanes|=r,g=k.alternate,g!==null&&(g.lanes|=r),Hu(k,r,e),k=null}else k=d.child;if(k!==null)k.return=d;else for(k=d;k!==null;){if(k===e){k=null;break}if(d=k.sibling,d!==null){d.return=k.return,k=d;break}k=k.return}d=k}}function mi(e,n,r,o){e=null;for(var d=n,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var k=d.alternate;if(k===null)throw Error(s(387));if(k=k.memoizedProps,k!==null){var I=d.type;Ft(d.pendingProps.value,k.value)||(e!==null?e.push(I):e=[I])}}else if(d===se.current){if(k=d.alternate,k===null)throw Error(s(387));k.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Ps):e=[Ps])}d=d.return}e!==null&&Ou(n,e,r,o),n.flags|=262144}function Zl(e){for(e=e.firstContext;e!==null;){if(!Ft(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){_r=e,ra=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Mt(e){return yh(_r,e)}function $l(e,n){return _r===null&&Mr(e),yh(e,n)}function yh(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ra===null){if(e===null)throw Error(s(308));ra=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ra=ra.next=n;return r}var Pw=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},Iw=t.unstable_scheduleCallback,Vw=t.unstable_NormalPriority,mt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zu(){return{controller:new Pw,data:new Map,refCount:0}}function ps(e){e.refCount--,e.refCount===0&&Iw(Vw,function(){e.controller.abort()})}var gs=null,Bu=0,pi=0,gi=null;function qw(e,n){if(gs===null){var r=gs=[];Bu=0,pi=If(),gi={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Bu++,n.then(xh,xh),n}function xh(){if(--Bu===0&&gs!==null){gi!==null&&(gi.status="fulfilled");var e=gs;gs=null,pi=0,gi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Yw(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var d=0;d<r.length;d++)(0,r[d])(n)},function(d){for(o.status="rejected",o.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),o}var wh=S.S;S.S=function(e,n){np=Nt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&qw(e,n),wh!==null&&wh(e,n)};var Tr=P(null);function Uu(){var e=Tr.current;return e!==null?e:Je.pooledCache}function Ql(e,n){n===null?$(Tr,Tr.current):$(Tr,n.pool)}function vh(){var e=Uu();return e===null?null:{parent:mt._currentValue,pool:e}}var yi=Error(s(460)),Gu=Error(s(474)),Fl=Error(s(542)),Wl={then:function(){}};function bh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function kh(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(ea,ea),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ch(e),e;default:if(typeof n.status=="string")n.then(ea,ea);else{if(e=Je,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=o}},function(o){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ch(e),e}throw Rr=n,yi}}function Ar(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Rr=r,yi):r}}var Rr=null;function Sh(){if(Rr===null)throw Error(s(459));var e=Rr;return Rr=null,e}function Ch(e){if(e===yi||e===Fl)throw Error(s(483))}var xi=null,ys=0;function Jl(e){var n=ys;return ys+=1,xi===null&&(xi=[]),kh(xi,e,n)}function xs(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function eo(e,n){throw n.$$typeof===v?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Eh(e){function n(J,W){if(e){var ne=J.deletions;ne===null?(J.deletions=[W],J.flags|=16):ne.push(W)}}function r(J,W){if(!e)return null;for(;W!==null;)n(J,W),W=W.sibling;return null}function o(J){for(var W=new Map;J!==null;)J.key!==null?W.set(J.key,J):W.set(J.index,J),J=J.sibling;return W}function d(J,W){return J=na(J,W),J.index=0,J.sibling=null,J}function g(J,W,ne){return J.index=ne,e?(ne=J.alternate,ne!==null?(ne=ne.index,ne<W?(J.flags|=67108866,W):ne):(J.flags|=67108866,W)):(J.flags|=1048576,W)}function k(J){return e&&J.alternate===null&&(J.flags|=67108866),J}function I(J,W,ne,ce){return W===null||W.tag!==6?(W=Mu(ne,J.mode,ce),W.return=J,W):(W=d(W,ne),W.return=J,W)}function Z(J,W,ne,ce){var Ce=ne.type;return Ce===_?oe(J,W,ne.props.children,ce,ne.key):W!==null&&(W.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===C&&Ar(Ce)===W.type)?(W=d(W,ne.props),xs(W,ne),W.return=J,W):(W=Xl(ne.type,ne.key,ne.props,null,J.mode,ce),xs(W,ne),W.return=J,W)}function ae(J,W,ne,ce){return W===null||W.tag!==4||W.stateNode.containerInfo!==ne.containerInfo||W.stateNode.implementation!==ne.implementation?(W=Tu(ne,J.mode,ce),W.return=J,W):(W=d(W,ne.children||[]),W.return=J,W)}function oe(J,W,ne,ce,Ce){return W===null||W.tag!==7?(W=Er(ne,J.mode,ce,Ce),W.return=J,W):(W=d(W,ne),W.return=J,W)}function ue(J,W,ne){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Mu(""+W,J.mode,ne),W.return=J,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return ne=Xl(W.type,W.key,W.props,null,J.mode,ne),xs(ne,W),ne.return=J,ne;case E:return W=Tu(W,J.mode,ne),W.return=J,W;case C:return W=Ar(W),ue(J,W,ne)}if(L(W)||O(W))return W=Er(W,J.mode,ne,null),W.return=J,W;if(typeof W.then=="function")return ue(J,Jl(W),ne);if(W.$$typeof===N)return ue(J,$l(J,W),ne);eo(J,W)}return null}function re(J,W,ne,ce){var Ce=W!==null?W.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Ce!==null?null:I(J,W,""+ne,ce);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:return ne.key===Ce?Z(J,W,ne,ce):null;case E:return ne.key===Ce?ae(J,W,ne,ce):null;case C:return ne=Ar(ne),re(J,W,ne,ce)}if(L(ne)||O(ne))return Ce!==null?null:oe(J,W,ne,ce,null);if(typeof ne.then=="function")return re(J,W,Jl(ne),ce);if(ne.$$typeof===N)return re(J,W,$l(J,ne),ce);eo(J,ne)}return null}function le(J,W,ne,ce,Ce){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return J=J.get(ne)||null,I(W,J,""+ce,Ce);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:return J=J.get(ce.key===null?ne:ce.key)||null,Z(W,J,ce,Ce);case E:return J=J.get(ce.key===null?ne:ce.key)||null,ae(W,J,ce,Ce);case C:return ce=Ar(ce),le(J,W,ne,ce,Ce)}if(L(ce)||O(ce))return J=J.get(ne)||null,oe(W,J,ce,Ce,null);if(typeof ce.then=="function")return le(J,W,ne,Jl(ce),Ce);if(ce.$$typeof===N)return le(J,W,ne,$l(W,ce),Ce);eo(W,ce)}return null}function ye(J,W,ne,ce){for(var Ce=null,Ie=null,we=W,Le=W=0,Be=null;we!==null&&Le<ne.length;Le++){we.index>Le?(Be=we,we=null):Be=we.sibling;var Ve=re(J,we,ne[Le],ce);if(Ve===null){we===null&&(we=Be);break}e&&we&&Ve.alternate===null&&n(J,we),W=g(Ve,W,Le),Ie===null?Ce=Ve:Ie.sibling=Ve,Ie=Ve,we=Be}if(Le===ne.length)return r(J,we),Ge&&aa(J,Le),Ce;if(we===null){for(;Le<ne.length;Le++)we=ue(J,ne[Le],ce),we!==null&&(W=g(we,W,Le),Ie===null?Ce=we:Ie.sibling=we,Ie=we);return Ge&&aa(J,Le),Ce}for(we=o(we);Le<ne.length;Le++)Be=le(we,J,Le,ne[Le],ce),Be!==null&&(e&&Be.alternate!==null&&we.delete(Be.key===null?Le:Be.key),W=g(Be,W,Le),Ie===null?Ce=Be:Ie.sibling=Be,Ie=Be);return e&&we.forEach(function(Ja){return n(J,Ja)}),Ge&&aa(J,Le),Ce}function Me(J,W,ne,ce){if(ne==null)throw Error(s(151));for(var Ce=null,Ie=null,we=W,Le=W=0,Be=null,Ve=ne.next();we!==null&&!Ve.done;Le++,Ve=ne.next()){we.index>Le?(Be=we,we=null):Be=we.sibling;var Ja=re(J,we,Ve.value,ce);if(Ja===null){we===null&&(we=Be);break}e&&we&&Ja.alternate===null&&n(J,we),W=g(Ja,W,Le),Ie===null?Ce=Ja:Ie.sibling=Ja,Ie=Ja,we=Be}if(Ve.done)return r(J,we),Ge&&aa(J,Le),Ce;if(we===null){for(;!Ve.done;Le++,Ve=ne.next())Ve=ue(J,Ve.value,ce),Ve!==null&&(W=g(Ve,W,Le),Ie===null?Ce=Ve:Ie.sibling=Ve,Ie=Ve);return Ge&&aa(J,Le),Ce}for(we=o(we);!Ve.done;Le++,Ve=ne.next())Ve=le(we,J,Le,Ve.value,ce),Ve!==null&&(e&&Ve.alternate!==null&&we.delete(Ve.key===null?Le:Ve.key),W=g(Ve,W,Le),Ie===null?Ce=Ve:Ie.sibling=Ve,Ie=Ve);return e&&we.forEach(function(nb){return n(J,nb)}),Ge&&aa(J,Le),Ce}function Fe(J,W,ne,ce){if(typeof ne=="object"&&ne!==null&&ne.type===_&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:e:{for(var Ce=ne.key;W!==null;){if(W.key===Ce){if(Ce=ne.type,Ce===_){if(W.tag===7){r(J,W.sibling),ce=d(W,ne.props.children),ce.return=J,J=ce;break e}}else if(W.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===C&&Ar(Ce)===W.type){r(J,W.sibling),ce=d(W,ne.props),xs(ce,ne),ce.return=J,J=ce;break e}r(J,W);break}else n(J,W);W=W.sibling}ne.type===_?(ce=Er(ne.props.children,J.mode,ce,ne.key),ce.return=J,J=ce):(ce=Xl(ne.type,ne.key,ne.props,null,J.mode,ce),xs(ce,ne),ce.return=J,J=ce)}return k(J);case E:e:{for(Ce=ne.key;W!==null;){if(W.key===Ce)if(W.tag===4&&W.stateNode.containerInfo===ne.containerInfo&&W.stateNode.implementation===ne.implementation){r(J,W.sibling),ce=d(W,ne.children||[]),ce.return=J,J=ce;break e}else{r(J,W);break}else n(J,W);W=W.sibling}ce=Tu(ne,J.mode,ce),ce.return=J,J=ce}return k(J);case C:return ne=Ar(ne),Fe(J,W,ne,ce)}if(L(ne))return ye(J,W,ne,ce);if(O(ne)){if(Ce=O(ne),typeof Ce!="function")throw Error(s(150));return ne=Ce.call(ne),Me(J,W,ne,ce)}if(typeof ne.then=="function")return Fe(J,W,Jl(ne),ce);if(ne.$$typeof===N)return Fe(J,W,$l(J,ne),ce);eo(J,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,W!==null&&W.tag===6?(r(J,W.sibling),ce=d(W,ne),ce.return=J,J=ce):(r(J,W),ce=Mu(ne,J.mode,ce),ce.return=J,J=ce),k(J)):r(J,W)}return function(J,W,ne,ce){try{ys=0;var Ce=Fe(J,W,ne,ce);return xi=null,Ce}catch(we){if(we===yi||we===Fl)throw we;var Ie=Wt(29,we,null,J.mode);return Ie.lanes=ce,Ie.return=J,Ie}}}var jr=Eh(!0),Nh=Eh(!1),Oa=!1;function Pu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Iu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ba(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qe&2)!==0){var d=o.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),o.pending=n,n=Yl(e),ch(e,null,r),n}return ql(e,o,n,r),Yl(e)}function ws(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Sl(e,r)}}function Vu(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var d=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var k={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?d=g=k:g=g.next=k,r=r.next}while(r!==null);g===null?d=g=n:g=g.next=n}else d=g=n;r={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var qu=!1;function vs(){if(qu){var e=gi;if(e!==null)throw e}}function bs(e,n,r,o){qu=!1;var d=e.updateQueue;Oa=!1;var g=d.firstBaseUpdate,k=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var Z=I,ae=Z.next;Z.next=null,k===null?g=ae:k.next=ae,k=Z;var oe=e.alternate;oe!==null&&(oe=oe.updateQueue,I=oe.lastBaseUpdate,I!==k&&(I===null?oe.firstBaseUpdate=ae:I.next=ae,oe.lastBaseUpdate=Z))}if(g!==null){var ue=d.baseState;k=0,oe=ae=Z=null,I=g;do{var re=I.lane&-536870913,le=re!==I.lane;if(le?(ze&re)===re:(o&re)===re){re!==0&&re===pi&&(qu=!0),oe!==null&&(oe=oe.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var ye=e,Me=I;re=n;var Fe=r;switch(Me.tag){case 1:if(ye=Me.payload,typeof ye=="function"){ue=ye.call(Fe,ue,re);break e}ue=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Me.payload,re=typeof ye=="function"?ye.call(Fe,ue,re):ye,re==null)break e;ue=x({},ue,re);break e;case 2:Oa=!0}}re=I.callback,re!==null&&(e.flags|=64,le&&(e.flags|=8192),le=d.callbacks,le===null?d.callbacks=[re]:le.push(re))}else le={lane:re,tag:I.tag,payload:I.payload,callback:I.callback,next:null},oe===null?(ae=oe=le,Z=ue):oe=oe.next=le,k|=re;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;le=I,I=le.next,le.next=null,d.lastBaseUpdate=le,d.shared.pending=null}}while(!0);oe===null&&(Z=ue),d.baseState=Z,d.firstBaseUpdate=ae,d.lastBaseUpdate=oe,g===null&&(d.shared.lanes=0),Va|=k,e.lanes=k,e.memoizedState=ue}}function _h(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Mh(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)_h(r[e],n)}var wi=P(null),to=P(0);function Th(e,n){e=ma,$(to,e),$(wi,n),ma=e|n.baseLanes}function Yu(){$(to,ma),$(wi,wi.current)}function Xu(){ma=to.current,H(wi),H(to)}var Jt=P(null),dn=null;function Ua(e){var n=e.alternate;$(ft,ft.current&1),$(Jt,e),dn===null&&(n===null||wi.current!==null||n.memoizedState!==null)&&(dn=e)}function Ku(e){$(ft,ft.current),$(Jt,e),dn===null&&(dn=e)}function Ah(e){e.tag===22?($(ft,ft.current),$(Jt,e),dn===null&&(dn=e)):Ga()}function Ga(){$(ft,ft.current),$(Jt,Jt.current)}function en(e){H(Jt),dn===e&&(dn=null),H(ft)}var ft=P(0);function no(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ed(r)||td(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var sa=0,De=null,$e=null,pt=null,ao=!1,vi=!1,Dr=!1,ro=0,ks=0,bi=null,Xw=0;function ct(){throw Error(s(321))}function Zu(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Ft(e[r],n[r]))return!1;return!0}function $u(e,n,r,o,d,g){return sa=g,De=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=e===null||e.memoizedState===null?hm:ff,Dr=!1,g=r(o,d),Dr=!1,vi&&(g=jh(n,r,o,d)),Rh(e),g}function Rh(e){S.H=Es;var n=$e!==null&&$e.next!==null;if(sa=0,pt=$e=De=null,ao=!1,ks=0,bi=null,n)throw Error(s(300));e===null||gt||(e=e.dependencies,e!==null&&Zl(e)&&(gt=!0))}function jh(e,n,r,o){De=e;var d=0;do{if(vi&&(bi=null),ks=0,vi=!1,25<=d)throw Error(s(301));if(d+=1,pt=$e=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}S.H=mm,g=n(r,o)}while(vi);return g}function Kw(){var e=S.H,n=e.useState()[0];return n=typeof n.then=="function"?Ss(n):n,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(De.flags|=1024),n}function Qu(){var e=ro!==0;return ro=0,e}function Fu(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Wu(e){if(ao){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ao=!1}sa=0,pt=$e=De=null,vi=!1,ks=ro=0,bi=null}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?De.memoizedState=pt=e:pt=pt.next=e,pt}function dt(){if($e===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var n=pt===null?De.memoizedState:pt.next;if(n!==null)pt=n,$e=e;else{if(e===null)throw De.alternate===null?Error(s(467)):Error(s(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},pt===null?De.memoizedState=pt=e:pt=pt.next=e}return pt}function io(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ss(e){var n=ks;return ks+=1,bi===null&&(bi=[]),e=kh(bi,e,n),n=De,(pt===null?n.memoizedState:pt.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?hm:ff),e}function so(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ss(e);if(e.$$typeof===N)return Mt(e)}throw Error(s(438,String(e)))}function Ju(e){var n=null,r=De.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=De.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=io(),De.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=U;return n.index++,r}function la(e,n){return typeof n=="function"?n(e):n}function lo(e){var n=dt();return ef(n,$e,e)}function ef(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var d=e.baseQueue,g=o.pending;if(g!==null){if(d!==null){var k=d.next;d.next=g.next,g.next=k}n.baseQueue=d=g,o.pending=null}if(g=e.baseState,d===null)e.memoizedState=g;else{n=d.next;var I=k=null,Z=null,ae=n,oe=!1;do{var ue=ae.lane&-536870913;if(ue!==ae.lane?(ze&ue)===ue:(sa&ue)===ue){var re=ae.revertLane;if(re===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),ue===pi&&(oe=!0);else if((sa&re)===re){ae=ae.next,re===pi&&(oe=!0);continue}else ue={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Z===null?(I=Z=ue,k=g):Z=Z.next=ue,De.lanes|=re,Va|=re;ue=ae.action,Dr&&r(g,ue),g=ae.hasEagerState?ae.eagerState:r(g,ue)}else re={lane:ue,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Z===null?(I=Z=re,k=g):Z=Z.next=re,De.lanes|=ue,Va|=ue;ae=ae.next}while(ae!==null&&ae!==n);if(Z===null?k=g:Z.next=I,!Ft(g,e.memoizedState)&&(gt=!0,oe&&(r=gi,r!==null)))throw r;e.memoizedState=g,e.baseState=k,e.baseQueue=Z,o.lastRenderedState=g}return d===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function tf(e){var n=dt(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,d=r.pending,g=n.memoizedState;if(d!==null){r.pending=null;var k=d=d.next;do g=e(g,k.action),k=k.next;while(k!==d);Ft(g,n.memoizedState)||(gt=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),r.lastRenderedState=g}return[g,o]}function Dh(e,n,r){var o=De,d=dt(),g=Ge;if(g){if(r===void 0)throw Error(s(407));r=r()}else r=n();var k=!Ft(($e||d).memoizedState,r);if(k&&(d.memoizedState=r,gt=!0),d=d.queue,rf(Oh.bind(null,o,d,e),[e]),d.getSnapshot!==n||k||pt!==null&&pt.memoizedState.tag&1){if(o.flags|=2048,ki(9,{destroy:void 0},Hh.bind(null,o,d,r,n),null),Je===null)throw Error(s(349));g||(sa&127)!==0||Lh(o,n,r)}return r}function Lh(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=De.updateQueue,n===null?(n=io(),De.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Hh(e,n,r,o){n.value=r,n.getSnapshot=o,zh(n)&&Bh(e)}function Oh(e,n,r){return r(function(){zh(n)&&Bh(e)})}function zh(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Ft(e,r)}catch{return!0}}function Bh(e){var n=Cr(e,2);n!==null&&Xt(n,e,2)}function nf(e){var n=Bt();if(typeof e=="function"){var r=e;if(e=r(),Dr){jn(!0);try{r()}finally{jn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},n}function Uh(e,n,r,o){return e.baseState=r,ef(e,$e,typeof o=="function"?o:la)}function Zw(e,n,r,o,d){if(uo(e))throw Error(s(485));if(e=n.action,e!==null){var g={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){g.listeners.push(k)}};S.T!==null?r(!0):g.isTransition=!1,o(g),r=n.pending,r===null?(g.next=n.pending=g,Gh(n,g)):(g.next=r.next,n.pending=r.next=g)}}function Gh(e,n){var r=n.action,o=n.payload,d=e.state;if(n.isTransition){var g=S.T,k={};S.T=k;try{var I=r(d,o),Z=S.S;Z!==null&&Z(k,I),Ph(e,n,I)}catch(ae){af(e,n,ae)}finally{g!==null&&k.types!==null&&(g.types=k.types),S.T=g}}else try{g=r(d,o),Ph(e,n,g)}catch(ae){af(e,n,ae)}}function Ph(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Ih(e,n,o)},function(o){return af(e,n,o)}):Ih(e,n,r)}function Ih(e,n,r){n.status="fulfilled",n.value=r,Vh(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Gh(e,r)))}function af(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Vh(n),n=n.next;while(n!==o)}e.action=null}function Vh(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function qh(e,n){return n}function Yh(e,n){if(Ge){var r=Je.formState;if(r!==null){e:{var o=De;if(Ge){if(nt){t:{for(var d=nt,g=fn;d.nodeType!==8;){if(!g){d=null;break t}if(d=hn(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){nt=hn(d.nextSibling),o=d.data==="F!";break e}}La(o)}o=!1}o&&(n=r[0])}}return r=Bt(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qh,lastRenderedState:n},r.queue=o,r=um.bind(null,De,o),o.dispatch=r,o=nf(!1),g=uf.bind(null,De,!1,o.queue),o=Bt(),d={state:n,dispatch:null,action:e,pending:null},o.queue=d,r=Zw.bind(null,De,d,g,r),d.dispatch=r,o.memoizedState=e,[n,r,!1]}function Xh(e){var n=dt();return Kh(n,$e,e)}function Kh(e,n,r){if(n=ef(e,n,qh)[0],e=lo(la)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ss(n)}catch(k){throw k===yi?Fl:k}else o=n;n=dt();var d=n.queue,g=d.dispatch;return r!==n.memoizedState&&(De.flags|=2048,ki(9,{destroy:void 0},$w.bind(null,d,r),null)),[o,g,e]}function $w(e,n){e.action=n}function Zh(e){var n=dt(),r=$e;if(r!==null)return Kh(n,r,e);dt(),n=n.memoizedState,r=dt();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function ki(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=De.updateQueue,n===null&&(n=io(),De.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function $h(){return dt().memoizedState}function oo(e,n,r,o){var d=Bt();De.flags|=e,d.memoizedState=ki(1|n,{destroy:void 0},r,o===void 0?null:o)}function co(e,n,r,o){var d=dt();o=o===void 0?null:o;var g=d.memoizedState.inst;$e!==null&&o!==null&&Zu(o,$e.memoizedState.deps)?d.memoizedState=ki(n,g,r,o):(De.flags|=e,d.memoizedState=ki(1|n,g,r,o))}function Qh(e,n){oo(8390656,8,e,n)}function rf(e,n){co(2048,8,e,n)}function Qw(e){De.flags|=4;var n=De.updateQueue;if(n===null)n=io(),De.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Fh(e){var n=dt().memoizedState;return Qw({ref:n,nextImpl:e}),function(){if((qe&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Wh(e,n){return co(4,2,e,n)}function Jh(e,n){return co(4,4,e,n)}function em(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function tm(e,n,r){r=r!=null?r.concat([e]):null,co(4,4,em.bind(null,n,e),r)}function sf(){}function nm(e,n){var r=dt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Zu(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function am(e,n){var r=dt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Zu(n,o[1]))return o[0];if(o=e(),Dr){jn(!0);try{e()}finally{jn(!1)}}return r.memoizedState=[o,n],o}function lf(e,n,r){return r===void 0||(sa&1073741824)!==0&&(ze&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=rp(),De.lanes|=e,Va|=e,r)}function rm(e,n,r,o){return Ft(r,n)?r:wi.current!==null?(e=lf(e,r,o),Ft(e,n)||(gt=!0),e):(sa&42)===0||(sa&1073741824)!==0&&(ze&261930)===0?(gt=!0,e.memoizedState=r):(e=rp(),De.lanes|=e,Va|=e,n)}function im(e,n,r,o,d){var g=T.p;T.p=g!==0&&8>g?g:8;var k=S.T,I={};S.T=I,uf(e,!1,n,r);try{var Z=d(),ae=S.S;if(ae!==null&&ae(I,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var oe=Yw(Z,o);Cs(e,n,oe,an(e))}else Cs(e,n,o,an(e))}catch(ue){Cs(e,n,{then:function(){},status:"rejected",reason:ue},an())}finally{T.p=g,k!==null&&I.types!==null&&(k.types=I.types),S.T=k}}function Fw(){}function of(e,n,r,o){if(e.tag!==5)throw Error(s(476));var d=sm(e).queue;im(e,d,n,z,r===null?Fw:function(){return lm(e),r(o)})}function sm(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:z},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function lm(e){var n=sm(e);n.next===null&&(n=e.alternate.memoizedState),Cs(e,n.next.queue,{},an())}function cf(){return Mt(Ps)}function om(){return dt().memoizedState}function cm(){return dt().memoizedState}function Ww(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=an();e=za(r);var o=Ba(n,e,r);o!==null&&(Xt(o,n,r),ws(o,n,r)),n={cache:zu()},e.payload=n;return}n=n.return}}function Jw(e,n,r){var o=an();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},uo(e)?fm(n,r):(r=Nu(e,n,r,o),r!==null&&(Xt(r,e,o),dm(r,n,o)))}function um(e,n,r){var o=an();Cs(e,n,r,o)}function Cs(e,n,r,o){var d={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(uo(e))fm(n,d);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var k=n.lastRenderedState,I=g(k,r);if(d.hasEagerState=!0,d.eagerState=I,Ft(I,k))return ql(e,n,d,0),Je===null&&Vl(),!1}catch{}if(r=Nu(e,n,d,o),r!==null)return Xt(r,e,o),dm(r,n,o),!0}return!1}function uf(e,n,r,o){if(o={lane:2,revertLane:If(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},uo(e)){if(n)throw Error(s(479))}else n=Nu(e,r,o,2),n!==null&&Xt(n,e,2)}function uo(e){var n=e.alternate;return e===De||n!==null&&n===De}function fm(e,n){vi=ao=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function dm(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Sl(e,r)}}var Es={readContext:Mt,use:so,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Es.useEffectEvent=ct;var hm={readContext:Mt,use:so,useCallback:function(e,n){return Bt().memoizedState=[e,n===void 0?null:n],e},useContext:Mt,useEffect:Qh,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,oo(4194308,4,em.bind(null,n,e),r)},useLayoutEffect:function(e,n){return oo(4194308,4,e,n)},useInsertionEffect:function(e,n){oo(4,2,e,n)},useMemo:function(e,n){var r=Bt();n=n===void 0?null:n;var o=e();if(Dr){jn(!0);try{e()}finally{jn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=Bt();if(r!==void 0){var d=r(n);if(Dr){jn(!0);try{r(n)}finally{jn(!1)}}}else d=n;return o.memoizedState=o.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},o.queue=e,e=e.dispatch=Jw.bind(null,De,e),[o.memoizedState,e]},useRef:function(e){var n=Bt();return e={current:e},n.memoizedState=e},useState:function(e){e=nf(e);var n=e.queue,r=um.bind(null,De,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:sf,useDeferredValue:function(e,n){var r=Bt();return lf(r,e,n)},useTransition:function(){var e=nf(!1);return e=im.bind(null,De,e.queue,!0,!1),Bt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=De,d=Bt();if(Ge){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Je===null)throw Error(s(349));(ze&127)!==0||Lh(o,n,r)}d.memoizedState=r;var g={value:r,getSnapshot:n};return d.queue=g,Qh(Oh.bind(null,o,g,e),[e]),o.flags|=2048,ki(9,{destroy:void 0},Hh.bind(null,o,g,r,n),null),r},useId:function(){var e=Bt(),n=Je.identifierPrefix;if(Ge){var r=Hn,o=Ln;r=(o&~(1<<32-zt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=ro++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=Xw++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:cf,useFormState:Yh,useActionState:Yh,useOptimistic:function(e){var n=Bt();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=uf.bind(null,De,!0,r),r.dispatch=n,[e,n]},useMemoCache:Ju,useCacheRefresh:function(){return Bt().memoizedState=Ww.bind(null,De)},useEffectEvent:function(e){var n=Bt(),r={impl:e};return n.memoizedState=r,function(){if((qe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},ff={readContext:Mt,use:so,useCallback:nm,useContext:Mt,useEffect:rf,useImperativeHandle:tm,useInsertionEffect:Wh,useLayoutEffect:Jh,useMemo:am,useReducer:lo,useRef:$h,useState:function(){return lo(la)},useDebugValue:sf,useDeferredValue:function(e,n){var r=dt();return rm(r,$e.memoizedState,e,n)},useTransition:function(){var e=lo(la)[0],n=dt().memoizedState;return[typeof e=="boolean"?e:Ss(e),n]},useSyncExternalStore:Dh,useId:om,useHostTransitionStatus:cf,useFormState:Xh,useActionState:Xh,useOptimistic:function(e,n){var r=dt();return Uh(r,$e,e,n)},useMemoCache:Ju,useCacheRefresh:cm};ff.useEffectEvent=Fh;var mm={readContext:Mt,use:so,useCallback:nm,useContext:Mt,useEffect:rf,useImperativeHandle:tm,useInsertionEffect:Wh,useLayoutEffect:Jh,useMemo:am,useReducer:tf,useRef:$h,useState:function(){return tf(la)},useDebugValue:sf,useDeferredValue:function(e,n){var r=dt();return $e===null?lf(r,e,n):rm(r,$e.memoizedState,e,n)},useTransition:function(){var e=tf(la)[0],n=dt().memoizedState;return[typeof e=="boolean"?e:Ss(e),n]},useSyncExternalStore:Dh,useId:om,useHostTransitionStatus:cf,useFormState:Zh,useActionState:Zh,useOptimistic:function(e,n){var r=dt();return $e!==null?Uh(r,$e,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Ju,useCacheRefresh:cm};mm.useEffectEvent=Fh;function df(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:x({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var hf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=an(),d=za(o);d.payload=n,r!=null&&(d.callback=r),n=Ba(e,d,o),n!==null&&(Xt(n,e,o),ws(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=an(),d=za(o);d.tag=1,d.payload=n,r!=null&&(d.callback=r),n=Ba(e,d,o),n!==null&&(Xt(n,e,o),ws(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=an(),o=za(r);o.tag=2,n!=null&&(o.callback=n),n=Ba(e,o,r),n!==null&&(Xt(n,e,r),ws(n,e,r))}};function pm(e,n,r,o,d,g,k){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,g,k):n.prototype&&n.prototype.isPureReactComponent?!fs(r,o)||!fs(d,g):!0}function gm(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&hf.enqueueReplaceState(n,n.state,null)}function Lr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=x({},r));for(var d in e)r[d]===void 0&&(r[d]=e[d])}return r}function ym(e){Il(e)}function xm(e){console.error(e)}function wm(e){Il(e)}function fo(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function vm(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function mf(e,n,r){return r=za(r),r.tag=3,r.payload={element:null},r.callback=function(){fo(e,n)},r}function bm(e){return e=za(e),e.tag=3,e}function km(e,n,r,o){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var g=o.value;e.payload=function(){return d(g)},e.callback=function(){vm(n,r,o)}}var k=r.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(e.callback=function(){vm(n,r,o),typeof d!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})})}function ev(e,n,r,o,d){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&mi(n,r,d,!0),r=Jt.current,r!==null){switch(r.tag){case 31:case 13:return dn===null?Co():r.alternate===null&&ut===0&&(ut=3),r.flags&=-257,r.flags|=65536,r.lanes=d,o===Wl?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Uf(e,o,d)),!1;case 22:return r.flags|=65536,o===Wl?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Uf(e,o,d)),!1}throw Error(s(435,r.tag))}return Uf(e,o,d),Co(),!1}if(Ge)return n=Jt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,o!==ju&&(e=Error(s(422),{cause:o}),ms(on(e,r)))):(o!==ju&&(n=Error(s(423),{cause:o}),ms(on(n,r))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,o=on(o,r),d=mf(e.stateNode,o,d),Vu(e,d),ut!==4&&(ut=2)),!1;var g=Error(s(520),{cause:o});if(g=on(g,r),Ds===null?Ds=[g]:Ds.push(g),ut!==4&&(ut=2),n===null)return!0;o=on(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=d&-d,r.lanes|=e,e=mf(r.stateNode,o,e),Vu(r,e),!1;case 1:if(n=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(qa===null||!qa.has(g))))return r.flags|=65536,d&=-d,r.lanes|=d,d=bm(d),km(d,e,r,o),Vu(r,d),!1}r=r.return}while(r!==null);return!1}var pf=Error(s(461)),gt=!1;function Tt(e,n,r,o){n.child=e===null?Nh(n,null,r,o):jr(n,e.child,r,o)}function Sm(e,n,r,o,d){r=r.render;var g=n.ref;if("ref"in o){var k={};for(var I in o)I!=="ref"&&(k[I]=o[I])}else k=o;return Mr(n),o=$u(e,n,r,k,g,d),I=Qu(),e!==null&&!gt?(Fu(e,n,d),oa(e,n,d)):(Ge&&I&&Au(n),n.flags|=1,Tt(e,n,o,d),n.child)}function Cm(e,n,r,o,d){if(e===null){var g=r.type;return typeof g=="function"&&!_u(g)&&g.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=g,Em(e,n,g,o,d)):(e=Xl(r.type,null,o,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!Sf(e,d)){var k=g.memoizedProps;if(r=r.compare,r=r!==null?r:fs,r(k,o)&&e.ref===n.ref)return oa(e,n,d)}return n.flags|=1,e=na(g,o),e.ref=n.ref,e.return=n,n.child=e}function Em(e,n,r,o,d){if(e!==null){var g=e.memoizedProps;if(fs(g,o)&&e.ref===n.ref)if(gt=!1,n.pendingProps=o=g,Sf(e,d))(e.flags&131072)!==0&&(gt=!0);else return n.lanes=e.lanes,oa(e,n,d)}return gf(e,n,r,o,d)}function Nm(e,n,r,o){var d=o.children,g=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(g=g!==null?g.baseLanes|r:r,e!==null){for(o=n.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~g}else o=0,n.child=null;return _m(e,n,g,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ql(n,g!==null?g.cachePool:null),g!==null?Th(n,g):Yu(),Ah(n);else return o=n.lanes=536870912,_m(e,n,g!==null?g.baseLanes|r:r,r,o)}else g!==null?(Ql(n,g.cachePool),Th(n,g),Ga(),n.memoizedState=null):(e!==null&&Ql(n,null),Yu(),Ga());return Tt(e,n,d,r),n.child}function Ns(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function _m(e,n,r,o,d){var g=Uu();return g=g===null?null:{parent:mt._currentValue,pool:g},n.memoizedState={baseLanes:r,cachePool:g},e!==null&&Ql(n,null),Yu(),Ah(n),e!==null&&mi(e,n,o,!0),n.childLanes=d,null}function ho(e,n){return n=po({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Mm(e,n,r){return jr(n,e.child,null,r),e=ho(n,n.pendingProps),e.flags|=2,en(n),n.memoizedState=null,e}function tv(e,n,r){var o=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ge){if(o.mode==="hidden")return e=ho(n,o),n.lanes=536870912,Ns(null,e);if(Ku(n),(e=nt)?(e=Gp(e,fn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ja!==null?{id:Ln,overflow:Hn}:null,retryLane:536870912,hydrationErrors:null},r=fh(e),r.return=n,n.child=r,_t=n,nt=null)):e=null,e===null)throw La(n);return n.lanes=536870912,null}return ho(n,o)}var g=e.memoizedState;if(g!==null){var k=g.dehydrated;if(Ku(n),d)if(n.flags&256)n.flags&=-257,n=Mm(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(gt||mi(e,n,r,!1),d=(r&e.childLanes)!==0,gt||d){if(o=Je,o!==null&&(k=Cl(o,r),k!==0&&k!==g.retryLane))throw g.retryLane=k,Cr(e,k),Xt(o,e,k),pf;Co(),n=Mm(e,n,r)}else e=g.treeContext,nt=hn(k.nextSibling),_t=n,Ge=!0,Da=null,fn=!1,e!==null&&mh(n,e),n=ho(n,o),n.flags|=4096;return n}return e=na(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function mo(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function gf(e,n,r,o,d){return Mr(n),r=$u(e,n,r,o,void 0,d),o=Qu(),e!==null&&!gt?(Fu(e,n,d),oa(e,n,d)):(Ge&&o&&Au(n),n.flags|=1,Tt(e,n,r,d),n.child)}function Tm(e,n,r,o,d,g){return Mr(n),n.updateQueue=null,r=jh(n,o,r,d),Rh(e),o=Qu(),e!==null&&!gt?(Fu(e,n,g),oa(e,n,g)):(Ge&&o&&Au(n),n.flags|=1,Tt(e,n,r,g),n.child)}function Am(e,n,r,o,d){if(Mr(n),n.stateNode===null){var g=ui,k=r.contextType;typeof k=="object"&&k!==null&&(g=Mt(k)),g=new r(o,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=hf,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=o,g.state=n.memoizedState,g.refs={},Pu(n),k=r.contextType,g.context=typeof k=="object"&&k!==null?Mt(k):ui,g.state=n.memoizedState,k=r.getDerivedStateFromProps,typeof k=="function"&&(df(n,r,k,o),g.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(k=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),k!==g.state&&hf.enqueueReplaceState(g,g.state,null),bs(n,o,g,d),vs(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){g=n.stateNode;var I=n.memoizedProps,Z=Lr(r,I);g.props=Z;var ae=g.context,oe=r.contextType;k=ui,typeof oe=="object"&&oe!==null&&(k=Mt(oe));var ue=r.getDerivedStateFromProps;oe=typeof ue=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=n.pendingProps!==I,oe||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||ae!==k)&&gm(n,g,o,k),Oa=!1;var re=n.memoizedState;g.state=re,bs(n,o,g,d),vs(),ae=n.memoizedState,I||re!==ae||Oa?(typeof ue=="function"&&(df(n,r,ue,o),ae=n.memoizedState),(Z=Oa||pm(n,r,Z,o,re,ae,k))?(oe||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=ae),g.props=o,g.state=ae,g.context=k,o=Z):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{g=n.stateNode,Iu(e,n),k=n.memoizedProps,oe=Lr(r,k),g.props=oe,ue=n.pendingProps,re=g.context,ae=r.contextType,Z=ui,typeof ae=="object"&&ae!==null&&(Z=Mt(ae)),I=r.getDerivedStateFromProps,(ae=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k!==ue||re!==Z)&&gm(n,g,o,Z),Oa=!1,re=n.memoizedState,g.state=re,bs(n,o,g,d),vs();var le=n.memoizedState;k!==ue||re!==le||Oa||e!==null&&e.dependencies!==null&&Zl(e.dependencies)?(typeof I=="function"&&(df(n,r,I,o),le=n.memoizedState),(oe=Oa||pm(n,r,oe,o,re,le,Z)||e!==null&&e.dependencies!==null&&Zl(e.dependencies))?(ae||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,le,Z),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,le,Z)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||k===e.memoizedProps&&re===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&re===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=le),g.props=o,g.state=le,g.context=Z,o=oe):(typeof g.componentDidUpdate!="function"||k===e.memoizedProps&&re===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&re===e.memoizedState||(n.flags|=1024),o=!1)}return g=o,mo(e,n),o=(n.flags&128)!==0,g||o?(g=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&o?(n.child=jr(n,e.child,null,d),n.child=jr(n,null,r,d)):Tt(e,n,r,d),n.memoizedState=g.state,e=n.child):e=oa(e,n,d),e}function Rm(e,n,r,o){return Nr(),n.flags|=256,Tt(e,n,r,o),n.child}var yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(e){return{baseLanes:e,cachePool:vh()}}function wf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=nn),e}function jm(e,n,r){var o=n.pendingProps,d=!1,g=(n.flags&128)!==0,k;if((k=g)||(k=e!==null&&e.memoizedState===null?!1:(ft.current&2)!==0),k&&(d=!0,n.flags&=-129),k=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ge){if(d?Ua(n):Ga(),(e=nt)?(e=Gp(e,fn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ja!==null?{id:Ln,overflow:Hn}:null,retryLane:536870912,hydrationErrors:null},r=fh(e),r.return=n,n.child=r,_t=n,nt=null)):e=null,e===null)throw La(n);return td(e)?n.lanes=32:n.lanes=536870912,null}var I=o.children;return o=o.fallback,d?(Ga(),d=n.mode,I=po({mode:"hidden",children:I},d),o=Er(o,d,r,null),I.return=n,o.return=n,I.sibling=o,n.child=I,o=n.child,o.memoizedState=xf(r),o.childLanes=wf(e,k,r),n.memoizedState=yf,Ns(null,o)):(Ua(n),vf(n,I))}var Z=e.memoizedState;if(Z!==null&&(I=Z.dehydrated,I!==null)){if(g)n.flags&256?(Ua(n),n.flags&=-257,n=bf(e,n,r)):n.memoizedState!==null?(Ga(),n.child=e.child,n.flags|=128,n=null):(Ga(),I=o.fallback,d=n.mode,o=po({mode:"visible",children:o.children},d),I=Er(I,d,r,null),I.flags|=2,o.return=n,I.return=n,o.sibling=I,n.child=o,jr(n,e.child,null,r),o=n.child,o.memoizedState=xf(r),o.childLanes=wf(e,k,r),n.memoizedState=yf,n=Ns(null,o));else if(Ua(n),td(I)){if(k=I.nextSibling&&I.nextSibling.dataset,k)var ae=k.dgst;k=ae,o=Error(s(419)),o.stack="",o.digest=k,ms({value:o,source:null,stack:null}),n=bf(e,n,r)}else if(gt||mi(e,n,r,!1),k=(r&e.childLanes)!==0,gt||k){if(k=Je,k!==null&&(o=Cl(k,r),o!==0&&o!==Z.retryLane))throw Z.retryLane=o,Cr(e,o),Xt(k,e,o),pf;ed(I)||Co(),n=bf(e,n,r)}else ed(I)?(n.flags|=192,n.child=e.child,n=null):(e=Z.treeContext,nt=hn(I.nextSibling),_t=n,Ge=!0,Da=null,fn=!1,e!==null&&mh(n,e),n=vf(n,o.children),n.flags|=4096);return n}return d?(Ga(),I=o.fallback,d=n.mode,Z=e.child,ae=Z.sibling,o=na(Z,{mode:"hidden",children:o.children}),o.subtreeFlags=Z.subtreeFlags&65011712,ae!==null?I=na(ae,I):(I=Er(I,d,r,null),I.flags|=2),I.return=n,o.return=n,o.sibling=I,n.child=o,Ns(null,o),o=n.child,I=e.child.memoizedState,I===null?I=xf(r):(d=I.cachePool,d!==null?(Z=mt._currentValue,d=d.parent!==Z?{parent:Z,pool:Z}:d):d=vh(),I={baseLanes:I.baseLanes|r,cachePool:d}),o.memoizedState=I,o.childLanes=wf(e,k,r),n.memoizedState=yf,Ns(e.child,o)):(Ua(n),r=e.child,e=r.sibling,r=na(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(k=n.deletions,k===null?(n.deletions=[e],n.flags|=16):k.push(e)),n.child=r,n.memoizedState=null,r)}function vf(e,n){return n=po({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function po(e,n){return e=Wt(22,e,null,n),e.lanes=0,e}function bf(e,n,r){return jr(n,e.child,null,r),e=vf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Dm(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Hu(e.return,n,r)}function kf(e,n,r,o,d,g){var k=e.memoizedState;k===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:d,treeForkCount:g}:(k.isBackwards=n,k.rendering=null,k.renderingStartTime=0,k.last=o,k.tail=r,k.tailMode=d,k.treeForkCount=g)}function Lm(e,n,r){var o=n.pendingProps,d=o.revealOrder,g=o.tail;o=o.children;var k=ft.current,I=(k&2)!==0;if(I?(k=k&1|2,n.flags|=128):k&=1,$(ft,k),Tt(e,n,o,r),o=Ge?hs:0,!I&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dm(e,r,n);else if(e.tag===19)Dm(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(r=n.child,d=null;r!==null;)e=r.alternate,e!==null&&no(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=n.child,n.child=null):(d=r.sibling,r.sibling=null),kf(n,!1,d,r,g,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&no(e)===null){n.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}kf(n,!0,r,null,g,o);break;case"together":kf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function oa(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Va|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(mi(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=na(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=na(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Sf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Zl(e)))}function nv(e,n,r){switch(n.tag){case 3:fe(n,n.stateNode.containerInfo),Ha(n,mt,e.memoizedState.cache),Nr();break;case 27:case 5:Ne(n);break;case 4:fe(n,n.stateNode.containerInfo);break;case 10:Ha(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ku(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ua(n),n.flags|=128,null):(r&n.child.childLanes)!==0?jm(e,n,r):(Ua(n),e=oa(e,n,r),e!==null?e.sibling:null);Ua(n);break;case 19:var d=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(mi(e,n,r,!1),o=(r&n.childLanes)!==0),d){if(o)return Lm(e,n,r);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$(ft,ft.current),o)break;return null;case 22:return n.lanes=0,Nm(e,n,r,n.pendingProps);case 24:Ha(n,mt,e.memoizedState.cache)}return oa(e,n,r)}function Hm(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)gt=!0;else{if(!Sf(e,r)&&(n.flags&128)===0)return gt=!1,nv(e,n,r);gt=(e.flags&131072)!==0}else gt=!1,Ge&&(n.flags&1048576)!==0&&hh(n,hs,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=Ar(n.elementType),n.type=e,typeof e=="function")_u(e)?(o=Lr(e,o),n.tag=1,n=Am(null,n,e,o,r)):(n.tag=0,n=gf(null,n,e,o,r));else{if(e!=null){var d=e.$$typeof;if(d===G){n.tag=11,n=Sm(null,n,e,o,r);break e}else if(d===X){n.tag=14,n=Cm(null,n,e,o,r);break e}}throw n=A(e)||e,Error(s(306,n,""))}}return n;case 0:return gf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,d=Lr(o,n.pendingProps),Am(e,n,o,d,r);case 3:e:{if(fe(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var g=n.memoizedState;d=g.element,Iu(e,n),bs(n,o,null,r);var k=n.memoizedState;if(o=k.cache,Ha(n,mt,o),o!==g.cache&&Ou(n,[mt],r,!0),vs(),o=k.element,g.isDehydrated)if(g={element:o,isDehydrated:!1,cache:k.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=Rm(e,n,o,r);break e}else if(o!==d){d=on(Error(s(424)),n),ms(d),n=Rm(e,n,o,r);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,nt=hn(e.firstChild),_t=n,Ge=!0,Da=null,fn=!0,r=Nh(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Nr(),o===d){n=oa(e,n,r);break e}Tt(e,n,o,r)}n=n.child}return n;case 26:return mo(e,n),e===null?(r=Xp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ge||(r=n.type,e=n.pendingProps,o=Ro(ie.current).createElement(r),o[wt]=n,o[Dt]=e,At(o,r,e),ht(o),n.stateNode=o):n.memoizedState=Xp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ne(n),e===null&&Ge&&(o=n.stateNode=Vp(n.type,n.pendingProps,ie.current),_t=n,fn=!0,d=nt,Za(n.type)?(nd=d,nt=hn(o.firstChild)):nt=d),Tt(e,n,n.pendingProps.children,r),mo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ge&&((d=o=nt)&&(o=jv(o,n.type,n.pendingProps,fn),o!==null?(n.stateNode=o,_t=n,nt=hn(o.firstChild),fn=!1,d=!0):d=!1),d||La(n)),Ne(n),d=n.type,g=n.pendingProps,k=e!==null?e.memoizedProps:null,o=g.children,Ff(d,g)?o=null:k!==null&&Ff(d,k)&&(n.flags|=32),n.memoizedState!==null&&(d=$u(e,n,Kw,null,null,r),Ps._currentValue=d),mo(e,n),Tt(e,n,o,r),n.child;case 6:return e===null&&Ge&&((e=r=nt)&&(r=Dv(r,n.pendingProps,fn),r!==null?(n.stateNode=r,_t=n,nt=null,e=!0):e=!1),e||La(n)),null;case 13:return jm(e,n,r);case 4:return fe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=jr(n,null,o,r):Tt(e,n,o,r),n.child;case 11:return Sm(e,n,n.type,n.pendingProps,r);case 7:return Tt(e,n,n.pendingProps,r),n.child;case 8:return Tt(e,n,n.pendingProps.children,r),n.child;case 12:return Tt(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ha(n,n.type,o.value),Tt(e,n,o.children,r),n.child;case 9:return d=n.type._context,o=n.pendingProps.children,Mr(n),d=Mt(d),o=o(d),n.flags|=1,Tt(e,n,o,r),n.child;case 14:return Cm(e,n,n.type,n.pendingProps,r);case 15:return Em(e,n,n.type,n.pendingProps,r);case 19:return Lm(e,n,r);case 31:return tv(e,n,r);case 22:return Nm(e,n,r,n.pendingProps);case 24:return Mr(n),o=Mt(mt),e===null?(d=Uu(),d===null&&(d=Je,g=zu(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=r),d=g),n.memoizedState={parent:o,cache:d},Pu(n),Ha(n,mt,d)):((e.lanes&r)!==0&&(Iu(e,n),bs(n,null,null,r),vs()),d=e.memoizedState,g=n.memoizedState,d.parent!==o?(d={parent:o,cache:o},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Ha(n,mt,o)):(o=g.cache,Ha(n,mt,o),o!==d.cache&&Ou(n,[mt],r,!0))),Tt(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ca(e){e.flags|=4}function Cf(e,n,r,o,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(op())e.flags|=8192;else throw Rr=Wl,Gu}else e.flags&=-16777217}function Om(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Fp(n))if(op())e.flags|=8192;else throw Rr=Wl,Gu}function go(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?bl():536870912,e.lanes|=n,Ni|=n)}function _s(e,n){if(!Ge)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function at(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var d=e.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function av(e,n,r){var o=n.pendingProps;switch(Ru(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(n),null;case 1:return at(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ia(mt),me(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(hi(n)?ca(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Du())),at(n),null;case 26:var d=n.type,g=n.memoizedState;return e===null?(ca(n),g!==null?(at(n),Om(n,g)):(at(n),Cf(n,d,null,o,r))):g?g!==e.memoizedState?(ca(n),at(n),Om(n,g)):(at(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ca(n),at(n),Cf(n,d,e,o,r)),null;case 27:if(be(n),r=ie.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ca(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return at(n),null}e=Q.current,hi(n)?ph(n):(e=Vp(d,o,r),n.stateNode=e,ca(n))}return at(n),null;case 5:if(be(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ca(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return at(n),null}if(g=Q.current,hi(n))ph(n);else{var k=Ro(ie.current);switch(g){case 1:g=k.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=k.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=k.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=k.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=k.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof o.is=="string"?k.createElement("select",{is:o.is}):k.createElement("select"),o.multiple?g.multiple=!0:o.size&&(g.size=o.size);break;default:g=typeof o.is=="string"?k.createElement(d,{is:o.is}):k.createElement(d)}}g[wt]=n,g[Dt]=o;e:for(k=n.child;k!==null;){if(k.tag===5||k.tag===6)g.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===n)break e;for(;k.sibling===null;){if(k.return===null||k.return===n)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}n.stateNode=g;e:switch(At(g,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ca(n)}}return at(n),Cf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ca(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=ie.current,hi(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,d=_t,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}e[wt]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||jp(e.nodeValue,r)),e||La(n,!0)}else e=Ro(e).createTextNode(o),e[wt]=n,n.stateNode=e}return at(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=hi(n),r!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[wt]=n}else Nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;at(n),e=!1}else r=Du(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(en(n),n):(en(n),null);if((n.flags&128)!==0)throw Error(s(558))}return at(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=hi(n),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[wt]=n}else Nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;at(n),d=!1}else d=Du(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(en(n),n):(en(n),null)}return en(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),g=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==d&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),go(n,n.updateQueue),at(n),null);case 4:return me(),e===null&&Xf(n.stateNode.containerInfo),at(n),null;case 10:return ia(n.type),at(n),null;case 19:if(H(ft),o=n.memoizedState,o===null)return at(n),null;if(d=(n.flags&128)!==0,g=o.rendering,g===null)if(d)_s(o,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=no(e),g!==null){for(n.flags|=128,_s(o,!1),e=g.updateQueue,n.updateQueue=e,go(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)uh(r,e),r=r.sibling;return $(ft,ft.current&1|2),Ge&&aa(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Nt()>bo&&(n.flags|=128,d=!0,_s(o,!1),n.lanes=4194304)}else{if(!d)if(e=no(g),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,go(n,e),_s(o,!0),o.tail===null&&o.tailMode==="hidden"&&!g.alternate&&!Ge)return at(n),null}else 2*Nt()-o.renderingStartTime>bo&&r!==536870912&&(n.flags|=128,d=!0,_s(o,!1),n.lanes=4194304);o.isBackwards?(g.sibling=n.child,n.child=g):(e=o.last,e!==null?e.sibling=g:n.child=g,o.last=g)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Nt(),e.sibling=null,r=ft.current,$(ft,d?r&1|2:r&1),Ge&&aa(n,o.treeForkCount),e):(at(n),null);case 22:case 23:return en(n),Xu(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(at(n),n.subtreeFlags&6&&(n.flags|=8192)):at(n),r=n.updateQueue,r!==null&&go(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&H(Tr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ia(mt),at(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function rv(e,n){switch(Ru(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ia(mt),me(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return be(n),null;case 31:if(n.memoizedState!==null){if(en(n),n.alternate===null)throw Error(s(340));Nr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(en(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Nr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return H(ft),null;case 4:return me(),null;case 10:return ia(n.type),null;case 22:case 23:return en(n),Xu(),e!==null&&H(Tr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ia(mt),null;case 25:return null;default:return null}}function zm(e,n){switch(Ru(n),n.tag){case 3:ia(mt),me();break;case 26:case 27:case 5:be(n);break;case 4:me();break;case 31:n.memoizedState!==null&&en(n);break;case 13:en(n);break;case 19:H(ft);break;case 10:ia(n.type);break;case 22:case 23:en(n),Xu(),e!==null&&H(Tr);break;case 24:ia(mt)}}function Ms(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var d=o.next;r=d;do{if((r.tag&e)===e){o=void 0;var g=r.create,k=r.inst;o=g(),k.destroy=o}r=r.next}while(r!==d)}}catch(I){Ze(n,n.return,I)}}function Pa(e,n,r){try{var o=n.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var g=d.next;o=g;do{if((o.tag&e)===e){var k=o.inst,I=k.destroy;if(I!==void 0){k.destroy=void 0,d=n;var Z=r,ae=I;try{ae()}catch(oe){Ze(d,Z,oe)}}}o=o.next}while(o!==g)}}catch(oe){Ze(n,n.return,oe)}}function Bm(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Mh(n,r)}catch(o){Ze(e,e.return,o)}}}function Um(e,n,r){r.props=Lr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Ze(e,n,o)}}function Ts(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(d){Ze(e,n,d)}}function On(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(d){Ze(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){Ze(e,n,d)}else r.current=null}function Gm(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(d){Ze(e,e.return,d)}}function Ef(e,n,r){try{var o=e.stateNode;Nv(o,e.type,r,n),o[Dt]=n}catch(d){Ze(e,e.return,d)}}function Pm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Za(e.type)||e.tag===4}function Nf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Za(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _f(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ea));else if(o!==4&&(o===27&&Za(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(_f(e,n,r),e=e.sibling;e!==null;)_f(e,n,r),e=e.sibling}function yo(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Za(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(yo(e,n,r),e=e.sibling;e!==null;)yo(e,n,r),e=e.sibling}function Im(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);At(n,o,r),n[wt]=e,n[Dt]=r}catch(g){Ze(e,e.return,g)}}var ua=!1,yt=!1,Mf=!1,Vm=typeof WeakSet=="function"?WeakSet:Set,St=null;function iv(e,n){if(e=e.containerInfo,$f=Bo,e=th(e),vu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var d=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var k=0,I=-1,Z=-1,ae=0,oe=0,ue=e,re=null;t:for(;;){for(var le;ue!==r||d!==0&&ue.nodeType!==3||(I=k+d),ue!==g||o!==0&&ue.nodeType!==3||(Z=k+o),ue.nodeType===3&&(k+=ue.nodeValue.length),(le=ue.firstChild)!==null;)re=ue,ue=le;for(;;){if(ue===e)break t;if(re===r&&++ae===d&&(I=k),re===g&&++oe===o&&(Z=k),(le=ue.nextSibling)!==null)break;ue=re,re=ue.parentNode}ue=le}r=I===-1||Z===-1?null:{start:I,end:Z}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qf={focusedElem:e,selectionRange:r},Bo=!1,St=n;St!==null;)if(n=St,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,St=e;else for(;St!==null;){switch(n=St,g=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)d=e[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,r=n,d=g.memoizedProps,g=g.memoizedState,o=r.stateNode;try{var ye=Lr(r.type,d);e=o.getSnapshotBeforeUpdate(ye,g),o.__reactInternalSnapshotBeforeUpdate=e}catch(Me){Ze(r,r.return,Me)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Jf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Jf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,St=e;break}St=n.return}}function qm(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:da(e,r),o&4&&Ms(5,r);break;case 1:if(da(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(k){Ze(r,r.return,k)}else{var d=Lr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(k){Ze(r,r.return,k)}}o&64&&Bm(r),o&512&&Ts(r,r.return);break;case 3:if(da(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Mh(e,n)}catch(k){Ze(r,r.return,k)}}break;case 27:n===null&&o&4&&Im(r);case 26:case 5:da(e,r),n===null&&o&4&&Gm(r),o&512&&Ts(r,r.return);break;case 12:da(e,r);break;case 31:da(e,r),o&4&&Km(e,r);break;case 13:da(e,r),o&4&&Zm(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=mv.bind(null,r),Lv(e,r))));break;case 22:if(o=r.memoizedState!==null||ua,!o){n=n!==null&&n.memoizedState!==null||yt,d=ua;var g=yt;ua=o,(yt=n)&&!g?ha(e,r,(r.subtreeFlags&8772)!==0):da(e,r),ua=d,yt=g}break;case 30:break;default:da(e,r)}}function Ym(e){var n=e.alternate;n!==null&&(e.alternate=null,Ym(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ts(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var it=null,It=!1;function fa(e,n,r){for(r=r.child;r!==null;)Xm(e,n,r),r=r.sibling}function Xm(e,n,r){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(pr,r)}catch{}switch(r.tag){case 26:yt||On(r,n),fa(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:yt||On(r,n);var o=it,d=It;Za(r.type)&&(it=r.stateNode,It=!1),fa(e,n,r),Bs(r.stateNode),it=o,It=d;break;case 5:yt||On(r,n);case 6:if(o=it,d=It,it=null,fa(e,n,r),it=o,It=d,it!==null)if(It)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(r.stateNode)}catch(g){Ze(r,n,g)}else try{it.removeChild(r.stateNode)}catch(g){Ze(r,n,g)}break;case 18:it!==null&&(It?(e=it,Bp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Li(e)):Bp(it,r.stateNode));break;case 4:o=it,d=It,it=r.stateNode.containerInfo,It=!0,fa(e,n,r),it=o,It=d;break;case 0:case 11:case 14:case 15:Pa(2,r,n),yt||Pa(4,r,n),fa(e,n,r);break;case 1:yt||(On(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Um(r,n,o)),fa(e,n,r);break;case 21:fa(e,n,r);break;case 22:yt=(o=yt)||r.memoizedState!==null,fa(e,n,r),yt=o;break;default:fa(e,n,r)}}function Km(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Li(e)}catch(r){Ze(n,n.return,r)}}}function Zm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Li(e)}catch(r){Ze(n,n.return,r)}}function sv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Vm),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Vm),n;default:throw Error(s(435,e.tag))}}function xo(e,n){var r=sv(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var d=pv.bind(null,e,o);o.then(d,d)}})}function Vt(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var d=r[o],g=e,k=n,I=k;e:for(;I!==null;){switch(I.tag){case 27:if(Za(I.type)){it=I.stateNode,It=!1;break e}break;case 5:it=I.stateNode,It=!1;break e;case 3:case 4:it=I.stateNode.containerInfo,It=!0;break e}I=I.return}if(it===null)throw Error(s(160));Xm(g,k,d),it=null,It=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)$m(n,e),n=n.sibling}var kn=null;function $m(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vt(n,e),qt(e),o&4&&(Pa(3,e,e.return),Ms(3,e),Pa(5,e,e.return));break;case 1:Vt(n,e),qt(e),o&512&&(yt||r===null||On(r,r.return)),o&64&&ua&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var d=kn;if(Vt(n,e),qt(e),o&512&&(yt||r===null||On(r,r.return)),o&4){var g=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){e:{o=e.type,r=e.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":g=d.getElementsByTagName("title")[0],(!g||g[xr]||g[wt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(o),d.head.insertBefore(g,d.querySelector("head > title"))),At(g,o,r),g[wt]=e,ht(g),o=g;break e;case"link":var k=$p("link","href",d).get(o+(r.href||""));if(k){for(var I=0;I<k.length;I++)if(g=k[I],g.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){k.splice(I,1);break t}}g=d.createElement(o),At(g,o,r),d.head.appendChild(g);break;case"meta":if(k=$p("meta","content",d).get(o+(r.content||""))){for(I=0;I<k.length;I++)if(g=k[I],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){k.splice(I,1);break t}}g=d.createElement(o),At(g,o,r),d.head.appendChild(g);break;default:throw Error(s(468,o))}g[wt]=e,ht(g),o=g}e.stateNode=o}else Qp(d,e.type,e.stateNode);else e.stateNode=Zp(d,o,e.memoizedProps);else g!==o?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,o===null?Qp(d,e.type,e.stateNode):Zp(d,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ef(e,e.memoizedProps,r.memoizedProps)}break;case 27:Vt(n,e),qt(e),o&512&&(yt||r===null||On(r,r.return)),r!==null&&o&4&&Ef(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Vt(n,e),qt(e),o&512&&(yt||r===null||On(r,r.return)),e.flags&32){d=e.stateNode;try{ai(d,"")}catch(ye){Ze(e,e.return,ye)}}o&4&&e.stateNode!=null&&(d=e.memoizedProps,Ef(e,d,r!==null?r.memoizedProps:d)),o&1024&&(Mf=!0);break;case 6:if(Vt(n,e),qt(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ye){Ze(e,e.return,ye)}}break;case 3:if(Lo=null,d=kn,kn=jo(n.containerInfo),Vt(n,e),kn=d,qt(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Li(n.containerInfo)}catch(ye){Ze(e,e.return,ye)}Mf&&(Mf=!1,Qm(e));break;case 4:o=kn,kn=jo(e.stateNode.containerInfo),Vt(n,e),qt(e),kn=o;break;case 12:Vt(n,e),qt(e);break;case 31:Vt(n,e),qt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,xo(e,o)));break;case 13:Vt(n,e),qt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(vo=Nt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,xo(e,o)));break;case 22:d=e.memoizedState!==null;var Z=r!==null&&r.memoizedState!==null,ae=ua,oe=yt;if(ua=ae||d,yt=oe||Z,Vt(n,e),yt=oe,ua=ae,qt(e),o&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(r===null||Z||ua||yt||Hr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){Z=r=n;try{if(g=Z.stateNode,d)k=g.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{I=Z.stateNode;var ue=Z.memoizedProps.style,re=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;I.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ye){Ze(Z,Z.return,ye)}}}else if(n.tag===6){if(r===null){Z=n;try{Z.stateNode.nodeValue=d?"":Z.memoizedProps}catch(ye){Ze(Z,Z.return,ye)}}}else if(n.tag===18){if(r===null){Z=n;try{var le=Z.stateNode;d?Up(le,!0):Up(Z.stateNode,!1)}catch(ye){Ze(Z,Z.return,ye)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,xo(e,r))));break;case 19:Vt(n,e),qt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,xo(e,o)));break;case 30:break;case 21:break;default:Vt(n,e),qt(e)}}function qt(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Pm(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var d=r.stateNode,g=Nf(e);yo(e,g,d);break;case 5:var k=r.stateNode;r.flags&32&&(ai(k,""),r.flags&=-33);var I=Nf(e);yo(e,I,k);break;case 3:case 4:var Z=r.stateNode.containerInfo,ae=Nf(e);_f(e,ae,Z);break;default:throw Error(s(161))}}catch(oe){Ze(e,e.return,oe)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Qm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Qm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function da(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)qm(e,n.alternate,n),n=n.sibling}function Hr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Pa(4,n,n.return),Hr(n);break;case 1:On(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Um(n,n.return,r),Hr(n);break;case 27:Bs(n.stateNode);case 26:case 5:On(n,n.return),Hr(n);break;case 22:n.memoizedState===null&&Hr(n);break;case 30:Hr(n);break;default:Hr(n)}e=e.sibling}}function ha(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,d=e,g=n,k=g.flags;switch(g.tag){case 0:case 11:case 15:ha(d,g,r),Ms(4,g);break;case 1:if(ha(d,g,r),o=g,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(ae){Ze(o,o.return,ae)}if(o=g,d=o.updateQueue,d!==null){var I=o.stateNode;try{var Z=d.shared.hiddenCallbacks;if(Z!==null)for(d.shared.hiddenCallbacks=null,d=0;d<Z.length;d++)_h(Z[d],I)}catch(ae){Ze(o,o.return,ae)}}r&&k&64&&Bm(g),Ts(g,g.return);break;case 27:Im(g);case 26:case 5:ha(d,g,r),r&&o===null&&k&4&&Gm(g),Ts(g,g.return);break;case 12:ha(d,g,r);break;case 31:ha(d,g,r),r&&k&4&&Km(d,g);break;case 13:ha(d,g,r),r&&k&4&&Zm(d,g);break;case 22:g.memoizedState===null&&ha(d,g,r),Ts(g,g.return);break;case 30:break;default:ha(d,g,r)}n=n.sibling}}function Tf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&ps(r))}function Af(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ps(e))}function Sn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fm(e,n,r,o),n=n.sibling}function Fm(e,n,r,o){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Sn(e,n,r,o),d&2048&&Ms(9,n);break;case 1:Sn(e,n,r,o);break;case 3:Sn(e,n,r,o),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ps(e)));break;case 12:if(d&2048){Sn(e,n,r,o),e=n.stateNode;try{var g=n.memoizedProps,k=g.id,I=g.onPostCommit;typeof I=="function"&&I(k,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(Z){Ze(n,n.return,Z)}}else Sn(e,n,r,o);break;case 31:Sn(e,n,r,o);break;case 13:Sn(e,n,r,o);break;case 23:break;case 22:g=n.stateNode,k=n.alternate,n.memoizedState!==null?g._visibility&2?Sn(e,n,r,o):As(e,n):g._visibility&2?Sn(e,n,r,o):(g._visibility|=2,Si(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Tf(k,n);break;case 24:Sn(e,n,r,o),d&2048&&Af(n.alternate,n);break;default:Sn(e,n,r,o)}}function Si(e,n,r,o,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var g=e,k=n,I=r,Z=o,ae=k.flags;switch(k.tag){case 0:case 11:case 15:Si(g,k,I,Z,d),Ms(8,k);break;case 23:break;case 22:var oe=k.stateNode;k.memoizedState!==null?oe._visibility&2?Si(g,k,I,Z,d):As(g,k):(oe._visibility|=2,Si(g,k,I,Z,d)),d&&ae&2048&&Tf(k.alternate,k);break;case 24:Si(g,k,I,Z,d),d&&ae&2048&&Af(k.alternate,k);break;default:Si(g,k,I,Z,d)}n=n.sibling}}function As(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,d=o.flags;switch(o.tag){case 22:As(r,o),d&2048&&Tf(o.alternate,o);break;case 24:As(r,o),d&2048&&Af(o.alternate,o);break;default:As(r,o)}n=n.sibling}}var Rs=8192;function Ci(e,n,r){if(e.subtreeFlags&Rs)for(e=e.child;e!==null;)Wm(e,n,r),e=e.sibling}function Wm(e,n,r){switch(e.tag){case 26:Ci(e,n,r),e.flags&Rs&&e.memoizedState!==null&&Xv(r,kn,e.memoizedState,e.memoizedProps);break;case 5:Ci(e,n,r);break;case 3:case 4:var o=kn;kn=jo(e.stateNode.containerInfo),Ci(e,n,r),kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Rs,Rs=16777216,Ci(e,n,r),Rs=o):Ci(e,n,r));break;default:Ci(e,n,r)}}function Jm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function js(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];St=o,tp(o,e)}Jm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ep(e),e=e.sibling}function ep(e){switch(e.tag){case 0:case 11:case 15:js(e),e.flags&2048&&Pa(9,e,e.return);break;case 3:js(e);break;case 12:js(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,wo(e)):js(e);break;default:js(e)}}function wo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];St=o,tp(o,e)}Jm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Pa(8,n,n.return),wo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,wo(n));break;default:wo(n)}e=e.sibling}}function tp(e,n){for(;St!==null;){var r=St;switch(r.tag){case 0:case 11:case 15:Pa(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ps(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,St=o;else e:for(r=e;St!==null;){o=St;var d=o.sibling,g=o.return;if(Ym(o),o===r){St=null;break e}if(d!==null){d.return=g,St=d;break e}St=g}}}var lv={getCacheForType:function(e){var n=Mt(mt),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Mt(mt).controller.signal}},ov=typeof WeakMap=="function"?WeakMap:Map,qe=0,Je=null,He=null,ze=0,Ke=0,tn=null,Ia=!1,Ei=!1,Rf=!1,ma=0,ut=0,Va=0,Or=0,jf=0,nn=0,Ni=0,Ds=null,Yt=null,Df=!1,vo=0,np=0,bo=1/0,ko=null,qa=null,vt=0,Ya=null,_i=null,pa=0,Lf=0,Hf=null,ap=null,Ls=0,Of=null;function an(){return(qe&2)!==0&&ze!==0?ze&-ze:S.T!==null?If():El()}function rp(){if(nn===0)if((ze&536870912)===0||Ge){var e=Qr;Qr<<=1,(Qr&3932160)===0&&(Qr=262144),nn=e}else nn=536870912;return e=Jt.current,e!==null&&(e.flags|=32),nn}function Xt(e,n,r){(e===Je&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)&&(Mi(e,0),Xa(e,ze,nn,!1)),yr(e,r),((qe&2)===0||e!==Je)&&(e===Je&&((qe&2)===0&&(Or|=r),ut===4&&Xa(e,ze,nn,!1)),zn(e))}function ip(e,n,r){if((qe&6)!==0)throw Error(s(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||gr(e,n),d=o?fv(e,n):Bf(e,n,!0),g=o;do{if(d===0){Ei&&!o&&Xa(e,n,0,!1);break}else{if(r=e.current.alternate,g&&!cv(r)){d=Bf(e,n,!1),g=!1;continue}if(d===2){if(g=n,e.errorRecoveryDisabledLanes&g)var k=0;else k=e.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){n=k;e:{var I=e;d=Ds;var Z=I.current.memoizedState.isDehydrated;if(Z&&(Mi(I,k).flags|=256),k=Bf(I,k,!1),k!==2){if(Rf&&!Z){I.errorRecoveryDisabledLanes|=g,Or|=g,d=4;break e}g=Yt,Yt=d,g!==null&&(Yt===null?Yt=g:Yt.push.apply(Yt,g))}d=k}if(g=!1,d!==2)continue}}if(d===1){Mi(e,0),Xa(e,n,0,!0);break}e:{switch(o=e,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Xa(o,n,nn,!Ia);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(d=vo+300-Nt(),10<d)){if(Xa(o,n,nn,!Ia),Wr(o,0,!0)!==0)break e;pa=n,o.timeoutHandle=Op(sp.bind(null,o,r,Yt,ko,Df,n,nn,Or,Ni,Ia,g,"Throttled",-0,0),d);break e}sp(o,r,Yt,ko,Df,n,nn,Or,Ni,Ia,g,null,-0,0)}}break}while(!0);zn(e)}function sp(e,n,r,o,d,g,k,I,Z,ae,oe,ue,re,le){if(e.timeoutHandle=-1,ue=n.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},Wm(n,g,ue);var ye=(g&62914560)===g?vo-Nt():(g&4194048)===g?np-Nt():0;if(ye=Kv(ue,ye),ye!==null){pa=g,e.cancelPendingCommit=ye(mp.bind(null,e,n,g,r,o,d,k,I,Z,oe,ue,null,re,le)),Xa(e,g,k,!ae);return}}mp(e,n,g,r,o,d,k,I,Z)}function cv(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var d=r[o],g=d.getSnapshot;d=d.value;try{if(!Ft(g(),d))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xa(e,n,r,o){n&=~jf,n&=~Or,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var d=n;0<d;){var g=31-zt(d),k=1<<g;o[g]=-1,d&=~k}r!==0&&kl(e,r,n)}function So(){return(qe&6)===0?(Hs(0),!1):!0}function zf(){if(He!==null){if(Ke===0)var e=He.return;else e=He,ra=_r=null,Wu(e),xi=null,ys=0,e=He;for(;e!==null;)zm(e.alternate,e),e=e.return;He=null}}function Mi(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Tv(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),pa=0,zf(),Je=e,He=r=na(e.current,null),ze=n,Ke=0,tn=null,Ia=!1,Ei=gr(e,n),Rf=!1,Ni=nn=jf=Or=Va=ut=0,Yt=Ds=null,Df=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var d=31-zt(o),g=1<<d;n|=e[d],o&=~g}return ma=n,Vl(),r}function lp(e,n){De=null,S.H=Es,n===yi||n===Fl?(n=Sh(),Ke=3):n===Gu?(n=Sh(),Ke=4):Ke=n===pf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,tn=n,He===null&&(ut=1,fo(e,on(n,e.current)))}function op(){var e=Jt.current;return e===null?!0:(ze&4194048)===ze?dn===null:(ze&62914560)===ze||(ze&536870912)!==0?e===dn:!1}function cp(){var e=S.H;return S.H=Es,e===null?Es:e}function up(){var e=S.A;return S.A=lv,e}function Co(){ut=4,Ia||(ze&4194048)!==ze&&Jt.current!==null||(Ei=!0),(Va&134217727)===0&&(Or&134217727)===0||Je===null||Xa(Je,ze,nn,!1)}function Bf(e,n,r){var o=qe;qe|=2;var d=cp(),g=up();(Je!==e||ze!==n)&&(ko=null,Mi(e,n)),n=!1;var k=ut;e:do try{if(Ke!==0&&He!==null){var I=He,Z=tn;switch(Ke){case 8:zf(),k=6;break e;case 3:case 2:case 9:case 6:Jt.current===null&&(n=!0);var ae=Ke;if(Ke=0,tn=null,Ti(e,I,Z,ae),r&&Ei){k=0;break e}break;default:ae=Ke,Ke=0,tn=null,Ti(e,I,Z,ae)}}uv(),k=ut;break}catch(oe){lp(e,oe)}while(!0);return n&&e.shellSuspendCounter++,ra=_r=null,qe=o,S.H=d,S.A=g,He===null&&(Je=null,ze=0,Vl()),k}function uv(){for(;He!==null;)fp(He)}function fv(e,n){var r=qe;qe|=2;var o=cp(),d=up();Je!==e||ze!==n?(ko=null,bo=Nt()+500,Mi(e,n)):Ei=gr(e,n);e:do try{if(Ke!==0&&He!==null){n=He;var g=tn;t:switch(Ke){case 1:Ke=0,tn=null,Ti(e,n,g,1);break;case 2:case 9:if(bh(g)){Ke=0,tn=null,dp(n);break}n=function(){Ke!==2&&Ke!==9||Je!==e||(Ke=7),zn(e)},g.then(n,n);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:bh(g)?(Ke=0,tn=null,dp(n)):(Ke=0,tn=null,Ti(e,n,g,7));break;case 5:var k=null;switch(He.tag){case 26:k=He.memoizedState;case 5:case 27:var I=He;if(k?Fp(k):I.stateNode.complete){Ke=0,tn=null;var Z=I.sibling;if(Z!==null)He=Z;else{var ae=I.return;ae!==null?(He=ae,Eo(ae)):He=null}break t}}Ke=0,tn=null,Ti(e,n,g,5);break;case 6:Ke=0,tn=null,Ti(e,n,g,6);break;case 8:zf(),ut=6;break e;default:throw Error(s(462))}}dv();break}catch(oe){lp(e,oe)}while(!0);return ra=_r=null,S.H=o,S.A=d,qe=r,He!==null?0:(Je=null,ze=0,Vl(),ut)}function dv(){for(;He!==null&&!dr();)fp(He)}function fp(e){var n=Hm(e.alternate,e,ma);e.memoizedProps=e.pendingProps,n===null?Eo(e):He=n}function dp(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Tm(r,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=Tm(r,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:Wu(n);default:zm(r,n),n=He=uh(n,ma),n=Hm(r,n,ma)}e.memoizedProps=e.pendingProps,n===null?Eo(e):He=n}function Ti(e,n,r,o){ra=_r=null,Wu(n),xi=null,ys=0;var d=n.return;try{if(ev(e,d,n,r,ze)){ut=1,fo(e,on(r,e.current)),He=null;return}}catch(g){if(d!==null)throw He=d,g;ut=1,fo(e,on(r,e.current)),He=null;return}n.flags&32768?(Ge||o===1?e=!0:Ei||(ze&536870912)!==0?e=!1:(Ia=e=!0,(o===2||o===9||o===3||o===6)&&(o=Jt.current,o!==null&&o.tag===13&&(o.flags|=16384))),hp(n,e)):Eo(n)}function Eo(e){var n=e;do{if((n.flags&32768)!==0){hp(n,Ia);return}e=n.return;var r=av(n.alternate,n,ma);if(r!==null){He=r;return}if(n=n.sibling,n!==null){He=n;return}He=n=e}while(n!==null);ut===0&&(ut=5)}function hp(e,n){do{var r=rv(e.alternate,e);if(r!==null){r.flags&=32767,He=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){He=e;return}He=e=r}while(e!==null);ut=6,He=null}function mp(e,n,r,o,d,g,k,I,Z){e.cancelPendingCommit=null;do No();while(vt!==0);if((qe&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(g=n.lanes|n.childLanes,g|=Eu,tu(e,r,g,k,I,Z),e===Je&&(He=Je=null,ze=0),_i=n,Ya=e,pa=r,Lf=g,Hf=d,ap=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,gv(mr,function(){return wp(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=S.T,S.T=null,d=T.p,T.p=2,k=qe,qe|=4;try{iv(e,n,r)}finally{qe=k,T.p=d,S.T=o}}vt=1,pp(),gp(),yp()}}function pp(){if(vt===1){vt=0;var e=Ya,n=_i,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=S.T,S.T=null;var o=T.p;T.p=2;var d=qe;qe|=4;try{$m(n,e);var g=Qf,k=th(e.containerInfo),I=g.focusedElem,Z=g.selectionRange;if(k!==I&&I&&I.ownerDocument&&eh(I.ownerDocument.documentElement,I)){if(Z!==null&&vu(I)){var ae=Z.start,oe=Z.end;if(oe===void 0&&(oe=ae),"selectionStart"in I)I.selectionStart=ae,I.selectionEnd=Math.min(oe,I.value.length);else{var ue=I.ownerDocument||document,re=ue&&ue.defaultView||window;if(re.getSelection){var le=re.getSelection(),ye=I.textContent.length,Me=Math.min(Z.start,ye),Fe=Z.end===void 0?Me:Math.min(Z.end,ye);!le.extend&&Me>Fe&&(k=Fe,Fe=Me,Me=k);var J=J0(I,Me),W=J0(I,Fe);if(J&&W&&(le.rangeCount!==1||le.anchorNode!==J.node||le.anchorOffset!==J.offset||le.focusNode!==W.node||le.focusOffset!==W.offset)){var ne=ue.createRange();ne.setStart(J.node,J.offset),le.removeAllRanges(),Me>Fe?(le.addRange(ne),le.extend(W.node,W.offset)):(ne.setEnd(W.node,W.offset),le.addRange(ne))}}}}for(ue=[],le=I;le=le.parentNode;)le.nodeType===1&&ue.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ue.length;I++){var ce=ue[I];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Bo=!!$f,Qf=$f=null}finally{qe=d,T.p=o,S.T=r}}e.current=n,vt=2}}function gp(){if(vt===2){vt=0;var e=Ya,n=_i,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=S.T,S.T=null;var o=T.p;T.p=2;var d=qe;qe|=4;try{qm(e,n.alternate,n)}finally{qe=d,T.p=o,S.T=r}}vt=3}}function yp(){if(vt===4||vt===3){vt=0,hr();var e=Ya,n=_i,r=pa,o=ap;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?vt=5:(vt=0,_i=Ya=null,xp(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(qa=null),es(r),n=n.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(pr,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=S.T,d=T.p,T.p=2,S.T=null;try{for(var g=e.onRecoverableError,k=0;k<o.length;k++){var I=o[k];g(I.value,{componentStack:I.stack})}}finally{S.T=n,T.p=d}}(pa&3)!==0&&No(),zn(e),d=e.pendingLanes,(r&261930)!==0&&(d&42)!==0?e===Of?Ls++:(Ls=0,Of=e):Ls=0,Hs(0)}}function xp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ps(n)))}function No(){return pp(),gp(),yp(),wp()}function wp(){if(vt!==5)return!1;var e=Ya,n=Lf;Lf=0;var r=es(pa),o=S.T,d=T.p;try{T.p=32>r?32:r,S.T=null,r=Hf,Hf=null;var g=Ya,k=pa;if(vt=0,_i=Ya=null,pa=0,(qe&6)!==0)throw Error(s(331));var I=qe;if(qe|=4,ep(g.current),Fm(g,g.current,k,r),qe=I,Hs(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(pr,g)}catch{}return!0}finally{T.p=d,S.T=o,xp(e,n)}}function vp(e,n,r){n=on(r,n),n=mf(e.stateNode,n,2),e=Ba(e,n,2),e!==null&&(yr(e,2),zn(e))}function Ze(e,n,r){if(e.tag===3)vp(e,e,r);else for(;n!==null;){if(n.tag===3){vp(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qa===null||!qa.has(o))){e=on(r,e),r=bm(2),o=Ba(n,r,2),o!==null&&(km(r,o,n,e),yr(o,2),zn(o));break}}n=n.return}}function Uf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new ov;var d=new Set;o.set(n,d)}else d=o.get(n),d===void 0&&(d=new Set,o.set(n,d));d.has(r)||(Rf=!0,d.add(r),e=hv.bind(null,e,n,r),n.then(e,e))}function hv(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Je===e&&(ze&r)===r&&(ut===4||ut===3&&(ze&62914560)===ze&&300>Nt()-vo?(qe&2)===0&&Mi(e,0):jf|=r,Ni===ze&&(Ni=0)),zn(e)}function bp(e,n){n===0&&(n=bl()),e=Cr(e,n),e!==null&&(yr(e,n),zn(e))}function mv(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),bp(e,r)}function pv(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(r=d.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),bp(e,r)}function gv(e,n){return wn(e,n)}var _o=null,Ai=null,Gf=!1,Mo=!1,Pf=!1,Ka=0;function zn(e){e!==Ai&&e.next===null&&(Ai===null?_o=Ai=e:Ai=Ai.next=e),Mo=!0,Gf||(Gf=!0,xv())}function Hs(e,n){if(!Pf&&Mo){Pf=!0;do for(var r=!1,o=_o;o!==null;){if(e!==0){var d=o.pendingLanes;if(d===0)var g=0;else{var k=o.suspendedLanes,I=o.pingedLanes;g=(1<<31-zt(42|e)+1)-1,g&=d&~(k&~I),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(r=!0,Ep(o,g))}else g=ze,g=Wr(o,o===Je?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(g&3)===0||gr(o,g)||(r=!0,Ep(o,g));o=o.next}while(r);Pf=!1}}function yv(){kp()}function kp(){Mo=Gf=!1;var e=0;Ka!==0&&Mv()&&(e=Ka);for(var n=Nt(),r=null,o=_o;o!==null;){var d=o.next,g=Sp(o,n);g===0?(o.next=null,r===null?_o=d:r.next=d,d===null&&(Ai=r)):(r=o,(e!==0||(g&3)!==0)&&(Mo=!0)),o=d}vt!==0&&vt!==5||Hs(e),Ka!==0&&(Ka=0)}function Sp(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var k=31-zt(g),I=1<<k,Z=d[k];Z===-1?((I&r)===0||(I&o)!==0)&&(d[k]=eu(I,n)):Z<=n&&(e.expiredLanes|=I),g&=~I}if(n=Je,r=ze,r=Wr(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Zn(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||gr(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Zn(o),es(r)){case 2:case 8:r=Ea;break;case 32:r=mr;break;case 268435456:r=Zr;break;default:r=mr}return o=Cp.bind(null,e),r=wn(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Zn(o),e.callbackPriority=2,e.callbackNode=null,2}function Cp(e,n){if(vt!==0&&vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(No()&&e.callbackNode!==r)return null;var o=ze;return o=Wr(e,e===Je?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ip(e,o,n),Sp(e,Nt()),e.callbackNode!=null&&e.callbackNode===r?Cp.bind(null,e):null)}function Ep(e,n){if(No())return null;ip(e,n,!0)}function xv(){Av(function(){(qe&6)!==0?wn($n,yv):kp()})}function If(){if(Ka===0){var e=pi;e===0&&(e=$r,$r<<=1,($r&261888)===0&&($r=256)),Ka=e}return Ka}function Np(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Hl(""+e)}function _p(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function wv(e,n,r,o,d){if(n==="submit"&&r&&r.stateNode===d){var g=Np((d[Dt]||null).action),k=o.submitter;k&&(n=(n=k[Dt]||null)?Np(n.formAction):k.getAttribute("formAction"),n!==null&&(g=n,k=null));var I=new Ul("action","action",null,o,d);e.push({event:I,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ka!==0){var Z=k?_p(d,k):new FormData(d);of(r,{pending:!0,data:Z,method:d.method,action:g},null,Z)}}else typeof g=="function"&&(I.preventDefault(),Z=k?_p(d,k):new FormData(d),of(r,{pending:!0,data:Z,method:d.method,action:g},g,Z))},currentTarget:d}]})}}for(var Vf=0;Vf<Cu.length;Vf++){var qf=Cu[Vf],vv=qf.toLowerCase(),bv=qf[0].toUpperCase()+qf.slice(1);bn(vv,"on"+bv)}bn(rh,"onAnimationEnd"),bn(ih,"onAnimationIteration"),bn(sh,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(zw,"onTransitionRun"),bn(Bw,"onTransitionStart"),bn(Uw,"onTransitionCancel"),bn(lh,"onTransitionEnd"),Aa("onMouseEnter",["mouseout","mouseover"]),Aa("onMouseLeave",["mouseout","mouseover"]),Aa("onPointerEnter",["pointerout","pointerover"]),Aa("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Os));function Mp(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],d=o.event;o=o.listeners;e:{var g=void 0;if(n)for(var k=o.length-1;0<=k;k--){var I=o[k],Z=I.instance,ae=I.currentTarget;if(I=I.listener,Z!==g&&d.isPropagationStopped())break e;g=I,d.currentTarget=ae;try{g(d)}catch(oe){Il(oe)}d.currentTarget=null,g=Z}else for(k=0;k<o.length;k++){if(I=o[k],Z=I.instance,ae=I.currentTarget,I=I.listener,Z!==g&&d.isPropagationStopped())break e;g=I,d.currentTarget=ae;try{g(d)}catch(oe){Il(oe)}d.currentTarget=null,g=Z}}}}function Oe(e,n){var r=n[Jr];r===void 0&&(r=n[Jr]=new Set);var o=e+"__bubble";r.has(o)||(Tp(n,e,2,!1),r.add(o))}function Yf(e,n,r){var o=0;n&&(o|=4),Tp(r,e,o,n)}var To="_reactListening"+Math.random().toString(36).slice(2);function Xf(e){if(!e[To]){e[To]=!0,Tl.forEach(function(r){r!=="selectionchange"&&(kv.has(r)||Yf(r,!1,e),Yf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[To]||(n[To]=!0,Yf("selectionchange",!1,n))}}function Tp(e,n,r,o){switch(rg(n)){case 2:var d=Qv;break;case 8:d=Fv;break;default:d=ld}r=d.bind(null,n,r,e),d=void 0,!fu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(n,r,{capture:!0,passive:d}):e.addEventListener(n,r,!0):d!==void 0?e.addEventListener(n,r,{passive:d}):e.addEventListener(n,r,!1)}function Kf(e,n,r,o,d){var g=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var k=o.tag;if(k===3||k===4){var I=o.stateNode.containerInfo;if(I===d)break;if(k===4)for(k=o.return;k!==null;){var Z=k.tag;if((Z===3||Z===4)&&k.stateNode.containerInfo===d)return;k=k.return}for(;I!==null;){if(k=Na(I),k===null)return;if(Z=k.tag,Z===5||Z===6||Z===26||Z===27){o=g=k;continue e}I=I.parentNode}}o=o.return}L0(function(){var ae=g,oe=cu(r),ue=[];e:{var re=oh.get(e);if(re!==void 0){var le=Ul,ye=e;switch(e){case"keypress":if(zl(r)===0)break e;case"keydown":case"keyup":le=pw;break;case"focusin":ye="focus",le=pu;break;case"focusout":ye="blur",le=pu;break;case"beforeblur":case"afterblur":le=pu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=z0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=aw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=xw;break;case rh:case ih:case sh:le=sw;break;case lh:le=vw;break;case"scroll":case"scrollend":le=tw;break;case"wheel":le=kw;break;case"copy":case"cut":case"paste":le=ow;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=U0;break;case"toggle":case"beforetoggle":le=Cw}var Me=(n&4)!==0,Fe=!Me&&(e==="scroll"||e==="scrollend"),J=Me?re!==null?re+"Capture":null:re;Me=[];for(var W=ae,ne;W!==null;){var ce=W;if(ne=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||ne===null||J===null||(ce=rs(W,J),ce!=null&&Me.push(zs(W,ce,ne))),Fe)break;W=W.return}0<Me.length&&(re=new le(re,ye,null,r,oe),ue.push({event:re,listeners:Me}))}}if((n&7)===0){e:{if(re=e==="mouseover"||e==="pointerover",le=e==="mouseout"||e==="pointerout",re&&r!==ou&&(ye=r.relatedTarget||r.fromElement)&&(Na(ye)||ye[Fn]))break e;if((le||re)&&(re=oe.window===oe?oe:(re=oe.ownerDocument)?re.defaultView||re.parentWindow:window,le?(ye=r.relatedTarget||r.toElement,le=ae,ye=ye?Na(ye):null,ye!==null&&(Fe=c(ye),Me=ye.tag,ye!==Fe||Me!==5&&Me!==27&&Me!==6)&&(ye=null)):(le=null,ye=ae),le!==ye)){if(Me=z0,ce="onMouseLeave",J="onMouseEnter",W="mouse",(e==="pointerout"||e==="pointerover")&&(Me=U0,ce="onPointerLeave",J="onPointerEnter",W="pointer"),Fe=le==null?re:Ma(le),ne=ye==null?re:Ma(ye),re=new Me(ce,W+"leave",le,r,oe),re.target=Fe,re.relatedTarget=ne,ce=null,Na(oe)===ae&&(Me=new Me(J,W+"enter",ye,r,oe),Me.target=ne,Me.relatedTarget=Fe,ce=Me),Fe=ce,le&&ye)t:{for(Me=Sv,J=le,W=ye,ne=0,ce=J;ce;ce=Me(ce))ne++;ce=0;for(var Ce=W;Ce;Ce=Me(Ce))ce++;for(;0<ne-ce;)J=Me(J),ne--;for(;0<ce-ne;)W=Me(W),ce--;for(;ne--;){if(J===W||W!==null&&J===W.alternate){Me=J;break t}J=Me(J),W=Me(W)}Me=null}else Me=null;le!==null&&Ap(ue,re,le,Me,!1),ye!==null&&Fe!==null&&Ap(ue,Fe,ye,Me,!0)}}e:{if(re=ae?Ma(ae):window,le=re.nodeName&&re.nodeName.toLowerCase(),le==="select"||le==="input"&&re.type==="file")var Ie=K0;else if(Y0(re))if(Z0)Ie=Lw;else{Ie=jw;var we=Rw}else le=re.nodeName,!le||le.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ae&&lu(ae.elementType)&&(Ie=K0):Ie=Dw;if(Ie&&(Ie=Ie(e,ae))){X0(ue,Ie,r,oe);break e}we&&we(e,re,ae),e==="focusout"&&ae&&re.type==="number"&&ae.memoizedProps.value!=null&&as(re,"number",re.value)}switch(we=ae?Ma(ae):window,e){case"focusin":(Y0(we)||we.contentEditable==="true")&&(li=we,bu=ae,ds=null);break;case"focusout":ds=bu=li=null;break;case"mousedown":ku=!0;break;case"contextmenu":case"mouseup":case"dragend":ku=!1,nh(ue,r,oe);break;case"selectionchange":if(Ow)break;case"keydown":case"keyup":nh(ue,r,oe)}var Le;if(yu)e:{switch(e){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else si?V0(e,r)&&(Be="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Be="onCompositionStart");Be&&(G0&&r.locale!=="ko"&&(si||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&si&&(Le=H0()):(Ra=oe,du="value"in Ra?Ra.value:Ra.textContent,si=!0)),we=Ao(ae,Be),0<we.length&&(Be=new B0(Be,e,null,r,oe),ue.push({event:Be,listeners:we}),Le?Be.data=Le:(Le=q0(r),Le!==null&&(Be.data=Le)))),(Le=Nw?_w(e,r):Mw(e,r))&&(Be=Ao(ae,"onBeforeInput"),0<Be.length&&(we=new B0("onBeforeInput","beforeinput",null,r,oe),ue.push({event:we,listeners:Be}),we.data=Le)),wv(ue,e,ae,r,oe)}Mp(ue,n)})}function zs(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Ao(e,n){for(var r=n+"Capture",o=[];e!==null;){var d=e,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=rs(e,r),d!=null&&o.unshift(zs(e,d,g)),d=rs(e,n),d!=null&&o.push(zs(e,d,g))),e.tag===3)return o;e=e.return}return[]}function Sv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ap(e,n,r,o,d){for(var g=n._reactName,k=[];r!==null&&r!==o;){var I=r,Z=I.alternate,ae=I.stateNode;if(I=I.tag,Z!==null&&Z===o)break;I!==5&&I!==26&&I!==27||ae===null||(Z=ae,d?(ae=rs(r,g),ae!=null&&k.unshift(zs(r,ae,Z))):d||(ae=rs(r,g),ae!=null&&k.push(zs(r,ae,Z)))),r=r.return}k.length!==0&&e.push({event:n,listeners:k})}var Cv=/\r\n?/g,Ev=/\u0000|\uFFFD/g;function Rp(e){return(typeof e=="string"?e:""+e).replace(Cv,`
`).replace(Ev,"")}function jp(e,n){return n=Rp(n),Rp(e)===n}function Qe(e,n,r,o,d,g){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ai(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ai(e,""+o);break;case"className":ti(e,"class",o);break;case"tabIndex":ti(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(e,r,o);break;case"style":j0(e,o,g);break;case"data":if(n!=="object"){ti(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Hl(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(n!=="input"&&Qe(e,n,"name",d.name,d,null),Qe(e,n,"formEncType",d.formEncType,d,null),Qe(e,n,"formMethod",d.formMethod,d,null),Qe(e,n,"formTarget",d.formTarget,d,null)):(Qe(e,n,"encType",d.encType,d,null),Qe(e,n,"method",d.method,d,null),Qe(e,n,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Hl(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=ea);break;case"onScroll":o!=null&&Oe("scroll",e);break;case"onScrollEnd":o!=null&&Oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Hl(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Oe("beforetoggle",e),Oe("toggle",e),ei(e,"popover",o);break;case"xlinkActuate":vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":vn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":vn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":vn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":vn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ei(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Jx.get(r)||r,ei(e,r,o))}}function Zf(e,n,r,o,d,g){switch(r){case"style":j0(e,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?ai(e,o):(typeof o=="number"||typeof o=="bigint")&&ai(e,""+o);break;case"onScroll":o!=null&&Oe("scroll",e);break;case"onScrollEnd":o!=null&&Oe("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),n=r.slice(2,d?r.length-7:void 0),g=e[Dt]||null,g=g!=null?g[r]:null,typeof g=="function"&&e.removeEventListener(n,g,d),typeof o=="function")){typeof g!="function"&&g!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,d);break e}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ei(e,r,o)}}}function At(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",e),Oe("load",e);var o=!1,d=!1,g;for(g in r)if(r.hasOwnProperty(g)){var k=r[g];if(k!=null)switch(g){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qe(e,n,g,k,r,null)}}d&&Qe(e,n,"srcSet",r.srcSet,r,null),o&&Qe(e,n,"src",r.src,r,null);return;case"input":Oe("invalid",e);var I=g=k=d=null,Z=null,ae=null;for(o in r)if(r.hasOwnProperty(o)){var oe=r[o];if(oe!=null)switch(o){case"name":d=oe;break;case"type":k=oe;break;case"checked":Z=oe;break;case"defaultChecked":ae=oe;break;case"value":g=oe;break;case"defaultValue":I=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,n));break;default:Qe(e,n,o,oe,r,null)}}Ll(e,g,I,Z,ae,k,d,!1);return;case"select":Oe("invalid",e),o=k=g=null;for(d in r)if(r.hasOwnProperty(d)&&(I=r[d],I!=null))switch(d){case"value":g=I;break;case"defaultValue":k=I;break;case"multiple":o=I;default:Qe(e,n,d,I,r,null)}n=g,r=k,e.multiple=!!o,n!=null?Jn(e,!!o,n,!1):r!=null&&Jn(e,!!o,r,!0);return;case"textarea":Oe("invalid",e),g=d=o=null;for(k in r)if(r.hasOwnProperty(k)&&(I=r[k],I!=null))switch(k){case"value":o=I;break;case"defaultValue":d=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(91));break;default:Qe(e,n,k,I,r,null)}A0(e,o,d,g);return;case"option":for(Z in r)r.hasOwnProperty(Z)&&(o=r[Z],o!=null)&&(Z==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Qe(e,n,Z,o,r,null));return;case"dialog":Oe("beforetoggle",e),Oe("toggle",e),Oe("cancel",e),Oe("close",e);break;case"iframe":case"object":Oe("load",e);break;case"video":case"audio":for(o=0;o<Os.length;o++)Oe(Os[o],e);break;case"image":Oe("error",e),Oe("load",e);break;case"details":Oe("toggle",e);break;case"embed":case"source":case"link":Oe("error",e),Oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in r)if(r.hasOwnProperty(ae)&&(o=r[ae],o!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qe(e,n,ae,o,r,null)}return;default:if(lu(n)){for(oe in r)r.hasOwnProperty(oe)&&(o=r[oe],o!==void 0&&Zf(e,n,oe,o,r,void 0));return}}for(I in r)r.hasOwnProperty(I)&&(o=r[I],o!=null&&Qe(e,n,I,o,r,null))}function Nv(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,k=null,I=null,Z=null,ae=null,oe=null;for(le in r){var ue=r[le];if(r.hasOwnProperty(le)&&ue!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":Z=ue;default:o.hasOwnProperty(le)||Qe(e,n,le,null,o,ue)}}for(var re in o){var le=o[re];if(ue=r[re],o.hasOwnProperty(re)&&(le!=null||ue!=null))switch(re){case"type":g=le;break;case"name":d=le;break;case"checked":ae=le;break;case"defaultChecked":oe=le;break;case"value":k=le;break;case"defaultValue":I=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,n));break;default:le!==ue&&Qe(e,n,re,le,o,ue)}}vr(e,k,I,Z,ae,oe,g,d);return;case"select":le=k=I=re=null;for(g in r)if(Z=r[g],r.hasOwnProperty(g)&&Z!=null)switch(g){case"value":break;case"multiple":le=Z;default:o.hasOwnProperty(g)||Qe(e,n,g,null,o,Z)}for(d in o)if(g=o[d],Z=r[d],o.hasOwnProperty(d)&&(g!=null||Z!=null))switch(d){case"value":re=g;break;case"defaultValue":I=g;break;case"multiple":k=g;default:g!==Z&&Qe(e,n,d,g,o,Z)}n=I,r=k,o=le,re!=null?Jn(e,!!r,re,!1):!!o!=!!r&&(n!=null?Jn(e,!!r,n,!0):Jn(e,!!r,r?[]:"",!1));return;case"textarea":le=re=null;for(I in r)if(d=r[I],r.hasOwnProperty(I)&&d!=null&&!o.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Qe(e,n,I,null,o,d)}for(k in o)if(d=o[k],g=r[k],o.hasOwnProperty(k)&&(d!=null||g!=null))switch(k){case"value":re=d;break;case"defaultValue":le=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&Qe(e,n,k,d,o,g)}T0(e,re,le);return;case"option":for(var ye in r)re=r[ye],r.hasOwnProperty(ye)&&re!=null&&!o.hasOwnProperty(ye)&&(ye==="selected"?e.selected=!1:Qe(e,n,ye,null,o,re));for(Z in o)re=o[Z],le=r[Z],o.hasOwnProperty(Z)&&re!==le&&(re!=null||le!=null)&&(Z==="selected"?e.selected=re&&typeof re!="function"&&typeof re!="symbol":Qe(e,n,Z,re,o,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in r)re=r[Me],r.hasOwnProperty(Me)&&re!=null&&!o.hasOwnProperty(Me)&&Qe(e,n,Me,null,o,re);for(ae in o)if(re=o[ae],le=r[ae],o.hasOwnProperty(ae)&&re!==le&&(re!=null||le!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,n));break;default:Qe(e,n,ae,re,o,le)}return;default:if(lu(n)){for(var Fe in r)re=r[Fe],r.hasOwnProperty(Fe)&&re!==void 0&&!o.hasOwnProperty(Fe)&&Zf(e,n,Fe,void 0,o,re);for(oe in o)re=o[oe],le=r[oe],!o.hasOwnProperty(oe)||re===le||re===void 0&&le===void 0||Zf(e,n,oe,re,o,le);return}}for(var J in r)re=r[J],r.hasOwnProperty(J)&&re!=null&&!o.hasOwnProperty(J)&&Qe(e,n,J,null,o,re);for(ue in o)re=o[ue],le=r[ue],!o.hasOwnProperty(ue)||re===le||re==null&&le==null||Qe(e,n,ue,re,o,le)}function Dp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _v(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var d=r[o],g=d.transferSize,k=d.initiatorType,I=d.duration;if(g&&I&&Dp(k)){for(k=0,I=d.responseEnd,o+=1;o<r.length;o++){var Z=r[o],ae=Z.startTime;if(ae>I)break;var oe=Z.transferSize,ue=Z.initiatorType;oe&&Dp(ue)&&(Z=Z.responseEnd,k+=oe*(Z<I?1:(I-ae)/(Z-ae)))}if(--o,n+=8*(g+k)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $f=null,Qf=null;function Ro(e){return e.nodeType===9?e:e.ownerDocument}function Lp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ff(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wf=null;function Mv(){var e=window.event;return e&&e.type==="popstate"?e===Wf?!1:(Wf=e,!0):(Wf=null,!1)}var Op=typeof setTimeout=="function"?setTimeout:void 0,Tv=typeof clearTimeout=="function"?clearTimeout:void 0,zp=typeof Promise=="function"?Promise:void 0,Av=typeof queueMicrotask=="function"?queueMicrotask:typeof zp<"u"?function(e){return zp.resolve(null).then(e).catch(Rv)}:Op;function Rv(e){setTimeout(function(){throw e})}function Za(e){return e==="head"}function Bp(e,n){var r=n,o=0;do{var d=r.nextSibling;if(e.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(d),Li(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Bs(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Bs(r);for(var g=r.firstChild;g;){var k=g.nextSibling,I=g.nodeName;g[xr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=k}}else r==="body"&&Bs(e.ownerDocument.body);r=d}while(r);Li(n)}function Up(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function Jf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Jf(r),ts(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function jv(e,n,r,o){for(;e.nodeType===1;){var d=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[xr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=hn(e.nextSibling),e===null)break}return null}function Dv(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=hn(e.nextSibling),e===null))return null;return e}function Gp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=hn(e.nextSibling),e===null))return null;return e}function ed(e){return e.data==="$?"||e.data==="$~"}function td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Lv(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function hn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var nd=null;function Pp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return hn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Ip(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Vp(e,n,r){switch(n=Ro(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Bs(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ts(e)}var mn=new Map,qp=new Set;function jo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ga=T.d;T.d={f:Hv,r:Ov,D:zv,C:Bv,L:Uv,m:Gv,X:Iv,S:Pv,M:Vv};function Hv(){var e=ga.f(),n=So();return e||n}function Ov(e){var n=_a(e);n!==null&&n.tag===5&&n.type==="form"?lm(n):ga.r(e)}var Ri=typeof document>"u"?null:document;function Yp(e,n,r){var o=Ri;if(o&&typeof n=="string"&&n){var d=Gt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),qp.has(d)||(qp.add(d),e={rel:e,crossOrigin:r,href:n},o.querySelector(d)===null&&(n=o.createElement("link"),At(n,"link",e),ht(n),o.head.appendChild(n)))}}function zv(e){ga.D(e),Yp("dns-prefetch",e,null)}function Bv(e,n){ga.C(e,n),Yp("preconnect",e,n)}function Uv(e,n,r){ga.L(e,n,r);var o=Ri;if(o&&e&&n){var d='link[rel="preload"][as="'+Gt(n)+'"]';n==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+Gt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+Gt(r.imageSizes)+'"]')):d+='[href="'+Gt(e)+'"]';var g=d;switch(n){case"style":g=ji(e);break;case"script":g=Di(e)}mn.has(g)||(e=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),mn.set(g,e),o.querySelector(d)!==null||n==="style"&&o.querySelector(Us(g))||n==="script"&&o.querySelector(Gs(g))||(n=o.createElement("link"),At(n,"link",e),ht(n),o.head.appendChild(n)))}}function Gv(e,n){ga.m(e,n);var r=Ri;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Gt(o)+'"][href="'+Gt(e)+'"]',g=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Di(e)}if(!mn.has(g)&&(e=x({rel:"modulepreload",href:e},n),mn.set(g,e),r.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Gs(g)))return}o=r.createElement("link"),At(o,"link",e),ht(o),r.head.appendChild(o)}}}function Pv(e,n,r){ga.S(e,n,r);var o=Ri;if(o&&e){var d=Ta(o).hoistableStyles,g=ji(e);n=n||"default";var k=d.get(g);if(!k){var I={loading:0,preload:null};if(k=o.querySelector(Us(g)))I.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},r),(r=mn.get(g))&&ad(e,r);var Z=k=o.createElement("link");ht(Z),At(Z,"link",e),Z._p=new Promise(function(ae,oe){Z.onload=ae,Z.onerror=oe}),Z.addEventListener("load",function(){I.loading|=1}),Z.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Do(k,n,o)}k={type:"stylesheet",instance:k,count:1,state:I},d.set(g,k)}}}function Iv(e,n){ga.X(e,n);var r=Ri;if(r&&e){var o=Ta(r).hoistableScripts,d=Di(e),g=o.get(d);g||(g=r.querySelector(Gs(d)),g||(e=x({src:e,async:!0},n),(n=mn.get(d))&&rd(e,n),g=r.createElement("script"),ht(g),At(g,"link",e),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(d,g))}}function Vv(e,n){ga.M(e,n);var r=Ri;if(r&&e){var o=Ta(r).hoistableScripts,d=Di(e),g=o.get(d);g||(g=r.querySelector(Gs(d)),g||(e=x({src:e,async:!0,type:"module"},n),(n=mn.get(d))&&rd(e,n),g=r.createElement("script"),ht(g),At(g,"link",e),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(d,g))}}function Xp(e,n,r,o){var d=(d=ie.current)?jo(d):null;if(!d)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ji(r.href),r=Ta(d).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=ji(r.href);var g=Ta(d).hoistableStyles,k=g.get(e);if(k||(d=d.ownerDocument||d,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,k),(g=d.querySelector(Us(e)))&&!g._p&&(k.instance=g,k.state.loading=5),mn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},mn.set(e,r),g||qv(d,e,r,k.state))),n&&o===null)throw Error(s(528,""));return k}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Di(r),r=Ta(d).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ji(e){return'href="'+Gt(e)+'"'}function Us(e){return'link[rel="stylesheet"]['+e+"]"}function Kp(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function qv(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),At(n,"link",r),ht(n),e.head.appendChild(n))}function Di(e){return'[src="'+Gt(e)+'"]'}function Gs(e){return"script[async]"+e}function Zp(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Gt(r.href)+'"]');if(o)return n.instance=o,ht(o),o;var d=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ht(o),At(o,"style",d),Do(o,r.precedence,e),n.instance=o;case"stylesheet":d=ji(r.href);var g=e.querySelector(Us(d));if(g)return n.state.loading|=4,n.instance=g,ht(g),g;o=Kp(r),(d=mn.get(d))&&ad(o,d),g=(e.ownerDocument||e).createElement("link"),ht(g);var k=g;return k._p=new Promise(function(I,Z){k.onload=I,k.onerror=Z}),At(g,"link",o),n.state.loading|=4,Do(g,r.precedence,e),n.instance=g;case"script":return g=Di(r.src),(d=e.querySelector(Gs(g)))?(n.instance=d,ht(d),d):(o=r,(d=mn.get(g))&&(o=x({},r),rd(o,d)),e=e.ownerDocument||e,d=e.createElement("script"),ht(d),At(d,"link",o),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Do(o,r.precedence,e));return n.instance}function Do(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,g=d,k=0;k<o.length;k++){var I=o[k];if(I.dataset.precedence===n)g=I;else if(g!==d)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Lo=null;function $p(e,n,r){if(Lo===null){var o=new Map,d=Lo=new Map;d.set(r,o)}else d=Lo,o=d.get(r),o||(o=new Map,d.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),d=0;d<r.length;d++){var g=r[d];if(!(g[xr]||g[wt]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var k=g.getAttribute(n)||"";k=e+k;var I=o.get(k);I?I.push(g):o.set(k,[g])}}return o}function Qp(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function Yv(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Fp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Xv(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=ji(o.href),g=n.querySelector(Us(d));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ho.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=g,ht(g);return}g=n.ownerDocument||n,o=Kp(o),(d=mn.get(d))&&ad(o,d),g=g.createElement("link"),ht(g);var k=g;k._p=new Promise(function(I,Z){k.onload=I,k.onerror=Z}),At(g,"link",o),r.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Ho.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var id=0;function Kv(e,n){return e.stylesheets&&e.count===0&&zo(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&zo(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+n);0<e.imgBytes&&id===0&&(id=62500*_v());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&zo(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>id?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function Ho(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oo=null;function zo(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oo=new Map,n.forEach(Zv,e),Oo=null,Ho.call(e))}function Zv(e,n){if(!(n.state.loading&4)){var r=Oo.get(e);if(r)var o=r.get(null);else{r=new Map,Oo.set(e,r);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var k=d[g];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(r.set(k.dataset.precedence,k),o=k)}o&&r.set(null,o)}d=n.instance,k=d.getAttribute("data-precedence"),g=r.get(k)||o,g===o&&r.set(null,d),r.set(k,d),this.count++,o=Ho.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),g?g.parentNode.insertBefore(d,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var Ps={$$typeof:N,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function $v(e,n,r,o,d,g,k,I,Z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.hiddenUpdates=Wi(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function Wp(e,n,r,o,d,g,k,I,Z,ae,oe,ue){return e=new $v(e,n,r,k,Z,ae,oe,ue,I),n=1,g===!0&&(n|=24),g=Wt(3,null,null,n),e.current=g,g.stateNode=e,n=zu(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:o,isDehydrated:r,cache:n},Pu(g),e}function Jp(e){return e?(e=ui,e):ui}function eg(e,n,r,o,d,g){d=Jp(d),o.context===null?o.context=d:o.pendingContext=d,o=za(n),o.payload={element:r},g=g===void 0?null:g,g!==null&&(o.callback=g),r=Ba(e,o,n),r!==null&&(Xt(r,e,n),ws(r,e,n))}function tg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function sd(e,n){tg(e,n),(e=e.alternate)&&tg(e,n)}function ng(e){if(e.tag===13||e.tag===31){var n=Cr(e,67108864);n!==null&&Xt(n,e,67108864),sd(e,67108864)}}function ag(e){if(e.tag===13||e.tag===31){var n=an();n=Ji(n);var r=Cr(e,n);r!==null&&Xt(r,e,n),sd(e,n)}}var Bo=!0;function Qv(e,n,r,o){var d=S.T;S.T=null;var g=T.p;try{T.p=2,ld(e,n,r,o)}finally{T.p=g,S.T=d}}function Fv(e,n,r,o){var d=S.T;S.T=null;var g=T.p;try{T.p=8,ld(e,n,r,o)}finally{T.p=g,S.T=d}}function ld(e,n,r,o){if(Bo){var d=od(o);if(d===null)Kf(e,n,o,Uo,r),ig(e,o);else if(Jv(d,e,n,r,o))o.stopPropagation();else if(ig(e,o),n&4&&-1<Wv.indexOf(e)){for(;d!==null;){var g=_a(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var k=Qn(g.pendingLanes);if(k!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;k;){var Z=1<<31-zt(k);I.entanglements[1]|=Z,k&=~Z}zn(g),(qe&6)===0&&(bo=Nt()+500,Hs(0))}}break;case 31:case 13:I=Cr(g,2),I!==null&&Xt(I,g,2),So(),sd(g,2)}if(g=od(o),g===null&&Kf(e,n,o,Uo,r),g===d)break;d=g}d!==null&&o.stopPropagation()}else Kf(e,n,o,null,r)}}function od(e){return e=cu(e),cd(e)}var Uo=null;function cd(e){if(Uo=null,e=Na(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=u(n),e!==null)return e;e=null}else if(r===31){if(e=m(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Uo=e,null}function rg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kr()){case $n:return 2;case Ea:return 8;case mr:case Zc:return 32;case Zr:return 268435456;default:return 32}default:return 32}}var ud=!1,$a=null,Qa=null,Fa=null,Is=new Map,Vs=new Map,Wa=[],Wv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ig(e,n){switch(e){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":Is.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(n.pointerId)}}function qs(e,n,r,o,d,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:g,targetContainers:[d]},n!==null&&(n=_a(n),n!==null&&ng(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function Jv(e,n,r,o,d){switch(n){case"focusin":return $a=qs($a,e,n,r,o,d),!0;case"dragenter":return Qa=qs(Qa,e,n,r,o,d),!0;case"mouseover":return Fa=qs(Fa,e,n,r,o,d),!0;case"pointerover":var g=d.pointerId;return Is.set(g,qs(Is.get(g)||null,e,n,r,o,d)),!0;case"gotpointercapture":return g=d.pointerId,Vs.set(g,qs(Vs.get(g)||null,e,n,r,o,d)),!0}return!1}function sg(e){var n=Na(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=u(r),n!==null){e.blockedOn=n,Nl(e.priority,function(){ag(r)});return}}else if(n===31){if(n=m(r),n!==null){e.blockedOn=n,Nl(e.priority,function(){ag(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Go(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=od(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);ou=o,r.target.dispatchEvent(o),ou=null}else return n=_a(r),n!==null&&ng(n),e.blockedOn=r,!1;n.shift()}return!0}function lg(e,n,r){Go(e)&&r.delete(n)}function eb(){ud=!1,$a!==null&&Go($a)&&($a=null),Qa!==null&&Go(Qa)&&(Qa=null),Fa!==null&&Go(Fa)&&(Fa=null),Is.forEach(lg),Vs.forEach(lg)}function Po(e,n){e.blockedOn===n&&(e.blockedOn=null,ud||(ud=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,eb)))}var Io=null;function og(e){Io!==e&&(Io=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Io===e&&(Io=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],d=e[n+2];if(typeof o!="function"){if(cd(o||r)===null)continue;break}var g=_a(r);g!==null&&(e.splice(n,3),n-=3,of(g,{pending:!0,data:d,method:r.method,action:o},o,d))}}))}function Li(e){function n(Z){return Po(Z,e)}$a!==null&&Po($a,e),Qa!==null&&Po(Qa,e),Fa!==null&&Po(Fa,e),Is.forEach(n),Vs.forEach(n);for(var r=0;r<Wa.length;r++){var o=Wa[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Wa.length&&(r=Wa[0],r.blockedOn===null);)sg(r),r.blockedOn===null&&Wa.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var d=r[o],g=r[o+1],k=d[Dt]||null;if(typeof g=="function")k||og(r);else if(k){var I=null;if(g&&g.hasAttribute("formAction")){if(d=g,k=g[Dt]||null)I=k.formAction;else if(cd(d)!==null)continue}else I=k.action;typeof I=="function"?r[o+1]=I:(r.splice(o,3),o-=3),og(r)}}}function cg(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(k){return d=k})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function fd(e){this._internalRoot=e}Vo.prototype.render=fd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=an();eg(r,o,e,n,null,null)},Vo.prototype.unmount=fd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;eg(e.current,2,null,e,null,null),So(),n[Fn]=null}};function Vo(e){this._internalRoot=e}Vo.prototype.unstable_scheduleHydration=function(e){if(e){var n=El();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Wa.length&&n!==0&&n<Wa[r].priority;r++);Wa.splice(r,0,e),r===0&&sg(e)}};var ug=a.version;if(ug!=="19.2.4")throw Error(s(527,ug,"19.2.4"));T.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(n),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var tb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qo.isDisabled&&qo.supportsFiber)try{pr=qo.inject(tb),Ot=qo}catch{}}return Xs.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",d=ym,g=xm,k=wm;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(k=n.onRecoverableError)),n=Wp(e,1,!1,null,null,r,o,null,d,g,k,cg),e[Fn]=n.current,Xf(e),new fd(n)},Xs.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,d="",g=ym,k=xm,I=wm,Z=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(k=r.onCaughtError),r.onRecoverableError!==void 0&&(I=r.onRecoverableError),r.formState!==void 0&&(Z=r.formState)),n=Wp(e,1,!0,n,r??null,o,d,Z,g,k,I,cg),n.context=Jp(null),r=n.current,o=an(),o=Ji(o),d=za(o),d.callback=null,Ba(r,d,o),r=o,n.current.lanes=r,yr(n,r),zn(n),e[Fn]=n.current,Xf(e),new Vo(n)},Xs.version="19.2.4",Xs}var vg;function ub(){if(vg)return hd.exports;vg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),hd.exports=cb(),hd.exports}var fb=ub(),ee=dl();const Oi=qy(ee),bg=t=>{let a;const i=new Set,s=(p,w)=>{const x=typeof p=="function"?p(a):p;if(!Object.is(x,a)){const v=a;a=w??(typeof x!="object"||x===null)?x:Object.assign({},a,x),i.forEach(b=>b(a,v))}},l=()=>a,m={setState:s,getState:l,getInitialState:()=>y,subscribe:p=>(i.add(p),()=>i.delete(p))},y=a=t(s,l,m);return m},db=(t=>t?bg(t):bg),hb=t=>t;function mb(t,a=hb){const i=Oi.useSyncExternalStore(t.subscribe,Oi.useCallback(()=>a(t.getState()),[t,a]),Oi.useCallback(()=>a(t.getInitialState()),[t,a]));return Oi.useDebugValue(i),i}const pb=t=>{const a=db(t),i=s=>mb(a,s);return Object.assign(i,a),i},gb=(t=>pb);function yb(t,a){let i;try{i=t()}catch{return}return{getItem:l=>{var c;const u=y=>y===null?null:JSON.parse(y,void 0),m=(c=i.getItem(l))!=null?c:null;return m instanceof Promise?m.then(u):u(m)},setItem:(l,c)=>i.setItem(l,JSON.stringify(c,void 0)),removeItem:l=>i.removeItem(l)}}const Od=t=>a=>{try{const i=t(a);return i instanceof Promise?i:{then(s){return Od(s)(i)},catch(s){return this}}}catch(i){return{then(s){return this},catch(s){return Od(s)(i)}}}},xb=(t,a)=>(i,s,l)=>{let c={storage:yb(()=>localStorage),partialize:j=>j,version:0,merge:(j,R)=>({...R,...j}),...a},u=!1,m=0;const y=new Set,p=new Set;let w=c.storage;if(!w)return t((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),i(...j)},s,l);const x=()=>{const j=c.partialize({...s()});return w.setItem(c.name,{state:j,version:c.version})},v=l.setState;l.setState=(j,R)=>(v(j,R),x());const b=t((...j)=>(i(...j),x()),s,l);l.getInitialState=()=>b;let E;const _=()=>{var j,R;if(!w)return;const B=++m;u=!1,y.forEach(G=>{var K;return G((K=s())!=null?K:b)});const N=((R=c.onRehydrateStorage)==null?void 0:R.call(c,(j=s())!=null?j:b))||void 0;return Od(w.getItem.bind(w))(c.name).then(G=>{if(G)if(typeof G.version=="number"&&G.version!==c.version){if(c.migrate){const K=c.migrate(G.state,G.version);return K instanceof Promise?K.then(V=>[!0,V]):[!0,K]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,G.state];return[!1,void 0]}).then(G=>{var K;if(B!==m)return;const[V,X]=G;if(E=c.merge(X,(K=s())!=null?K:b),i(E,!0),V)return x()}).then(()=>{B===m&&(N?.(E,void 0),E=s(),u=!0,p.forEach(G=>G(E)))}).catch(G=>{B===m&&N?.(void 0,G)})};return l.persist={setOptions:j=>{c={...c,...j},j.storage&&(w=j.storage)},clearStorage:()=>{w?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>_(),hasHydrated:()=>u,onHydrate:j=>(y.add(j),()=>{y.delete(j)}),onFinishHydration:j=>(p.add(j),()=>{p.delete(j)})},c.skipHydration||_(),E||b},wb=xb;var vb=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,xd=Math.ceil,gn=Math.floor,Kt="[BigNumber Error] ",kg=Kt+"Number primitive has more than 15 significant digits: ",Cn=1e14,je=14,wd=9007199254740991,vd=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],er=1e7,Ct=1e9;function Xy(t){var a,i,s,l=B.prototype={constructor:B,toString:null,valueOf:null},c=new B(1),u=20,m=4,y=-7,p=21,w=-1e7,x=1e7,v=!1,b=1,E=0,_={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},j="0123456789abcdefghijklmnopqrstuvwxyz",R=!0;function B(C,M){var U,D,O,Y,A,L,S,T,z=this;if(!(z instanceof B))return new B(C,M);if(M==null){if(C&&C._isBigNumber===!0){z.s=C.s,!C.c||C.e>x?z.c=z.e=null:C.e<w?z.c=[z.e=0]:(z.e=C.e,z.c=C.c.slice());return}if((L=typeof C=="number")&&C*0==0){if(z.s=1/C<0?(C=-C,-1):1,C===~~C){for(Y=0,A=C;A>=10;A/=10,Y++);Y>x?z.c=z.e=null:(z.e=Y,z.c=[C]);return}T=String(C)}else{if(!vb.test(T=String(C)))return s(z,T,L);z.s=T.charCodeAt(0)==45?(T=T.slice(1),-1):1}(Y=T.indexOf("."))>-1&&(T=T.replace(".","")),(A=T.search(/e/i))>0?(Y<0&&(Y=A),Y+=+T.slice(A+1),T=T.substring(0,A)):Y<0&&(Y=T.length)}else{if(ot(M,2,j.length,"Base"),M==10&&R)return z=new B(C),V(z,u+z.e+1,m);if(T=String(C),L=typeof C=="number"){if(C*0!=0)return s(z,T,L,M);if(z.s=1/C<0?(T=T.slice(1),-1):1,B.DEBUG&&T.replace(/^0\.0*|\./,"").length>15)throw Error(kg+C)}else z.s=T.charCodeAt(0)===45?(T=T.slice(1),-1):1;for(U=j.slice(0,M),Y=A=0,S=T.length;A<S;A++)if(U.indexOf(D=T.charAt(A))<0){if(D=="."){if(A>Y){Y=S;continue}}else if(!O&&(T==T.toUpperCase()&&(T=T.toLowerCase())||T==T.toLowerCase()&&(T=T.toUpperCase()))){O=!0,A=-1,Y=0;continue}return s(z,String(C),L,M)}L=!1,T=i(T,M,10,z.s),(Y=T.indexOf("."))>-1?T=T.replace(".",""):Y=T.length}for(A=0;T.charCodeAt(A)===48;A++);for(S=T.length;T.charCodeAt(--S)===48;);if(T=T.slice(A,++S)){if(S-=A,L&&B.DEBUG&&S>15&&(C>wd||C!==gn(C)))throw Error(kg+z.s*C);if((Y=Y-A-1)>x)z.c=z.e=null;else if(Y<w)z.c=[z.e=0];else{if(z.e=Y,z.c=[],A=(Y+1)%je,Y<0&&(A+=je),A<S){for(A&&z.c.push(+T.slice(0,A)),S-=je;A<S;)z.c.push(+T.slice(A,A+=je));A=je-(T=T.slice(A)).length}else A-=S;for(;A--;T+="0");z.c.push(+T)}}else z.c=[z.e=0]}B.clone=Xy,B.ROUND_UP=0,B.ROUND_DOWN=1,B.ROUND_CEIL=2,B.ROUND_FLOOR=3,B.ROUND_HALF_UP=4,B.ROUND_HALF_DOWN=5,B.ROUND_HALF_EVEN=6,B.ROUND_HALF_CEIL=7,B.ROUND_HALF_FLOOR=8,B.EUCLID=9,B.config=B.set=function(C){var M,U;if(C!=null)if(typeof C=="object"){if(C.hasOwnProperty(M="DECIMAL_PLACES")&&(U=C[M],ot(U,0,Ct,M),u=U),C.hasOwnProperty(M="ROUNDING_MODE")&&(U=C[M],ot(U,0,8,M),m=U),C.hasOwnProperty(M="EXPONENTIAL_AT")&&(U=C[M],U&&U.pop?(ot(U[0],-Ct,0,M),ot(U[1],0,Ct,M),y=U[0],p=U[1]):(ot(U,-Ct,Ct,M),y=-(p=U<0?-U:U))),C.hasOwnProperty(M="RANGE"))if(U=C[M],U&&U.pop)ot(U[0],-Ct,-1,M),ot(U[1],1,Ct,M),w=U[0],x=U[1];else if(ot(U,-Ct,Ct,M),U)w=-(x=U<0?-U:U);else throw Error(Kt+M+" cannot be zero: "+U);if(C.hasOwnProperty(M="CRYPTO"))if(U=C[M],U===!!U)if(U)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))v=U;else throw v=!U,Error(Kt+"crypto unavailable");else v=U;else throw Error(Kt+M+" not true or false: "+U);if(C.hasOwnProperty(M="MODULO_MODE")&&(U=C[M],ot(U,0,9,M),b=U),C.hasOwnProperty(M="POW_PRECISION")&&(U=C[M],ot(U,0,Ct,M),E=U),C.hasOwnProperty(M="FORMAT"))if(U=C[M],typeof U=="object")_=U;else throw Error(Kt+M+" not an object: "+U);if(C.hasOwnProperty(M="ALPHABET"))if(U=C[M],typeof U=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(U))R=U.slice(0,10)=="0123456789",j=U;else throw Error(Kt+M+" invalid: "+U)}else throw Error(Kt+"Object expected: "+C);return{DECIMAL_PLACES:u,ROUNDING_MODE:m,EXPONENTIAL_AT:[y,p],RANGE:[w,x],CRYPTO:v,MODULO_MODE:b,POW_PRECISION:E,FORMAT:_,ALPHABET:j}},B.isBigNumber=function(C){if(!C||C._isBigNumber!==!0)return!1;if(!B.DEBUG)return!0;var M,U,D=C.c,O=C.e,Y=C.s;e:if({}.toString.call(D)=="[object Array]"){if((Y===1||Y===-1)&&O>=-Ct&&O<=Ct&&O===gn(O)){if(D[0]===0){if(O===0&&D.length===1)return!0;break e}if(M=(O+1)%je,M<1&&(M+=je),String(D[0]).length==M){for(M=0;M<D.length;M++)if(U=D[M],U<0||U>=Cn||U!==gn(U))break e;if(U!==0)return!0}}}else if(D===null&&O===null&&(Y===null||Y===1||Y===-1))return!0;throw Error(Kt+"Invalid BigNumber: "+C)},B.maximum=B.max=function(){return G(arguments,-1)},B.minimum=B.min=function(){return G(arguments,1)},B.random=(function(){var C=9007199254740992,M=Math.random()*C&2097151?function(){return gn(Math.random()*C)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(U){var D,O,Y,A,L,S=0,T=[],z=new B(c);if(U==null?U=u:ot(U,0,Ct),A=xd(U/je),v)if(crypto.getRandomValues){for(D=crypto.getRandomValues(new Uint32Array(A*=2));S<A;)L=D[S]*131072+(D[S+1]>>>11),L>=9e15?(O=crypto.getRandomValues(new Uint32Array(2)),D[S]=O[0],D[S+1]=O[1]):(T.push(L%1e14),S+=2);S=A/2}else if(crypto.randomBytes){for(D=crypto.randomBytes(A*=7);S<A;)L=(D[S]&31)*281474976710656+D[S+1]*1099511627776+D[S+2]*4294967296+D[S+3]*16777216+(D[S+4]<<16)+(D[S+5]<<8)+D[S+6],L>=9e15?crypto.randomBytes(7).copy(D,S):(T.push(L%1e14),S+=7);S=A/7}else throw v=!1,Error(Kt+"crypto unavailable");if(!v)for(;S<A;)L=M(),L<9e15&&(T[S++]=L%1e14);for(A=T[--S],U%=je,A&&U&&(L=vd[je-U],T[S]=gn(A/L)*L);T[S]===0;T.pop(),S--);if(S<0)T=[Y=0];else{for(Y=-1;T[0]===0;T.splice(0,1),Y-=je);for(S=1,L=T[0];L>=10;L/=10,S++);S<je&&(Y-=je-S)}return z.e=Y,z.c=T,z}})(),B.sum=function(){for(var C=1,M=arguments,U=new B(M[0]);C<M.length;)U=U.plus(M[C++]);return U},i=(function(){var C="0123456789";function M(U,D,O,Y){for(var A,L=[0],S,T=0,z=U.length;T<z;){for(S=L.length;S--;L[S]*=D);for(L[0]+=Y.indexOf(U.charAt(T++)),A=0;A<L.length;A++)L[A]>O-1&&(L[A+1]==null&&(L[A+1]=0),L[A+1]+=L[A]/O|0,L[A]%=O)}return L.reverse()}return function(U,D,O,Y,A){var L,S,T,z,q,F,P,H,$=U.indexOf("."),Q=u,te=m;for($>=0&&(z=E,E=0,U=U.replace(".",""),H=new B(D),F=H.pow(U.length-$),E=z,H.c=M(ya(pn(F.c),F.e,"0"),10,O,C),H.e=H.c.length),P=M(U,D,O,A?(L=j,C):(L=C,j)),T=z=P.length;P[--z]==0;P.pop());if(!P[0])return L.charAt(0);if($<0?--T:(F.c=P,F.e=T,F.s=Y,F=a(F,H,Q,te,O),P=F.c,q=F.r,T=F.e),S=T+Q+1,$=P[S],z=O/2,q=q||S<0||P[S+1]!=null,q=te<4?($!=null||q)&&(te==0||te==(F.s<0?3:2)):$>z||$==z&&(te==4||q||te==6&&P[S-1]&1||te==(F.s<0?8:7)),S<1||!P[0])U=q?ya(L.charAt(1),-Q,L.charAt(0)):L.charAt(0);else{if(P.length=S,q)for(--O;++P[--S]>O;)P[S]=0,S||(++T,P=[1].concat(P));for(z=P.length;!P[--z];);for($=0,U="";$<=z;U+=L.charAt(P[$++]));U=ya(U,T,L.charAt(0))}return U}})(),a=(function(){function C(D,O,Y){var A,L,S,T,z=0,q=D.length,F=O%er,P=O/er|0;for(D=D.slice();q--;)S=D[q]%er,T=D[q]/er|0,A=P*S+T*F,L=F*S+A%er*er+z,z=(L/Y|0)+(A/er|0)+P*T,D[q]=L%Y;return z&&(D=[z].concat(D)),D}function M(D,O,Y,A){var L,S;if(Y!=A)S=Y>A?1:-1;else for(L=S=0;L<Y;L++)if(D[L]!=O[L]){S=D[L]>O[L]?1:-1;break}return S}function U(D,O,Y,A){for(var L=0;Y--;)D[Y]-=L,L=D[Y]<O[Y]?1:0,D[Y]=L*A+D[Y]-O[Y];for(;!D[0]&&D.length>1;D.splice(0,1));}return function(D,O,Y,A,L){var S,T,z,q,F,P,H,$,Q,te,ie,se,fe,me,Ne,be,xe,ve=D.s==O.s?1:-1,Ee=D.c,_e=O.c;if(!Ee||!Ee[0]||!_e||!_e[0])return new B(!D.s||!O.s||(Ee?_e&&Ee[0]==_e[0]:!_e)?NaN:Ee&&Ee[0]==0||!_e?ve*0:ve/0);for($=new B(ve),Q=$.c=[],T=D.e-O.e,ve=Y+T+1,L||(L=Cn,T=yn(D.e/je)-yn(O.e/je),ve=ve/je|0),z=0;_e[z]==(Ee[z]||0);z++);if(_e[z]>(Ee[z]||0)&&T--,ve<0)Q.push(1),q=!0;else{for(me=Ee.length,be=_e.length,z=0,ve+=2,F=gn(L/(_e[0]+1)),F>1&&(_e=C(_e,F,L),Ee=C(Ee,F,L),be=_e.length,me=Ee.length),fe=be,te=Ee.slice(0,be),ie=te.length;ie<be;te[ie++]=0);xe=_e.slice(),xe=[0].concat(xe),Ne=_e[0],_e[1]>=L/2&&Ne++;do{if(F=0,S=M(_e,te,be,ie),S<0){if(se=te[0],be!=ie&&(se=se*L+(te[1]||0)),F=gn(se/Ne),F>1)for(F>=L&&(F=L-1),P=C(_e,F,L),H=P.length,ie=te.length;M(P,te,H,ie)==1;)F--,U(P,be<H?xe:_e,H,L),H=P.length,S=1;else F==0&&(S=F=1),P=_e.slice(),H=P.length;if(H<ie&&(P=[0].concat(P)),U(te,P,ie,L),ie=te.length,S==-1)for(;M(_e,te,be,ie)<1;)F++,U(te,be<ie?xe:_e,ie,L),ie=te.length}else S===0&&(F++,te=[0]);Q[z++]=F,te[0]?te[ie++]=Ee[fe]||0:(te=[Ee[fe]],ie=1)}while((fe++<me||te[0]!=null)&&ve--);q=te[0]!=null,Q[0]||Q.splice(0,1)}if(L==Cn){for(z=1,ve=Q[0];ve>=10;ve/=10,z++);V($,Y+($.e=z+T*je-1)+1,A,q)}else $.e=T,$.r=+q;return $}})();function N(C,M,U,D){var O,Y,A,L,S;if(U==null?U=m:ot(U,0,8),!C.c)return C.toString();if(O=C.c[0],A=C.e,M==null)S=pn(C.c),S=D==1||D==2&&(A<=y||A>=p)?Xo(S,A):ya(S,A,"0");else if(C=V(new B(C),M,U),Y=C.e,S=pn(C.c),L=S.length,D==1||D==2&&(M<=Y||Y<=y)){for(;L<M;S+="0",L++);S=Xo(S,Y)}else if(M-=A+(D===2&&Y>A),S=ya(S,Y,"0"),Y+1>L){if(--M>0)for(S+=".";M--;S+="0");}else if(M+=Y-L,M>0)for(Y+1==L&&(S+=".");M--;S+="0");return C.s<0&&O?"-"+S:S}function G(C,M){for(var U,D,O=1,Y=new B(C[0]);O<C.length;O++)D=new B(C[O]),(!D.s||(U=zr(Y,D))===M||U===0&&Y.s===M)&&(Y=D);return Y}function K(C,M,U){for(var D=1,O=M.length;!M[--O];M.pop());for(O=M[0];O>=10;O/=10,D++);return(U=D+U*je-1)>x?C.c=C.e=null:U<w?C.c=[C.e=0]:(C.e=U,C.c=M),C}s=(function(){var C=/^(-?)0([xbo])(?=\w[\w.]*$)/i,M=/^([^.]+)\.$/,U=/^\.([^.]+)$/,D=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Y,A,L,S){var T,z=L?A:A.replace(O,"");if(D.test(z))Y.s=isNaN(z)?null:z<0?-1:1;else{if(!L&&(z=z.replace(C,function(q,F,P){return T=(P=P.toLowerCase())=="x"?16:P=="b"?2:8,!S||S==T?F:q}),S&&(T=S,z=z.replace(M,"$1").replace(U,"0.$1")),A!=z))return new B(z,T);if(B.DEBUG)throw Error(Kt+"Not a"+(S?" base "+S:"")+" number: "+A);Y.s=null}Y.c=Y.e=null}})();function V(C,M,U,D){var O,Y,A,L,S,T,z,q=C.c,F=vd;if(q){e:{for(O=1,L=q[0];L>=10;L/=10,O++);if(Y=M-O,Y<0)Y+=je,A=M,S=q[T=0],z=gn(S/F[O-A-1]%10);else if(T=xd((Y+1)/je),T>=q.length)if(D){for(;q.length<=T;q.push(0));S=z=0,O=1,Y%=je,A=Y-je+1}else break e;else{for(S=L=q[T],O=1;L>=10;L/=10,O++);Y%=je,A=Y-je+O,z=A<0?0:gn(S/F[O-A-1]%10)}if(D=D||M<0||q[T+1]!=null||(A<0?S:S%F[O-A-1]),D=U<4?(z||D)&&(U==0||U==(C.s<0?3:2)):z>5||z==5&&(U==4||D||U==6&&(Y>0?A>0?S/F[O-A]:0:q[T-1])%10&1||U==(C.s<0?8:7)),M<1||!q[0])return q.length=0,D?(M-=C.e+1,q[0]=F[(je-M%je)%je],C.e=-M||0):q[0]=C.e=0,C;if(Y==0?(q.length=T,L=1,T--):(q.length=T+1,L=F[je-Y],q[T]=A>0?gn(S/F[O-A]%F[A])*L:0),D)for(;;)if(T==0){for(Y=1,A=q[0];A>=10;A/=10,Y++);for(A=q[0]+=L,L=1;A>=10;A/=10,L++);Y!=L&&(C.e++,q[0]==Cn&&(q[0]=1));break}else{if(q[T]+=L,q[T]!=Cn)break;q[T--]=0,L=1}for(Y=q.length;q[--Y]===0;q.pop());}C.e>x?C.c=C.e=null:C.e<w&&(C.c=[C.e=0])}return C}function X(C){var M,U=C.e;return U===null?C.toString():(M=pn(C.c),M=U<=y||U>=p?Xo(M,U):ya(M,U,"0"),C.s<0?"-"+M:M)}return l.absoluteValue=l.abs=function(){var C=new B(this);return C.s<0&&(C.s=1),C},l.comparedTo=function(C,M){return zr(this,new B(C,M))},l.decimalPlaces=l.dp=function(C,M){var U,D,O,Y=this;if(C!=null)return ot(C,0,Ct),M==null?M=m:ot(M,0,8),V(new B(Y),C+Y.e+1,M);if(!(U=Y.c))return null;if(D=((O=U.length-1)-yn(this.e/je))*je,O=U[O])for(;O%10==0;O/=10,D--);return D<0&&(D=0),D},l.dividedBy=l.div=function(C,M){return a(this,new B(C,M),u,m)},l.dividedToIntegerBy=l.idiv=function(C,M){return a(this,new B(C,M),0,1)},l.exponentiatedBy=l.pow=function(C,M){var U,D,O,Y,A,L,S,T,z,q=this;if(C=new B(C),C.c&&!C.isInteger())throw Error(Kt+"Exponent not an integer: "+X(C));if(M!=null&&(M=new B(M)),L=C.e>14,!q.c||!q.c[0]||q.c[0]==1&&!q.e&&q.c.length==1||!C.c||!C.c[0])return z=new B(Math.pow(+X(q),L?C.s*(2-Yo(C)):+X(C))),M?z.mod(M):z;if(S=C.s<0,M){if(M.c?!M.c[0]:!M.s)return new B(NaN);D=!S&&q.isInteger()&&M.isInteger(),D&&(q=q.mod(M))}else{if(C.e>9&&(q.e>0||q.e<-1||(q.e==0?q.c[0]>1||L&&q.c[1]>=24e7:q.c[0]<8e13||L&&q.c[0]<=9999975e7)))return Y=q.s<0&&Yo(C)?-0:0,q.e>-1&&(Y=1/Y),new B(S?1/Y:Y);E&&(Y=xd(E/je+2))}for(L?(U=new B(.5),S&&(C.s=1),T=Yo(C)):(O=Math.abs(+X(C)),T=O%2),z=new B(c);;){if(T){if(z=z.times(q),!z.c)break;Y?z.c.length>Y&&(z.c.length=Y):D&&(z=z.mod(M))}if(O){if(O=gn(O/2),O===0)break;T=O%2}else if(C=C.times(U),V(C,C.e+1,1),C.e>14)T=Yo(C);else{if(O=+X(C),O===0)break;T=O%2}q=q.times(q),Y?q.c&&q.c.length>Y&&(q.c.length=Y):D&&(q=q.mod(M))}return D?z:(S&&(z=c.div(z)),M?z.mod(M):Y?V(z,E,m,A):z)},l.integerValue=function(C){var M=new B(this);return C==null?C=m:ot(C,0,8),V(M,M.e+1,C)},l.isEqualTo=l.eq=function(C,M){return zr(this,new B(C,M))===0},l.isFinite=function(){return!!this.c},l.isGreaterThan=l.gt=function(C,M){return zr(this,new B(C,M))>0},l.isGreaterThanOrEqualTo=l.gte=function(C,M){return(M=zr(this,new B(C,M)))===1||M===0},l.isInteger=function(){return!!this.c&&yn(this.e/je)>this.c.length-2},l.isLessThan=l.lt=function(C,M){return zr(this,new B(C,M))<0},l.isLessThanOrEqualTo=l.lte=function(C,M){return(M=zr(this,new B(C,M)))===-1||M===0},l.isNaN=function(){return!this.s},l.isNegative=function(){return this.s<0},l.isPositive=function(){return this.s>0},l.isZero=function(){return!!this.c&&this.c[0]==0},l.minus=function(C,M){var U,D,O,Y,A=this,L=A.s;if(C=new B(C,M),M=C.s,!L||!M)return new B(NaN);if(L!=M)return C.s=-M,A.plus(C);var S=A.e/je,T=C.e/je,z=A.c,q=C.c;if(!S||!T){if(!z||!q)return z?(C.s=-M,C):new B(q?A:NaN);if(!z[0]||!q[0])return q[0]?(C.s=-M,C):new B(z[0]?A:m==3?-0:0)}if(S=yn(S),T=yn(T),z=z.slice(),L=S-T){for((Y=L<0)?(L=-L,O=z):(T=S,O=q),O.reverse(),M=L;M--;O.push(0));O.reverse()}else for(D=(Y=(L=z.length)<(M=q.length))?L:M,L=M=0;M<D;M++)if(z[M]!=q[M]){Y=z[M]<q[M];break}if(Y&&(O=z,z=q,q=O,C.s=-C.s),M=(D=q.length)-(U=z.length),M>0)for(;M--;z[U++]=0);for(M=Cn-1;D>L;){if(z[--D]<q[D]){for(U=D;U&&!z[--U];z[U]=M);--z[U],z[D]+=Cn}z[D]-=q[D]}for(;z[0]==0;z.splice(0,1),--T);return z[0]?K(C,z,T):(C.s=m==3?-1:1,C.c=[C.e=0],C)},l.modulo=l.mod=function(C,M){var U,D,O=this;return C=new B(C,M),!O.c||!C.s||C.c&&!C.c[0]?new B(NaN):!C.c||O.c&&!O.c[0]?new B(O):(b==9?(D=C.s,C.s=1,U=a(O,C,0,3),C.s=D,U.s*=D):U=a(O,C,0,b),C=O.minus(U.times(C)),!C.c[0]&&b==1&&(C.s=O.s),C)},l.multipliedBy=l.times=function(C,M){var U,D,O,Y,A,L,S,T,z,q,F,P,H,$,Q,te=this,ie=te.c,se=(C=new B(C,M)).c;if(!ie||!se||!ie[0]||!se[0])return!te.s||!C.s||ie&&!ie[0]&&!se||se&&!se[0]&&!ie?C.c=C.e=C.s=null:(C.s*=te.s,!ie||!se?C.c=C.e=null:(C.c=[0],C.e=0)),C;for(D=yn(te.e/je)+yn(C.e/je),C.s*=te.s,S=ie.length,q=se.length,S<q&&(H=ie,ie=se,se=H,O=S,S=q,q=O),O=S+q,H=[];O--;H.push(0));for($=Cn,Q=er,O=q;--O>=0;){for(U=0,F=se[O]%Q,P=se[O]/Q|0,A=S,Y=O+A;Y>O;)T=ie[--A]%Q,z=ie[A]/Q|0,L=P*T+z*F,T=F*T+L%Q*Q+H[Y]+U,U=(T/$|0)+(L/Q|0)+P*z,H[Y--]=T%$;H[Y]=U}return U?++D:H.splice(0,1),K(C,H,D)},l.negated=function(){var C=new B(this);return C.s=-C.s||null,C},l.plus=function(C,M){var U,D=this,O=D.s;if(C=new B(C,M),M=C.s,!O||!M)return new B(NaN);if(O!=M)return C.s=-M,D.minus(C);var Y=D.e/je,A=C.e/je,L=D.c,S=C.c;if(!Y||!A){if(!L||!S)return new B(O/0);if(!L[0]||!S[0])return S[0]?C:new B(L[0]?D:O*0)}if(Y=yn(Y),A=yn(A),L=L.slice(),O=Y-A){for(O>0?(A=Y,U=S):(O=-O,U=L),U.reverse();O--;U.push(0));U.reverse()}for(O=L.length,M=S.length,O-M<0&&(U=S,S=L,L=U,M=O),O=0;M;)O=(L[--M]=L[M]+S[M]+O)/Cn|0,L[M]=Cn===L[M]?0:L[M]%Cn;return O&&(L=[O].concat(L),++A),K(C,L,A)},l.precision=l.sd=function(C,M){var U,D,O,Y=this;if(C!=null&&C!==!!C)return ot(C,1,Ct),M==null?M=m:ot(M,0,8),V(new B(Y),C,M);if(!(U=Y.c))return null;if(O=U.length-1,D=O*je+1,O=U[O]){for(;O%10==0;O/=10,D--);for(O=U[0];O>=10;O/=10,D++);}return C&&Y.e+1>D&&(D=Y.e+1),D},l.shiftedBy=function(C){return ot(C,-wd,wd),this.times("1e"+C)},l.squareRoot=l.sqrt=function(){var C,M,U,D,O,Y=this,A=Y.c,L=Y.s,S=Y.e,T=u+4,z=new B("0.5");if(L!==1||!A||!A[0])return new B(!L||L<0&&(!A||A[0])?NaN:A?Y:1/0);if(L=Math.sqrt(+X(Y)),L==0||L==1/0?(M=pn(A),(M.length+S)%2==0&&(M+="0"),L=Math.sqrt(+M),S=yn((S+1)/2)-(S<0||S%2),L==1/0?M="5e"+S:(M=L.toExponential(),M=M.slice(0,M.indexOf("e")+1)+S),U=new B(M)):U=new B(L+""),U.c[0]){for(S=U.e,L=S+T,L<3&&(L=0);;)if(O=U,U=z.times(O.plus(a(Y,O,T,1))),pn(O.c).slice(0,L)===(M=pn(U.c)).slice(0,L))if(U.e<S&&--L,M=M.slice(L-3,L+1),M=="9999"||!D&&M=="4999"){if(!D&&(V(O,O.e+u+2,0),O.times(O).eq(Y))){U=O;break}T+=4,L+=4,D=1}else{(!+M||!+M.slice(1)&&M.charAt(0)=="5")&&(V(U,U.e+u+2,1),C=!U.times(U).eq(Y));break}}return V(U,U.e+u+1,m,C)},l.toExponential=function(C,M){return C!=null&&(ot(C,0,Ct),C++),N(this,C,M,1)},l.toFixed=function(C,M){return C!=null&&(ot(C,0,Ct),C=C+this.e+1),N(this,C,M)},l.toFormat=function(C,M,U){var D,O=this;if(U==null)C!=null&&M&&typeof M=="object"?(U=M,M=null):C&&typeof C=="object"?(U=C,C=M=null):U=_;else if(typeof U!="object")throw Error(Kt+"Argument not an object: "+U);if(D=O.toFixed(C,M),O.c){var Y,A=D.split("."),L=+U.groupSize,S=+U.secondaryGroupSize,T=U.groupSeparator||"",z=A[0],q=A[1],F=O.s<0,P=F?z.slice(1):z,H=P.length;if(S&&(Y=L,L=S,S=Y,H-=Y),L>0&&H>0){for(Y=H%L||L,z=P.substr(0,Y);Y<H;Y+=L)z+=T+P.substr(Y,L);S>0&&(z+=T+P.slice(Y)),F&&(z="-"+z)}D=q?z+(U.decimalSeparator||"")+((S=+U.fractionGroupSize)?q.replace(new RegExp("\\d{"+S+"}\\B","g"),"$&"+(U.fractionGroupSeparator||"")):q):z}return(U.prefix||"")+D+(U.suffix||"")},l.toFraction=function(C){var M,U,D,O,Y,A,L,S,T,z,q,F,P=this,H=P.c;if(C!=null&&(L=new B(C),!L.isInteger()&&(L.c||L.s!==1)||L.lt(c)))throw Error(Kt+"Argument "+(L.isInteger()?"out of range: ":"not an integer: ")+X(L));if(!H)return new B(P);for(M=new B(c),T=U=new B(c),D=S=new B(c),F=pn(H),Y=M.e=F.length-P.e-1,M.c[0]=vd[(A=Y%je)<0?je+A:A],C=!C||L.comparedTo(M)>0?Y>0?M:T:L,A=x,x=1/0,L=new B(F),S.c[0]=0;z=a(L,M,0,1),O=U.plus(z.times(D)),O.comparedTo(C)!=1;)U=D,D=O,T=S.plus(z.times(O=T)),S=O,M=L.minus(z.times(O=M)),L=O;return O=a(C.minus(U),D,0,1),S=S.plus(O.times(T)),U=U.plus(O.times(D)),S.s=T.s=P.s,Y=Y*2,q=a(T,D,Y,m).minus(P).abs().comparedTo(a(S,U,Y,m).minus(P).abs())<1?[T,D]:[S,U],x=A,q},l.toNumber=function(){return+X(this)},l.toPrecision=function(C,M){return C!=null&&ot(C,1,Ct),N(this,C,M,2)},l.toString=function(C){var M,U=this,D=U.s,O=U.e;return O===null?D?(M="Infinity",D<0&&(M="-"+M)):M="NaN":(C==null?M=O<=y||O>=p?Xo(pn(U.c),O):ya(pn(U.c),O,"0"):C===10&&R?(U=V(new B(U),u+O+1,m),M=ya(pn(U.c),U.e,"0")):(ot(C,2,j.length,"Base"),M=i(ya(pn(U.c),O,"0"),10,C,D,!0)),D<0&&U.c[0]&&(M="-"+M)),M},l.valueOf=l.toJSON=function(){return X(this)},l._isBigNumber=!0,l[Symbol.toStringTag]="BigNumber",l[Symbol.for("nodejs.util.inspect.custom")]=l.valueOf,t!=null&&B.set(t),B}function yn(t){var a=t|0;return t>0||t===a?a:a-1}function pn(t){for(var a,i,s=1,l=t.length,c=t[0]+"";s<l;){for(a=t[s++]+"",i=je-a.length;i--;a="0"+a);c+=a}for(l=c.length;c.charCodeAt(--l)===48;);return c.slice(0,l+1||1)}function zr(t,a){var i,s,l=t.c,c=a.c,u=t.s,m=a.s,y=t.e,p=a.e;if(!u||!m)return null;if(i=l&&!l[0],s=c&&!c[0],i||s)return i?s?0:-m:u;if(u!=m)return u;if(i=u<0,s=y==p,!l||!c)return s?0:!l^i?1:-1;if(!s)return y>p^i?1:-1;for(m=(y=l.length)<(p=c.length)?y:p,u=0;u<m;u++)if(l[u]!=c[u])return l[u]>c[u]^i?1:-1;return y==p?0:y>p^i?1:-1}function ot(t,a,i,s){if(t<a||t>i||t!==gn(t))throw Error(Kt+(s||"Argument")+(typeof t=="number"?t<a||t>i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function Yo(t){var a=t.c.length-1;return yn(t.e/je)==a&&t.c[a]%2!=0}function Xo(t,a){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(a<0?"e":"e+")+a}function ya(t,a,i){var s,l;if(a<0){for(l=i+".";++a;l+=i);t=l+t}else if(s=t.length,++a>s){for(l=i,a-=s;--a;l+=i);t+=l}else a<s&&(t=t.slice(0,a)+"."+t.slice(a));return t}var f=Xy();const et=[{id:"stick man",name:"Stick Man",flavorText:"Anxiety with legs.",rarity:"scrap",imagePath:"/assets/sketches/stickman.jpg",stats:{maxHp:new f(5),attack:new f(1),attackSpeed:2e3},rewards:[{statName:"ATK",amount:new f(.5)}],currencyRewards:[{name:"Graphite",amount:new f(1)}]},{id:"smudge",name:"Smudge",flavorText:"You missed a spot.",rarity:"scrap",imagePath:"/assets/sketches/smudge.jpg",stats:{maxHp:new f(12),attack:new f(1.5),attackSpeed:2800},rewards:[{statName:"HP",amount:new f(2)}],currencyRewards:[{name:"Graphite",amount:new f(3)}]},{id:"clockwork_heart",name:"Clockwork Heart",flavorText:"Ticking in 2B pencil.",rarity:"rough",imagePath:"/assets/sketches/clockwork_heart.jpg",stats:{maxHp:new f(25),attack:new f(5),attackSpeed:1750,regen:new f(1)},rewards:[{statName:"HP",amount:new f(5)},{statName:"Regen",amount:new f(.01)}],currencyRewards:[{name:"Graphite",amount:new f(77)}]},{id:"perspective_block",name:"Perspective Block",flavorText:"Euclid is crying.",rarity:"scrap",imagePath:"/assets/sketches/perspective_block.jpg",stats:{maxHp:new f(18),attack:new f(4),attackSpeed:1800},rewards:[{statName:"HP",amount:new f(5)}],currencyRewards:[{name:"Graphite",amount:new f(2)}]},{id:"narudo",name:"Narudo (*)",flavorText:"Believe in the brushwork!",rarity:"framed",imagePath:"/assets/sketches/narudo.jpg",stats:{maxHp:new f(80),attack:new f(.8),attackSpeed:800},rewards:[{statName:"ATK",amount:new f(8)}],currencyRewards:[{name:"Coffee",amount:new f(8)}]},{id:"v-wing_bat",name:"V-Wing Bat",flavorText:'A lazy "M" shape.',rarity:"scrap",imagePath:"/assets/sketches/v-wing_bat.jpg",stats:{maxHp:new f(22),attack:new f(.3),attackSpeed:400},rewards:[{statName:"SPD",amount:new f(-2)}],currencyRewards:[{name:"Graphite",amount:new f(10)}]},{id:"stick_knight",name:"Stick Knight",flavorText:"He found a triangle.",rarity:"scrap",imagePath:"/assets/sketches/stick_knight.jpg",stats:{maxHp:new f(25),attack:new f(2.5),attackSpeed:2e3,armor:new f(5)},rewards:[{statName:"Armor",amount:new f(.2)}],currencyRewards:[{name:"Graphite",amount:new f(3)}]},{id:"miramba",name:"Miramba (*)",flavorText:"Shoot arrow, hit canvas.",rarity:"framed",imagePath:"/assets/sketches/miramba.jpg",stats:{maxHp:new f(65e8),attack:new f(19e5),attackSpeed:700},rewards:[]},{id:"deep_diver",name:"Deep Diver",flavorText:"Pressure crushing the graphite.",rarity:"rough",imagePath:"/assets/sketches/deep_diver.jpg",stats:{maxHp:new f(500),attack:new f(10),attackSpeed:2500,armor:new f(10),execute:new f(1e3)},rewards:[{statName:"Armor",amount:new f(.1)}],currencyRewards:[{name:"Coffee",amount:new f(10)},{name:"Ink",amount:new f(10)}]},{id:"guide-line_snake",name:"Guide-Line Snake",flavorText:"Smooth, deadly curves.",rarity:"scrap",imagePath:"/assets/sketches/guide-line_snake.jpg",stats:{maxHp:new f(40),attack:new f(2.5),attackSpeed:1200,critChance:new f(20),critDmg:new f(250)},rewards:[{statName:"CritChance",amount:new f(.01)},{statName:"CritDmg",amount:new f(.5)}],currencyRewards:[{name:"Wax",amount:new f(1.2)}]},{id:"ishinn",name:"Ishinn (*)",flavorText:"Hesitation is defeat.",rarity:"framed",imagePath:"/assets/sketches/ishinn.jpg",stats:{maxHp:new f(8e9),attack:new f(25e5),attackSpeed:400},rewards:[]},{id:"scribble",name:"Scribble",flavorText:"Manic energy.",rarity:"scrap",imagePath:"/assets/sketches/scribble.jpg",stats:{maxHp:new f(50),attack:new f(2.25),attackSpeed:1e3,regen:new f(1.5)},rewards:[{statName:"Regen",amount:new f(.1)}],currencyRewards:[{name:"Graphite",amount:new f(15)}]},{id:"scorpion_mech",name:"Scorpion Mech",flavorText:"Sting is spring-loaded.",rarity:"rough",imagePath:"/assets/sketches/scorpion_mech.jpg",stats:{maxHp:new f(1e3),attack:new f(25),attackSpeed:900,armor:new f(50),poisonChance:new f(500)},rewards:[{statName:"Armor",amount:new f(.5)},{statName:"ATK",amount:new f(.5)}],currencyRewards:[{name:"Wax",amount:new f(50)},{name:"Charcoal",amount:new f(10)}]},{id:"magnum_opus",name:"Magnum opus (*)",flavorText:"Too ambitious to finish.",rarity:"opus",imagePath:"/assets/sketches/magnum_opus.jpg",stats:{maxHp:new f(2e9),attack:new f(1e6),attackSpeed:1500},rewards:[]},{id:"magnum_opus_2",name:"Magnum opus 2 (*)",flavorText:"Still ambitious.",rarity:"opus",imagePath:"/assets/sketches/magnum_opus_2.jpg",stats:{maxHp:new f(2e9),attack:new f(1e6),attackSpeed:1500},rewards:[]},{id:"broccoli_grove",name:"Broccoli Grove",flavorText:"Vegetables posing as trees.",rarity:"scrap",imagePath:"/assets/sketches/broccoli_grove.jpg",stats:{maxHp:new f(50),attack:new f(5),attackSpeed:1500},rewards:[{statName:"ATK",amount:new f(.2)},{statName:"HP",amount:new f(.2)}],currencyRewards:[{name:"Graphite",amount:new f(10)}]},{id:"plague_doctor",name:"Plague Doctor",flavorText:"Cures nothing, looks cool.",rarity:"rough",imagePath:"/assets/sketches/plague_doctor.jpg",stats:{maxHp:new f(1500),attack:new f(5),attackSpeed:1e3,plagueChance:new f(100),regen:new f(10)},rewards:[{statName:"PlagueChance",amount:new f(.01)}],currencyRewards:[{name:"Wax",amount:new f(10)}]},{id:"girl_with_balloon",name:"Girl with Balloon (*)",flavorText:"Going, going, gone.",rarity:"masterpiece",imagePath:"/assets/sketches/girl_with_balloon.jpg",stats:{maxHp:new f(12e9),attack:new f(4e6),attackSpeed:1e3,dodge:new f(50)},rewards:[],currencyRewards:[]},{id:"agent_smiff",name:"Agent Smiff",flavorText:"Mr. Anderson... welcome to the gallery.",rarity:"framed",imagePath:"/assets/sketches/agent_smiff.jpg",stats:{maxHp:new f(300),attack:new f(30),attackSpeed:300,dodge:new f(90),critChance:new f(90),critDmg:new f(900)},rewards:[{statName:"GlancingBlow",amount:new f(.01)},{statName:"Accuracy",amount:new f(.01)}],currencyRewards:[{name:"Coffee",amount:new f(100)}]},{id:"ghost_line",name:"Ghost Line",flavorText:"Hard to pin down.",rarity:"scrap",imagePath:"/assets/sketches/ghost_line.jpg",stats:{maxHp:new f(55),attack:new f(3.3),attackSpeed:1600,dodge:new f(40)},rewards:[{statName:"Dodge",amount:new f(.003)},{statName:"ATK",amount:new f(.15)}],currencyRewards:[{name:"Wax",amount:new f(1)}]},{id:"cyber_skull",name:"Cyber Skull",flavorText:"Bone meets chrome.",rarity:"rough",imagePath:"/assets/sketches/cyber_skull.jpg",stats:{maxHp:new f(1e4),attack:new f(100),attackSpeed:1e3,hasteChance:new f(400)},rewards:[{statName:"HasteChance",amount:new f(.01)},{statName:"ATK",amount:new f(.5)}],currencyRewards:[{name:"Graphite",amount:new f(200)},{name:"Coffee",amount:new f(15)}]},{id:"campbells_soup",name:"Campbell's Soup (*)",flavorText:"Mass-produced perfection.",rarity:"masterpiece",imagePath:"/assets/sketches/campbells_soup.jpg",stats:{maxHp:new f(15e9),attack:new f(35e5),attackSpeed:2e3,regen:new f(1e5)},rewards:[],currencyRewards:[]},{id:"bikachu",name:"Bikachu",flavorText:"Electric mouse of some sort.",rarity:"framed",imagePath:"/assets/sketches/bikachu.jpg",stats:{maxHp:new f(3e4),attack:new f(300),attackSpeed:300,critChance:new f(30),critDmg:new f(300),electrocuteChance:new f(3e3)},rewards:[{statName:"ElectrocuteChance",amount:new f(.01)},{statName:"SPD",amount:new f(-1)}],currencyRewards:[{name:"Coffee",amount:new f(300)},{name:"Ink",amount:new f(30)}]},{id:"tangled_spider",name:"Tangled Spider",flavorText:"A knot with legs.",rarity:"scrap",imagePath:"/assets/sketches/tangled_spider.jpg",stats:{maxHp:new f(150),attack:new f(5),attackSpeed:2300,regen:new f(1)},rewards:[{statName:"Regen",amount:new f(.05)},{statName:"ATK",amount:new f(1)}],currencyRewards:[{name:"Wax",amount:new f(3)}]},{id:"storm_lantern",name:"Storm Lantern",flavorText:"Captured thunder.",rarity:"rough",imagePath:"/assets/sketches/storm_lantern.jpg",stats:{maxHp:new f(444),attack:new f(44),attackSpeed:444,critChance:new f(44),critDmg:new f(444)},rewards:[{statName:"ATK",amount:new f(.44)},{statName:"CritDmg",amount:new f(.44)}],currencyRewards:[{name:"Graphite",amount:new f(444)},{name:"Charcoal",amount:new f(4.4)}]},{id:"froyd",name:"Froyd (*)",flavorText:"Analyzing my brushstrokes.",rarity:"opus",imagePath:"/assets/sketches/froyd.jpg",stats:{maxHp:new f(15e9),attack:new f(4e6),attackSpeed:2e3},rewards:[]},{id:"wandering_ronin",name:"Wandering Ronin",flavorText:"A blade drawn in silence.",rarity:"rough",imagePath:"/assets/sketches/wandering_ronin.jpg",stats:{maxHp:new f(1e3),attack:new f(75),attackSpeed:600,parry:new f(75),parryDmg:new f(100),dodge:new f(50)},rewards:[{statName:"ParryDmg",amount:new f(.1)},{statName:"ATK",amount:new f(.75)}],currencyRewards:[{name:"Ink",amount:new f(10)}]},{id:"contrast_crusher",name:"Contrast Crusher",flavorText:"Only black and white exist.",rarity:"scrap",imagePath:"/assets/sketches/contrast_crusher.jpg",stats:{maxHp:new f(250),attack:new f(10),attackSpeed:4e3},rewards:[{statName:"ATK",amount:new f(.5)}],currencyRewards:[{name:"Charcoal",amount:new f(2.5)}]},{id:"eyezen",name:"Eyezen",flavorText:"Implying this is just a drawing?",rarity:"framed",imagePath:"/assets/sketches/eyezen.jpg",stats:{maxHp:new f(5e4),attack:new f(3500),attackSpeed:1300,hypnotizeChance:new f(13),multiStrikeChance:new f(130)},rewards:[{statName:"ATK",amount:new f(5)}],currencyRewards:[{name:"Ink",amount:new f(50)},{name:"Marker",amount:new f(1.5)}]},{id:"the_son_of_man",name:"The Son of Man (*)",flavorText:"An apple a day hides the face.",rarity:"masterpiece",imagePath:"/assets/sketches/the_son_of_man.jpg",stats:{maxHp:new f(18e9),attack:new f(5e6),attackSpeed:1500,accuracy:new f(-50),dodge:new f(50)},rewards:[],currencyRewards:[]},{id:"stick_ribs",name:"Stick Ribs",flavorText:"Bare bones.",rarity:"scrap",imagePath:"/assets/sketches/stick_ribs.jpg",stats:{maxHp:new f(350),attack:new f(12),attackSpeed:3500},rewards:[{statName:"HP",amount:new f(25)}],currencyRewards:[{name:"Wax",amount:new f(10)}]},{id:"rusty_mech",name:"Rusty Mech",flavorText:"Heavy metal shading practice.",rarity:"rough",imagePath:"/assets/sketches/rusty_mech.jpg",stats:{maxHp:new f(1500),attack:new f(80),attackSpeed:800,armor:new f(100),armorPen:new f(50)},rewards:[{statName:"ATK",amount:new f(2)},{statName:"ArmorPen",amount:new f(1)}],currencyRewards:[{name:"Wax",amount:new f(10)}]},{id:"kenpatchy",name:"Kenpatchy",flavorText:"Spiritual pressure broke the pencil.",rarity:"framed",imagePath:"/assets/sketches/kenpatchy.jpg",stats:{maxHp:new f(2e6),attack:new f(25e3),attackSpeed:2e3,blockChance:new f(25),blockAmount:new f(25e4)},rewards:[{statName:"ATK",amount:new f(10)},{statName:"BlockAmount",amount:new f(25)}],currencyRewards:[{name:"Wax",amount:new f(50)},{name:"Coffee",amount:new f(50)}]},{id:"ink_blot",name:"Ink Blot",flavorText:"An accident that stained.",rarity:"scrap",imagePath:"/assets/sketches/ink_blot.jpg",stats:{maxHp:new f(330),attack:new f(10),attackSpeed:2525},rewards:[{statName:"ATK",amount:new f(.3)}],currencyRewards:[{name:"Graphite",amount:new f(50)}]},{id:"bludseeker",name:"Bludseeker (*)",flavorText:"I sense low ink.",rarity:"framed",imagePath:"/assets/sketches/bludseeker.jpg",stats:{maxHp:new f(7e9),attack:new f(28e5),attackSpeed:300},rewards:[]},{id:"gargoyle_sentinel",name:"Gargoyle Sentinel",flavorText:"Watcher in the rain.",rarity:"rough",imagePath:"/assets/sketches/gargoyle_sentinel.jpg",stats:{maxHp:new f(2e3),attack:new f(350),attackSpeed:2e3,armor:new f(200),remedy:new f(120),regen:new f(25)},rewards:[{statName:"Regen",amount:new f(3.5)},{statName:"Remedy",amount:new f(.01)}],currencyRewards:[{name:"Ink",amount:new f(12)},{name:"Marker",amount:new f(1.2)}]},{id:"top_heavy_brute",name:"Top-Heavy Brute",flavorText:"Soft, puffy, and structureless.",rarity:"scrap",imagePath:"/assets/sketches/top-heavy_brute.jpg",stats:{maxHp:new f(600),attack:new f(10),attackSpeed:2625,regen:new f(1),armor:new f(2),maxDamage:new f(175)},rewards:[{statName:"Armor",amount:new f(.25)},{statName:"MaxDamage",amount:new f(.25)}],currencyRewards:[{name:"Graphite",amount:new f(25)}]},{id:"franklyn",name:"Franklyn (*)",flavorText:"Waiting for lightning to strike.",rarity:"opus",imagePath:"/assets/sketches/franklyn.jpg",stats:{maxHp:new f(16e9),attack:new f(42e5),attackSpeed:1500},rewards:[]},{id:"rotten_fruit",name:"Rotten Fruit",flavorText:"Shaded until it spoiled.",rarity:"scrap",imagePath:"/assets/sketches/rotten_fruit.jpg",stats:{maxHp:new f(350),attack:new f(7.5),attackSpeed:2250,regen:new f(7.5)},rewards:[{statName:"Regen",amount:new f(.05)}],currencyRewards:[{name:"Graphite",amount:new f(25)},{name:"Wax",amount:new f(25)}]},{id:"aztiri",name:"Aztiri (*)",flavorText:"Four arms, four brushes.",rarity:"framed",imagePath:"/assets/sketches/aztiri.jpg",stats:{maxHp:new f(95e8),attack:new f(32e5),attackSpeed:800},rewards:[]},{id:"guernica",name:"Guernica (*)",flavorText:"War in monochrome.",rarity:"masterpiece",imagePath:"/assets/sketches/guernica.jpg",stats:{maxHp:new f(35e9),attack:new f(15e6),attackSpeed:2500,multiStrikeChance:new f(100)},rewards:[],currencyRewards:[]},{id:"gothic_spire",name:"Gothic Spire",flavorText:"Too many details to finish.",rarity:"rough",imagePath:"/assets/sketches/gothic_spire.jpg",stats:{maxHp:new f(6666),attack:new f(66),attackSpeed:666,armorPen:new f(666),execute:new f(6666)},rewards:[{statName:"ArmorPen",amount:new f(6)},{statName:"Execute",amount:new f(.6)}],currencyRewards:[{name:"Graphite",amount:new f(666)},{name:"Charcoal",amount:new f(6.6)}]},{id:"kingg",name:"Kingg (*)",flavorText:"A dream rendered in charcoal.",rarity:"opus",imagePath:"/assets/sketches/kingg.jpg",stats:{maxHp:new f(18e9),attack:new f(45e5),attackSpeed:1e3},rewards:[]},{id:"viscous_blob",name:"Viscous Blob",flavorText:"It hasn't dried yet.",rarity:"scrap",imagePath:"/assets/sketches/viscous_blob.jpg",stats:{maxHp:new f(600),attack:new f(10),attackSpeed:3600,minDamage:new f(100),maxDamage:new f(200),regen:new f(8)},rewards:[{statName:"HP",amount:new f(40)},{statName:"MinDamage",amount:new f(.2)}],currencyRewards:[{name:"Wax",amount:new f(45)}]},{id:"static_steed",name:"Static Steed",flavorText:"Frozen line with zero soul.",rarity:"scrap",imagePath:"/assets/sketches/static_steed.jpg",stats:{maxHp:new f(300),attack:new f(50),attackSpeed:2400},rewards:[{statName:"ATK",amount:new f(1.25)}],currencyRewards:[{name:"Graphite",amount:new f(40)}]},{id:"ancestral_tree",name:"Ancestral Tree",flavorText:"Roots deep in graphite.",rarity:"rough",imagePath:"/assets/sketches/ancestral_tree.jpg",stats:{maxHp:new f(2500),attack:new f(500),attackSpeed:5e3,regen:new f(10),armor:new f(500)},rewards:[{statName:"HP",amount:new f(10)},{statName:"Armor",amount:new f(.1)}],currencyRewards:[{name:"Graphite",amount:new f(5e3)}]},{id:"chunk_norris",name:"Chunk Norris (*)",flavorText:"He drew the artist.",rarity:"framed",imagePath:"/assets/sketches/chunk_norris.jpg",stats:{maxHp:new f(12e9),attack:new f(5e6),attackSpeed:2e3},rewards:[]},{id:"margin_goblin",name:"Margin Goblin",flavorText:"Born in the margins.",rarity:"scrap",imagePath:"/assets/sketches/margin_goblin.jpg",stats:{maxHp:new f(700),attack:new f(15),attackSpeed:700,dodge:new f(30)},rewards:[{statName:"SPD",amount:new f(-2)},{statName:"Dodge",amount:new f(.002)}],currencyRewards:[{name:"Graphite",amount:new f(60)},{name:"Wax",amount:new f(10)}]},{id:"griffin_head",name:"Griffin Head",flavorText:"Feathers are hard to draw.",rarity:"rough",imagePath:"/assets/sketches/griffin_head.jpg",stats:{maxHp:new f(9e3),attack:new f(360),attackSpeed:900,accuracy:new f(100),armorPen:new f(50),bleedChance:new f(300)},rewards:[{statName:"ATK",amount:new f(10)},{statName:"Accuracy",amount:new f(.005)}],currencyRewards:[{name:"Graphite",amount:new f(3e3)},{name:"Wax",amount:new f(300)}]},{id:"shakes",name:"Shakes (*)",flavorText:"To draw, or not to draw.",rarity:"opus",imagePath:"/assets/sketches/shakes.jpg",stats:{maxHp:new f(17e9),attack:new f(43e5),attackSpeed:1200},rewards:[]},{id:"coffee_stain",name:"Coffee Stain",flavorText:"Caffeine that fights back.",rarity:"scrap",imagePath:"/assets/sketches/coffee_stain.jpg",stats:{maxHp:new f(900),attack:new f(100),attackSpeed:2500,counter:new f(50),regen:new f(5)},rewards:[{statName:"Counter",amount:new f(.005)}],currencyRewards:[{name:"Coffee",amount:new f(10)}]},{id:"tockies",name:"Tockies (*)",flavorText:"Explosive creative potential.",rarity:"framed",imagePath:"/assets/sketches/tockies.jpg",stats:{maxHp:new f(6e9),attack:new f(25e5),attackSpeed:1500},rewards:[]},{id:"mannequin",name:"Mannequin",flavorText:"Stiff, wooden judgment.",rarity:"scrap",imagePath:"/assets/sketches/mannequin.jpg",stats:{maxHp:new f(1200),attack:new f(120),attackSpeed:1500,execute:new f(75)},rewards:[{statName:"Execute",amount:new f(.2)},{statName:"ATK",amount:new f(2.4)}],currencyRewards:[{name:"Wax",amount:new f(100)}]},{id:"black_knight_helmet",name:"Black Knight Helmet",flavorText:"Reflections on dark armor.",rarity:"rough",imagePath:"/assets/sketches/black_knight_helmet.jpg",stats:{maxHp:new f(8e3),attack:new f(1500),attackSpeed:1500,blockChance:new f(50),blockAmount:new f(1500),lifesteal:new f(50)},rewards:[{statName:"BlockChance",amount:new f(1e-4)},{statName:"BlockAmount",amount:new f(25)}],currencyRewards:[{name:"Coffee",amount:new f(50)},{name:"Ink",amount:new f(15)}]},{id:"scrapped_rat",name:"Scrapped Rat",flavorText:"Gnaws at your confidence.",rarity:"scrap",imagePath:"/assets/sketches/scrapped_rat.jpg",stats:{maxHp:new f(1250),attack:new f(175),attackSpeed:1750,critChance:new f(20),critDmg:new f(250),plagueChance:new f(25)},rewards:[{statName:"CritDmg",amount:new f(.5)},{statName:"PlagueChance",amount:new f(.01)}],currencyRewards:[{name:"Graphite",amount:new f(150)},{name:"Charcoal",amount:new f(15)}]},{id:"bama",name:"Bama (*)",flavorText:"Yes we scan.",rarity:"opus",imagePath:"/assets/sketches/bama.jpg",stats:{maxHp:new f(2e10),attack:new f(5e6),attackSpeed:900},rewards:[]},{id:"six_shooter",name:"Six Shooter",flavorText:"Drawn quickly.",rarity:"rough",imagePath:"/assets/sketches/six_shooter.jpg",stats:{maxHp:new f(6e3),attack:new f(600),attackSpeed:1200,multiStrikeChance:new f(450)},rewards:[{statName:"MultiStrikeChance",amount:new f(.06)},{statName:"ATK",amount:new f(3)}],currencyRewards:[{name:"Graphite",amount:new f(6e3)},{name:"Marker",amount:new f(.6)}]},{id:"squirtel",name:"Squirtel (*)",flavorText:"Shell is too small.",rarity:"framed",imagePath:"/assets/sketches/squirtel.jpg",stats:{maxHp:new f(6e9),attack:new f(15e5),attackSpeed:1500},rewards:[]},{id:"floating_eye",name:"Floating Eye",flavorText:"Anatomy that stares back.",rarity:"scrap",imagePath:"/assets/sketches/floating_eye.jpg",stats:{maxHp:new f(1e3),attack:new f(300),attackSpeed:4400,accuracy:new f(100),glancingBlow:new f(100)},rewards:[{statName:"CritChance",amount:new f(.01)},{statName:"GlancingBlow",amount:new f(.005)}],currencyRewards:[{name:"Ink",amount:new f(2)}]},{id:"kakushi",name:"Kakushi",flavorText:"Copied this technique perfectly.",rarity:"framed",imagePath:"/assets/sketches/kakushi.jpg",stats:{maxHp:new f(7e4),attack:new f(1800),attackSpeed:500,dodge:new f(75),hypnotizeChance:new f(75)},rewards:[{statName:"ATK",amount:new f(7.5)},{statName:"Dodge",amount:new f(.003)}],currencyRewards:[{name:"Ink",amount:new f(75)},{name:"Marker",amount:new f(7.5)}]},{id:"spaghetti_medusa",name:"Spaghetti Medusa",flavorText:"Too many lines, no volume.",rarity:"scrap",imagePath:"/assets/sketches/spaghetti_medusa.jpg",stats:{maxHp:new f(3e3),attack:new f(100),attackSpeed:400,armorPen:new f(30)},rewards:[{statName:"ArmorPen",amount:new f(1)},{statName:"ATK",amount:new f(3)}],currencyRewards:[{name:"Wax",amount:new f(300)},{name:"Coffee",amount:new f(30)}]},{id:"great_wave_of_kanagawa",name:"Great Wave of Kanagawa (*)",flavorText:"Jiu Jitsu Logo?",rarity:"masterpiece",imagePath:"/assets/sketches/great_wave_of_kanagawa.jpg",stats:{maxHp:new f(3e10),attack:new f(25e6),attackSpeed:4500},rewards:[]},{id:"crumpled_golem",name:"Crumpled Golem",flavorText:"Crushed and hardened.",rarity:"scrap",imagePath:"/assets/sketches/crumpled_golem.jpg",stats:{maxHp:new f(5e3),attack:new f(150),attackSpeed:3e3,armor:new f(250)},rewards:[{statName:"Armor",amount:new f(1)},{statName:"HP",amount:new f(100)}],currencyRewards:[{name:"Graphite",amount:new f(500)},{name:"Charcoal",amount:new f(25)}]},{id:"viking_longship",name:"Viking Longship",flavorText:"Carved for conquest.",rarity:"rough",imagePath:"/assets/sketches/viking_longship.jpg",stats:{maxHp:new f(15e3),attack:new f(4e3),attackSpeed:3400,minDamage:new f(150),maxDamage:new f(400)},rewards:[{statName:"MinDamage",amount:new f(.4)},{statName:"MaxDamage",amount:new f(.4)}],currencyRewards:[{name:"Graphite",amount:new f(4e3)},{name:"Charcoal",amount:new f(400)}]},{id:"tronp",name:"Tronp (*)",flavorText:"Tremendous shading. The best.",rarity:"opus",imagePath:"/assets/sketches/tronp.jpg",stats:{maxHp:new f(2e10),attack:new f(55e5),attackSpeed:1100},rewards:[]},{id:"hatch_wolf",name:"Hatch-Wolf",flavorText:"Hungry lines.",rarity:"scrap",imagePath:"/assets/sketches/hatch_wolf.jpg",stats:{maxHp:new f(2500),attack:new f(500),attackSpeed:1500,lifesteal:new f(50)},rewards:[{statName:"Lifesteal",amount:new f(.01)},{statName:"CritDmg",amount:new f(1)}],currencyRewards:[{name:"Charcoal",amount:new f(200)},{name:"Ink",amount:new f(5)}]},{id:"eldritch_tentacles",name:"Eldritch Tentacles",flavorText:"Shading non-Euclidean geometry.",rarity:"rough",imagePath:"/assets/sketches/eldritch_tentacles.jpg",stats:{maxHp:new f(8e3),attack:new f(800),attackSpeed:800,regen:new f(800)},rewards:[{statName:"Regen",amount:new f(8)}],currencyRewards:[{name:"Ink",amount:new f(80)}]},{id:"crustal_maiden",name:"Crustal Maiden",flavorText:"Swift as the wolves of Icewrack.",rarity:"framed",imagePath:"/assets/sketches/crustal_maiden.jpg",stats:{maxHp:new f(1e5),attack:new f(200),attackSpeed:500,frailtyChance:new f(100),freezeChance:new f(100),slowChance:new f(100)},rewards:[{statName:"FreezeChance",amount:new f(.01)},{statName:"FrailtyChance",amount:new f(.01)}],currencyRewards:[{name:"Ink",amount:new f(150)},{name:"Marker",amount:new f(3)}]},{id:"rhinoceros_beetle",name:"Rhinoceros Beetle",flavorText:"Bulletproof ink.",rarity:"scrap",imagePath:"/assets/sketches/rhinoceros_beetle.jpg",stats:{maxHp:new f(5e3),attack:new f(1e3),attackSpeed:2750,armor:new f(500),parry:new f(40),parryDmg:new f(40)},rewards:[{statName:"Parry",amount:new f(.01)},{statName:"ParryDmg",amount:new f(.01)}],currencyRewards:[{name:"Graphite",amount:new f(1e3)},{name:"Charcoal",amount:new f(25)}]},{id:"motz",name:"Motz (*)",flavorText:"Composed without erasing.",rarity:"opus",imagePath:"/assets/sketches/motz.jpg",stats:{maxHp:new f(22e9),attack:new f(6e6),attackSpeed:800},rewards:[]},{id:"six-fingered_hand",name:"Six-Fingered Hand",flavorText:"Counting is hard.",rarity:"scrap",imagePath:"/assets/sketches/six-fingered_hand.jpg",stats:{maxHp:new f(6e3),attack:new f(6e3),attackSpeed:6e3,minDamage:new f(0),maxDamage:new f(6e3)},rewards:[{statName:"ATK",amount:new f(.6)},{statName:"MaxDamage",amount:new f(.6)}],currencyRewards:[{name:"Graphite",amount:new f(6e3)},{name:"Coffee",amount:new f(60)}]},{id:"kagya",name:"Kagya (*)",flavorText:"The progenitor of all sketches.",rarity:"framed",imagePath:"/assets/sketches/kagya.jpg",stats:{maxHp:new f(1e10),attack:new f(3e6),attackSpeed:1e3},rewards:[]},{id:"tattered_scarecrow",name:"Tattered Scarecrow",flavorText:"Stuffed with nightmares.",rarity:"rough",imagePath:"/assets/sketches/tattered_scarecrow.jpg",stats:{maxHp:new f(1e4),attack:new f(1e4),attackSpeed:1e3,frailtyChance:new f(200)},rewards:[{statName:"FrailtyChance",amount:new f(.01)},{statName:"ATK",amount:new f(2)}],currencyRewards:[{name:"Wax",amount:new f(1e3)},{name:"Marker",amount:new f(1)}]},{id:"tangent_hydra",name:"Tangent Hydra",flavorText:"Lines touch awkwardly.",rarity:"scrap",imagePath:"/assets/sketches/tangent_hydra.jpg",stats:{maxHp:new f(16e3),attack:new f(80),attackSpeed:400,bleedChance:new f(100),regen:new f(400)},rewards:[{statName:"BleedChance",amount:new f(.08)},{statName:"Regen",amount:new f(.8)}],currencyRewards:[{name:"Marker",amount:new f(1.6)}]},{id:"night_watch",name:"Night Watch (*)",flavorText:"Now my watch begins.",rarity:"masterpiece",imagePath:"/assets/sketches/night_watch.jpg",stats:{maxHp:new f(25e9),attack:new f(2e7),attackSpeed:3500},rewards:[]},{id:"katava",name:"Katava",flavorText:"Insatiable hunger for graphite.",rarity:"framed",imagePath:"/assets/sketches/katava.jpg",stats:{maxHp:new f(1e6),attack:new f(2e3),attackSpeed:1e3,bleedChance:new f(90),burnChance:new f(20),burnDamage:new f(2e5),plagueChance:new f(200),hasteChance:new f(20)},rewards:[{statName:"BurnDamage",amount:new f(2)},{statName:"PlagueChance",amount:new f(.02)}],currencyRewards:[{name:"Marker",amount:new f(2e3)}]},{id:"off-center_portrait",name:"Off-Center Portrait",flavorText:"Features don't align.",rarity:"scrap",imagePath:"/assets/sketches/off-center_portrait.jpg",stats:{maxHp:new f(13404),attack:new f(512),attackSpeed:451,hinderChance:new f(172)},rewards:[{statName:"ATK",amount:new f(1.72)},{statName:"HinderChance",amount:new f(.01)}],currencyRewards:[{name:"Graphite",amount:new f(5e3)},{name:"Ink",amount:new f(17.2)}]},{id:"flayed_study",name:"Flayed Study",flavorText:"Muscles in wrong spots.",rarity:"scrap",imagePath:"/assets/sketches/flayed_study.jpg",stats:{maxHp:new f(1e4),attack:new f(15e3),attackSpeed:3e3,critChance:new f(25),critDmg:new f(200)},rewards:[{statName:"ATK",amount:new f(5)}],currencyRewards:[{name:"Wax",amount:new f(900)},{name:"Marker",amount:new f(1)}]},{id:"the_creation",name:"The Creation (*)",flavorText:"E.T. phone home.",rarity:"masterpiece",imagePath:"/assets/sketches/the_creation.jpg",stats:{maxHp:new f(225e8),attack:new f(175e5),attackSpeed:3e3},rewards:[]},{id:"phantom_armor",name:"Phantom Armor",flavorText:"Shading the void inside.",rarity:"rough",imagePath:"/assets/sketches/phantom_armor.jpg",stats:{maxHp:new f(2e4),attack:new f(1e3),attackSpeed:2e3,armor:new f(2e3),blockChance:new f(50),blockAmount:new f(2e3)},rewards:[{statName:"BlockChance",amount:new f(.02)},{statName:"BlockAmount",amount:new f(10)}],currencyRewards:[{name:"Coffee",amount:new f(100)},{name:"Ink",amount:new f(80)}]},{id:"podge",name:"Podge (*)",flavorText:"Fresh meat for the portfolio!",rarity:"framed",imagePath:"/assets/sketches/podge.jpg",stats:{maxHp:new f(9e9),attack:new f(15e5),attackSpeed:1200},rewards:[]},{id:"the_last_supper",name:"The Last Supper (*)",flavorText:"Judas is late.",rarity:"masterpiece",imagePath:"/assets/sketches/the_last_supper.jpg",stats:{maxHp:new f(15e9),attack:new f(1e7),attackSpeed:1500},rewards:[]},{id:"guillotine",name:"Guillotine",flavorText:"The final edit.",rarity:"rough",imagePath:"/assets/sketches/guillotine.jpg",stats:{maxHp:new f(1e6),attack:new f(5e4),attackSpeed:5e3,execute:new f(5e4)},rewards:[{statName:"ATK",amount:new f(2)},{statName:"Execute",amount:new f(2)}],currencyRewards:[{name:"Graphite",amount:new f(1e4)},{name:"Ink",amount:new f(150)}]},{id:"vanishing_pointless",name:"Vanishing Pointless",flavorText:"Geometry that hurts.",rarity:"scrap",imagePath:"/assets/sketches/vanishing_pointless.jpg",stats:{maxHp:new f(7e4),attack:new f(700),attackSpeed:700,hypnotizeChance:new f(700),execute:new f(7e3),hasteChance:new f(700)},rewards:[{statName:"HP",amount:new f(300)},{statName:"HypnotizeChance",amount:new f(.007)}],currencyRewards:[{name:"Charcoal",amount:new f(700)}]},{id:"itchygo",name:"Itchygo (*)",flavorText:"Bankai requires a wider canvas.",rarity:"framed",imagePath:"/assets/sketches/itchygo.jpg",stats:{maxHp:new f(7e9),attack:new f(23e5),attackSpeed:900},rewards:[]},{id:"pocket_poser",name:"Pocket Poser",flavorText:"Hands are hard to draw.",rarity:"scrap",imagePath:"/assets/sketches/pocket_poser.jpg",stats:{maxHp:new f(5e4),attack:new f(3e3),attackSpeed:1e3,multiStrikeChance:new f(50)},rewards:[{statName:"ATK",amount:new f(5)},{statName:"MultiStrikeChance",amount:new f(.05)}],currencyRewards:[{name:"Graphite",amount:new f(500)},{name:"Coffee",amount:new f(50)}]},{id:"kahn",name:"Kahn (*)",flavorText:"Scourge of the sketchbook.",rarity:"opus",imagePath:"/assets/sketches/kahn.jpg",stats:{maxHp:new f(25e9),attack:new f(7e6),attackSpeed:700},rewards:[]},{id:"birth_of_venus",name:"Birth of Venus (*)",flavorText:"She's nude, but make it art.",rarity:"masterpiece",imagePath:"/assets/sketches/birth_of_venus.jpg",stats:{maxHp:new f(1e10),attack:new f(5e6),attackSpeed:1200},rewards:[]},{id:"rigid_drake",name:"Rigid Drake",flavorText:"Forgot the line of action.",rarity:"scrap",imagePath:"/assets/sketches/rigid_drake.jpg",stats:{maxHp:new f(3e4),attack:new f(12e3),attackSpeed:2e3,armor:new f(5e3),armorPen:new f(200),hinderChance:new f(200)},rewards:[{statName:"ArmorPen",amount:new f(3)},{statName:"HinderChance",amount:new f(.01)}],currencyRewards:[{name:"Wax",amount:new f(1500)},{name:"Ink",amount:new f(75)}]},{id:"vintage_biplane",name:"Vintage Biplane",flavorText:"Flight without feathers.",rarity:"rough",imagePath:"/assets/sketches/vintage_biplane.jpg",stats:{maxHp:new f(190300),attack:new f(1903),attackSpeed:1903,maxDamage:new f(1903),slowChance:new f(1903),hasteChance:new f(1903)},rewards:[{statName:"SlowChance",amount:new f(.01)},{statName:"HasteChance",amount:new f(.01)}],currencyRewards:[{name:"Graphite",amount:new f(19030)},{name:"Marker",amount:new f(190.3)}]},{id:"charzard",name:"Charzard (*)",flavorText:"Not a dragon, just a lizard.",rarity:"framed",imagePath:"/assets/sketches/charzard.jpg",stats:{maxHp:new f(45e8),attack:new f(25e5),attackSpeed:2e3},rewards:[]},{id:"concrete_wraith",name:"Concrete Wraith",flavorText:"Fabric as hard as rock.",rarity:"scrap",imagePath:"/assets/sketches/concrete_wraith.jpg",stats:{maxHp:new f(5e4),attack:new f(1e3),attackSpeed:300,dodge:new f(60),blockChance:new f(50),blockAmount:new f(1e4)},rewards:[{statName:"SPD",amount:new f(-2)}],currencyRewards:[{name:"Graphite",amount:new f(3e3)},{name:"Marker",amount:new f(20)}]},{id:"crystal_dragon",name:"Crystal Dragon",flavorText:"Every facet needs a highlight.",rarity:"rough",imagePath:"/assets/sketches/crystal_dragon.jpg",stats:{maxHp:new f(19e5),attack:new f(4500),attackSpeed:190,armor:new f(1900),freezeChance:new f(1900),slowChance:new f(190)},rewards:[{statName:"FreezeChance",amount:new f(.01)},{statName:"Armor",amount:new f(1.9)}],currencyRewards:[{name:"Graphite",amount:new f(19e3)},{name:"Marker",amount:new f(190)}]},{id:"sauske",name:"Sauske (*)",flavorText:"Dark shading suits him best.",rarity:"framed",imagePath:"/assets/sketches/sauske.jpg",stats:{maxHp:new f(65e8),attack:new f(22e5),attackSpeed:600},rewards:[]},{id:"the_scream",name:"The Scream (*)",flavorText:"Existential dread.",rarity:"masterpiece",imagePath:"/assets/sketches/the_scream.jpg",stats:{maxHp:new f(125e8),attack:new f(75e5),attackSpeed:1e3},rewards:[]},{id:"stubby_brawler",name:"Stubby Brawler",flavorText:"Depth calculation failed.",rarity:"scrap",imagePath:"/assets/sketches/stubby_brawler.jpg",stats:{maxHp:new f(1e6),attack:new f(5e3),attackSpeed:500,absorb:new f(50)},rewards:[{statName:"ATK",amount:new f(15)},{statName:"SPD",amount:new f(-1.5)}],currencyRewards:[{name:"Graphite",amount:new f(2e4)}]},{id:"teslah",name:"Teslah (*)",flavorText:"Alternating Current... of creativity.",rarity:"opus",imagePath:"/assets/sketches/teslah.jpg",stats:{maxHp:new f(16e9),attack:new f(7e6),attackSpeed:900,multiStrikeChance:new f(50)},rewards:[],currencyRewards:[]},{id:"trebuchet",name:"Trebuchet",flavorText:"The superior siege engine.",rarity:"rough",imagePath:"/assets/sketches/trebuchet.jpg",stats:{maxHp:new f(15e5),attack:new f(5e4),attackSpeed:1e4,armor:new f(5e4),minDamage:new f(2e3),maxDamage:new f(2e4),armorPen:new f(50)},rewards:[{statName:"ATK",amount:new f(25)}],currencyRewards:[{name:"Charcoal",amount:new f(5e3)},{name:"Marker",amount:new f(200)}]},{id:"muddy_elemental",name:"Muddy Elemental",flavorText:"Over-blended into grey slop.",rarity:"scrap",imagePath:"/assets/sketches/muddy_elemental.jpg",stats:{maxHp:new f(1e4),attack:new f(25e3),attackSpeed:2e3,absorb:new f(99.99),slowChance:new f(250)},rewards:[{statName:"SlowChance",amount:new f(.01)},{statName:"Absorb",amount:new f(.001)}],currencyRewards:[{name:"Wax",amount:new f(1e4)},{name:"Marker",amount:new f(100)}]},{id:"napo",name:"Napo (*)",flavorText:"Exiled to the portfolio.",rarity:"opus",imagePath:"/assets/sketches/napo.jpg",stats:{maxHp:new f(24e9),attack:new f(65e5),attackSpeed:1300},rewards:[]},{id:"charred_bust",name:"Charred Bust",flavorText:"Shading burned the marble.",rarity:"scrap",imagePath:"/assets/sketches/charred_bust.jpg",stats:{maxHp:new f(75e4),attack:new f(1750),attackSpeed:750,burnChance:new f(175),burnDamage:new f(2500),opacity:new f(75)},rewards:[{statName:"Opacity",amount:new f(.01)}],currencyRewards:[{name:"Graphite",amount:new f(1e4)},{name:"Wax",amount:new f(1e4)}]},{id:"injoker",name:"Injoker (*)",flavorText:"So much ego in one sketch.",rarity:"framed",imagePath:"/assets/sketches/injoker.jpg",stats:{maxHp:new f(75e8),attack:new f(3e6),attackSpeed:1e3},rewards:[]},{id:"the_kiss",name:"The Kiss (*)",flavorText:"So much gold.",rarity:"masterpiece",imagePath:"/assets/sketches/the_kiss.jpg",stats:{maxHp:new f(275e8),attack:new f(225e5),attackSpeed:4e3},rewards:[]},{id:"broken_astronaut",name:"Broken Astronaut",flavorText:"In space, no one can see you smudge.",rarity:"rough",imagePath:"/assets/sketches/broken_astronaut.jpg",stats:{maxHp:new f(11e5),attack:new f(11e3),attackSpeed:800,armor:new f(14e4),lifesteal:new f(44),curseChance:new f(110)},rewards:[{statName:"Lifesteal",amount:new f(.01)},{statName:"Armor",amount:new f(11)}],currencyRewards:[{name:"Wax",amount:new f(11e4)},{name:"Ink",amount:new f(110)}]},{id:"lead_goblet",name:"Lead Goblet",flavorText:"Glass shouldn't cast a shadow.",rarity:"scrap",imagePath:"/assets/sketches/lead_goblet.jpg",stats:{maxHp:new f(35e5),attack:new f(3500),attackSpeed:750,frailtyChance:new f(750),armorPen:new f(350),armor:new f(3500)},rewards:[{statName:"FrailtyChance",amount:new f(.01)},{statName:"ArmorPen",amount:new f(15)}],currencyRewards:[{name:"Charcoal",amount:new f(3500)},{name:"Acrylic",amount:new f(3.5)}]},{id:"el_viz",name:"El Viz (*)",flavorText:"A little less conversation, a little more action lines.",rarity:"opus",imagePath:"/assets/sketches/el_viz.jpg",stats:{maxHp:new f(15e9),attack:new f(8e6),attackSpeed:1200},rewards:[],currencyRewards:[]},{id:"tiny_head_titan",name:"Tiny-Head Titan",flavorText:"All brawn, 1% brain.",rarity:"scrap",imagePath:"/assets/sketches/tiny-head_titan.jpg",stats:{maxHp:new f(5e6),attack:new f(1e5),attackSpeed:3e3,execute:new f(300)},rewards:[{statName:"Execute",amount:new f(3)},{statName:"ATK",amount:new f(30)}],currencyRewards:[{name:"Wax",amount:new f(3e4)},{name:"Ink",amount:new f(300)}]},{id:"negative_void",name:"Negative Void",flavorText:"Defined by what isn't there.",rarity:"rough",imagePath:"/assets/sketches/negative_void.jpg",stats:{maxHp:new f(8e6),attack:new f(8e4),attackSpeed:800,dodge:new f(80),freezeChance:new f(800),hinderChance:new f(800)},rewards:[]},{id:"accessory_assassin",name:"Accessory Assassin",flavorText:"Pouches hiding poor anatomy.",rarity:"scrap",imagePath:"/assets/sketches/accessory_assassin.jpg",stats:{maxHp:new f(25e5),attack:new f(2500),attackSpeed:250,dodge:new f(25),critChance:new f(25),critDmg:new f(250),bleedChance:new f(50),poisonChance:new f(25),remedy:new f(25)},rewards:[{statName:"ATK",amount:new f(10)},{statName:"Remedy",amount:new f(.01)}],currencyRewards:[{name:"Coffee",amount:new f(250)},{name:"Marker",amount:new f(150)}]},{id:"hyper_focus_eye",name:"Hyper-Focus Eye",flavorText:"Spent 10 hours on the pupil.",rarity:"scrap",imagePath:"/assets/sketches/hyper_focus_eye.jpg",stats:{maxHp:new f(999e3),attack:new f(999),attackSpeed:900,hypnotizeChance:new f(900),glancingBlow:new f(90),regen:new f(9999)},rewards:[{statName:"Regen",amount:new f(90)},{statName:"GlancingBlow",amount:new f(.09)}],currencyRewards:[{name:"Marker",amount:new f(900)},{name:"Acrylic",amount:new f(9)}]},{id:"girl_with_a_pearl_earring",name:"Girl with a Pearl Earring (*)",flavorText:"She's looking at you.",rarity:"masterpiece",imagePath:"/assets/sketches/girl_with_a_pearl_earring.jpg",stats:{maxHp:new f(175e8),attack:new f(125e5),attackSpeed:2e3},rewards:[]},{id:"mismatched_reflection",name:"Mismatched Reflection",flavorText:"Physics left the room.",rarity:"scrap",imagePath:"/assets/sketches/mismatched_reflection.jpg",stats:{maxHp:new f(5e6),attack:new f(5e4),attackSpeed:5e3,parry:new f(50),parryDmg:new f(50),counter:new f(100)},rewards:[{statName:"Parry",amount:new f(.01)},{statName:"ParryDmg",amount:new f(.1)}],currencyRewards:[{name:"Graphite",amount:new f(25e3)},{name:"Coffee",amount:new f(500)}]},{id:"steam_locomotive",name:"Steam Locomotive (*)",flavorText:"Unstoppable momentum.",rarity:"rough",imagePath:"/assets/sketches/steam_locomotive.jpg",stats:{maxHp:new f(5e6),attack:new f(5e3),attackSpeed:1500,armor:new f(5e6),burnChance:new f(500),burnDamage:new f(500)},rewards:[{statName:"BurnDamage",amount:new f(2)},{statName:"Armor",amount:new f(15)}],currencyRewards:[{name:"Wax",amount:new f(5e4)},{name:"Charcoal",amount:new f(1e4)}]},{id:"cracked_egg",name:"Cracked Egg",flavorText:"Not quite ready to hatch.",rarity:"scrap",imagePath:"/assets/sketches/cracked_egg.jpg",stats:{maxHp:new f(25e5),attack:new f(25e3),attackSpeed:2e3,armor:new f(5e4),regen:new f(5e4),poisonChance:new f(500)},rewards:[{statName:"PoisonChance",amount:new f(.001)}],currencyRewards:[{name:"Wax",amount:new f(25e3)},{name:"Ink",amount:new f(500)}]},{id:"paper_airplane",name:"Paper Airplane",flavorText:"Aerodynamics are overrated.",rarity:"scrap",imagePath:"/assets/sketches/paper_airplane.jpg",stats:{maxHp:new f(35e5),attack:new f(35e3),attackSpeed:350,dodge:new f(35),accuracy:new f(35),hasteChance:new f(35)},rewards:[{statName:"Accuracy",amount:new f(.01)},{statName:"HasteChance",amount:new f(.01)}],currencyRewards:[{name:"Charcoal",amount:new f(3500)},{name:"Marker",amount:new f(350)}]},{id:"abe_linkin",name:"Abe Linkin (*)",flavorText:"Four scores and seven sketches ago.",rarity:"opus",imagePath:"/assets/sketches/abe_linkin.jpg",stats:{maxHp:new f(25e9),attack:new f(55e5),attackSpeed:1500},rewards:[],currencyRewards:[]},{id:"soda_tab",name:"Soda Tab",flavorText:"Armor for a mouse.",rarity:"scrap",imagePath:"/assets/sketches/soda_tab.jpg",stats:{maxHp:new f(2e6),attack:new f(2e5),attackSpeed:2e3,armor:new f(2e5),counter:new f(80),absorb:new f(20)},rewards:[{statName:"Armor",amount:new f(20)}],currencyRewards:[{name:"Charcoal",amount:new f(5e3)},{name:"Ink",amount:new f(800)}]},{id:"cool_s",name:"Cool S",flavorText:"Universal language of boredom.",rarity:"scrap",imagePath:"/assets/sketches/cool_s.jpg",stats:{maxHp:new f(75e4),attack:new f(75e3),attackSpeed:750,critChance:new f(75),critDmg:new f(750),freezeChance:new f(750),multiStrikeChance:new f(75)},rewards:[{statName:"CritChance",amount:new f(.01)},{statName:"CritDmg",amount:new f(.75)}],currencyRewards:[{name:"Wax",amount:new f(75e3)},{name:"Marker",amount:new f(750)}]},{id:"iron_anvil",name:"Iron Anvil (*)",flavorText:"Forged in heavy lines.",rarity:"rough",imagePath:"/assets/sketches/iron_anvil.jpg",stats:{maxHp:new f(2e4),attack:new f(6e3),attackSpeed:3500,armorPen:new f(100)},rewards:[],currencyRewards:[]},{id:"cleopattern",name:"Cleopattern (*)",flavorText:"Queen of the Lines.",rarity:"opus",imagePath:"/assets/sketches/cleopattern.jpg",stats:{maxHp:new f(18e9),attack:new f(45e5),attackSpeed:800,hypnotizeChance:new f(100)},rewards:[],currencyRewards:[]},{id:"dark_shader",name:"Dark Shader (*)",flavorText:"I find your lack of contrast disturbing.",rarity:"framed",imagePath:"/assets/sketches/dark_shader.jpg",stats:{maxHp:new f(85e8),attack:new f(3e6),attackSpeed:1200,hinderChance:new f(200)},rewards:[],currencyRewards:[]},{id:"wobbly_stool",name:"Wobbly Stool",flavorText:"Unstable foundation.",rarity:"scrap",imagePath:"/assets/sketches/wobbly_stool.jpg",stats:{maxHp:new f(3e6),attack:new f(3e5),attackSpeed:3e3,hinderChance:new f(300),multiStrikeChance:new f(200),slowChance:new f(300)},rewards:[{statName:"MultiStrikeChance",amount:new f(.03)},{statName:"SlowChance",amount:new f(.015)}],currencyRewards:[{name:"Charcoal",amount:new f(3e3)},{name:"Acrylic",amount:new f(15)}]},{id:"loading_bar",name:"Loading Bar",flavorText:"Stuck at 99%.",rarity:"scrap",imagePath:"/assets/sketches/loading_bar.jpg",stats:{maxHp:new f(9999e3),attack:new f(99990),attackSpeed:999,hinderChance:new f(99),opacity:new f(99),slowChance:new f(999)},rewards:[{statName:"HinderChance",amount:new f(.009)},{statName:"Opacity",amount:new f(.009)}],currencyRewards:[{name:"Wax",amount:new f(99999)},{name:"Ink",amount:new f(999)}]},{id:"goukuh",name:"Goukuh (*)",flavorText:"Power level over 9000 strokes.",rarity:"framed",imagePath:"/assets/sketches/goukuh.jpg",stats:{maxHp:new f(75e8),attack:new f(25e5),attackSpeed:400,critChance:new f(50),critDmg:new f(500)},rewards:[],currencyRewards:[]},{id:"melted_candle",name:"Melted Candle",flavorText:"Burning at both ends.",rarity:"scrap",imagePath:"/assets/sketches/melted_candle.jpg",stats:{maxHp:new f(7e6),attack:new f(7e4),absorb:new f(95),attackSpeed:1400,burnChance:new f(70),burnDamage:new f(7e4)},rewards:[{statName:"BurnChance",amount:new f(.007)},{statName:"BurnDamage",amount:new f(7)}],currencyRewards:[{name:"Charcoal",amount:new f(7e3)},{name:"Acrylic",amount:new f(7)}]},{id:"petrified_heart",name:"Petrified Heart (*)",flavorText:"No blood, only dust.",rarity:"rough",imagePath:"/assets/sketches/petrified_heart.jpg",stats:{maxHp:new f(25e3),attack:new f(500),attackSpeed:3e3,armor:new f(300)},rewards:[],currencyRewards:[]},{id:"bent_nail",name:"Bent Nail",flavorText:"Hammered wrong.",rarity:"scrap",imagePath:"/assets/sketches/bent_nail.jpg",stats:{maxHp:new f(7e6),attack:new f(12e4),attackSpeed:1200,dodge:new f(80),bleedChance:new f(120)},rewards:[{statName:"HP",amount:new f(250)},{statName:"ATK",amount:new f(25)}],currencyRewards:[{name:"Coffee",amount:new f(700)},{name:"Acrylic",amount:new f(12)}]},{id:"torn_page",name:"Torn Page",flavorText:"Half the story is missing.",rarity:"scrap",imagePath:"/assets/sketches/torn_page.jpg",stats:{maxHp:new f(2e6),attack:new f(5e5),attackSpeed:1500,dodge:new f(60),multiStrikeChance:new f(175),remedy:new f(100)},rewards:[{statName:"Remedy",amount:new f(.01)},{statName:"MultiStrikeChance",amount:new f(.02)}],currencyRewards:[{name:"Graphite",amount:new f(1e5)},{name:"Wax",amount:new f(1e5)}]},{id:"leaking_pen",name:"Leaking Pen",flavorText:"A messy casualty.",rarity:"scrap",imagePath:"/assets/sketches/leaking_pen.jpg",stats:{maxHp:new f(12e6),attack:new f(30),attackSpeed:600,armor:new f(6e5),poisonChance:new f(300),plagueChance:new f(12e3)},rewards:[{statName:"PlagueChance",amount:new f(.03)}],currencyRewards:[{name:"Ink",amount:new f(1200)}]},{id:"the_thinker",name:"The Thinker (*)",flavorText:"I sketch, therefore I am.",rarity:"masterpiece",imagePath:"/assets/sketches/the_thinker.jpg",stats:{maxHp:new f(3e10),attack:new f(8e6),attackSpeed:3e3,critChance:new f(100),critDmg:new f(500)},rewards:[],currencyRewards:[]},{id:"loose_button",name:"Loose Button",flavorText:"Holding it all together.",rarity:"scrap",imagePath:"/assets/sketches/loose_button.jpg",stats:{maxHp:new f(1e8),attack:new f(1e6),attackSpeed:2500,blockChance:new f(98),blockAmount:new f(1e10)},rewards:[{statName:"BlockAmount",amount:new f(100)}],currencyRewards:[{name:"Charcoal",amount:new f(2e4)},{name:"Acrylic",amount:new f(20)}]},{id:"lonk",name:"Lonk (*)",flavorText:"It's dangerous to draw alone.",rarity:"framed",imagePath:"/assets/sketches/lonk.jpg",stats:{maxHp:new f(8e9),attack:new f(28e5),attackSpeed:1e3,blockChance:new f(40),blockAmount:new f(1e6)},rewards:[],currencyRewards:[]},{id:"broken_spectacles",name:"Broken Spectacles",flavorText:"Blurry vision.",rarity:"scrap",imagePath:"/assets/sketches/broken_spectacles.jpg",stats:{maxHp:new f(25e6),attack:new f(25e4),attackSpeed:1e3,critChance:new f(15),critDmg:new f(1500),hinderChance:new f(150),frailtyChance:new f(1500)},rewards:[{statName:"HinderChance",amount:new f(.002)},{statName:"FrailtyChance",amount:new f(.02)}],currencyRewards:[{name:"Graphite",amount:new f(1e5)},{name:"Marker",amount:new f(1e3)}]},{id:"ceezar",name:"Ceezar (*)",flavorText:"Et tu, Brushte?",rarity:"opus",imagePath:"/assets/sketches/ceezar.jpg",stats:{maxHp:new f(22e9),attack:new f(6e6),attackSpeed:1e3},rewards:[],currencyRewards:[]},{id:"spiked_shield",name:"Spiked Shield (*)",flavorText:"Defense is the best offense.",rarity:"rough",imagePath:"/assets/sketches/spiked_shield.jpg",stats:{maxHp:new f(15e3),attack:new f(1e3),attackSpeed:2e3,blockChance:new f(60),blockAmount:new f(5e3),counter:new f(100)},rewards:[],currencyRewards:[]},{id:"tangled_earbuds",name:"Tangled Earbuds",flavorText:"The pocket dimension knot.",rarity:"scrap",imagePath:"/assets/sketches/tangled_earbuds.jpg",stats:{maxHp:new f(9e7),attack:new f(13e4),attackSpeed:500,hinderChance:new f(300),slowChance:new f(500),hypnotizeChance:new f(300)},rewards:[{statName:"HinderChance",amount:new f(.003)},{statName:"HypnotizeChance",amount:new f(.003)}],currencyRewards:[{name:"Charcoal",amount:new f(3e4)},{name:"Marker",amount:new f(1300)}]},{id:"wolly",name:"Wolly (*)",flavorText:"Compacting the wastebasket.",rarity:"framed",imagePath:"/assets/sketches/wolly.jpg",stats:{maxHp:new f(1e10),attack:new f(15e5),attackSpeed:2e3,regen:new f(5e4),armor:new f(1e3)},rewards:[],currencyRewards:[]},{id:"burnt_match",name:"Burnt Match (*)",flavorText:"One hit wonder.",rarity:"scrap",imagePath:"/assets/sketches/burnt_match.jpg",stats:{maxHp:new f(100),attack:new f(200),attackSpeed:500,burnChance:new f(100),burnDamage:new f(500),execute:new f(50)},rewards:[],currencyRewards:[]},{id:"mimic_chest",name:"Mimic Chest (*)",flavorText:"The loot bites back.",rarity:"rough",imagePath:"/assets/sketches/mimic_chest.jpg",stats:{maxHp:new f(12e3),attack:new f(4500),attackSpeed:1e3,lifesteal:new f(50)},rewards:[],currencyRewards:[]},{id:"eraser_dust_bunny",name:"Eraser Dust Bunny (*)",flavorText:"Made of mistakes.",rarity:"scrap",imagePath:"/assets/sketches/eraser_dust_bunny.jpg",stats:{maxHp:new f(1500),attack:new f(10),attackSpeed:3e3,regen:new f(5),glancingBlow:new f(50)},rewards:[],currencyRewards:[]},{id:"railgun_turret",name:"Railgun Turret (*)",flavorText:"Heavy industrial perspective.",rarity:"rough",imagePath:"/assets/sketches/railgun_turret.jpg",stats:{maxHp:new f(22e9),attack:new f(5e6),attackSpeed:2500},rewards:[]},{id:"grid_locked_face",name:"Grid-Locked Face (*)",flavorText:"Trapped by construction lines.",rarity:"scrap",imagePath:"/assets/sketches/grid-locked_face.jpg",stats:{maxHp:new f(25e7),attack:new f(25e4),attackSpeed:1500},rewards:[]},{id:"alburt",name:"Alburt (*)",flavorText:"Relatively difficult to draw.",rarity:"opus",imagePath:"/assets/sketches/alburt.jpg",stats:{maxHp:new f(28e9),attack:new f(75e5),attackSpeed:1600},rewards:[]},{id:"haunted_metronome",name:"Haunted Metronome (*)",flavorText:"Keeping time for the dead.",rarity:"rough",imagePath:"/assets/sketches/haunted_metronome.jpg",stats:{maxHp:new f(8e3),attack:new f(2e3),attackSpeed:400,hasteChance:new f(200)},rewards:[],currencyRewards:[]},{id:"scratch_plate_sentinel",name:"Scratch-Plate Sentinel (*)",flavorText:"Armor forged from scribbles.",rarity:"scrap",imagePath:"/assets/sketches/scratch-plate_sentinel.jpg",stats:{maxHp:new f(3e8),attack:new f(15e4),attackSpeed:600},rewards:[]},{id:"demon_hand",name:"Demon Hand (*)",flavorText:"Contrast between claw and glass.",rarity:"rough",imagePath:"/assets/sketches/demon_hand.jpg",stats:{maxHp:new f(175e8),attack:new f(4e6),attackSpeed:1300},rewards:[]},{id:"mirror_twin",name:"Mirror Twin (*)",flavorText:"Nature isn't this perfect.",rarity:"scrap",imagePath:"/assets/sketches/mirror_twin.jpg",stats:{maxHp:new f(7e8),attack:new f(45e4),attackSpeed:1800},rewards:[],currencyRewards:[{name:"Spray",amount:new f(1)}]},{id:"payne",name:"Payne (*)",flavorText:"This world shall know Art.",rarity:"framed",imagePath:"/assets/sketches/payne.jpg",stats:{maxHp:new f(8e9),attack:new f(25e5),attackSpeed:1200},rewards:[]},{id:"burnished_wyvern",name:"Burnished Wyvern (*)",flavorText:"Scales on scales on scales.",rarity:"rough",imagePath:"/assets/sketches/burnished_wyvern.jpg",stats:{maxHp:new f(12e8),attack:new f(6e5),attackSpeed:3e3},rewards:[]},{id:"lash_bug_eye",name:"Lash-Bug Eye (*)",flavorText:"Spiders on the eyelids.",rarity:"scrap",imagePath:"/assets/sketches/lash-bug_eye.jpg",stats:{maxHp:new f(2e8),attack:new f(2e5),attackSpeed:1e3},rewards:[]},{id:"starry_night",name:"Starry Night (*)",flavorText:"The sky is moving.",rarity:"masterpiece",imagePath:"/assets/sketches/starry_night.jpg",stats:{maxHp:new f(75e8),attack:new f(3e6),attackSpeed:800},rewards:[]},{id:"cursed_marionette",name:"Cursed Marionette (*)",flavorText:"Who is pulling the strings?",rarity:"rough",imagePath:"/assets/sketches/cursed_marionette.jpg",stats:{maxHp:new f(13e9),attack:new f(35e5),attackSpeed:900,dodge:new f(15)},rewards:[]},{id:"graphite_glare",name:"Graphite Glare (*)",flavorText:"Pressed so hard it reflects light.",rarity:"scrap",imagePath:"/assets/sketches/graphite_glare.jpg",stats:{maxHp:new f(12e8),attack:new f(6e5),attackSpeed:3e3},rewards:[]},{id:"sharper",name:"Sharper (*)",flavorText:"Reshaping the Atlas.",rarity:"framed",imagePath:"/assets/sketches/sharper.jpg",stats:{maxHp:new f(12e9),attack:new f(38e5),attackSpeed:1400},rewards:[]},{id:"persistence_of_memory",name:"Persistence of Memory (*)",flavorText:"Time is melting.",rarity:"masterpiece",imagePath:"/assets/sketches/persistence_of_memory.jpg",stats:{maxHp:new f(2e10),attack:new f(15e6),attackSpeed:2500},rewards:[]},{id:"vinchy",name:"Vinchy (*)",flavorText:"The original sketch artist.",rarity:"opus",imagePath:"/assets/sketches/vinchy.jpg",stats:{maxHp:new f(3e10),attack:new f(8e6),attackSpeed:1400},rewards:[]},{id:"mona_lisa",name:"Mona Lisa (*)",flavorText:"Her smile is unsettling.",rarity:"masterpiece",imagePath:"/assets/sketches/mona_lisa.jpg",stats:{maxHp:new f(5e9),attack:new f(1e6),attackSpeed:3e3},rewards:[]}],mc=et.reduce((t,a)=>(t[a.id]=a,t),{}),a0={diminishingReturns:new f(.9),deathRecovery:10,fleePenalty:5,timeAcceleration:1,lookahead:3,maxDefeats:500,generatorMultiplier:1,autoStartOnRedraw:0,overkillMultiplier:0,roughRarity:0,framedRarity:0,opusRarity:0,masterpieceRarity:0,roughSketches:0,framedSketches:0,opusSketches:0,masterpieceSketches:0,attackIncrease:0,hpIncrease:0,regenIncrease:0,armorIncrease:0,dodgeIncrease:0,minDamageIncrease:0,maxDamageIncrease:0,armorPenIncrease:0,lifestealIncrease:0,executeIncrease:0,blockChanceIncrease:0,blockAmountIncrease:0,accuracyIncrease:0,bleedChanceIncrease:0,plagueChanceIncrease:0,burnChanceIncrease:0,burnDamageIncrease:0,electrocuteChanceIncrease:0,curseChanceIncrease:0,speedCap:500,quintessenceGain:0,graphiteUpgradeCost:0,waxUpgradeCost:0,charcoalUpgradeCost:0,coffeeUpgradeCost:0,inkUpgradeCost:0,markerUpgradeCost:0,acrylicUpgradeCost:0,sprayUpgradeCost:0,photonUpgradeCost:0,goldLeafUpgradeCost:0,freeTools:0,autoEnableTools:0,attackDelay:0,graphiteRewardMultiplier:0,waxRewardMultiplier:0,charcoalRewardMultiplier:0,coffeeRewardMultiplier:0,inkRewardMultiplier:0,markerRewardMultiplier:0,acrylicRewardMultiplier:0,sprayRewardMultiplier:0,photonRewardMultiplier:0,goldLeafRewardMultiplier:0,graphiteRewardExponent:0,waxRewardExponent:0,charcoalRewardExponent:0,coffeeRewardExponent:0,inkRewardExponent:0,markerRewardExponent:0,acrylicRewardExponent:0,sprayRewardExponent:0,photonRewardExponent:0,goldLeafRewardExponent:0,graphiteGeneratorMultiplier:1,waxGeneratorMultiplier:1,charcoalGeneratorMultiplier:1,coffeeGeneratorMultiplier:1,inkGeneratorMultiplier:1,markerGeneratorMultiplier:1,acrylicGeneratorMultiplier:1,sprayGeneratorMultiplier:1,photonGeneratorMultiplier:1,goldLeafGeneratorMultiplier:1},bb=[{key:"diminishingReturns",label:"Diminishing Returns",description:"Rewards decrease per defeat of same sketch.",format:"multiplier",category:"Core"},{key:"deathRecovery",label:"Death Recovery",description:"Wait time after defeat.",format:"seconds",category:"Core"},{key:"fleePenalty",label:"Flee Penalty",description:"Wait time after fleeing.",format:"seconds",category:"Core"},{key:"timeAcceleration",label:"Time Acceleration",description:"Global speed multiplier.",format:"multiplier",category:"Core"},{key:"lookahead",label:"Lookahead",description:"Visible sketches ahead of progress.",format:"count",category:"Core"},{key:"maxDefeats",label:"Max Defeats",description:"Battle limit per sketch.",format:"count",category:"Core"},{key:"generatorMultiplier",label:"Generator Power",description:"Multiplier for all generators.",format:"multiplier",category:"Core"},{key:"overkillMultiplier",label:"Overkill",description:"Excess damage can auto-defeat next sketch.",format:"percent",category:"Stats"},{key:"freeTools",label:"Free Tools",description:"Tools unlocked on redraw.",format:"count",category:"Core"},{key:"autoEnableTools",label:"Auto-Enable Tools",description:"Tools auto-enabled on redraw.",format:"count",category:"Core"},{key:"roughRarity",label:"Rough Rarity",description:"Chance for Rough sketches.",format:"percent",category:"Rarity"},{key:"framedRarity",label:"Framed Rarity",description:"Chance for Framed sketches.",format:"percent",category:"Rarity"},{key:"opusRarity",label:"Opus Rarity",description:"Chance for Opus sketches.",format:"percent",category:"Rarity"},{key:"masterpieceRarity",label:"Masterpiece Rarity",description:"Chance for Masterpiece sketches.",format:"percent",category:"Rarity"},{key:"roughSketches",label:"Guaranteed Rough",description:"Minimum Rough sketches per Redraw.",format:"count",category:"Rarity"},{key:"framedSketches",label:"Guaranteed Framed",description:"Minimum Framed sketches per Redraw.",format:"count",category:"Rarity"},{key:"opusSketches",label:"Guaranteed Opus",description:"Minimum Opus sketches per Redraw.",format:"count",category:"Rarity"},{key:"masterpieceSketches",label:"Guaranteed Masterpiece",description:"Minimum Masterpiece sketches per Redraw.",format:"count",category:"Rarity"},{key:"attackIncrease",label:"Attack Increase",description:"Bonus ATK percentage.",format:"percent",category:"Stats"},{key:"hpIncrease",label:"HP Increase",description:"Bonus HP percentage.",format:"percent",category:"Stats"},{key:"regenIncrease",label:"Regen Increase",description:"Bonus Regen percentage.",format:"percent",category:"Stats"},{key:"armorIncrease",label:"Armor Increase",description:"Bonus Armor percentage.",format:"percent",category:"Stats"},{key:"dodgeIncrease",label:"Dodge Increase",description:"Bonus Dodge percentage.",format:"percent",category:"Stats"},{key:"minDamageIncrease",label:"Min Damage Increase",description:"Bonus Min Damage percentage.",format:"percent",category:"Stats"},{key:"maxDamageIncrease",label:"Max Damage Increase",description:"Bonus Max Damage percentage.",format:"percent",category:"Stats"},{key:"armorPenIncrease",label:"Armor Pen Increase",description:"Bonus Armor Penetration percentage.",format:"percent",category:"Stats"},{key:"lifestealIncrease",label:"Lifesteal Increase",description:"Bonus Lifesteal percentage.",format:"percent",category:"Stats"},{key:"executeIncrease",label:"Execute Increase",description:"Bonus Execute percentage.",format:"percent",category:"Stats"},{key:"blockChanceIncrease",label:"Block Chance Increase",description:"Bonus Block Chance percentage.",format:"percent",category:"Stats"},{key:"blockAmountIncrease",label:"Block Amount Increase",description:"Bonus Block Amount percentage.",format:"percent",category:"Stats"},{key:"accuracyIncrease",label:"Accuracy Increase",description:"Bonus Accuracy percentage.",format:"percent",category:"Stats"},{key:"bleedChanceIncrease",label:"Bleed Increase",description:"Bonus Bleed Chance percentage.",format:"percent",category:"Stats"},{key:"plagueChanceIncrease",label:"Plague Increase",description:"Bonus Plague Chance percentage.",format:"percent",category:"Stats"},{key:"burnChanceIncrease",label:"Burn Chance Increase",description:"Bonus Burn Chance percentage.",format:"percent",category:"Stats"},{key:"burnDamageIncrease",label:"Burn Damage Increase",description:"Bonus Burn Damage percentage.",format:"percent",category:"Stats"},{key:"electrocuteChanceIncrease",label:"Electrocute Increase",description:"Bonus Electrocute Chance percentage.",format:"percent",category:"Stats"},{key:"curseChanceIncrease",label:"Curse Increase",description:"Bonus Curse Chance percentage.",format:"percent",category:"Stats"},{key:"attackDelay",label:"Attack Speed Bonus",description:"Attack delay reduction.",format:"percent",category:"Stats"},{key:"speedCap",label:"Speed Cap",description:"Minimum attack delay (ms).",format:"count",category:"Stats"},{key:"quintessenceGain",label:"Quintessence Gain",description:"Bonus QE on redraw.",format:"percent",category:"Economy"},{key:"graphiteUpgradeCost",label:"Graphite Cost",description:"Graphite upgrade cost reduction.",format:"percent",category:"Economy"},{key:"waxUpgradeCost",label:"Wax Cost",description:"Wax upgrade cost reduction.",format:"percent",category:"Economy"},{key:"charcoalUpgradeCost",label:"Charcoal Cost",description:"Charcoal upgrade cost reduction.",format:"percent",category:"Economy"},{key:"coffeeUpgradeCost",label:"Coffee Cost",description:"Coffee upgrade cost reduction.",format:"percent",category:"Economy"},{key:"inkUpgradeCost",label:"Ink Cost",description:"Ink upgrade cost reduction.",format:"percent",category:"Economy"},{key:"markerUpgradeCost",label:"Marker Cost",description:"Marker upgrade cost reduction.",format:"percent",category:"Economy"},{key:"acrylicUpgradeCost",label:"Acrylic Cost",description:"Acrylic upgrade cost reduction.",format:"percent",category:"Economy"},{key:"sprayUpgradeCost",label:"Spray Cost",description:"Spray upgrade cost reduction.",format:"percent",category:"Economy"},{key:"photonUpgradeCost",label:"Photon Cost",description:"Photon upgrade cost reduction.",format:"percent",category:"Economy"},{key:"goldLeafUpgradeCost",label:"Gold Leaf Cost",description:"Gold Leaf upgrade cost reduction.",format:"percent",category:"Economy"},{key:"graphiteRewardMultiplier",label:"Graphite Reward",description:"Graphite reward multiplier.",format:"multiplier",category:"Economy"},{key:"waxRewardMultiplier",label:"Wax Reward",description:"Wax reward multiplier.",format:"multiplier",category:"Economy"},{key:"charcoalRewardMultiplier",label:"Charcoal Reward",description:"Charcoal reward multiplier.",format:"multiplier",category:"Economy"},{key:"coffeeRewardMultiplier",label:"Coffee Reward",description:"Coffee reward multiplier.",format:"multiplier",category:"Economy"},{key:"inkRewardMultiplier",label:"Ink Reward",description:"Ink reward multiplier.",format:"multiplier",category:"Economy"},{key:"markerRewardMultiplier",label:"Marker Reward",description:"Marker reward multiplier.",format:"multiplier",category:"Economy"},{key:"acrylicRewardMultiplier",label:"Acrylic Reward",description:"Acrylic reward multiplier.",format:"multiplier",category:"Economy"},{key:"sprayRewardMultiplier",label:"Spray Reward",description:"Spray reward multiplier.",format:"multiplier",category:"Economy"},{key:"photonRewardMultiplier",label:"Photon Reward",description:"Photon reward multiplier.",format:"multiplier",category:"Economy"},{key:"goldLeafRewardMultiplier",label:"Gold Leaf Reward",description:"Gold Leaf reward multiplier.",format:"multiplier",category:"Economy"},{key:"graphiteGeneratorMultiplier",label:"Graphite Overclock",description:"Multiplier for Graphite production.",format:"multiplier",category:"Economy"},{key:"waxGeneratorMultiplier",label:"Wax Overclock",description:"Multiplier for Wax production.",format:"multiplier",category:"Economy"},{key:"charcoalGeneratorMultiplier",label:"Charcoal Overclock",description:"Multiplier for Charcoal production.",format:"multiplier",category:"Economy"},{key:"coffeeGeneratorMultiplier",label:"Coffee Overclock",description:"Multiplier for Coffee production.",format:"multiplier",category:"Economy"},{key:"inkGeneratorMultiplier",label:"Ink Overclock",description:"Multiplier for Ink production.",format:"multiplier",category:"Economy"},{key:"markerGeneratorMultiplier",label:"Marker Overclock",description:"Multiplier for Marker production.",format:"multiplier",category:"Economy"},{key:"acrylicGeneratorMultiplier",label:"Acrylic Overclock",description:"Multiplier for Acrylic production.",format:"multiplier",category:"Economy"},{key:"sprayGeneratorMultiplier",label:"Spray Overclock",description:"Multiplier for Spray production.",format:"multiplier",category:"Economy"},{key:"photonGeneratorMultiplier",label:"Photon Overclock",description:"Multiplier for Photon production.",format:"multiplier",category:"Economy"},{key:"goldLeafGeneratorMultiplier",label:"Gold Leaf Overclock",description:"Multiplier for Gold Leaf production.",format:"multiplier",category:"Economy"}],Ky={rarities:{bg:"bg-amber-50",border:"border-amber-400",accent:"text-amber-600"},stats:{bg:"bg-red-50",border:"border-red-400",accent:"text-red-600"},shop:{bg:"bg-teal-50",border:"border-teal-500",accent:"text-teal-700"},archive:{bg:"bg-purple-50",border:"border-purple-400",accent:"text-purple-600"},fundamentals:{bg:"bg-blue-50",border:"border-blue-400",accent:"text-blue-600"}},Ir=[{id:"root",name:"Rough Beginnings",description:"+1% Rough rarity chance",maxLevel:90,effectPerLevel:1,effectType:"ROUGH_CHANCE",baseCost:10,costMultiplier:10,parentId:null,category:"rarities",position:{x:0,y:0}},{id:"stats-1",name:"Thick Canvas",description:"+1% HP",maxLevel:1e3,effectPerLevel:1,effectType:"HP_PERCENT",baseCost:2,costMultiplier:1.2,parentId:"root",category:"stats",position:{x:0,y:-200}},{id:"stats-2",name:"Bold Strokes",description:"+1% ATK",maxLevel:1e3,effectPerLevel:1,effectType:"ATK_PERCENT",baseCost:3,costMultiplier:1.3,parentId:"stats-1",category:"stats",position:{x:0,y:-400}},{id:"stats-3",name:"Rapid Execution",description:"-0.05% Attack Delay",maxLevel:100,effectPerLevel:.05,effectType:"ATK_SPEED",baseCost:5,costMultiplier:2,parentId:"stats-2",category:"stats",position:{x:-250,y:-400}},{id:"stats-bolder",name:"Bolder Strokes",description:"+2% ATK",maxLevel:1e3,effectPerLevel:2,effectType:"ATK_PERCENT",baseCost:100,costMultiplier:2,parentId:"stats-2",category:"stats",rarityLock:{rarity:"rough",count:10},position:{x:0,y:-600}},{id:"stats-min-dmg",name:"Precision Handling",description:"+1% Min Damage",maxLevel:100,effectPerLevel:1,effectType:"MIN_DAMAGE_PERCENT",baseCost:1e4,costMultiplier:6,parentId:"stats-bolder",category:"stats",rarityLock:{rarity:"framed",count:2},position:{x:-250,y:-600}},{id:"stats-max-dmg",name:"Heavy Hand",description:"+1% Max Damage",maxLevel:200,effectPerLevel:1,effectType:"MAX_DAMAGE_PERCENT",baseCost:1e4,costMultiplier:5,parentId:"stats-bolder",category:"stats",rarityLock:{rarity:"framed",count:1},position:{x:250,y:-600}},{id:"stats-regen",name:"Steady Hand",description:"+0.1% Regen",maxLevel:500,effectPerLevel:.1,effectType:"REGEN_PERCENT",baseCost:5,costMultiplier:2,parentId:"stats-1",category:"stats",rarityLock:{rarity:"rough",count:3},position:{x:-250,y:-200}},{id:"stats-armor",name:"Layering",description:"+0.1% Armor",maxLevel:500,effectPerLevel:.1,effectType:"ARMOR_PERCENT",baseCost:5,costMultiplier:3,parentId:"stats-regen",category:"stats",position:{x:-500,y:-200}},{id:"stats-dodge",name:"Negative Space",description:"+0.1% Dodge",maxLevel:250,effectPerLevel:.1,effectType:"DODGE_PERCENT",baseCost:10,costMultiplier:4,parentId:"stats-armor",category:"stats",rarityLock:{rarity:"framed",count:1},position:{x:-500,y:-400}},{id:"stats-armor-pen",name:"Pierce",description:"+0.1% Armor Pen",maxLevel:500,effectPerLevel:.1,effectType:"ARMOR_PEN_PERCENT",baseCost:10,costMultiplier:4,parentId:"stats-armor",category:"stats",rarityLock:{rarity:"rough",count:12},position:{x:-750,y:-200}},{id:"stats-lifesteal",name:"Siphon",description:"+0.1% Lifesteal",maxLevel:500,effectPerLevel:.1,effectType:"LIFESTEAL_PERCENT",baseCost:25,costMultiplier:5,parentId:"stats-2",category:"stats",rarityLock:{rarity:"rough",count:16},position:{x:250,y:-400}},{id:"stats-execute",name:"Cull",description:"+0.1% Execute",maxLevel:500,effectPerLevel:.1,effectType:"EXECUTE_PERCENT",baseCost:50,costMultiplier:7,parentId:"stats-max-dmg",category:"stats",rarityLock:{rarity:"framed",count:4},position:{x:250,y:-800}},{id:"stats-block-chance",name:"Guard",description:"+0.1% Block Chance",maxLevel:100,effectPerLevel:.1,effectType:"BLOCK_CHANCE_PERCENT",baseCost:100,costMultiplier:7,parentId:"stats-dodge",category:"stats",rarityLock:{rarity:"framed",count:5},position:{x:-750,y:-400}},{id:"stats-block-amount",name:"Fortify",description:"+0.1% Block Amount",maxLevel:500,effectPerLevel:.1,effectType:"BLOCK_AMOUNT_PERCENT",baseCost:100,costMultiplier:7,parentId:"stats-block-chance",category:"stats",position:{x:-1e3,y:-400}},{id:"stats-accuracy",name:"Accuracy Focus",description:"+0.1% Accuracy",maxLevel:100,effectPerLevel:.1,effectType:"ACCURACY_PERCENT",baseCost:1e25,costMultiplier:9,parentId:"stats-execute",category:"stats",rarityLock:{rarity:"framed",count:8},position:{x:250,y:-1e3}},{id:"stats-bleed-chance",name:"Bleed Infusion",description:"+0.1% Bleed Chance",maxLevel:50,effectPerLevel:.1,effectType:"BLEED_CHANCE_PERCENT",baseCost:1e20,costMultiplier:8,parentId:"stats-min-dmg",category:"stats",rarityLock:{rarity:"framed",count:6},position:{x:-250,y:-800}},{id:"stats-plague-chance",name:"Plague Infusion",description:"+0.1% Plague Chance",maxLevel:250,effectPerLevel:.1,effectType:"PLAGUE_CHANCE_PERCENT",baseCost:1e22,costMultiplier:8,parentId:"stats-bleed-chance",category:"stats",position:{x:-250,y:-1e3}},{id:"stats-burn-chance",name:"Burn Infusion",description:"+0.1% Burn Chance",maxLevel:50,effectPerLevel:.1,effectType:"BURN_CHANCE_PERCENT",baseCost:1e24,costMultiplier:8,parentId:"stats-plague-chance",category:"stats",rarityLock:{rarity:"framed",count:7},position:{x:0,y:-1e3}},{id:"stats-burn-dmg",name:"Burn Searing",description:"+0.1% Burn Damage",maxLevel:500,effectPerLevel:.1,effectType:"BURN_DAMAGE_PERCENT",baseCost:1e25,costMultiplier:9,parentId:"stats-burn-chance",category:"stats",position:{x:0,y:-800}},{id:"stats-electro-chance",name:"Electrocute Infusion",description:"+0.1% Electrocute Chance",maxLevel:50,effectPerLevel:.1,effectType:"ELECTROCUTE_CHANCE_PERCENT",baseCost:1e35,costMultiplier:9,parentId:"stats-plague-chance",category:"stats",rarityLock:{rarity:"framed",count:9},position:{x:-250,y:-1200}},{id:"stats-curse-chance",name:"Curse Infusion",description:"+0.1% Curse Chance",maxLevel:50,effectPerLevel:.1,effectType:"CURSE_CHANCE_PERCENT",baseCost:1e36,costMultiplier:11,parentId:"stats-electro-chance",category:"stats",position:{x:0,y:-1200}},{id:"archive-1",name:"Essence Refinement",description:"+0.1% Quintessence gain",maxLevel:1e3,effectPerLevel:.1,effectType:"QUINTESSENCE_GAIN",baseCost:3,costMultiplier:3,parentId:"root",category:"archive",position:{x:-250,y:0}},{id:"rarity-1",name:"Refined Lines",description:"+0.1% Framed chance",maxLevel:750,effectPerLevel:.1,effectType:"FRAMED_CHANCE",baseCost:1e3,costMultiplier:100,parentId:"archive-1",category:"rarities",rarityLock:{rarity:"rough",count:1},position:{x:-500,y:0}},{id:"rarity-rough-q",name:"Rough Abundance",description:"+1 Guaranteed Rough Sketch",maxLevel:10,effectPerLevel:1,effectType:"ROUGH_SKETCHES",baseCost:1e20,costMultiplier:1e20,parentId:"rarity-1",category:"rarities",rarityLock:{rarity:"rough",count:20},position:{x:-500,y:200}},{id:"rarity-framed-q",name:"Framed Focus",description:"+1 Guaranteed Framed Sketch",maxLevel:7,effectPerLevel:1,effectType:"FRAMED_SKETCHES",baseCost:1e30,costMultiplier:1e30,parentId:"rarity-rough-q",category:"rarities",rarityLock:{rarity:"framed",count:10},position:{x:-750,y:200}},{id:"rarity-opus-q",name:"Opus Vision",description:"+1 Guaranteed Opus Sketch",maxLevel:5,effectPerLevel:1,effectType:"OPUS_SKETCHES",baseCost:1e50,costMultiplier:1e50,parentId:"rarity-framed-q",category:"rarities",rarityLock:{rarity:"opus",count:5},position:{x:-1e3,y:200}},{id:"rarity-master-q",name:"Masterpiece Order",description:"+1 Guaranteed Masterpiece Sketch",maxLevel:3,effectPerLevel:1,effectType:"MASTERPIECE_SKETCHES",baseCost:1e100,costMultiplier:1e100,parentId:"rarity-opus-q",category:"rarities",rarityLock:{rarity:"masterpiece",count:3},position:{x:-1250,y:200}},{id:"rarity-2",name:"Divine Inspiration",description:"+0.025% Opus chance",maxLevel:1e3,effectPerLevel:.025,effectType:"OPUS_CHANCE",baseCost:1e8,costMultiplier:1e3,parentId:"rarity-1",category:"rarities",rarityLock:{rarity:"framed",count:1},position:{x:-750,y:0}},{id:"rarity-3",name:"Masterful Strokes",description:"+0.01% Masterpiece chance",maxLevel:1e3,effectPerLevel:.01,effectType:"MASTERPIECE_CHANCE",baseCost:1618e9,costMultiplier:16180,parentId:"rarity-2",category:"rarities",rarityLock:{rarity:"opus",count:1},position:{x:-1e3,y:0}},{id:"fund-overkill",name:"Divine Retribution",description:"+10% Overkill",maxLevel:10,effectPerLevel:.1,effectType:"OVERKILL_BONUS",baseCost:1e11,costMultiplier:25,parentId:"fund-4",category:"fundamentals",rarityLock:{rarity:"rough",count:7},position:{x:-250,y:400}},{id:"shop-1",name:"Efficient Shading",description:"-0.1% Graphite cost",maxLevel:500,effectPerLevel:.1,effectType:"GRAPHITE_UPGRADE_COST",baseCost:5,costMultiplier:1.5,parentId:"root",category:"shop",position:{x:250,y:0}},{id:"shop-3",name:"Soft Touch",description:"-0.1% Wax cost",maxLevel:500,effectPerLevel:.1,effectType:"WAX_UPGRADE_COST",baseCost:50,costMultiplier:1.6,parentId:"shop-1",category:"shop",position:{x:250,y:200}},{id:"shop-5",name:"Charcoal Efficiency",description:"-0.1% Charcoal cost",maxLevel:500,effectPerLevel:.1,effectType:"CHARCOAL_UPGRADE_COST",baseCost:500,costMultiplier:1.7,parentId:"shop-3",category:"shop",position:{x:250,y:400}},{id:"shop-8",name:"Caffeine Economy",description:"-0.1% Coffee cost",maxLevel:500,effectPerLevel:.1,effectType:"COFFEE_UPGRADE_COST",baseCost:5e3,costMultiplier:1.8,parentId:"shop-5",category:"shop",rarityLock:{rarity:"rough",count:1},position:{x:250,y:600}},{id:"shop-11",name:"Ink Thrift",description:"-0.1% Ink cost",maxLevel:500,effectPerLevel:.1,effectType:"INK_UPGRADE_COST",baseCost:5e4,costMultiplier:1.9,parentId:"shop-8",category:"shop",rarityLock:{rarity:"rough",count:2},position:{x:250,y:800}},{id:"shop-13",name:"Marker Savings",description:"-0.1% Marker cost",maxLevel:500,effectPerLevel:.1,effectType:"MARKER_UPGRADE_COST",baseCost:5e5,costMultiplier:2,parentId:"shop-11",category:"shop",rarityLock:{rarity:"rough",count:3},position:{x:250,y:1e3}},{id:"shop-15",name:"Acrylic Efficiency",description:"-0.1% Acrylic cost",maxLevel:500,effectPerLevel:.1,effectType:"ACRYLIC_UPGRADE_COST",baseCost:5e6,costMultiplier:2.1,parentId:"shop-13",category:"shop",rarityLock:{rarity:"framed",count:4},position:{x:250,y:1200}},{id:"shop-17",name:"Spray Control",description:"-0.1% Spray cost",maxLevel:500,effectPerLevel:.1,effectType:"SPRAY_UPGRADE_COST",baseCost:5e7,costMultiplier:2.2,parentId:"shop-15",category:"shop",rarityLock:{rarity:"framed",count:9},position:{x:250,y:1400}},{id:"shop-19",name:"Photon Refraction",description:"-0.1% Photon cost",maxLevel:500,effectPerLevel:.1,effectType:"PHOTON_UPGRADE_COST",baseCost:5e8,costMultiplier:2.3,parentId:"shop-17",category:"shop",rarityLock:{rarity:"framed",count:14},position:{x:250,y:1600}},{id:"shop-21",name:"Gold Leaf Gilding",description:"-0.1% Gold Leaf cost",maxLevel:500,effectPerLevel:.1,effectType:"GOLD_LEAF_UPGRADE_COST",baseCost:5e9,costMultiplier:2.5,parentId:"shop-19",category:"shop",rarityLock:{rarity:"opus",count:7},position:{x:250,y:1800}},{id:"shop-6",name:"Graphite Mastery",description:"+1% Graphite rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"GRAPHITE_REWARD",baseCost:150,costMultiplier:2,parentId:"shop-1",category:"shop",position:{x:500,y:0}},{id:"shop-7",name:"Wax Mastery",description:"+1% Wax rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"WAX_REWARD",baseCost:1500,costMultiplier:2.2,parentId:"shop-3",category:"shop",position:{x:500,y:200}},{id:"shop-10",name:"Charcoal Mastery",description:"+1% Charcoal rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"CHARCOAL_REWARD",baseCost:15e3,costMultiplier:2.4,parentId:"shop-5",category:"shop",position:{x:500,y:400}},{id:"shop-9",name:"Coffee Mastery",description:"+1% Coffee rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"COFFEE_REWARD",baseCost:15e4,costMultiplier:2.6,parentId:"shop-8",category:"shop",position:{x:500,y:600}},{id:"shop-12",name:"Ink Mastery",description:"+1% Ink rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"INK_REWARD",baseCost:15e5,costMultiplier:2.8,parentId:"shop-11",category:"shop",position:{x:500,y:800}},{id:"shop-14",name:"Marker Mastery",description:"+1% Marker rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"MARKER_REWARD",baseCost:15e6,costMultiplier:3,parentId:"shop-13",category:"shop",position:{x:500,y:1e3}},{id:"shop-16",name:"Acrylic Mastery",description:"+1% Acrylic rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"ACRYLIC_REWARD",baseCost:15e7,costMultiplier:3.2,parentId:"shop-15",category:"shop",position:{x:500,y:1200}},{id:"shop-18",name:"Spray Mastery",description:"+1% Spray rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"SPRAY_REWARD",baseCost:15e8,costMultiplier:3.4,parentId:"shop-17",category:"shop",position:{x:500,y:1400}},{id:"shop-20",name:"Photon Mastery",description:"+1% Photon rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"PHOTON_REWARD",baseCost:15e9,costMultiplier:3.6,parentId:"shop-19",category:"shop",position:{x:500,y:1600}},{id:"shop-22",name:"Gold Leaf Mastery",description:"+1% Gold Leaf rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"GOLD_LEAF_REWARD",baseCost:15e10,costMultiplier:4,parentId:"shop-21",category:"shop",position:{x:500,y:1800}},{id:"shop-6-exp",name:"Graphite Resonance",description:"+0.01 Graphite rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"GRAPHITE_REWARD_EXPONENT",baseCost:300,costMultiplier:3,parentId:"shop-6",category:"shop",rarityLock:{rarity:"rough",count:1},position:{x:750,y:0}},{id:"shop-7-exp",name:"Wax Resonance",description:"+0.01 Wax rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"WAX_REWARD_EXPONENT",baseCost:3e4,costMultiplier:3.3,parentId:"shop-7",category:"shop",rarityLock:{rarity:"rough",count:2},position:{x:750,y:200}},{id:"shop-10-exp",name:"Charcoal Resonance",description:"+0.01 Charcoal rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"CHARCOAL_REWARD_EXPONENT",baseCost:3e6,costMultiplier:3.6,parentId:"shop-10",category:"shop",rarityLock:{rarity:"rough",count:3},position:{x:750,y:400}},{id:"shop-9-exp",name:"Coffee Resonance",description:"+0.01 Coffee rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"COFFEE_REWARD_EXPONENT",baseCost:3e8,costMultiplier:3.9,parentId:"shop-9",category:"shop",rarityLock:{rarity:"rough",count:4},position:{x:750,y:600}},{id:"shop-12-exp",name:"Ink Resonance",description:"+0.01 Ink rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"INK_REWARD_EXPONENT",baseCost:3e10,costMultiplier:4.2,parentId:"shop-12",category:"shop",rarityLock:{rarity:"rough",count:5},position:{x:750,y:800}},{id:"shop-14-exp",name:"Marker Resonance",description:"+0.01 Marker rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"MARKER_REWARD_EXPONENT",baseCost:3e12,costMultiplier:4.5,parentId:"shop-14",category:"shop",rarityLock:{rarity:"rough",count:6},position:{x:750,y:1e3}},{id:"shop-16-exp",name:"Acrylic Resonance",description:"+0.01 Acrylic rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"ACRYLIC_REWARD_EXPONENT",baseCost:3e14,costMultiplier:4.8,parentId:"shop-16",category:"shop",rarityLock:{rarity:"rough",count:7},position:{x:750,y:1200}},{id:"shop-18-exp",name:"Spray Resonance",description:"+0.01 Spray rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"SPRAY_REWARD_EXPONENT",baseCost:3e16,costMultiplier:5.1,parentId:"shop-18",category:"shop",rarityLock:{rarity:"rough",count:8},position:{x:750,y:1400}},{id:"shop-20-exp",name:"Photon Resonance",description:"+0.01 Photon rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"PHOTON_REWARD_EXPONENT",baseCost:3e18,costMultiplier:5.4,parentId:"shop-20",category:"shop",rarityLock:{rarity:"rough",count:9},position:{x:750,y:1600}},{id:"shop-22-exp",name:"Gold Leaf Resonance",description:"+0.01 Gold Leaf rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"GOLD_LEAF_REWARD_EXPONENT",baseCost:3e20,costMultiplier:5.7,parentId:"shop-22",category:"shop",rarityLock:{rarity:"rough",count:10},position:{x:750,y:1800}},{id:"shop-2",name:"Prepared Studio",description:"Start with free tools",maxLevel:10,effectPerLevel:1,effectType:"FREE_TOOLS",baseCost:777,costMultiplier:77777,parentId:"shop-1",category:"shop",position:{x:250,y:-200}},{id:"shop-4",name:"Automated Workflow",description:"Auto-enable active protocols",maxLevel:5,effectPerLevel:1,effectType:"AUTO_ENABLE_TOOLS",baseCost:999999,costMultiplier:9e19,parentId:"shop-2",category:"shop",position:{x:500,y:-200}},{id:"fund-1",name:"Lasting Impressions",description:"+0.01% diminishing returns",maxLevel:500,effectPerLevel:.01,effectType:"DIMINISHING_RETURNS",baseCost:15e3,costMultiplier:25,parentId:"root",category:"fundamentals",position:{x:0,y:200}},{id:"fund-4",name:"Perspective Shift",description:"+1 Lookahead",maxLevel:7,effectPerLevel:1,effectType:"LOOKAHEAD_BONUS",baseCost:1e6,costMultiplier:1e35,parentId:"fund-1",category:"fundamentals",position:{x:-250,y:200}},{id:"fund-buy-max",name:"Iterative Refinement",description:"Unlock Buy Max for Skill Tree",maxLevel:1,effectPerLevel:1,effectType:"BUY_MAX_SKILL_TREE",baseCost:1e12,costMultiplier:2,parentId:"shop-4",category:"fundamentals",position:{x:750,y:-200}},{id:"fund-2",name:"Quick Escape",description:"-0.1s flee penalty",maxLevel:30,effectPerLevel:.1,effectType:"FLEE_PENALTY",baseCost:8e3,costMultiplier:8,parentId:"fund-1",category:"fundamentals",position:{x:0,y:400}},{id:"fund-3",name:"Swift Recovery",description:"-0.1s death penalty",maxLevel:50,effectPerLevel:.1,effectType:"DEATH_PENALTY",baseCost:9e3,costMultiplier:9,parentId:"fund-2",category:"fundamentals",position:{x:0,y:600}},{id:"fund-time-accel",name:"Temporal Flow",description:"+0.01 Time Acceleration",maxLevel:200,effectPerLevel:.01,effectType:"TIME_ACCELERATION_BONUS",baseCost:1e13,costMultiplier:12e6,parentId:"fund-overkill",category:"fundamentals",rarityLock:{rarity:"framed",count:3},position:{x:-500,y:400}},{id:"shop-auto-start",name:"Persistent Momentum",description:"Battle Stick Man on Redraw",maxLevel:1,effectPerLevel:1,effectType:"AUTO_START_ON_REDRAW",baseCost:1e14,costMultiplier:100,parentId:"shop-4",category:"shop",rarityLock:{rarity:"rough",count:10},position:{x:500,y:-400}},{id:"fund-gen-double",name:"Industrial Overclock",description:"Double all generators",maxLevel:15,effectPerLevel:1,effectType:"GENERATOR_MULTIPLIER_EXPONENT",baseCost:25e12,costMultiplier:25e3,parentId:"fund-3",category:"archive",rarityLock:{rarity:"rough",count:15},position:{x:-250,y:600}},{id:"gen-over-1",name:"Graphite Overclock",description:"10x Graphite generator.",maxLevel:15,effectPerLevel:1,effectType:"GRAPHITE_GENERATOR_MULTIPLIER",baseCost:1e24,costMultiplier:1e5,parentId:"fund-gen-double",category:"archive",rarityLock:{rarity:"scrap",count:33},position:{x:-250,y:800}},{id:"gen-over-2",name:"Wax Overclock",description:"10x Wax generator.",maxLevel:15,effectPerLevel:1,effectType:"WAX_GENERATOR_MULTIPLIER",baseCost:1e28,costMultiplier:1e6,parentId:"gen-over-1",category:"archive",rarityLock:{rarity:"scrap",count:39},position:{x:-450,y:800}},{id:"gen-over-3",name:"Charcoal Overclock",description:"10x Charcoal generator.",maxLevel:15,effectPerLevel:1,effectType:"CHARCOAL_GENERATOR_MULTIPLIER",baseCost:1e33,costMultiplier:1e7,parentId:"gen-over-2",category:"archive",rarityLock:{rarity:"rough",count:20},position:{x:-450,y:1e3}},{id:"gen-over-4",name:"Coffee Overclock",description:"10x Coffee generator.",maxLevel:15,effectPerLevel:1,effectType:"COFFEE_GENERATOR_MULTIPLIER",baseCost:1e39,costMultiplier:1e8,parentId:"gen-over-3",category:"archive",rarityLock:{rarity:"rough",count:25},position:{x:-250,y:1e3}},{id:"gen-over-5",name:"Ink Overclock",description:"10x Ink generator.",maxLevel:15,effectPerLevel:1,effectType:"INK_GENERATOR_MULTIPLIER",baseCost:1e46,costMultiplier:1e11,parentId:"gen-over-4",category:"archive",rarityLock:{rarity:"framed",count:8},position:{x:-250,y:1200}},{id:"gen-over-6",name:"Marker Overclock",description:"10x Marker generator.",maxLevel:15,effectPerLevel:1,effectType:"MARKER_GENERATOR_MULTIPLIER",baseCost:1e55,costMultiplier:1e15,parentId:"gen-over-5",category:"archive",rarityLock:{rarity:"framed",count:15},position:{x:-450,y:1200}},{id:"gen-over-7",name:"Acrylic Overclock",description:"10x Acrylic generator.",maxLevel:15,effectPerLevel:1,effectType:"ACRYLIC_GENERATOR_MULTIPLIER",baseCost:1e66,costMultiplier:1e20,parentId:"gen-over-6",category:"archive",rarityLock:{rarity:"opus",count:5},position:{x:-450,y:1400}},{id:"gen-over-8",name:"Spray Overclock",description:"10x Spray generator.",maxLevel:15,effectPerLevel:1,effectType:"SPRAY_GENERATOR_MULTIPLIER",baseCost:1e78,costMultiplier:1e26,parentId:"gen-over-7",category:"archive",rarityLock:{rarity:"opus",count:12},position:{x:-250,y:1400}},{id:"gen-over-9",name:"Photon Overclock",description:"10x Photon generator.",maxLevel:15,effectPerLevel:1,effectType:"PHOTON_GENERATOR_MULTIPLIER",baseCost:1e91,costMultiplier:1e33,parentId:"gen-over-8",category:"archive",rarityLock:{rarity:"masterpiece",count:4},position:{x:-250,y:1600}},{id:"gen-over-10",name:"Gold Leaf Overclock",description:"10x Gold Leaf generator.",maxLevel:15,effectPerLevel:1,effectType:"GOLD_LEAF_GENERATOR_MULTIPLIER",baseCost:1e105,costMultiplier:1e42,parentId:"gen-over-9",category:"archive",rarityLock:{rarity:"masterpiece",count:8},position:{x:-450,y:1600}}],kb=(t,a)=>a>=t.maxLevel?new f(1/0):new f(t.baseCost).times(new f(t.costMultiplier).pow(a)),hl=t=>Ir.find(a=>a.id===t),Sb=(t,a)=>{const i=hl(t);return i?i.parentId===null?!0:(a[i.parentId]??0)>=1:!1},Cb=(t,a)=>{const i=hl(t);if(!i)return!1;if(i.parentId===null||(a[t]??0)>=1||(a[i.parentId]??0)>=1)return!0;const s=Ir.filter(l=>l.parentId===t);for(const l of s)if((a[l.id]??0)>=1)return!0;return!1},Eb=(t,a)=>{const i=a.position.x-t.position.x,s=a.position.y-t.position.y;return Math.abs(i)>Math.abs(s)?i>0?{sourceHandle:"right",targetHandle:"left"}:{sourceHandle:"left",targetHandle:"right"}:s>0?{sourceHandle:"bottom",targetHandle:"top"}:{sourceHandle:"top",targetHandle:"bottom"}},Ks=t=>{const a={...a0};for(const[i,s]of Object.entries(t)){if(s===0)continue;const l=hl(i);if(!l)continue;const c=l.effectPerLevel*s;switch(l.effectType){case"ROUGH_CHANCE":a.roughRarity+=c;break;case"FRAMED_CHANCE":a.framedRarity+=c;break;case"OPUS_CHANCE":a.opusRarity+=c;break;case"MASTERPIECE_CHANCE":a.masterpieceRarity+=c;break;case"REGEN_PERCENT":a.regenIncrease+=c;break;case"ARMOR_PERCENT":a.armorIncrease+=c;break;case"DODGE_PERCENT":a.dodgeIncrease+=c;break;case"ATK_PERCENT":a.attackIncrease+=c;break;case"HP_PERCENT":a.hpIncrease+=c;break;case"QUINTESSENCE_GAIN":a.quintessenceGain+=c;break;case"GRAPHITE_UPGRADE_COST":a.graphiteUpgradeCost+=c;break;case"WAX_UPGRADE_COST":a.waxUpgradeCost+=c;break;case"FREE_TOOLS":a.freeTools=Math.max(a.freeTools,s);break;case"DIMINISHING_RETURNS":a.diminishingReturns=a.diminishingReturns.plus(c/100);break;case"FLEE_PENALTY":a.fleePenalty=Math.max(0,a.fleePenalty-c);break;case"DEATH_PENALTY":a.deathRecovery=Math.max(0,a.deathRecovery-c);break;case"LOOKAHEAD_BONUS":a.lookahead+=c;break;case"ATK_SPEED":a.attackDelay+=c;break;case"AUTO_ENABLE_TOOLS":a.autoEnableTools=Math.max(a.autoEnableTools,s);break;case"CHARCOAL_UPGRADE_COST":a.charcoalUpgradeCost+=c;break;case"COFFEE_UPGRADE_COST":a.coffeeUpgradeCost+=c;break;case"INK_UPGRADE_COST":a.inkUpgradeCost+=c;break;case"MARKER_UPGRADE_COST":a.markerUpgradeCost+=c;break;case"ACRYLIC_UPGRADE_COST":a.acrylicUpgradeCost+=c;break;case"SPRAY_UPGRADE_COST":a.sprayUpgradeCost+=c;break;case"PHOTON_UPGRADE_COST":a.photonUpgradeCost+=c;break;case"GOLD_LEAF_UPGRADE_COST":a.goldLeafUpgradeCost+=c;break;case"GRAPHITE_REWARD":a.graphiteRewardMultiplier+=c;break;case"WAX_REWARD":a.waxRewardMultiplier+=c;break;case"CHARCOAL_REWARD":a.charcoalRewardMultiplier+=c;break;case"COFFEE_REWARD":a.coffeeRewardMultiplier+=c;break;case"INK_REWARD":a.inkRewardMultiplier+=c;break;case"MARKER_REWARD":a.markerRewardMultiplier+=c;break;case"ACRYLIC_REWARD":a.acrylicRewardMultiplier+=c;break;case"SPRAY_REWARD":a.sprayRewardMultiplier+=c;break;case"PHOTON_REWARD":a.photonRewardMultiplier+=c;break;case"GOLD_LEAF_REWARD":a.goldLeafRewardMultiplier+=c;break;case"GRAPHITE_REWARD_EXPONENT":a.graphiteRewardExponent+=c;break;case"WAX_REWARD_EXPONENT":a.waxRewardExponent+=c;break;case"CHARCOAL_REWARD_EXPONENT":a.charcoalRewardExponent+=c;break;case"COFFEE_REWARD_EXPONENT":a.coffeeRewardExponent+=c;break;case"INK_REWARD_EXPONENT":a.inkRewardExponent+=c;break;case"MARKER_REWARD_EXPONENT":a.markerRewardExponent+=c;break;case"ACRYLIC_REWARD_EXPONENT":a.acrylicRewardExponent+=c;break;case"SPRAY_REWARD_EXPONENT":a.sprayRewardExponent+=c;break;case"PHOTON_REWARD_EXPONENT":a.photonRewardExponent+=c;break;case"GOLD_LEAF_REWARD_EXPONENT":a.goldLeafRewardExponent+=c;break;case"TIME_ACCELERATION_BONUS":a.timeAcceleration+=c;break;case"AUTO_START_ON_REDRAW":s>0&&(a.autoStartOnRedraw=1);break;case"GENERATOR_MULTIPLIER_EXPONENT":a.generatorMultiplier=Math.pow(2,s);break;case"OVERKILL_BONUS":a.overkillMultiplier+=c;break;case"MIN_DAMAGE_PERCENT":a.minDamageIncrease+=c;break;case"MAX_DAMAGE_PERCENT":a.maxDamageIncrease+=c;break;case"ARMOR_PEN_PERCENT":a.armorPenIncrease+=c;break;case"LIFESTEAL_PERCENT":a.lifestealIncrease+=c;break;case"EXECUTE_PERCENT":a.executeIncrease+=c;break;case"BLOCK_CHANCE_PERCENT":a.blockChanceIncrease+=c;break;case"BLOCK_AMOUNT_PERCENT":a.blockAmountIncrease+=c;break;case"ROUGH_SKETCHES":a.roughSketches+=c;break;case"FRAMED_SKETCHES":a.framedSketches+=c;break;case"OPUS_SKETCHES":a.opusSketches+=c;break;case"MASTERPIECE_SKETCHES":a.masterpieceSketches+=c;break;case"ACCURACY_PERCENT":a.accuracyIncrease+=c;break;case"BLEED_CHANCE_PERCENT":a.bleedChanceIncrease+=c;break;case"PLAGUE_CHANCE_PERCENT":a.plagueChanceIncrease+=c;break;case"BURN_CHANCE_PERCENT":a.burnChanceIncrease+=c;break;case"BURN_DAMAGE_PERCENT":a.burnDamageIncrease+=c;break;case"ELECTROCUTE_CHANCE_PERCENT":a.electrocuteChanceIncrease+=c;break;case"CURSE_CHANCE_PERCENT":a.curseChanceIncrease+=c;break}}return a.roughRarity=Math.min(100,a.roughRarity),a.framedRarity=Math.min(100,a.framedRarity),a.opusRarity=Math.min(100,a.opusRarity),a.masterpieceRarity=Math.min(100,a.masterpieceRarity),a.graphiteUpgradeCost=Math.min(99,a.graphiteUpgradeCost),a.waxUpgradeCost=Math.min(99,a.waxUpgradeCost),a.charcoalUpgradeCost=Math.min(99,a.charcoalUpgradeCost),a.coffeeUpgradeCost=Math.min(99,a.coffeeUpgradeCost),a.inkUpgradeCost=Math.min(99,a.inkUpgradeCost),a.markerUpgradeCost=Math.min(99,a.markerUpgradeCost),a.acrylicUpgradeCost=Math.min(99,a.acrylicUpgradeCost),a.sprayUpgradeCost=Math.min(99,a.sprayUpgradeCost),a.photonUpgradeCost=Math.min(99,a.photonUpgradeCost),a.goldLeafUpgradeCost=Math.min(99,a.goldLeafUpgradeCost),a.attackDelay=Math.min(90,a.attackDelay),a},Sg=["","K","M","B","T","Qa","Qi","Sx","Sp","Oc"],ke=(t,a=2)=>{const i=f.isBigNumber(t)?t:new f(t);if(i.isNaN()||!i.isFinite()||i.isZero())return"0";const s=i.abs();if(s.lt(1e-4))return i.toExponential(a);if(s.lt(1))return i.decimalPlaces(4).toString();if(s.lt(1e4))return i.isInteger()?i.toString():i.decimalPlaces(a).toString();const l=Math.floor(Math.log10(s.toNumber())/3);if(l<Sg.length){const c=Sg[l],u=new f(10).pow(l*3);return i.div(u).decimalPlaces(a,f.ROUND_DOWN).toString()+c}return i.toExponential(a)},ac=t=>{if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(ac);const a=["HP","ATK","SPD","Regen","Dodge","Lifesteal","CritChance","CritDmg","Armor","MinDamage","MaxDamage","Accuracy","ArmorPen","Execute","Parry","ParryDmg","GlancingBlow","Counter","BleedChance","BurnChance","HinderChance","currentPlayerHp","currentEnemyHp","enemyMaxHp","rewardDiminishingMultiplier","ink","quintessence","pendingQuintessence","glossaryMultiplier"],i={};for(const s in t)if(a.includes(s))i[s]=new f(t[s]);else if(s==="currencies"||s==="shopLevels"||s==="battleStats"||s==="playerStats"||s==="totalEarnedCurrencies"||s==="totalBattleEarnedCurrencies"||s==="concepts"){const l={};for(const c in t[s])l[c]=new f(t[s][c]);i[s]=l}else i[s]=ac(t[s]);return i},Nb=(t,a)=>{switch(t){case"Graphite":return a.graphiteUpgradeCost;case"Wax":return a.waxUpgradeCost;case"Charcoal":return a.charcoalUpgradeCost;case"Coffee":return a.coffeeUpgradeCost;case"Ink":return a.inkUpgradeCost;case"Marker":return a.markerUpgradeCost;case"Acrylic":return a.acrylicUpgradeCost;case"Spray":return a.sprayUpgradeCost;case"Photon":return a.photonUpgradeCost;case"Gold Leaf":return a.goldLeafUpgradeCost;default:return 0}},Pn=(t,a,i)=>{const s=Nb(a,i);return s>0?t.times(1-s/100):t},zd=t=>{let a=0;for(let u=0;u<t.length;u++)a=(a<<5)-a+t.charCodeAt(u),a=a&a;const i=()=>(a=a*1103515245+12345&2147483647,a/2147483647),s=t.replace(/[^a-zA-Z]/g,"").split("");for(let u=s.length-1;u>0;u--){const m=Math.floor(i()*(u+1));[s[u],s[m]]=[s[m],s[u]]}let l=0,c="";for(let u=0;u<t.length;u++){const m=t[u];if(/[a-zA-Z]/.test(m)){const y=s[l++];c+=m===m.toUpperCase()?y.toUpperCase():y.toLowerCase()}else c+=m}return c},Gi=(t,a,i)=>{const s=typeof a=="number"?a:a.toNumber();let l=t.cost(s);return i.waxToolUnlocked&&t.currency==="Graphite"&&(l=l.times(.5)),i.charcoalDiscountUnlocked&&t.currency==="Charcoal"&&(l=l.times(.5)),i.waxDiscountUnlocked&&t.currency==="Wax"&&(l=l.times(.5)),i.coffeeDiscountUnlocked&&t.currency==="Coffee"&&(l=l.times(.5)),i.inkDiscountUnlocked&&t.currency==="Ink"&&(l=l.times(.5)),l},_b=(t,a,i,s,l)=>{if(i.lt(t)||l>=s)return{levelsToBuy:0,totalCost:new f(0)};const c=s-l;if(a===1){const v=i.div(t).integerValue(f.ROUND_FLOOR).toNumber(),b=Math.min(c,v);return{levelsToBuy:b,totalCost:t.times(b)}}const u=new f(a),m=u.minus(1),y=i.times(m).div(t).plus(1),p=Math.log(y.toNumber())/Math.log(a);let w=Math.floor(p);w=Math.min(w,c);let x=t.times(u.pow(w).minus(1)).div(m);return x.gt(i)&&(w--,x=t.times(u.pow(w).minus(1)).div(m)),{levelsToBuy:Math.max(0,w),totalCost:x}},Ue=({children:t,className:a})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:t}),Bd=({className:t})=>h.jsxs(Ue,{className:t,title:"Health",children:[h.jsx("path",{d:"M24 8.5C19 3 10 3 6 10C2 17 8 28 24 44C40 28 46 17 42 10C38 3 29 3 24 8.5",className:"fill-none"}),h.jsx("path",{d:"M12 14C10 12 10 10 12 8",className:"opacity-50"}),h.jsx("path",{d:"M36 14C38 12 38 10 36 8",className:"opacity-50"}),h.jsx("path",{d:"M24 14V26",className:"opacity-30"}),h.jsx("path",{d:"M16 18L32 18",className:"opacity-30"}),h.jsx("path",{d:"M20 32L28 32",className:"opacity-30"}),h.jsx("path",{d:"M30 14L34 12",className:"opacity-50"}),h.jsx("path",{d:"M18 14L14 12",className:"opacity-50"})]}),Zy=({className:t})=>h.jsxs(Ue,{className:t,title:"Attack",children:[h.jsx("path",{d:"M29 9L39 19"})," ",h.jsx("path",{d:"M19 29L9 39"})," ",h.jsx("path",{d:"M37 11L18 30L16 38L8 40L10 32L29 13L37 11Z"})," ",h.jsx("path",{d:"M29 13L35 19"})," ",h.jsx("path",{d:"M15 27L21 33"})," ",h.jsx("circle",{cx:"13",cy:"35",r:"1.5",className:"fill-current"})," ",h.jsx("path",{d:"M38 6L44 10",className:"opacity-50"}),h.jsx("path",{d:"M42 4L46 8",className:"opacity-50"})]}),rc=({className:t})=>h.jsxs(Ue,{className:t,title:"Speed",children:[h.jsx("path",{d:"M18 38 L40 12 L44 16 L22 42 Z",strokeLinejoin:"round",fill:"none",strokeWidth:"2.5"}),h.jsx("path",{d:"M14 34 L26 46",strokeLinecap:"round",strokeWidth:"2.5"}),h.jsx("path",{d:"M12 44 L16 40",strokeLinecap:"round",className:"opacity-50"})," ",h.jsx("path",{d:"M8 12 H36",strokeLinecap:"round",className:"opacity-80",strokeWidth:"2.5"}),h.jsx("path",{d:"M10 22 H24",strokeLinecap:"round",className:"opacity-80",strokeWidth:"2.5"}),h.jsx("path",{d:"M12 32 H18",strokeLinecap:"round",className:"opacity-60",strokeWidth:"2.5"}),h.jsx("path",{d:"M36 30 L36 44",strokeLinecap:"round",strokeWidth:"2"}),h.jsx("path",{d:"M30 36 L36 30 L42 36",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}),Mb=({className:t})=>h.jsxs(Ue,{className:t,title:"HP Regen",children:[h.jsx("path",{d:"M24 12C20 7 12 7 8 13C4 19 10 28 24 40C38 28 44 19 40 13C36 7 28 7 24 12",className:"fill-none"}),h.jsx("path",{d:"M24 18V28",strokeWidth:"3"}),h.jsx("path",{d:"M19 23H29",strokeWidth:"3"}),h.jsx("path",{d:"M16 10L14 6",className:"opacity-50"}),h.jsx("path",{d:"M32 10L34 6",className:"opacity-50"}),h.jsx("path",{d:"M10 18L6 16",className:"opacity-50"}),h.jsx("path",{d:"M38 18L42 16",className:"opacity-50"})]}),Tb=({className:t})=>h.jsxs(Ue,{className:t,title:"Dodge",children:[h.jsx("path",{d:"M8 36h16c8 0 14-6 14-14 0-4-3-8-8-8"}),h.jsx("path",{d:"M12 20h20"}),h.jsx("path",{d:"M6 12h24"}),h.jsx("path",{d:"M36 12l4 4-4 4",className:"opacity-50"})," "]}),Ab=({className:t})=>h.jsxs(Ue,{className:t,title:"Lifesteal",children:[h.jsx("path",{d:"M24 4v16",strokeDasharray:"4 4",className:"opacity-50"}),h.jsx("path",{d:"M14 6 C14 6 10 16 10 22 C10 32 20 42 24 42 C28 42 38 32 38 22 C38 16 34 6 34 6"}),h.jsx("path",{d:"M24 42v-8",className:"opacity-30"}),h.jsx("path",{d:"M18 14h12"})," ",h.jsx("path",{d:"M18 14l3 8l3-8l3 8l3-8",className:"fill-current opacity-30"})]}),Rb=({className:t})=>h.jsxs(Ue,{className:t,title:"Crit Chance",children:[h.jsx("circle",{cx:"24",cy:"24",r:"16"}),h.jsx("path",{d:"M24 4v8"}),h.jsx("path",{d:"M24 36v8"}),h.jsx("path",{d:"M4 24h8"}),h.jsx("path",{d:"M36 24h8"}),h.jsx("circle",{cx:"24",cy:"24",r:"4",className:"fill-current opacity-50"})]}),jb=({className:t})=>h.jsxs(Ue,{className:t,title:"Crit Damage",children:[h.jsx("path",{d:"M24 6l4 10l10 4l-10 4l-4 10l-4-10l-10-4l10-4z",className:"fill-none"}),h.jsx("circle",{cx:"24",cy:"24",r:"2",className:"fill-current"}),h.jsx("path",{d:"M38 10l-6 8",className:"opacity-50"}),h.jsx("path",{d:"M10 38l6-8",className:"opacity-50"}),h.jsx("path",{d:"M38 38l-6-8",className:"opacity-50"}),h.jsx("path",{d:"M10 10l6 8",className:"opacity-50"})]}),Db=({className:t})=>h.jsxs(Ue,{className:t,title:"Armor",children:[h.jsx("path",{d:"M24 4L8 12v12c0 12 8 18 16 20 8-2 16-8 16-20V12L24 4z",className:"fill-none"}),h.jsx("path",{d:"M24 10L12 16v8c0 8 5 12 12 14 7-2 12-6 12-14v-8L24 10z",className:"opacity-30"}),h.jsx("path",{d:"M24 14v20",className:"opacity-50"}),h.jsx("path",{d:"M16 22h16",className:"opacity-50"})]}),Lb=({className:t})=>h.jsxs(Ue,{className:t,title:"Min Damage",children:[h.jsx("path",{d:"M12 36l24 0",strokeWidth:"4"}),h.jsx("path",{d:"M12 36l6 -6"}),h.jsx("path",{d:"M12 36l6 6"}),h.jsx("path",{d:"M24 12v20",className:"opacity-30"})]}),Hb=({className:t})=>h.jsxs(Ue,{className:t,title:"Max Damage",children:[h.jsx("path",{d:"M12 12l24 0",strokeWidth:"4"}),h.jsx("path",{d:"M36 12l-6 -6"}),h.jsx("path",{d:"M36 12l-6 6"}),h.jsx("path",{d:"M24 16v20",className:"opacity-30"})]}),Ob=({className:t})=>h.jsxs(Ue,{className:t,title:"Accuracy",children:[h.jsx("circle",{cx:"24",cy:"24",r:"12"}),h.jsx("circle",{cx:"24",cy:"24",r:"4",className:"fill-current"}),h.jsx("path",{d:"M24 4v8",className:"opacity-30"}),h.jsx("path",{d:"M24 36v8",className:"opacity-30"}),h.jsx("path",{d:"M4 24h8",className:"opacity-30"}),h.jsx("path",{d:"M36 24h8",className:"opacity-30"})]}),zb=({className:t})=>h.jsxs(Ue,{className:t,title:"Armor Penetration",children:[h.jsx("path",{d:"M36 12l-24 24",strokeWidth:"3"}),h.jsx("path",{d:"M36 12l-8 0"}),h.jsx("path",{d:"M36 12l0 8"}),h.jsx("path",{d:"M16 32l-4 4",className:"opacity-50"})]}),Bb=({className:t})=>h.jsxs(Ue,{className:t,title:"Execute",children:[h.jsx("path",{d:"M12 12l24 24",strokeWidth:"3",className:"text-red-600"}),h.jsx("path",{d:"M36 12l-24 24",strokeWidth:"3",className:"text-red-600"}),h.jsx("circle",{cx:"24",cy:"24",r:"8",className:"opacity-30"})]}),Ub=({className:t})=>h.jsxs(Ue,{className:t,title:"Parry",children:[h.jsx("path",{d:"M14 12l8 8l16 -16",strokeWidth:"3",className:"opacity-50"}),h.jsx("path",{d:"M10 38l14 -14",strokeWidth:"3"}),h.jsx("path",{d:"M24 24l-6 6",className:"opacity-30"})]}),Gb=({className:t})=>h.jsxs(Ue,{className:t,title:"Parry Damage",children:[h.jsx("path",{d:"M10 38l14 -14",strokeWidth:"3"}),h.jsx("path",{d:"M38 10l-14 14",strokeWidth:"2",strokeDasharray:"4 4",className:"text-red-500"}),h.jsx("circle",{cx:"24",cy:"24",r:"2",className:"fill-current"})]}),Pb=({className:t})=>h.jsxs(Ue,{className:t,title:"Glancing Blow",children:[h.jsx("path",{d:"M12 12l24 24",className:"opacity-30"}),h.jsx("circle",{cx:"34",cy:"14",r:"6",strokeWidth:"1"}),h.jsx("path",{d:"M14 34l8 -8"})]}),Ib=({className:t})=>h.jsxs(Ue,{className:t,title:"Counter",children:[h.jsx("path",{d:"M8 24h12l4 -4l16 0"}),h.jsx("path",{d:"M40 20l-6 -6"}),h.jsx("path",{d:"M40 20l-6 6"}),h.jsx("path",{d:"M12 32l8 -8",className:"opacity-30"})]}),Vb=({className:t})=>h.jsxs(Ue,{className:t,title:"Bleed Chance",children:[h.jsx("path",{d:"M24 6 C24 6 10 18 10 28 C10 36 16 42 24 42 C32 42 38 36 38 28 C38 18 24 6 24 6 Z",className:"text-red-700"}),h.jsx("path",{d:"M24 16 L24 34",className:"stroke-white opacity-50"}),h.jsx("path",{d:"M20 22 L28 28",className:"stroke-white opacity-50"}),h.jsx("path",{d:"M28 22 L20 28",className:"stroke-white opacity-50"})]}),Cg=({className:t})=>h.jsxs(Ue,{className:t,title:"Burn Chance",children:[h.jsx("path",{d:"M24 6C24 6 14 16 14 26C14 34 18 40 24 40C30 40 34 34 34 26C34 16 24 6 24 6Z",className:"text-orange-500 fill-current opacity-20"}),h.jsx("path",{d:"M24 42C12 42 6 30 12 18C16 30 20 32 24 14C28 32 32 30 36 18C42 30 36 42 24 42Z"}),h.jsx("path",{d:"M24 34C22 30 22 26 24 22C26 26 26 30 24 34Z",className:"fill-current opacity-50"})]}),qb=({className:t})=>h.jsxs(Ue,{className:t,title:"Hinder Chance",children:[h.jsx("circle",{cx:"24",cy:"24",r:"18",className:"opacity-30"}),h.jsx("path",{d:"M12 12 L36 36",strokeWidth:"4"}),h.jsx("path",{d:"M36 12 L12 36",strokeWidth:"4"}),h.jsx("rect",{x:"18",y:"16",width:"12",height:"16",rx:"2",className:"fill-current opacity-20"})]}),Yb=({className:t})=>h.jsxs(Ue,{className:t,title:"Plague Chance",children:[h.jsx("circle",{cx:"24",cy:"24",r:"16",className:"opacity-20 fill-current"}),h.jsx("circle",{cx:"24",cy:"24",r:"6"}),h.jsx("path",{d:"M24 6V18 M6 42L15 27 M42 42L33 27",strokeWidth:"4",strokeLinecap:"round",className:"stroke-current"})]}),Xb=({className:t})=>h.jsxs(Ue,{className:t,title:"Poison Chance",children:[h.jsx("path",{d:"M24 6 V14 L12 40 H36 L24 14",className:"stroke-current fill-current opacity-20",strokeWidth:"4",strokeLinejoin:"round"}),h.jsx("circle",{cx:"24",cy:"28",r:"3",className:"fill-current"}),h.jsx("circle",{cx:"19",cy:"34",r:"2",className:"fill-current opacity-70"}),h.jsx("circle",{cx:"29",cy:"34",r:"2",className:"fill-current opacity-70"})]}),Kb=({className:t})=>h.jsxs(Ue,{className:t,title:"Hypnotize Chance",children:[h.jsx("circle",{cx:"24",cy:"24",r:"16",strokeWidth:"2",className:"stroke-current fill-none opacity-40"}),h.jsx("circle",{cx:"24",cy:"24",r:"10",strokeWidth:"3",className:"stroke-current fill-none opacity-70"}),h.jsx("circle",{cx:"24",cy:"24",r:"4",className:"fill-current"}),h.jsx("path",{d:"M24 8 L24 4 M24 44 L24 40 M8 24 L4 24 M44 24 L40 24",strokeWidth:"3",className:"stroke-current opacity-50"})]}),Zb=({className:t})=>h.jsxs(Ue,{className:t,title:"Slow Chance",children:[h.jsx("circle",{cx:"24",cy:"24",r:"16",className:"stroke-current opacity-30",strokeWidth:"2"}),h.jsx("path",{d:"M24 12V24L30 30",strokeWidth:"3",strokeLinecap:"round"}),h.jsx("path",{d:"M12 24H36",strokeWidth:"2",strokeDasharray:"2 4",className:"opacity-50"})]}),$b=({className:t})=>h.jsxs(Ue,{className:t,title:"Frailty Chance",children:[h.jsx("path",{d:"M24 4L8 12v12c0 12 8 18 16 20 8-2 16-8 16-20V12L24 4z",className:"fill-none stroke-current",strokeWidth:"2"}),h.jsx("path",{d:"M24 10 L24 38 M12 20 L36 20",className:"stroke-current opacity-30"}),h.jsx("path",{d:"M18 14 L30 26 M30 14 L18 26",className:"stroke-current",strokeWidth:"2"})]}),Qb=({className:t})=>h.jsxs(Ue,{className:t,title:"Freeze Chance",children:[h.jsx("path",{d:"M24 4V44 M4 24H44",strokeWidth:"3",strokeLinecap:"round",className:"stroke-blue-400"}),h.jsx("path",{d:"M10 10L38 38 M38 10L10 38",strokeWidth:"2",className:"stroke-blue-300 opacity-70"}),h.jsx("circle",{cx:"24",cy:"24",r:"4",className:"fill-none stroke-current"})]}),Fb=({className:t})=>h.jsxs(Ue,{className:t,title:"Multi Strike Chance",children:[h.jsx("path",{d:"M14 34L34 14",strokeWidth:"3",className:"stroke-current opacity-50"}),h.jsx("path",{d:"M10 38L38 10",strokeWidth:"3",className:"stroke-current"}),h.jsx("path",{d:"M42 6L46 10",className:"opacity-70"}),h.jsx("path",{d:"M38 6L42 10",className:"opacity-70"})]}),Wb=({className:t})=>h.jsxs(Ue,{className:t,title:"Block Chance",children:[h.jsx("path",{d:"M24 6C24 6 10 12 10 20C10 30 16 38 24 42C32 38 38 30 38 20C38 12 24 6 24 6Z",className:"stroke-current fill-none",strokeWidth:"2.5"}),h.jsx("path",{d:"M24 16L24 24M20 20L28 20",strokeWidth:"3",className:"stroke-current"}),h.jsx("path",{d:"M21 17L27 23M27 17L21 23",strokeWidth:"2",className:"stroke-current"})]}),Jb=({className:t})=>h.jsxs(Ue,{className:t,title:"Block Amount",children:[h.jsx("path",{d:"M12 12H36V24C36 34 24 40 24 40C24 40 12 34 12 24V12Z",className:"stroke-current fill-none",strokeWidth:"3"}),h.jsx("path",{d:"M18 20H30",strokeWidth:"3",className:"opacity-80"}),h.jsx("path",{d:"M24 12V28",strokeWidth:"3",className:"opacity-80"})]}),e2=({className:t})=>h.jsxs(Ue,{className:t,title:"Haste Chance",children:[h.jsx("path",{d:"M10 24 C10 24 14 36 26 36 H38 V30 H26",className:"stroke-current fill-none",strokeWidth:"2.5"}),h.jsx("path",{d:"M38 30 L38 20 L26 22",className:"stroke-current fill-none",strokeWidth:"2.5"}),h.jsx("path",{d:"M18 24 C10 14 20 6 34 14",className:"stroke-current fill-none opacity-80"}),h.jsx("path",{d:"M22 24 C16 16 22 10 32 16",className:"stroke-current fill-none opacity-60"}),h.jsx("path",{d:"M6 30H4",className:"opacity-50"}),h.jsx("path",{d:"M8 36H4",className:"opacity-50"})]}),t2=({className:t})=>h.jsxs(Ue,{className:t,title:"Damage Absorb",children:[h.jsx("path",{d:"M24 6C24 6 10 12 10 24C10 34 16 40 24 44C32 40 38 34 38 24C38 12 24 6 24 6Z",className:"stroke-current fill-none opacity-50",strokeWidth:"2"}),h.jsx("path",{d:"M16 22L22 28M32 18L26 24",className:"stroke-current",strokeWidth:"2.5"}),h.jsx("path",{d:"M24 24L24 24",className:"stroke-current",strokeWidth:"4",strokeLinecap:"round"}),h.jsx("path",{d:"M14 16C14 16 24 8 34 16",className:"stroke-current opacity-80",fill:"none"})]}),n2=({className:t})=>h.jsxs(Ue,{className:t,title:"Debuff Opacity",children:[h.jsx("path",{d:"M12 40V18C12 10 16 6 24 6C32 6 36 10 36 18V40",className:"stroke-current fill-none",strokeWidth:"2"}),h.jsx("path",{d:"M14 40C14 40 16 34 20 40C20 40 24 34 28 40C28 40 32 34 34 40",className:"stroke-current fill-none",strokeWidth:"2"}),h.jsx("path",{d:"M12 24H36",className:"stroke-current opacity-20",strokeWidth:"1"}),h.jsx("path",{d:"M12 30H36",className:"stroke-current opacity-10",strokeWidth:"1"}),h.jsx("path",{d:"M8 12L16 20M8 20L16 12",className:"stroke-current opacity-60",strokeWidth:"2"})]}),a2=({className:t})=>h.jsxs(Ue,{className:t,title:"Condition Remedy",children:[h.jsx("path",{d:"M20 14V8H28V14L34 36C34 40 30 42 24 42C18 42 14 40 14 36L20 14Z",className:"stroke-current fill-none",strokeWidth:"2.5"}),h.jsx("path",{d:"M16 30H32",className:"stroke-current opacity-60"}),h.jsx("path",{d:"M30 6L32 2M32 6L30 2",className:"stroke-current"}),h.jsx("path",{d:"M36 12L38 8M38 12L36 8",className:"stroke-current opacity-80"})]}),r2=({className:t})=>h.jsxs(Ue,{className:t,title:"Electrocute Chance",children:[h.jsx("path",{d:"M28 2L14 26H26L20 46L36 20H24L28 2Z",className:"text-yellow-500 stroke-current fill-current opacity-80",strokeWidth:"2",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 12L8 8",className:"stroke-current opacity-50"}),h.jsx("path",{d:"M40 36L44 40",className:"stroke-current opacity-50"}),h.jsx("path",{d:"M36 4L40 8",className:"stroke-current opacity-30"})]}),i2=({className:t})=>h.jsxs(Ue,{className:t,title:"Curse Chance",children:[h.jsx("path",{d:"M24 8 C16 8 12 14 12 22 C12 30 16 38 24 38 C32 38 36 30 36 22 C36 14 32 8 24 8 Z",className:"text-purple-900 stroke-current fill-none",strokeWidth:"2.5"}),h.jsx("circle",{cx:"20",cy:"20",r:"2",className:"fill-current"}),h.jsx("circle",{cx:"28",cy:"20",r:"2",className:"fill-current"}),h.jsx("path",{d:"M18 30 H30",className:"stroke-current"}),h.jsx("path",{d:"M20 28 V32 M24 28 V32 M28 28 V32",className:"stroke-current"}),h.jsx("path",{d:"M32 10 L36 6 M34 14 L38 10",className:"stroke-current opacity-60"}),h.jsx("path",{d:"M12 10 L8 6",className:"stroke-current opacity-60"})]}),Ye=t=>t.gt(0),Rt={HP:{key:"HP",label:"HP",fullName:"Hit Points",description:"Represents health. Defeated when it reaches 0.",baseValue:new f(10),icon:Bd,colorClass:"text-red-600",format:{decimals:2,suffix:""},sketchKey:"maxHp",displayCondition:()=>!0},ATK:{key:"ATK",label:"ATK",fullName:"Attack Damage",description:"Damage dealt per attack.",baseValue:new f(1),icon:Zy,colorClass:"text-neutral-900",format:{decimals:2,suffix:""},sketchKey:"attack",displayCondition:()=>!0},SPD:{key:"SPD",label:"SPD",fullName:"Attack Speed",description:"Time interval (ms) between attacks (lower is faster).",baseValue:new f(3e3),icon:rc,colorClass:"text-blue-600",format:{decimals:0,suffix:""},sketchKey:"attackSpeed",displayCondition:()=>!0},Regen:{key:"Regen",label:"RGN",fullName:"Health Regeneration",description:"Amount of Health recovered per second.",baseValue:new f(0),icon:Mb,colorClass:"text-green-600",format:{decimals:2,suffix:"/s"},sketchKey:"regen",displayCondition:Ye},Dodge:{key:"Dodge",label:"DDG",fullName:"Dodge Chance",description:"Percent chance to completely evade an attack.",baseValue:new f(0),icon:Tb,colorClass:"text-neutral-500",format:{decimals:1,suffix:"%"},sketchKey:"dodge",displayCondition:Ye,isCapped:!0},Lifesteal:{key:"Lifesteal",label:"LFS",fullName:"Lifesteal",description:"Percentage of damage dealt that heals.",baseValue:new f(0),icon:Ab,colorClass:"text-purple-600",format:{decimals:1,suffix:"%"},sketchKey:"lifesteal",displayCondition:Ye},CritChance:{key:"CritChance",label:"CRC",fullName:"Critical Chance",description:"Percent chance to land a Critical Hit.",baseValue:new f(0),icon:Rb,colorClass:"text-orange-600",format:{decimals:1,suffix:"%"},sketchKey:"critChance",displayCondition:Ye,isCapped:!0},CritDmg:{key:"CritDmg",label:"CRD",fullName:"Critical Damage",description:"Damage multiplier applied when a Critical Hit occurs.",baseValue:new f(100),icon:jb,colorClass:"text-red-800",format:{decimals:1,suffix:"%"},sketchKey:"critDmg",displayCondition:t=>t.gt(100)},Armor:{key:"Armor",label:"ARM",fullName:"Armor",description:"Flat damage reduction applied to incoming attacks.",baseValue:new f(0),icon:Db,colorClass:"text-slate-600",format:{decimals:2,suffix:""},sketchKey:"armor",displayCondition:Ye},MinDamage:{key:"MinDamage",label:"MND",fullName:"Minimum Damage",description:"Minimum damage multiplier (as %) for the lower range of damage.",baseValue:new f(75),icon:Lb,colorClass:"text-stone-500",format:{decimals:2,suffix:"%"},sketchKey:"minDamage",displayCondition:t=>!t.eq(75)},MaxDamage:{key:"MaxDamage",label:"MXD",fullName:"Maximum Damage",description:"Maximum damage multiplier (as %) for the upper range of damage.",baseValue:new f(125),icon:Hb,colorClass:"text-stone-900",format:{decimals:2,suffix:"%"},sketchKey:"maxDamage",displayCondition:t=>!t.eq(125)},Accuracy:{key:"Accuracy",label:"ACC",fullName:"Accuracy",description:"Chance to hit through Dodge or Parry.",baseValue:new f(0),icon:Ob,colorClass:"text-teal-600",format:{decimals:2,suffix:"%"},sketchKey:"accuracy",displayCondition:Ye,isCapped:!0},ArmorPen:{key:"ArmorPen",label:"APN",fullName:"Armor Penetration",description:"Flat amount of Armor ignored on attack.",baseValue:new f(0),icon:zb,colorClass:"text-zinc-500",format:{decimals:2,suffix:""},sketchKey:"armorPen",displayCondition:Ye},Execute:{key:"Execute",label:"EXC",fullName:"Execute",description:"Bonus damage dealt when target is below 30% HP.",baseValue:new f(0),icon:Bb,colorClass:"text-rose-700",format:{decimals:2,suffix:"%"},sketchKey:"execute",displayCondition:Ye},Parry:{key:"Parry",label:"PRR",fullName:"Parry Chance",description:"Chance to avoid an attack and reflect damage.",baseValue:new f(0),icon:Ub,colorClass:"text-amber-600",format:{decimals:2,suffix:"%"},sketchKey:"parry",displayCondition:Ye,isCapped:!0},ParryDmg:{key:"ParryDmg",label:"PRD",fullName:"Parry Damage",description:"Percentage of damage reflected when Parrying.",baseValue:new f(0),icon:Gb,colorClass:"text-amber-800",format:{decimals:2,suffix:"%"},sketchKey:"parryDmg",displayCondition:Ye},GlancingBlow:{key:"GlancingBlow",label:"GLB",fullName:"Glancing Blow",description:"Chance to convert an incoming Critical Hit to a normal hit.",baseValue:new f(0),icon:Pb,colorClass:"text-indigo-400",format:{decimals:2,suffix:"%"},sketchKey:"glancingBlow",displayCondition:Ye,isCapped:!0},Counter:{key:"Counter",label:"CTR",fullName:"Counter Chance",description:"Chance to launch an immediate counter-attack after being hit.",baseValue:new f(0),icon:Ib,colorClass:"text-violet-600",format:{decimals:2,suffix:"%"},sketchKey:"counter",displayCondition:Ye,isCapped:!0},BleedChance:{key:"BleedChance",label:"BLD",fullName:"Bleed Chance",description:"Chance to apply Bleed. Bleeding targets take damage when they attack.",baseValue:new f(0),icon:Vb,colorClass:"text-red-700",format:{decimals:2,suffix:"%"},sketchKey:"bleedChance",displayCondition:Ye},BurnChance:{key:"BurnChance",label:"BRN",fullName:"Burn Chance",description:"Chance to apply Burn. Burning targets take damage when attacking.",baseValue:new f(0),icon:Cg,colorClass:"text-orange-500",format:{decimals:2,suffix:"%"},sketchKey:"burnChance",displayCondition:Ye},BurnDamage:{key:"BurnDamage",label:"BRD",fullName:"Burn Damage",description:"Damage dealt per stack of Burn.",baseValue:new f(1),icon:Cg,colorClass:"text-orange-600",format:{suffix:"",decimals:1},sketchKey:"burnDamage",displayCondition:t=>t.gt(1)},HinderChance:{key:"HinderChance",label:"HIN",fullName:"Hinder Chance",description:"Chance to apply Hinder. Hindered targets may fail their attack.",baseValue:new f(0),icon:qb,colorClass:"text-neutral-500",format:{decimals:2,suffix:"%"},sketchKey:"hinderChance",displayCondition:Ye},PlagueChance:{key:"PlagueChance",label:"PLG",fullName:"Plague Chance",description:"Chance to apply Plague. Plague deals 1 damage per stack/sec and spreads.",baseValue:new f(0),icon:Yb,colorClass:"text-lime-700",format:{decimals:2,suffix:"%"},sketchKey:"plagueChance",displayCondition:Ye},PoisonChance:{key:"PoisonChance",label:"PSN",fullName:"Poison Chance",description:"Chance to apply Poison. Poison deals 0.1% Max HP damage per stack/sec.",baseValue:new f(0),icon:Xb,colorClass:"text-fuchsia-600",format:{decimals:2,suffix:"%"},sketchKey:"poisonChance",displayCondition:Ye},HypnotizeChance:{key:"HypnotizeChance",label:"HYP",fullName:"Hypnotize Chance",description:"Chance to apply Hypnotize. Hypnotized targets may attack themselves.",baseValue:new f(0),icon:Kb,colorClass:"text-pink-500",format:{decimals:2,suffix:"%"},sketchKey:"hypnotizeChance",displayCondition:Ye},SlowChance:{key:"SlowChance",label:"SLW",fullName:"Slow Chance",description:"Chance to apply Slow. Slow reduces Attack Speed by 1% per stack.",baseValue:new f(0),icon:Zb,colorClass:"text-indigo-600",format:{decimals:2,suffix:"%"},sketchKey:"slowChance",displayCondition:Ye},FrailtyChance:{key:"FrailtyChance",label:"FRL",fullName:"Frailty Chance",description:"Chance to apply Frailty. Frailty increases damage taken by 1% per stack.",baseValue:new f(0),icon:$b,colorClass:"text-emerald-800",format:{decimals:2,suffix:"%"},sketchKey:"frailtyChance",displayCondition:Ye},FreezeChance:{key:"FreezeChance",label:"FRZ",fullName:"Freeze Chance",description:"Chance to apply Freeze. Freeze reduces Regen by 1% per stack (Inverts > 100%).",baseValue:new f(0),icon:Qb,colorClass:"text-cyan-500",format:{decimals:2,suffix:"%"},sketchKey:"freezeChance",displayCondition:Ye},MultiStrikeChance:{key:"MultiStrikeChance",label:"MST",fullName:"Multi Strike Chance",description:"Percent chance to attack more than once. Can exceed 100% for additional strikes.",baseValue:new f(0),icon:Fb,colorClass:"text-yellow-600",format:{decimals:1,suffix:"%"},sketchKey:"multiStrikeChance",displayCondition:Ye},BlockChance:{key:"BlockChance",label:"BLK",fullName:"Block Chance",description:"Chance to Block flat damage.",baseValue:new f(0),icon:Wb,colorClass:"text-sky-700",format:{decimals:1,suffix:"%"},sketchKey:"blockChance",displayCondition:Ye,isCapped:!0},BlockAmount:{key:"BlockAmount",label:"BLA",fullName:"Block Amount",description:"Flat damage subtracted when a Block occurs.",baseValue:new f(0),icon:Jb,colorClass:"text-sky-900",format:{decimals:1,suffix:""},sketchKey:"blockAmount",displayCondition:Ye},HasteChance:{key:"HasteChance",label:"HST",fullName:"Haste Chance",description:"Chance to gain 1 stack of Haste on attack. Haste increases Attack Speed by 1%.",baseValue:new f(0),icon:e2,colorClass:"text-amber-500",format:{decimals:1,suffix:"%"},sketchKey:"hasteChance",displayCondition:Ye},Absorb:{key:"Absorb",label:"ABS",fullName:"Damage Absorb",description:"Percentage of final calculated attack damage that gets ignored.",baseValue:new f(0),icon:t2,colorClass:"text-emerald-500",format:{decimals:2,suffix:"%"},sketchKey:"absorb",displayCondition:Ye,isCapped:!0},Opacity:{key:"Opacity",label:"OPC",fullName:"Debuff Opacity",description:"Reduces the chance of receiving debuffs.",baseValue:new f(0),icon:n2,colorClass:"text-slate-400",format:{decimals:2,suffix:"%"},sketchKey:"opacity",displayCondition:Ye,isCapped:!0},Remedy:{key:"Remedy",label:"RMD",fullName:"Condition Remedy",description:"Chance on each attack to remove 1 stack of a random debuff. Exceeding 100% chance removes multiple.",baseValue:new f(0),icon:a2,colorClass:"text-teal-400",format:{decimals:2,suffix:"%"},sketchKey:"remedy",displayCondition:Ye},ElectrocuteChance:{key:"ElectrocuteChance",label:"ELC",fullName:"Electrocute Chance",description:"Chance to apply Electrocute. Electrocuted targets take random extra damage when attacked.",baseValue:new f(0),icon:r2,colorClass:"text-yellow-600",format:{decimals:2,suffix:"%"},sketchKey:"electrocuteChance",displayCondition:Ye},CurseChance:{key:"CurseChance",label:"CRS",fullName:"Curse Chance",description:"Chance to apply Curse. Cursed targets take extra damage when attacked.",baseValue:new f(0),icon:i2,colorClass:"text-purple-800",format:{decimals:2,suffix:"%"},sketchKey:"curseChance",displayCondition:Ye}},ic=Object.values(Rt).reduce((t,a)=>(t[a.key]=a.description,t),{}),$y={Graphite:{label:"Graphite",code:"GRA",desc:"Primary resource from sketches."},Wax:{label:"Wax",code:"WAX",desc:"Waxy residue."},Charcoal:{label:"Charcoal",code:"CHA",desc:"Burnt wood."},Coffee:{label:"Coffee",code:"COF",desc:"Liquid energy."},Ink:{label:"Ink",code:"INK",desc:"Permanent liquid."},Marker:{label:"Marker",code:"MAR",desc:"Bold strokes."},Acrylic:{label:"Acrylic",code:"ACR",desc:"Plastic paint."},Spray:{label:"Spray",code:"SPR",desc:"Aerosol gas."},Photon:{label:"Photon",code:"PHO",desc:"Pure light."},"Gold Leaf":{label:"Gold Leaf",code:"GOL",desc:"Precious metal."}},cr=["Graphite","Wax","Charcoal","Coffee","Ink","Marker","Acrylic","Spray","Photon","Gold Leaf"],Vi=[new f("1618"),new f("16777216"),new f("3.2e9"),new f("6.626e34"),new f("1e80"),new f("1e308"),new f("1e1618")],sc=Object.values(Rt).reduce((t,a)=>(t[a.key]=a.fullName,t),{}),r0=Object.values(Rt).reduce((t,a)=>(t[a.key]=a.baseValue,t),{}),va=[{id:"AUTO_CHALLENGE",name:"Auto-Challenge",type:"ACTIVE_PROTOCOL",cost:new f(5),currency:"Graphite",description:"Automatically fights the same enemy again if you survive.",icon:"Speed",iconColor:"text-purple-600",unlockKey:"autoChallengeUnlocked"},{id:"SOFT_ERASER",name:"Soft Eraser",type:"MODIFIER",cost:new f(5),currency:"Wax",description:"Reduces the cost of all Graphite upgrades by 50%.",icon:"Graphite",iconColor:"text-amber-500",unlockKey:"waxToolUnlocked"},{id:"GRAPHITE_PUMP",name:"Graphite Pump",type:"GENERATOR",cost:new f(5),currency:"Charcoal",description:"Automatically produces 0.1 Graphite per second.",icon:"Graphite",iconColor:"text-neutral-800",unlockKey:"graphiteGeneratorUnlocked"},{id:"AUTO_RETRY",name:"Auto-Retry",type:"ACTIVE_PROTOCOL",cost:new f(5),currency:"Coffee",description:"After losing battle, automatically challenge same opponent when cooldown finishes.",icon:"Speed",iconColor:"text-blue-500",unlockKey:"autoRetryUnlocked"},{id:"CHARCOAL_DISCOUNT",name:"Burnt Edges",type:"MODIFIER",cost:new f(1e3),currency:"Graphite",description:"Reduces the cost of all Charcoal upgrades by 50%.",icon:"Charcoal",iconColor:"text-neutral-700",unlockKey:"charcoalDiscountUnlocked"},{id:"WAX_GENERATOR",name:"Wax on Wax",type:"GENERATOR",cost:new f(1e3),currency:"Wax",description:"Automatically produces 0.1 Wax per second.",icon:"Wax",iconColor:"text-amber-200",unlockKey:"waxGeneratorUnlocked"},{id:"GRAPHITE_PLUS",name:"Graphite Generator",type:"GENERATOR",cost:new f(1e3),currency:"Charcoal",description:"Automatically produces 0.01% of Graphite you have gotten from Battle Rewards per second.",icon:"Graphite",iconColor:"text-neutral-900",unlockKey:"graphitePlusUnlocked"},{id:"AUTO_ADVANCE",name:"Portfolio Review",type:"ACTIVE_PROTOCOL",cost:new f(1e3),currency:"Coffee",description:"If auto-challenge reaches Max Defeats, automatically move on to the next sketch.",icon:"Speed",iconColor:"text-green-600",unlockKey:"autoAdvanceUnlocked"},{id:"BUY_MAX",name:"Bulk Order",type:"SPECIAL",cost:new f(5),currency:"Ink",description:"Unlock the ability to purchase the maximum affordable amount of an upgrade at once.",icon:"Ink",iconColor:"text-neutral-900",unlockKey:"buyMaxUnlocked"},{id:"AUTO_BUY",name:"Standing Order",type:"SPECIAL",cost:new f(1e3),currency:"Ink",description:"Unlock a toggle to automatically purchase upgrades when affordable.",icon:"Speed",iconColor:"text-green-600",unlockKey:"autoBuyUnlocked"},{id:"AUTO_HIDE_MAXED",name:"Curator's Choice",type:"ACTIVE_PROTOCOL",cost:new f(5),currency:"Marker",description:"Automatically hide sketches from the gallery when they reach Max Defeats.",icon:"Marker",iconColor:"text-neutral-500",unlockKey:"autoHideMaxedUnlocked"},{id:"WAX_OVERDRIVE",name:"Wax Generator",type:"GENERATOR",cost:new f(1e3),currency:"Marker",description:"Automatically produces 0.01% of Wax you have gotten from Battle Rewards per second.",icon:"Wax",iconColor:"text-yellow-600",unlockKey:"waxOverdriveUnlocked"},{id:"CHARCOAL_OVERDRIVE",name:"Charcoal Generator",type:"GENERATOR",cost:new f(1e6),currency:"Graphite",description:"Automatically produces 0.01% of Charcoal you have gotten from Battle Rewards per second.",icon:"Charcoal",iconColor:"text-neutral-700",unlockKey:"charcoalOverdriveUnlocked"},{id:"COFFEE_GENERATOR",name:"Coffee Generator",type:"GENERATOR",cost:new f(1e6),currency:"Wax",description:"Automatically produces 0.01% of Coffee you have gotten from Battle Rewards per second.",icon:"Coffee",iconColor:"text-amber-800",unlockKey:"coffeeGeneratorUnlocked"},{id:"CONCEPTUAL_BRIDGE",name:"Conceptual Bridge",type:"ACTIVE_PROTOCOL",cost:new f(1e6),currency:"Charcoal",description:"Automatically advances Concept Milestones if you have reached them in a previous Redraw.",icon:"Speed",iconColor:"text-orange-500",unlockKey:"conceptualBridgeUnlocked"},{id:"INK_GENERATOR",name:"Ink Generator",type:"GENERATOR",cost:new f(1e6),currency:"Coffee",description:"Automatically produces 0.01% of Ink you have gotten from Battle Rewards per second.",icon:"Ink",iconColor:"text-purple-600",unlockKey:"inkGeneratorUnlocked"},{id:"MARKER_GENERATOR",name:"Marker Generator",type:"GENERATOR",cost:new f(1e6),currency:"Ink",description:"Automatically produces 0.01% of Marker you have gotten from Battle Rewards per second.",icon:"Marker",iconColor:"text-sky-600",unlockKey:"markerGeneratorUnlocked"},{id:"COFFEE_DISCOUNT",name:"Caffeine Drip",type:"MODIFIER",cost:new f(1e6),currency:"Marker",description:"Reduces the cost of all Coffee upgrades by 50%.",icon:"Coffee",iconColor:"text-amber-800",unlockKey:"coffeeDiscountUnlocked"},{id:"WAX_DISCOUNT",name:"Wax Coating",type:"MODIFIER",cost:new f(1e3),currency:"Acrylic",description:"Reduces the cost of all Wax upgrades by 50%.",icon:"Wax",iconColor:"text-amber-300",unlockKey:"waxDiscountUnlocked"},{id:"INK_DISCOUNT",name:"Ink Thinner",type:"MODIFIER",cost:new f(1e6),currency:"Acrylic",description:"Reduces the cost of all Ink upgrades by 50%.",icon:"Ink",iconColor:"text-amber-300",unlockKey:"inkDiscountUnlocked"}],s2=t=>va.find(a=>a.id===t),sr=[{id:"upgrade_hp_graphite",stat:"HP",name:"Thick Paper",description:"+1% HP per level",currency:"Graphite",cost:t=>new f(1).times(new f(1.05).pow(t)),multiplier:t=>new f(1).plus(new f(.01).times(t))},{id:"upgrade_atk_graphite",stat:"ATK",name:"Bold Lines",description:"+1% ATK per level",currency:"Graphite",cost:t=>new f(1).times(new f(1.05).pow(t)),multiplier:t=>new f(1).plus(new f(.01).times(t))},{id:"upgrade_spd_graphite",stat:"SPD",name:"Quick Strokes",description:"*0.999 Delay per level",currency:"Graphite",cost:t=>new f(5).times(new f(2).pow(t)),multiplier:t=>new f(.999).pow(t)},{id:"upgrade_critdmg_wax",stat:"CritDmg",name:"Sharp Edges",description:"+1.5% Crit DMG per level",currency:"Wax",cost:t=>new f(2).times(new f(2).pow(t)),multiplier:t=>new f(1).plus(new f(.015).times(t))},{id:"upgrade_atk_wax",stat:"ATK",name:"Wax Seal",description:"+1% ATK per level",currency:"Wax",cost:t=>new f(1).times(new f(1.1).pow(t)),multiplier:t=>new f(1).plus(new f(.01).times(t))},{id:"upgrade_dodge_wax",stat:"Dodge",name:"Liquid Motion",description:"+0.1% Dodge per level",currency:"Wax",cost:t=>new f(1500).times(new f(2).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_hp_charcoal",stat:"HP",name:"Thick Shading",description:"+1% HP per level",currency:"Charcoal",cost:t=>new f(1).times(new f(1.1).pow(t)),multiplier:t=>new f(1).plus(new f(.01).times(t))},{id:"upgrade_armor_charcoal",stat:"Armor",name:"Compressed Charcoal",description:"+1% Armor per level",currency:"Charcoal",cost:t=>new f(4).times(new f(1.5).pow(t)),multiplier:t=>new f(1).plus(new f(.01).times(t))},{id:"upgrade_glancing_charcoal",stat:"GlancingBlow",name:"Smudged Lines",description:"+0.1% Glancing Blow per level",currency:"Charcoal",cost:t=>new f(2e3).times(new f(2).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_maxdamage_coffee",stat:"MaxDamage",name:"Calculated Risk",description:"+0.1% Max DMG per level",currency:"Coffee",cost:t=>new f(1).times(new f(1.05).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_counter_coffee",stat:"Counter",name:"Reaction Time",description:"+0.1% Counter per level",currency:"Coffee",cost:t=>new f(5).times(new f(2.5).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_parrydmg_coffee",stat:"ParryDmg",name:"Bitter Aftertaste",description:"+0.1% Parry Damage per level",currency:"Coffee",cost:t=>new f(2500).times(new f(2).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_critchance_ink",stat:"CritChance",name:"Precision Work",description:"+0.1% Crit Chance per level",currency:"Ink",cost:t=>new f(5).times(new f(5).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_mindmg_ink",stat:"MinDamage",name:"Steady Hand",description:"+0.1% Min Damage per level",currency:"Ink",cost:t=>new f(1).times(new f(1.1).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_execute_ink",stat:"Execute",name:"Final Touches",description:"+0.1% Execute per level",currency:"Ink",cost:t=>new f(3e3).times(new f(2).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_lifesteal_marker",stat:"Lifesteal",name:"Vampiric Touch",description:"+0.1% Lifesteal per level",currency:"Marker",cost:t=>new f(1).times(new f(1.25).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_armorpen_marker",stat:"ArmorPen",name:"Serrated Edge",description:"+1% Armor Pen per level",currency:"Marker",cost:t=>new f(5).times(new f(1.5).pow(t)),multiplier:t=>new f(1).plus(new f(.01).times(t))},{id:"upgrade_blockamount_marker",stat:"BlockAmount",name:"Solid Fill",description:"+0.1% Block Amount per level",currency:"Marker",cost:t=>new f(3500).times(new f(2).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_bleed_acrylic",stat:"BleedChance",name:"Red Spill",description:"+0.1% Bleed Chance per level",currency:"Acrylic",cost:t=>new f(5).times(new f(2.5).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_plague_acrylic",stat:"PlagueChance",name:"Toxic Pigment",description:"+0.1% Plague Chance per level",currency:"Acrylic",cost:t=>new f(10).times(new f(2).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_hypnotize_acrylic",stat:"HypnotizeChance",name:"Swirling Colors",description:"+0.1% Hypnotize Chance per level",currency:"Acrylic",cost:t=>new f(4e3).times(new f(3).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))}],de=new f(0),lr=new f(1);new f(10);const En=new f(100),l2=new f(75),o2=new f(125),c2=new f(.3),rt=(t,a,i,s,l)=>{const c=typeof s=="string"?s:ke(s,2),u={id:Math.random().toString(36).substr(2,9),timestamp:Date.now(),type:a,target:i,value:c,isCrit:l};return[...t,u].slice(-50)},u2=(t,a,i,s,l,c,u,m={})=>{let y=c,p=l;const w=t.MinDamage||t.minDamage||l2,x=t.MaxDamage||t.maxDamage||o2,v=w.div(En),b=x.div(En),E=Math.random(),_=v.plus(b.minus(v).times(E));p=p.times(_);const R=(s.isZero()?lr:i.div(s)).lte(c2),B=t.Execute||t.execute||de;if(R&&B.gt(de)){const q=B.div(En).plus(lr);p=p.times(q)}let N=!1;const G=t.CritChance||t.critChance||de;if(G.gt(de)&&Math.random()*100<G.toNumber()){const q=a.GlancingBlow||a.glancingBlow||de;if(q.gt(de)&&Math.random()*100<q.toNumber())N=!1,y=rt(y,"damage",u,"Glancing");else{const P=(t.CritDmg||t.critDmg||En).div(En);p=p.times(P),N=!0}}const K=a.Dodge||a.dodge||de;if(K.gt(de)&&Math.random()*100<K.toNumber()){const q=t.Accuracy||t.accuracy||de;if(Math.random()*100>=q.toNumber())return y=rt(y,"dodge",u,"Dodge"),{damageEvents:y,newHp:i,isHit:!1,isDead:!1,counterTriggered:!1}}const V=a.Parry||a.parry||de;if(V.gt(de)&&Math.random()*100<V.toNumber()){const q=t.Accuracy||t.accuracy||de;if(Math.random()*100>=q.toNumber()){y=rt(y,"dodge",u,"Parried!");const F=a.ParryDmg||a.parryDmg||de;let P=de;if(F.gt(de)){const H=F.div(En);P=p.times(H)}return{damageEvents:y,newHp:i,isHit:!1,isDead:!1,counterTriggered:!1,reflectedDamage:P}}}const X=a.BlockChance||a.blockChance||de;if(X.gt(de)&&Math.random()*100<X.toNumber()){const q=a.BlockAmount||a.blockAmount||de;if(q.gt(de)){const F=f.min(p,q);p=p.minus(F),y=rt(y,"damage",u,"Blocked")}}const C=a.Armor||a.armor||de,M=t.ArmorPen||t.armorPen||de,U=f.max(de,C.minus(M));U.gt(de)&&(p=f.max(de,p.minus(U)));const D=a.Absorb||a.absorb||de;if(D.gt(de)){const q=f.min(D,En).div(En),F=p.times(q);p=p.minus(F)}const O=m.Electrocute||0;let Y=de;O>0&&(Y=p.times(O/100).times(Math.random()),Y.gt(0)&&(y=rt(y,"electrocute",u,Y)));const A=m.Curse||0;let L=de;if(A>0){const q=new f(A).times(.01);L=p.times(q),L.gt(0)&&(y=rt(y,"curse",u,L))}const S=i.minus(p).minus(Y).minus(L);y=rt(y,"damage",u,p,N);const T=a.Counter||a.counter||de,z=T.gt(de)&&Math.random()*100<T.toNumber();return{damageEvents:y,newHp:S,isHit:!0,isDead:S.lte(de),counterTriggered:z}},Eg=(t,a,i,s,l,c,u,m,y,p,w)=>{let x=m,v=l,b=i,E={...p},_={...w},j=!1,R=!1;const B=t.Remedy||t.remedy||de;if(B.gt(0)){const U=["Bleed","Burn","Plague","Poison","Hypnotize","Slow","Frailty","Freeze","Hinder"],D=B.toNumber(),O=Math.floor(D/100),Y=D%100,A=O+(Math.random()*100<Y?1:0);for(let L=0;L<A;L++){const S=Object.keys(E).filter(T=>U.includes(T)&&E[T]>0);if(S.length>0){const T=S[Math.floor(Math.random()*S.length)];E[T]--,E[T]<=0&&delete E[T],x=rt(x,"heal",y==="enemy"?"enemy":"player","Cleanse")}else break}}const N=p.Hinder||0;if(N>0){const U=Math.min(100,N)/100;if(Math.random()<U)return x=rt(x,"dodge",y==="enemy"?"player":"enemy","Hindered!"),{newDefenderHp:b,newAttackerHp:v,damageEvents:x,counterTriggered:!1,isHit:!1,newAttackerStatuses:E,newDefenderStatuses:_}}const G=t.MultiStrikeChance||t.multiStrikeChance||de;let K=1;if(G.gt(0)){const U=G.toNumber(),D=Math.floor(U/100),O=U%100;K+=D+(Math.random()*100<O?1:0)}const V=t.HasteChance||t.hasteChance||de;for(let U=0;U<K&&!b.lte(0);U++){const D=u2(t,a,b,s,u,x,y,_);if(b=D.newHp,x=D.damageEvents,D.isHit&&(j=!0),D.counterTriggered&&(R=!0),V.gt(0)){const O=V.toNumber(),Y=Math.floor(O/100),A=O%100,L=Y+(Math.random()*100<A?1:0);L>0&&(E.Haste=(E.Haste||0)+L)}if(D.reflectedDamage&&D.reflectedDamage.gt(de)){const O=D.reflectedDamage;v=f.max(de,v.minus(O)),x=rt(x,"damage",y==="enemy"?"player":"enemy",O)}D.isHit&&!D.isDead&&(t.Lifesteal||t.lifesteal||de).gt(de)}if(j){const U=a.Opacity||a.opacity||de,O=1-(U.gt(0)?f.min(U,En).div(En).toNumber():0),Y=t.BleedChance||t.bleedChance||de;if(Y.gt(0)&&O>0){const Q=Y.toNumber()*O,te=Math.floor(Q/100),ie=Q%100,se=te+(Math.random()*100<ie?1:0);se>0&&(_.Bleed=(_.Bleed||0)+se)}const A=t.BurnChance||t.burnChance||de;if(A.gt(0)&&O>0){const Q=A.toNumber()*O,te=Math.floor(Q/100),ie=Q%100,se=te+(Math.random()*100<ie?1:0);se>0&&(_.Burn=(_.Burn||0)+se)}const L=t.HinderChance||t.hinderChance||de;if(L.gt(0)&&O>0){const Q=L.toNumber()*O,te=Math.floor(Q/100),ie=Q%100,se=te+(Math.random()*100<ie?1:0);se>0&&(_.Hinder=Math.min(100,(_.Hinder||0)+se))}const S=t.PlagueChance||t.plagueChance||de;if(S.gt(0)&&O>0){const Q=S.toNumber()*O,te=Math.floor(Q/100),ie=Q%100,se=te+(Math.random()*100<ie?1:0);se>0&&(_.Plague=(_.Plague||0)+se)}const T=t.PoisonChance||t.poisonChance||de;if(T.gt(0)&&O>0){const Q=T.toNumber()*O,te=Math.floor(Q/100),ie=Q%100,se=te+(Math.random()*100<ie?1:0);se>0&&(_.Poison=(_.Poison||0)+se)}const z=t.HypnotizeChance||t.hypnotizeChance||de;if(z.gt(0)&&O>0){const Q=z.toNumber()*O,te=Math.floor(Q/100),ie=Q%100,se=te+(Math.random()*100<ie?1:0);se>0&&(_.Hypnotize=Math.min(100,(_.Hypnotize||0)+se))}const q=t.SlowChance||t.slowChance||de;if(q.gt(0)&&O>0){const Q=q.toNumber()*O,te=Math.floor(Q/100),ie=Q%100,se=te+(Math.random()*100<ie?1:0);se>0&&(_.Slow=(_.Slow||0)+se)}const F=t.FrailtyChance||t.frailtyChance||de;if(F.gt(0)&&O>0){const Q=F.toNumber()*O,te=Math.floor(Q/100),ie=Q%100,se=te+(Math.random()*100<ie?1:0);se>0&&(_.Frailty=(_.Frailty||0)+se)}const P=t.FreezeChance||t.freezeChance||de;if(P.gt(0)&&O>0){const Q=P.toNumber()*O,te=Math.floor(Q/100),ie=Q%100,se=te+(Math.random()*100<ie?1:0);se>0&&(_.Freeze=(_.Freeze||0)+se)}const H=t.ElectrocuteChance||t.electrocuteChance||de;if(H.gt(0)&&O>0){const Q=H.toNumber()*O,te=Math.floor(Q/100),ie=Q%100,se=te+(Math.random()*100<ie?1:0);se>0&&(_.Electrocute=(_.Electrocute||0)+se)}const $=t.CurseChance||t.curseChance||de;if($.gt(0)&&O>0){const Q=$.toNumber()*O,te=Math.floor(Q/100),ie=Q%100,se=te+(Math.random()*100<ie?1:0);se>0&&(_.Curse=(_.Curse||0)+se)}}const X=p.Bleed||0;if(X>0){const U=i.minus(b);if(U.gt(0)){const D=new f(X).times(.01),O=U.times(D);O.gt(0)&&(v=f.max(0,v.minus(O)),x=rt(x,"bleed",y==="enemy"?"player":"enemy",O))}}const C=p.Burn||0;if(C>0){const U=a.BurnDamage||a.burnDamage||lr,D=new f(C).times(U);D.gt(0)&&(v=f.max(de,v.minus(D)),x=rt(x,"burn",y==="enemy"?"player":"enemy",D))}const M=t.Lifesteal||t.lifesteal||de;if(M.gt(de)){const U=i.minus(b);if(U.gt(de)){const D=U.times(M.div(En));D.gt(de)&&(v=f.min(c,v.plus(D)),x=rt(x,"lifesteal",y==="enemy"?"player":"enemy",D))}}return{newDefenderHp:b,newAttackerHp:v,damageEvents:x,counterTriggered:R,isHit:j,newAttackerStatuses:E,newDefenderStatuses:_}},Ng={scrap:100,rough:0,framed:0,opus:0,masterpiece:0},Qy=t=>et.filter(a=>{const i=t[a.rarity]??0;return Math.random()*100<i}).map(a=>a.id),f2=Object.keys(r0).reduce((t,a)=>(t[a]=de,t),{}),d2=["CritChance","Dodge","Accuracy","Parry","GlancingBlow","Counter","BlockChance","Absorb","Opacity"],h2=(t,a,i,s)=>{const l={},c={};Object.keys(Rt).forEach(p=>{l[p]=lr,c[p]=de}),sr.forEach(p=>{const w=a[p.id]||de,x=p.multiplier(w.toNumber());p.isAdditive?c[p.stat]=c[p.stat].plus(x):l[p.stat]=l[p.stat].times(x)});const u={};Object.keys(Rt).forEach(p=>{const w=p,x=r0[w].plus(t[w]);w==="SPD"?u[w]=f.max(50,x.times(l[w]).plus(c[w])):u[w]=x.times(l[w]).plus(c[w])}),i.attackIncrease>0&&(u.ATK=u.ATK.times(1+i.attackIncrease/100)),i.hpIncrease>0&&(u.HP=u.HP.times(1+i.hpIncrease/100)),i.regenIncrease>0&&(u.Regen=u.Regen.times(1+i.regenIncrease/100)),i.armorIncrease>0&&(u.Armor=u.Armor.times(1+i.armorIncrease/100)),i.armorPenIncrease>0&&(u.ArmorPen=u.ArmorPen.times(1+i.armorPenIncrease/100)),i.dodgeIncrease>0&&(u.Dodge=u.Dodge.times(1+i.dodgeIncrease/100)),i.minDamageIncrease>0&&(u.MinDamage=u.MinDamage.times(1+i.minDamageIncrease/100)),i.maxDamageIncrease>0&&(u.MaxDamage=u.MaxDamage.times(1+i.maxDamageIncrease/100)),i.lifestealIncrease>0&&(u.Lifesteal=u.Lifesteal.times(1+i.lifestealIncrease/100)),i.executeIncrease>0&&(u.Execute=u.Execute.times(1+i.executeIncrease/100)),i.blockChanceIncrease>0&&(u.BlockChance=u.BlockChance.times(1+i.blockChanceIncrease/100)),i.blockAmountIncrease>0&&(u.BlockAmount=u.BlockAmount.times(1+i.blockAmountIncrease/100)),i.accuracyIncrease>0&&(u.Accuracy=u.Accuracy.times(1+i.accuracyIncrease/100)),i.bleedChanceIncrease>0&&(u.BleedChance=u.BleedChance.times(1+i.bleedChanceIncrease/100)),i.plagueChanceIncrease>0&&(u.PlagueChance=u.PlagueChance.times(1+i.plagueChanceIncrease/100)),i.burnChanceIncrease>0&&(u.BurnChance=u.BurnChance.times(1+i.burnChanceIncrease/100)),i.burnDamageIncrease>0&&(u.BurnDamage=u.BurnDamage.times(1+i.burnDamageIncrease/100)),i.electrocuteChanceIncrease>0&&(u.ElectrocuteChance=u.ElectrocuteChance.times(1+i.electrocuteChanceIncrease/100)),i.curseChanceIncrease>0&&(u.CurseChance=u.CurseChance.times(1+i.curseChanceIncrease/100)),i.attackDelay>0&&(u.SPD=u.SPD.times(1-i.attackDelay/100));const m=new f(s);d2.forEach(p=>{u[p].gt(m)&&(u[p]=m)});const y=new f(i.speedCap||500);return u.SPD.lt(y)&&(u.SPD=y),u},bd=t=>{let a=new f(1);return t.forEach(i=>{const s=mc[i];if(s)switch(s.rarity){case"scrap":a=a.plus(.01);break;case"rough":a=a.plus(.03);break;case"framed":a=a.plus(.1);break;case"opus":a=a.plus(.25);break;case"masterpiece":a=a.plus(.5);break}}),a},xa=(t,a,i,s,l)=>{const c=h2(t,a,i,l);return c.ATK=c.ATK.times(s),c.HP=c.HP.times(s),c},_g=()=>({battleStats:f2,shopLevels:{},playerStats:r0,statCap:75,currencies:{Graphite:de,Wax:de,Charcoal:de,Coffee:de,Ink:de,Marker:de,Acrylic:de,Spray:de,Photon:de,"Gold Leaf":de},notificationSettings:{COMBAT_VICTORY:!0,COMBAT_DEFEAT:!0,COMBAT_FLEE:!0,SHOP_ERROR:!0,SYSTEM_UNLOCK:!0,GAME_SAVED:!0},autoChallengeUnlocked:!1,autoChallengeActive:!1,graphiteGeneratorUnlocked:!1,waxToolUnlocked:!1,autoRetryUnlocked:!1,autoRetryActive:!1,lastEnemyId:null,charcoalDiscountUnlocked:!1,waxGeneratorUnlocked:!1,waxOverdriveUnlocked:!1,graphitePlusUnlocked:!1,charcoalOverdriveUnlocked:!1,coffeeGeneratorUnlocked:!1,markerGeneratorUnlocked:!1,inkGeneratorUnlocked:!1,autoAdvanceUnlocked:!1,autoAdvanceActive:!1,autoHideMaxedUnlocked:!1,autoHideMaxedActive:!1,buyMaxUnlocked:!1,skillTreeBuyMaxUnlocked:!1,autoBuyUnlocked:!1,autoBuyEnabled:{},conceptualBridgeUnlocked:!1,conceptualBridgeActive:!1,waxDiscountUnlocked:!1,coffeeDiscountUnlocked:!1,inkDiscountUnlocked:!1,maxReachedConceptMilestones:{Graphite:0,Wax:0,Charcoal:0,Coffee:0,Ink:0,Marker:0,Acrylic:0,Spray:0,Photon:0,"Gold Leaf":0},quintessence:de,pendingQuintessence:de,redrawCount:0,glossaryUnlocks:[],glossaryMultiplier:lr,seenGlossaryItems:[],rarityChances:{...Ng},skillLevels:{},lastPurchasedSkill:null,availableSketches:Qy(Ng),concepts:{Graphite:de,Wax:de,Charcoal:de,Coffee:de,Ink:de,Marker:de,Acrylic:de,Spray:de,Photon:de,"Gold Leaf":de},conceptMilestones:{Graphite:0,Wax:0,Charcoal:0,Coffee:0,Ink:0,Marker:0,Acrylic:0,Spray:0,Photon:0,"Gold Leaf":0},challengeCooldownUntil:0,unlockedTabs:["Gallery","Shop","Archive","Settings"],activeTab:"Gallery",visibleSketchesLookahead:3,maxDefeats:500,totalEarnedCurrencies:{Graphite:de,Wax:de,Charcoal:de,Coffee:de,Ink:de,Marker:de,Acrylic:de,Spray:de,Photon:de,"Gold Leaf":de},totalBattleEarnedCurrencies:{Graphite:de,Wax:de,Charcoal:de,Coffee:de,Ink:de,Marker:de,Acrylic:de,Spray:de,Photon:de,"Gold Leaf":de},hidePurchasedTools:!1,timeAcceleration:1,devSpeedEnabled:!1,combatState:{isFighting:!1,enemyId:null,lastVictory:null,currentEnemyHp:de,currentPlayerHp:de,enemyMaxHp:de,lastPlayerAttackTime:0,lastEnemyAttackTime:0,statuses:{player:{},enemy:{}}},notifications:[],damageEvents:[],lastReward:null,sketchDefeats:{},hiddenSketches:[],rewardDiminishingMultiplier:new f(.9),graphiteCostModifier:0,fundamentals:{...a0},cooldowns:{death:10,flee:5},unlockedStories:["THE_PREMISE"],viewedStories:[],skipRedrawConfirmation:!1,currentProtagonistImage:"/assets/protagonist/v1.jpg",lastSaveTime:Date.now(),hasSeenTutorial:!1,tutorialStep:null,archiveActiveSubTab:"synthesis",shopActiveSubTab:"tools"});let kd=null,Mg=null;const ge=gb()(wb((t,a)=>({..._g(),resetGame:()=>{localStorage.removeItem("unnamed-battler-save"),window.location.reload()},setLastSaveTime:i=>t({lastSaveTime:i}),gainStat:(i,s)=>t(l=>{const c=l.battleStats[i]||new f(0),u={...l.battleStats,[i]:c.plus(s)},m=xa(u,l.shopLevels,l.fundamentals,l.glossaryMultiplier,l.statCap);return{battleStats:u,playerStats:m,lastReward:`+${s.toString()} ${i}`}}),gainCurrency:(i,s)=>t(l=>{const u=(l.currencies[i]||new f(0)).plus(s),y=(l.totalEarnedCurrencies[i]||new f(0)).plus(s);return{currencies:{...l.currencies,[i]:u},totalEarnedCurrencies:{...l.totalEarnedCurrencies,[i]:y}}}),gainCurrencies:i=>t(s=>{const l={...s.currencies},c={...s.totalEarnedCurrencies};return Object.entries(i).forEach(([u,m])=>{const y=u,p=l[y]||new f(0),w=c[y]||new f(0);l[y]=p.plus(m),c[y]=w.plus(m)}),{currencies:l,totalEarnedCurrencies:c}}),batchAdvanceMilestones:i=>t(s=>{const l={...s.conceptMilestones},c={...s.maxReachedConceptMilestones};let u={...s.concepts},m=s.unlockedStories,y=!1;return i.forEach(p=>{const w=s.totalEarnedCurrencies[p]||new f(0),x=l[p],v=Vi[x];if(v&&w.gte(v)){const b=x+1,E=c[p]||0;l[p]=b,c[p]=Math.max(E,b),x===0&&(u[p]=(u[p]||new f(0)).plus(1)),p==="Graphite"&&(x===0&&!m.includes("THE_GOLDEN_RATIO")&&(m=[...m,"THE_GOLDEN_RATIO"]),x===1&&!m.includes("THE_DIGITAL_CANVAS")&&(m=[...m,"THE_DIGITAL_CANVAS"]),x===2&&!m.includes("THE_CODE_OF_LIFE")&&(m=[...m,"THE_CODE_OF_LIFE"])),y=!0}}),y?{conceptMilestones:l,maxReachedConceptMilestones:c,concepts:u,unlockedStories:m}:s}),recordBattleReward:(i,s)=>{a().gainCurrency(i,s),t(l=>{const c=l.totalBattleEarnedCurrencies[i]||new f(0);return{totalBattleEarnedCurrencies:{...l.totalBattleEarnedCurrencies,[i]:c.plus(s)}}})},fleeBattle:()=>{const{endCombat:i,fundamentals:s}=a();a().addNotification("Fled from battle!","COMBAT_FLEE"),t({lastEnemyId:null}),i(s.fleePenalty)},completeBattle:i=>{a().endCombat(i?0:10)},getRewardMultiplier:i=>{const s=a().sketchDefeats[i]||0,l=a().fundamentals.diminishingReturns;return(f.isBigNumber(l)?l:new f(l||.9)).pow(s)},getUnlockedRarityCounts:()=>{const{glossaryUnlocks:i}=a(),s={};return et.forEach(l=>{s[l.rarity]||(s[l.rarity]={unlocked:0,total:0}),s[l.rarity].total++,i.includes(l.id)&&s[l.rarity].unlocked++}),s},addCurrency:(i,s)=>t(l=>{const c=l.currencies[i]||new f(0),u=l.totalEarnedCurrencies[i]||new f(0);return{currencies:{...l.currencies,[i]:c.plus(s)},totalEarnedCurrencies:{...l.totalEarnedCurrencies,[i]:u.plus(s)}}}),buyUpgrade:i=>t(s=>{const l=sr.find(y=>y.id===i);if(!l)return{};const c=s.shopLevels[i]||de,u=Pn(Gi(l,c,{waxToolUnlocked:s.waxToolUnlocked,charcoalDiscountUnlocked:s.charcoalDiscountUnlocked,waxDiscountUnlocked:s.waxDiscountUnlocked,coffeeDiscountUnlocked:s.coffeeDiscountUnlocked,inkDiscountUnlocked:s.inkDiscountUnlocked}),l.currency,s.fundamentals),m=s.currencies[l.currency];if(m.gte(u)){const y={...s.currencies};y[l.currency]=m.minus(u);const p={...s.shopLevels};p[i]=c.plus(1);const w=xa(s.battleStats,p,s.fundamentals,s.glossaryMultiplier,s.statCap);return{currencies:y,shopLevels:p,playerStats:w}}return a().addNotification(`Insufficient ${l.currency}!`,"SHOP_ERROR"),s}),toggleAutoBuy:i=>t(s=>({autoBuyEnabled:{...s.autoBuyEnabled,[i]:!s.autoBuyEnabled[i]}})),buyMaxUpgrade:i=>t(s=>{const l=sr.find(R=>R.id===i);if(!l)return{};let c=(s.shopLevels[i]||de).toNumber();const u=l.currency,m=s.currencies[u];let y=new f(0),p=0,w=c,x=m;const v=R=>{const B=Gi(l,new f(R),{waxToolUnlocked:s.waxToolUnlocked,charcoalDiscountUnlocked:s.charcoalDiscountUnlocked,waxDiscountUnlocked:s.waxDiscountUnlocked,coffeeDiscountUnlocked:s.coffeeDiscountUnlocked,inkDiscountUnlocked:s.inkDiscountUnlocked});return Pn(B,l.currency,s.fundamentals)};let b=1e3;for(;b>0;){const R=v(w);if(x.gte(R))x=x.minus(R),y=y.plus(R),w++,p++,b--;else break}if(p===0)return{};const E=new f(w),_={...s.shopLevels,[i]:E},j=xa(s.battleStats,_,s.fundamentals,s.glossaryMultiplier,s.statCap);return{currencies:{...s.currencies,[u]:m.minus(y)},shopLevels:_,playerStats:j}}),unlockTool:i=>t(s=>{const l=s2(i);if(!l)return s;const c=l.unlockKey;if(s[c])return s;const u=Pn(l.cost,l.currency,s.fundamentals),m=l.currency,y=s.currencies[m]||new f(0);if(y.lt(u))return a().addNotification(`Insufficient ${m}!`,"SHOP_ERROR"),s;const p=y.minus(u);return{...s,currencies:{...s.currencies,[m]:p},[c]:!0}}),toggleAutoChallenge:()=>t(i=>({...i,autoChallengeActive:!i.autoChallengeActive})),toggleAutoRetry:()=>t(i=>({...i,autoRetryActive:!i.autoRetryActive})),toggleAutoAdvance:()=>t(i=>({...i,autoAdvanceActive:!i.autoAdvanceActive})),toggleAutoHideMaxed:()=>t(i=>({autoHideMaxedActive:!i.autoHideMaxedActive})),toggleConceptualBridge:()=>t(i=>({conceptualBridgeActive:!i.conceptualBridgeActive})),setHidePurchasedTools:i=>t({hidePurchasedTools:i}),setSkipRedrawConfirmation:i=>t({skipRedrawConfirmation:i}),advanceMilestone:i=>t(s=>{const l=s.totalEarnedCurrencies[i]||new f(0),c=s.conceptMilestones[i],u=Vi[c];if(u&&l.gte(u)){const m=c+1,y=s.maxReachedConceptMilestones[i]||0,p=Math.max(y,m);let w=s.concepts[i];c===0&&(w=w.plus(1));let x=s.unlockedStories;return i==="Graphite"&&(c===0&&!x.includes("THE_GOLDEN_RATIO")&&(x=[...x,"THE_GOLDEN_RATIO"]),c===1&&!x.includes("THE_DIGITAL_CANVAS")&&(x=[...x,"THE_DIGITAL_CANVAS"]),c===2&&!x.includes("THE_CODE_OF_LIFE")&&(x=[...x,"THE_CODE_OF_LIFE"])),x!==s.unlockedStories?{conceptMilestones:{...s.conceptMilestones,[i]:m},maxReachedConceptMilestones:{...s.maxReachedConceptMilestones,[i]:p},concepts:{...s.concepts,[i]:w},unlockedStories:x}:{conceptMilestones:{...s.conceptMilestones,[i]:m},maxReachedConceptMilestones:{...s.maxReachedConceptMilestones,[i]:p},concepts:{...s.concepts,[i]:w}}}return s}),prestige:()=>t(i=>{if(i.pendingQuintessence.lt(10))return a().addNotification("Need at least 10 Quintessence to Redraw!","SHOP_ERROR"),i;const s=i.fundamentals.quintessenceGain,l=i.pendingQuintessence.times(s).div(100),c=i.quintessence.plus(i.pendingQuintessence).plus(l),u=i.redrawCount+1,m={scrap:100,rough:i.fundamentals.roughRarity,framed:i.fundamentals.framedRarity,opus:i.fundamentals.opusRarity,masterpiece:i.fundamentals.masterpieceRarity};let y=Qy(m);const p={rough:i.fundamentals.roughSketches,framed:i.fundamentals.framedSketches,opus:i.fundamentals.opusSketches,masterpiece:i.fundamentals.masterpieceSketches};["rough","framed","opus","masterpiece"].forEach(K=>{const V=p[K];if(V<=0)return;const X=y.filter(C=>{const M=et.find(U=>U.id===C);return M&&M.rarity===K}).length;if(X<V){const C=V-X,M=et.filter(D=>D.rarity===K&&i.glossaryUnlocks.includes(D.id)&&!y.includes(D.id));for(let D=M.length-1;D>0;D--){const O=Math.floor(Math.random()*(D+1));[M[D],M[O]]=[M[O],M[D]]}const U=M.slice(0,C).map(D=>D.id);y=[...y,...U]}});const x=_g(),v=i.fundamentals.freeTools,b={AUTO_CHALLENGE:"autoChallengeUnlocked",SOFT_ERASER:"waxToolUnlocked",GRAPHITE_PUMP:"graphiteGeneratorUnlocked",AUTO_RETRY:"autoRetryUnlocked",CHARCOAL_DISCOUNT:"charcoalDiscountUnlocked",WAX_GENERATOR:"waxGeneratorUnlocked",WAX_OVERDRIVE:"waxOverdriveUnlocked",GRAPHITE_PLUS:"graphitePlusUnlocked",AUTO_ADVANCE:"autoAdvanceUnlocked",BUY_MAX:"buyMaxUnlocked",AUTO_BUY:"autoBuyUnlocked",CHARCOAL_OVERDRIVE:"charcoalOverdriveUnlocked",COFFEE_GENERATOR:"coffeeGeneratorUnlocked",INK_GENERATOR:"inkGeneratorUnlocked",MARKER_GENERATOR:"markerGeneratorUnlocked",AUTO_HIDE_MAXED:"autoHideMaxedUnlocked",WAX_DISCOUNT:"waxDiscountUnlocked",COFFEE_DISCOUNT:"coffeeDiscountUnlocked",INK_DISCOUNT:"inkDiscountUnlocked",CONCEPTUAL_BRIDGE:"conceptualBridgeUnlocked"};va.forEach((K,V)=>{if(V<v){const X=b[K.id];X&&(x[X]=!0)}});const E=i.fundamentals.autoEnableTools;if(E>0){const K={AUTO_CHALLENGE:"autoChallengeActive",AUTO_RETRY:"autoRetryActive",AUTO_ADVANCE:"autoAdvanceActive",AUTO_HIDE_MAXED:"autoHideMaxedActive",CONCEPTUAL_BRIDGE:"conceptualBridgeActive"};let V=0;va.forEach(X=>{if(X.type==="ACTIVE_PROTOCOL"&&V<E){const C=X.unlockKey;if(x[C]){const M=K[X.id];M&&(x[M]=!0,V++)}}})}const _=Ks(i.skillLevels),j=xa(x.battleStats,x.shopLevels,_,i.glossaryMultiplier,i.statCap),R={death:i.fundamentals.deathRecovery,flee:i.fundamentals.fleePenalty},B=(i.skillLevels["fund-buy-max"]||0)>0;let N="/assets/protagonist/v1.jpg";i.unlockedStories.includes("THE_CODE_OF_LIFE")?N="/assets/protagonist/v4.jpg":i.unlockedStories.includes("THE_DIGITAL_CANVAS")?N="/assets/protagonist/v3.jpg":i.unlockedStories.includes("THE_GOLDEN_RATIO")&&(N="/assets/protagonist/v2.jpg"),a().addNotification(`World Redrawn! +${ke(i.pendingQuintessence.plus(l),0)} Quintessence`,"SYSTEM_UNLOCK");const G={...x,quintessence:c,pendingQuintessence:de,glossaryUnlocks:i.glossaryUnlocks,glossaryMultiplier:i.glossaryMultiplier,seenGlossaryItems:i.seenGlossaryItems,redrawCount:u,rarityChances:m,skillLevels:i.skillLevels,lastPurchasedSkill:i.lastPurchasedSkill,fundamentals:_,unlockedStories:i.unlockedStories,maxReachedConceptMilestones:i.maxReachedConceptMilestones,viewedStories:i.viewedStories,notificationSettings:i.notificationSettings,hidePurchasedTools:i.hidePurchasedTools,skipRedrawConfirmation:i.skipRedrawConfirmation,currentProtagonistImage:N,skillTreeBuyMaxUnlocked:B,availableSketches:y,playerStats:j,cooldowns:R,graphiteCostModifier:0};if(_.autoStartOnRedraw>0){const K=G.availableSketches[0];if(K){const V=et.find(X=>X.id===K);V&&(G.combatState={...G.combatState,isFighting:!0,enemyId:K,lastVictory:null,currentPlayerHp:G.playerStats.HP,currentEnemyHp:V.stats.maxHp,enemyMaxHp:V.stats.maxHp,lastPlayerAttackTime:Date.now(),lastEnemyAttackTime:Date.now(),statuses:{player:{},enemy:{}}},G.lastEnemyId=K,G.activeTab="Ink War")}}return G}),purchaseSkillNode:i=>t(s=>{const l=Ir.find(w=>w.id===i);if(!l)return s;const c=s.skillLevels[i]??0;if(c>=l.maxLevel)return a().addNotification("Node already at max level!","SHOP_ERROR"),s;if(l.parentId!==null&&(s.skillLevels[l.parentId]??0)<1)return a().addNotification("Parent node not yet unlocked!","SHOP_ERROR"),s;const u=new f(l.baseCost).times(new f(l.costMultiplier).pow(c));if(s.quintessence.lt(u))return a().addNotification("Insufficient Quintessence!","SHOP_ERROR"),s;const m={...s.skillLevels,[i]:c+1},y=Ks(m),p=xa(s.battleStats,s.shopLevels,y,s.glossaryMultiplier,s.statCap);return a().addNotification(`${l.name} upgraded to Lv. ${c+1}!`,"SYSTEM_UNLOCK"),{quintessence:s.quintessence.minus(u),skillLevels:m,fundamentals:y,playerStats:p,lastPurchasedSkill:i,skillTreeBuyMaxUnlocked:s.skillTreeBuyMaxUnlocked||l.effectType==="BUY_MAX_SKILL_TREE"}}),purchaseMaxSkillNode:i=>t(s=>{const l=Ir.find(v=>v.id===i);if(!l)return s;const c=s.skillLevels[i]??0;if(c>=l.maxLevel)return s;if(l.parentId!==null&&(s.skillLevels[l.parentId]??0)<1)return a().addNotification("Parent node not yet unlocked!","SHOP_ERROR"),s;const u=new f(l.baseCost).times(new f(l.costMultiplier).pow(c)),{levelsToBuy:m,totalCost:y}=_b(u,l.costMultiplier,s.quintessence,l.maxLevel,c);if(m<=0)return a().addNotification("Insufficient Quintessence!","SHOP_ERROR"),s;const p={...s.skillLevels,[i]:c+m},w=Ks(p),x=xa(s.battleStats,s.shopLevels,w,s.glossaryMultiplier,s.statCap);return a().addNotification(`${l.name} upgraded +${m} levels!`,"SYSTEM_UNLOCK"),{quintessence:s.quintessence.minus(y),skillLevels:p,fundamentals:w,playerStats:x,lastPurchasedSkill:i,skillTreeBuyMaxUnlocked:s.skillTreeBuyMaxUnlocked||l.effectType==="BUY_MAX_SKILL_TREE"}}),challengeSketch:(i,s=!1)=>t(l=>{const c=et.find(w=>w.id===i);if(!c)return l;const u=Date.now();if(l.challengeCooldownUntil>u)return l;if((l.sketchDefeats[i]||0)>=l.maxDefeats)return a().addNotification("Max Defeats reached for this sketch!","SHOP_ERROR"),l.autoChallengeActive&&(a().addNotification("Auto-challenge paused (Max Defeats).","COMBAT_FLEE"),l.combatState.isFighting&&a().endCombat(0)),l;let y=l.playerStats.HP,p={};if(s){const w=l.combatState.currentPlayerHp;w.gt(0)&&(y=w,p=l.combatState.statuses.player)}return{combatState:{isFighting:!0,enemyId:i,lastVictory:l.combatState.lastVictory,currentPlayerHp:y,currentEnemyHp:c.stats.maxHp,enemyMaxHp:c.stats.maxHp,lastPlayerAttackTime:Date.now(),lastEnemyAttackTime:Date.now(),statuses:{player:p,enemy:{}}},lastEnemyId:i,activeTab:s?l.activeTab:"Ink War",challengeCooldownUntil:0}}),endCombat:(i=0,s=!1)=>t(l=>{const c=i>0;return{combatState:{...l.combatState,isFighting:!1,enemyId:null,currentEnemyHp:new f(0)},lastEnemyId:c?l.lastEnemyId:null,cooldowns:{...l.cooldowns,death:c?i:l.cooldowns.death},activeTab:!s&&l.activeTab==="Ink War"?"Gallery":l.activeTab,challengeCooldownUntil:i>0?Date.now()+i*1e3:0,damageEvents:[]}}),setActiveTab:i=>t(s=>i==="Ink War"&&s.combatState.isFighting?{activeTab:i}:s.unlockedTabs.includes(i)?{activeTab:i}:s),addNotification:(i,s)=>{const l=s,c=a().notificationSettings;if(c&&c[l]===!1)return;const u=Math.random().toString(36).substr(2,9);t(m=>({notifications:[...m.notifications,{id:u,message:i,type:l,timestamp:Date.now()}].slice(-5)})),setTimeout(()=>{a().removeNotification(u)},3e3)},toggleNotificationSetting:i=>t(s=>({notificationSettings:{...s.notificationSettings,[i]:!s.notificationSettings[i]}})),removeNotification:i=>t(s=>({notifications:s.notifications.filter(l=>l.id!==i)})),addDamageEvent:i=>t(s=>({damageEvents:[...s.damageEvents,{...i,id:Math.random().toString(36).substr(2,9),timestamp:Date.now()}].slice(-50)})),clearDamageEvents:()=>t({damageEvents:[]}),toggleHideSketch:i=>t(s=>s.hiddenSketches.includes(i)?{hiddenSketches:s.hiddenSketches.filter(c=>c!==i)}:{hiddenSketches:[...s.hiddenSketches,i]}),unhideAllSketches:()=>t({hiddenSketches:[]}),hideSketchesAbove:i=>t(s=>{const l=Object.entries(s.sketchDefeats).filter(([u,m])=>m>=i).map(([u,m])=>u);return{hiddenSketches:Array.from(new Set([...s.hiddenSketches,...l]))}}),markGlossaryItemAsSeen:i=>t(s=>s.seenGlossaryItems.includes(i)?{}:{seenGlossaryItems:[...s.seenGlossaryItems,i]}),unlockStory:i=>t(s=>s.unlockedStories.includes(i)?s:{unlockedStories:[...s.unlockedStories,i]}),completeStory:i=>{t(s=>s.viewedStories.includes(i)?s:{viewedStories:[...s.viewedStories,i]}),i==="THE_PREMISE"&&!a().hasSeenTutorial&&a().startTutorial()},setTutorialStep:i=>t({tutorialStep:i}),startTutorial:()=>t({tutorialStep:1,activeTab:"Gallery",archiveActiveSubTab:"synthesis",shopActiveSubTab:"tools"}),setArchiveActiveSubTab:i=>t({archiveActiveSubTab:i}),setShopActiveSubTab:i=>t({shopActiveSubTab:i}),applyRegen:(i,s)=>t(l=>{if(!l.combatState.isFighting)return l;const{currentPlayerHp:c,currentEnemyHp:u,enemyId:m}=l.combatState,{playerStats:y}=l;let p=c,w=u,x=l.damageEvents;if(i.gt(0)){const v=y.HP,b=l.combatState.statuses.player.Freeze||0;if(b>100){const E=new f(b).times(.01).minus(1),_=i.times(E);_.gt(0)&&(p=f.max(0,c.minus(_)),x=rt(x,"freeze","player",_))}else{const E=1-b*.01,_=i.times(f.max(0,E));if(c.lt(v)&&_.gt(0)){const j=f.min(_,v.minus(c));p=c.plus(j),j.gt(0)&&(x=rt(x,"heal","player",j))}}}if(s.gt(0)&&m){const v=et.find(b=>b.id===m);if(v){const b=v.stats.maxHp,E=l.combatState.statuses.enemy.Freeze||0;if(E>100){const _=new f(E).times(.01).minus(1),j=s.times(_);j.gt(0)&&(w=f.max(0,u.minus(j)),x=rt(x,"freeze","enemy",j))}else{const _=1-E*.01,j=s.times(f.max(0,_));if(u.lt(b)&&j.gt(0)){const R=f.min(j,b.minus(u));w=u.plus(R),R.gt(0)&&(x=rt(x,"heal","enemy",R))}}}}return p.eq(c)&&w.eq(u)?l:{combatState:{...l.combatState,currentPlayerHp:p,currentEnemyHp:w},damageEvents:x}}),dealDamageToEnemy:(i,s=!1,l)=>t(c=>{if(!c.combatState.isFighting)return c;const u=et.find(v=>v.id===c.combatState.enemyId);if(!u)return c;const m=u.stats;let y=i;const p=c.combatState.statuses.enemy.Frailty||0;p>0&&(y=y.times(1+p*.01));const w=Eg(c.playerStats,m,c.combatState.currentEnemyHp,m.maxHp,c.combatState.currentPlayerHp,c.playerStats.HP,y,c.damageEvents,"enemy",c.combatState.statuses.player,c.combatState.statuses.enemy),x=c.combatState.statuses.player.Hypnotize||0;if(x>0){const v=Math.min(100,x)/100;if(Math.random()<v){const b=c.combatState.currentEnemyHp.minus(w.newDefenderHp),E=f.max(0,c.combatState.currentPlayerHp.minus(b)),_={...c.combatState.statuses.player};delete _.Hypnotize;const j=rt(c.damageEvents,"hypnotize","player",b);return{...c,damageEvents:j,combatState:{...c.combatState,currentPlayerHp:E,currentEnemyHp:c.combatState.currentEnemyHp,lastPlayerAttackTime:s?c.combatState.lastPlayerAttackTime:l||Date.now(),statuses:{enemy:c.combatState.statuses.enemy,player:_}}}}}if(w.counterTriggered&&!s){const v=200/(c.fundamentals.timeAcceleration||1);setTimeout(()=>{ge.getState().combatState.isFighting&&(ge.getState().dealDamageToPlayer(m.attack,!0),ge.getState().addDamageEvent({type:"dodge",target:"enemy",value:"Counter!",isCrit:!1}))},v)}return{...c,damageEvents:w.damageEvents,combatState:{...c.combatState,currentEnemyHp:w.newDefenderHp,currentPlayerHp:w.newAttackerHp,lastPlayerAttackTime:s?c.combatState.lastPlayerAttackTime:l||Date.now(),statuses:{player:w.newAttackerStatuses,enemy:w.newDefenderStatuses}}}}),dealDamageToPlayer:(i,s=!1,l)=>t(c=>{if(!c.combatState.isFighting||c.combatState.currentEnemyHp.lte(de))return c;const u=et.find(v=>v.id===c.combatState.enemyId);if(!u)return c;const m=u.stats;let y=i;const p=c.combatState.statuses.player.Frailty||0;p>0&&(y=y.times(1+p*.01));const w=Eg(m,c.playerStats,c.combatState.currentPlayerHp,c.playerStats.HP,c.combatState.currentEnemyHp,m.maxHp,y,c.damageEvents,"player",c.combatState.statuses.enemy,c.combatState.statuses.player),x=c.combatState.statuses.enemy.Hypnotize||0;if(x>0){const v=Math.min(100,x)/100;if(Math.random()<v){const b=c.combatState.currentPlayerHp.minus(w.newDefenderHp),E=f.max(0,c.combatState.currentEnemyHp.minus(b)),_={...c.combatState.statuses.enemy};delete _.Hypnotize;const j=rt(c.damageEvents,"hypnotize","enemy",b);return{...c,damageEvents:j,combatState:{...c.combatState,currentEnemyHp:E,currentPlayerHp:c.combatState.currentPlayerHp,lastEnemyAttackTime:s?c.combatState.lastEnemyAttackTime:Date.now(),statuses:{player:c.combatState.statuses.player,enemy:_}}}}}if(w.counterTriggered&&!s){const v=200/(c.fundamentals.timeAcceleration||1);setTimeout(()=>{ge.getState().combatState.isFighting&&(ge.getState().dealDamageToEnemy(ge.getState().playerStats.ATK,!0),ge.getState().addDamageEvent({type:"dodge",target:"player",value:"Counter!",isCrit:!1}))},v)}return{...c,damageEvents:w.damageEvents,combatState:{...c.combatState,currentPlayerHp:w.newDefenderHp,currentEnemyHp:w.newAttackerHp,lastEnemyAttackTime:s?c.combatState.lastEnemyAttackTime:l||Date.now(),statuses:{player:w.newDefenderStatuses,enemy:w.newAttackerStatuses}}}}),processStatusTicks:()=>t(i=>{if(!i.combatState.isFighting)return i;const s=Object.keys(i.combatState.statuses.player).length>0,l=Object.keys(i.combatState.statuses.enemy).length>0;if(!s&&!l)return i;const c={...i.combatState.statuses.player},u={...i.combatState.statuses.enemy},{currentPlayerHp:m,currentEnemyHp:y,enemyId:p}=i.combatState;let w=m,x=y,v=i.damageEvents.slice(-49);const b=et.find(K=>K.id===p),E=b?b.stats:{},_=c.Burn||0;if(_>0&&w.gt(0)){const V=(E.BurnDamage||lr).times(_);w=f.max(0,w.minus(V)),v=rt(v,"damage","player",V)}const j=u.Burn||0;if(j>0&&x.gt(0)){const V=(i.playerStats.BurnDamage||lr).times(j);x=f.max(0,x.minus(V)),v=rt(v,"damage","enemy",V)}const R=c.Plague||0;if(R>0&&w.gt(0)){const K=new f(1).times(R);w=f.max(0,w.minus(K)),v=rt(v,"plague","player",K);let V=0;if(R<50)for(let X=0;X<R;X++)Math.random()<.1&&V++;else V=Math.floor(R*.1)+(Math.random()<R*.1%1?1:0);V>0&&(c.Plague=R+V)}const B=u.Plague||0;if(B>0&&x.gt(0)){const K=new f(1).times(B);x=f.max(0,x.minus(K)),v=rt(v,"plague","enemy",K);let V=0;if(B<50)for(let X=0;X<B;X++)Math.random()<.1&&V++;else V=Math.floor(B*.1)+(Math.random()<B*.1%1?1:0);V>0&&(u.Plague=B+V)}const N=c.Poison||0;if(N>0&&w.gt(0)){const V=i.playerStats.HP.times(.001).times(N);V.gt(0)&&(w=f.max(0,w.minus(V)),v=rt(v,"poison","player",V))}const G=u.Poison||0;if(G>0&&x.gt(0)){const V=(E.maxHp||lr).times(.001).times(G);V.gt(0)&&(x=f.max(0,x.minus(V)),v=rt(v,"poison","enemy",V))}return w.eq(m)&&x.eq(y)?i:{...i,damageEvents:v,combatState:{...i.combatState,currentPlayerHp:w,currentEnemyHp:x,statuses:{player:c,enemy:u}}}}),recordDefeat:i=>t(s=>{const l=!s.glossaryUnlocks.includes(i);let c=s.playerStats,u=s.glossaryUnlocks,m=s.glossaryMultiplier;if(l){const w=et.find(v=>v.id===i);w&&a().addNotification(`New Glossary Entry: ${w.name}`,"SYSTEM_UNLOCK"),u=[...s.glossaryUnlocks,i];const x=bd(u);c=xa(s.battleStats,s.shopLevels,s.fundamentals,x,s.statCap),m=x}const y=(s.sketchDefeats[i]||0)+1;let p=s.hiddenSketches;return s.autoHideMaxedUnlocked&&s.autoHideMaxedActive&&y>=s.maxDefeats&&(p.includes(i)||(p=[...p,i],a().addNotification(`Sketch Hidden (Max Defeats): ${et.find(w=>w.id===i)?.name}`,"SYSTEM_UNLOCK"))),{sketchDefeats:{...s.sketchDefeats,[i]:y},glossaryUnlocks:u,glossaryMultiplier:m,playerStats:c,hiddenSketches:p}}),processCombatRewards:(i,s,l,c)=>t(u=>{const y=(u.sketchDefeats[i]||0)+s,p=!u.glossaryUnlocks.includes(i);let w=u.glossaryUnlocks,x=u.playerStats;if(p){const N=et.find(K=>K.id===i);N&&a().addNotification(`New Glossary Entry: ${N.name}`,"SYSTEM_UNLOCK"),w=[...u.glossaryUnlocks,i];const G=bd(w);x=xa(u.battleStats,u.shopLevels,u.fundamentals,G,u.statCap)}const v=p?bd(w):u.glossaryMultiplier,b={...u.battleStats};let E=!1;Object.entries(l).forEach(([N,G])=>{if(!G.isZero()){const K=N,V=b[K]||new f(0);b[K]=V.plus(G),E=!0}}),E&&(x=xa(b,u.shopLevels,u.fundamentals,v,u.statCap));const _={...u.currencies},j={...u.totalEarnedCurrencies},R={...u.totalBattleEarnedCurrencies};Object.entries(c).forEach(([N,G])=>{if(G.gt(0)){const K=N,V=_[K]||new f(0);_[K]=V.plus(G);const X=j[K]||new f(0);j[K]=X.plus(G);const C=R[K]||new f(0);R[K]=C.plus(G)}});let B=u.hiddenSketches;return u.autoHideMaxedUnlocked&&u.autoHideMaxedActive&&y>=u.maxDefeats&&(B.includes(i)||(B=[...B,i],a().addNotification(`Sketch Hidden (Max Defeats): ${et.find(N=>N.id===i)?.name}`,"SYSTEM_UNLOCK"))),{sketchDefeats:{...u.sketchDefeats,[i]:y},glossaryUnlocks:w,glossaryMultiplier:v,battleStats:b,playerStats:x,currencies:_,totalEarnedCurrencies:j,totalBattleEarnedCurrencies:R,hiddenSketches:B,combatState:{...u.combatState,lastVictory:{enemyId:i,time:Date.now()}}}}),toggleTimeAcceleration:()=>t(i=>i.devSpeedEnabled?{devSpeedEnabled:!1,fundamentals:Ks(i.skillLevels)}:{devSpeedEnabled:!0,fundamentals:{...Ks(i.skillLevels),timeAcceleration:20,deathRecovery:1,fleePenalty:1,lookahead:100}}),grantOfflineGains:(i,s)=>t(l=>{const c={...l.currencies},u={...l.concepts},m={...l.totalEarnedCurrencies};let y=l.quintessence,p=l.pendingQuintessence;return Object.entries(i).forEach(([w,x])=>{const v=w;c[v]?c[v]=c[v].plus(x):c[v]=x,m[v]=(m[v]||new f(0)).plus(x)}),Object.entries(s).forEach(([w,x])=>{if(w==="Quintessence"||w==="Pending Quintessence")p=p.plus(x);else{const v=w;u[v]?u[v]=u[v].plus(x):u[v]=x}}),{currencies:c,concepts:u,quintessence:y,pendingQuintessence:p,totalEarnedCurrencies:m}})}),{name:"unnamed-battler-save",serialize:t=>t,deserialize:t=>t,storage:{getItem:t=>{const a=localStorage.getItem(t);if(!a)return null;const i=JSON.parse(a);return{state:ac(i.state),version:i.version}},setItem:(t,a)=>{Mg=a,kd||(kd=setTimeout(()=>{localStorage.setItem(t,JSON.stringify(Mg)),kd=null},1e3))},removeItem:t=>localStorage.removeItem(t)},partialize:t=>{const{notifications:a,combatState:i,damageEvents:s,...l}=t;return l},version:23,migrate:(t,a)=>{if(a<23&&(t.shopActiveSubTab=t.shopActiveSubTab??"tools"),a<22&&(t.hasSeenTutorial=t.hasSeenTutorial??!1,t.tutorialStep=t.tutorialStep??null,t.archiveActiveSubTab=t.archiveActiveSubTab??"synthesis"),a<19&&(t.activeTab==="The Gallery"&&(t.activeTab="Gallery"),Array.isArray(t.unlockedTabs)&&(t.unlockedTabs=t.unlockedTabs.map(i=>i==="The Gallery"?"Gallery":i))),a<20&&(t.unlockedStories=["THE_PREMISE"],t.viewedStories=[]),a<21){const i=t.glossaryUnlocks||[];let s=new f(1);i.forEach(l=>{const c=mc[l];if(c)switch(c.rarity){case"scrap":s=s.plus(.01);break;case"rough":s=s.plus(.05);break;case"framed":s=s.plus(.25);break;case"opus":s=s.plus(.75);break;case"masterpiece":s=s.plus(1.5);break}}),t.glossaryMultiplier=s}return t}})),Tg=t=>Symbol.iterator in t,Ag=t=>"entries"in t,Rg=(t,a)=>{const i=t instanceof Map?t:new Map(t.entries()),s=a instanceof Map?a:new Map(a.entries());if(i.size!==s.size)return!1;for(const[l,c]of i)if(!s.has(l)||!Object.is(c,s.get(l)))return!1;return!0},m2=(t,a)=>{const i=t[Symbol.iterator](),s=a[Symbol.iterator]();let l=i.next(),c=s.next();for(;!l.done&&!c.done;){if(!Object.is(l.value,c.value))return!1;l=i.next(),c=s.next()}return!!l.done&&!!c.done};function p2(t,a){return Object.is(t,a)?!0:typeof t!="object"||t===null||typeof a!="object"||a===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(a)?!1:Tg(t)&&Tg(a)?Ag(t)&&Ag(a)?Rg(t,a):m2(t,a):Rg({entries:()=>Object.entries(t)},{entries:()=>Object.entries(a)})}function Et(t){const a=Oi.useRef(void 0);return i=>{const s=t(i);return p2(a.current,s)?a.current:a.current=s}}var g2=function(){};function Bn(t,a,i){var s=ee.useRef(g2);ee.useEffect(function(){s.current=t}),ee.useEffect(function(){},[i]),ee.useEffect(function(){if(!(a===null||a===!1)){var l=function(){return s.current()},c=setInterval(l,a);return function(){return clearInterval(c)}}},[a])}const y2=()=>{const t=ge(c=>c.challengeCooldownUntil),[a,i]=ee.useState(Date.now()),s=t>a;if(Bn(()=>{i(Date.now())},s?100:null),!s)return null;const l=Math.max(0,Math.ceil((t-a)/1e3));return h.jsxs("div",{className:"fixed inset-0 pointer-events-none z-50 flex items-center justify-center",style:{marginLeft:"160px"},children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-48 h-48 bg-black rounded-full flex items-center justify-center shadow-[0_0_100px_rgba(0,0,0,0.6)]",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"font-mono text-6xl font-black text-white",children:l}),h.jsx("div",{className:"text-xs uppercase tracking-widest text-neutral-400 font-bold mt-1",children:"seconds"})]})}),h.jsx("div",{className:"absolute -top-6 -right-6 w-8 h-8 bg-black rounded-full opacity-60 animate-bounce",style:{animationDelay:"0s"}}),h.jsx("div",{className:"absolute -bottom-4 -left-8 w-10 h-10 bg-black rounded-full opacity-40 animate-bounce",style:{animationDelay:"0.2s"}}),h.jsx("div",{className:"absolute top-1/2 -right-12 w-5 h-5 bg-black rounded-full opacity-50 animate-bounce",style:{animationDelay:"0.5s"}}),h.jsx("div",{className:"absolute top-0 -left-4 w-4 h-4 bg-black rounded-full opacity-30 animate-bounce",style:{animationDelay:"0.7s"}})]}),h.jsx("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2 bg-white px-8 py-3 border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:h.jsx("span",{className:"font-black uppercase tracking-widest",children:"Ink Drying..."})})]})},Xn=({children:t,className:a,title:i,color:s="white"})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:a,children:[h.jsx("title",{children:i}),h.jsx("rect",{x:"4",y:"4",width:"40",height:"40",rx:"8",fill:"#171717"}),h.jsx("g",{stroke:s,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:t})]}),el=({className:t,color:a="white"})=>h.jsxs(Xn,{className:t,title:"Graphite",color:a,children:[h.jsx("path",{d:"M12 10 L36 10 L36 34 L24 42 L12 34 Z",fill:a,fillOpacity:"0.1"}),h.jsx("path",{d:"M18 10L18 38"}),h.jsx("path",{d:"M30 10L30 38"}),h.jsx("path",{d:"M12 34L36 34"}),h.jsx("path",{d:"M24 34L24 42"}),h.jsx("path",{d:"M12 14H36",strokeOpacity:"0.5"})]}),pc=({className:t,color:a="white"})=>h.jsxs(Xn,{className:t,title:"Wax",color:a,children:[h.jsx("path",{d:"M16 8 L32 8 L32 36 L16 36 Z"}),h.jsx("path",{d:"M16 36 L18 42 L30 42 L32 36"}),h.jsx("path",{d:"M16 16H32"}),h.jsx("path",{d:"M16 28H32"}),h.jsx("path",{d:"M22 18 V26",strokeOpacity:"0.5",strokeDasharray:"2 2"})]}),gc=({className:t,color:a="white"})=>h.jsxs(Xn,{className:t,title:"Charcoal",color:a,children:[h.jsx("path",{d:"M14 20 C10 24 8 32 14 38 C20 44 32 44 36 36 C40 28 36 20 30 16 C24 12 18 16 14 20 Z",fill:a,fillOpacity:"0.3"}),h.jsx("path",{d:"M14 20 L20 24 L24 18 L30 22",strokeOpacity:"0.6"}),h.jsx("path",{d:"M16 34 L22 30",strokeOpacity:"0.6"})]}),yc=({className:t,color:a="white"})=>h.jsxs(Xn,{className:t,title:"Coffee",color:a,children:[h.jsx("path",{d:"M12 14H32V32C32 36 29 39 25 39H19C15 39 12 36 12 32V14Z",fill:a,fillOpacity:"0.1"}),h.jsx("path",{d:"M32 18H37C39 18 40 19 40 21C40 23 39 24 37 24H32"}),h.jsx("path",{d:"M16 10L18 6",strokeOpacity:"0.5"}),h.jsx("path",{d:"M22 8L24 4",strokeOpacity:"0.5"}),h.jsx("path",{d:"M28 10L30 6",strokeOpacity:"0.5"})]}),Un=({className:t,color:a="white"})=>h.jsxs(Xn,{className:t,title:"Ink",color:a,children:[h.jsx("path",{d:"M16 20V14C16 14 18 12 24 12C30 12 32 14 32 14V20"}),h.jsx("path",{d:"M14 20H34V36C34 39 31 41 28 41H20C17 41 14 39 14 36V20Z",fill:a,fillOpacity:"0.2"}),h.jsx("path",{d:"M14 24H34",strokeOpacity:"0.3"}),h.jsx("circle",{cx:"24",cy:"30",r:"3",fill:a})]}),xc=({className:t,color:a="white"})=>h.jsxs(Xn,{className:t,title:"Marker",color:a,children:[h.jsx("path",{d:"M18 12 H30 V36 H18 Z"}),h.jsx("path",{d:"M16 36 H32 V40 H16 Z"}),h.jsx("path",{d:"M18 12 L20 6 H28 L30 12"}),h.jsx("path",{d:"M18 18 H30"}),h.jsx("path",{d:"M26 40 V30",strokeOpacity:"0.5"})]}),i0=({className:t,color:a="white"})=>h.jsxs(Xn,{className:t,title:"Acrylic",color:a,children:[h.jsx("path",{d:"M14 32 L16 14 L32 14 L34 32"}),h.jsx("path",{d:"M14 32 C14 32 18 34 24 34 C30 34 34 32 34 32"}),h.jsx("rect",{x:"18",y:"8",width:"12",height:"6"}),h.jsx("path",{d:"M14 36 L15 39 C15 39 18 40 24 40 C30 40 33 39 33 39 L34 36"}),h.jsx("path",{d:"M18 20 H30",strokeOpacity:"0.3"})]}),s0=({className:t,color:a="white"})=>h.jsxs(Xn,{className:t,title:"Spray",color:a,children:[h.jsx("rect",{x:"14",y:"14",width:"20",height:"26"}),h.jsx("path",{d:"M14 14 L18 8 H30 L34 14"}),h.jsx("rect",{x:"21",y:"4",width:"6",height:"4",fill:a}),h.jsx("path",{d:"M14 34 H34",strokeOpacity:"0.3"})]}),l0=({className:t,color:a="white"})=>h.jsxs(Xn,{className:t,title:"Photon",color:a,children:[h.jsx("path",{d:"M24 8 V14"}),h.jsx("path",{d:"M24 34 V40"}),h.jsx("path",{d:"M8 24 H14"}),h.jsx("path",{d:"M34 24 H40"}),h.jsx("path",{d:"M12 12 L17 17"}),h.jsx("path",{d:"M31 31 L36 36"}),h.jsx("path",{d:"M12 36 L17 31"}),h.jsx("path",{d:"M31 17 L36 12"}),h.jsx("circle",{cx:"24",cy:"24",r:"4",fill:a})]}),o0=({className:t,color:a="white"})=>h.jsxs(Xn,{className:t,title:"Gold Leaf",color:a,children:[h.jsx("path",{d:"M10 12 C14 10 34 8 38 12 C40 16 38 36 34 40 C30 42 10 40 8 36 C6 32 8 14 10 12 Z",fill:a,fillOpacity:"0.2"}),h.jsx("path",{d:"M10 12 L38 12 L34 40 L8 36 Z",strokeOpacity:"0.5"}),h.jsx("path",{d:"M18 18 L24 24 L30 18",strokeOpacity:"0.5"}),h.jsx("path",{d:"M16 30 L22 24",strokeOpacity:"0.5"})]}),Fy=Object.freeze(Object.defineProperty({__proto__:null,AcrylicIcon:i0,CharcoalIcon:gc,CoffeeIcon:yc,GoldLeafIcon:o0,GraphiteIcon:el,InkIcon:Un,MarkerIcon:xc,PhotonIcon:l0,SprayIcon:s0,WaxIcon:pc},Symbol.toStringTag,{value:"Module"})),c0=({rewards:t,currencyRewards:a,multiplier:i,layout:s="col"})=>{const l=t.filter(u=>{const m=u.amount.times(i);return u.statName==="SPD"?!m.isZero():m.gt(0)}),c=a?.filter(u=>u.amount.times(i).gt(0))||[];return l.length===0&&c.length===0?null:h.jsxs("div",{className:s==="grid"?"grid grid-cols-2 gap-x-4 gap-y-1":"flex flex-col gap-1",children:[h.jsx("div",{className:"flex flex-col gap-0.5",children:l.map((u,m)=>{const y=u.amount.times(i),p=Rt[u.statName]||Rt.HP,w=p.icon,x=p.label;return h.jsxs("div",{className:"flex gap-2 items-center text-xs font-mono font-bold text-neutral-800",title:`Reward: ${p.fullName}
${p.description}`,children:[h.jsxs("span",{className:"flex items-center gap-1 opacity-90",children:[h.jsx(w,{className:`w-3.5 h-3.5 ${p.colorClass}`}),x]}),h.jsxs("span",{children:[y.gt(0)?"+":"",ke(y)]})]},`stat-${m}`)})}),h.jsx("div",{className:"flex flex-col gap-0.5",children:c.map((u,m)=>{const y=u.amount.times(i),p=Fy[`${u.name}Icon`],w=$y[u.name]?.code||u.name;return h.jsxs("div",{className:"flex gap-2 items-center text-xs font-mono font-bold text-neutral-800",title:`Reward: +${ke(y)} ${u.name}`,children:[h.jsxs("span",{className:"flex items-center gap-1",children:[p?h.jsx(p,{className:"w-3.5 h-3.5 text-neutral-600"}):null,w]}),h.jsxs("span",{children:["+",ke(y)]})]},`curr-${m}`)})})]})},x2=({draft:t,multiplier:a,defeats:i,maxDefeats:s,isHidden:l,isFighting:c,onChallenge:u,onToggleHide:m,tutorialIdStats:y,tutorialIdRewards:p,tutorialIdChallenge:w})=>{const x=i>=s,v=t.name,b={contentVisibility:"auto",containIntrinsicSize:"0 300px"};return h.jsxs("div",{className:`bg-white p-4 shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)] hover:shadow-[6px_6px_0px_0px_rgba(0,0,0,0.15)] transition-shadow flex flex-col relative group h-full rarity-${t.rarity} ${l?"opacity-60 grayscale":""}`,style:b,children:[i>0&&h.jsx("button",{onClick:E=>{E.stopPropagation(),m(t.id)},className:"absolute top-1 left-1 z-20 p-1.5 bg-white bg-opacity-90 rounded-full shadow-sm border border-neutral-200 text-neutral-400 hover:text-red-600 hover:border-red-300 transition-all",title:l?"Unhide Sketch":"Hide Sketch",children:l?h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[h.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),h.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.414-1.414A9 9 0 0010 10a8.975 8.975 0 00-1.414.114l-.32-.32A11.05 11.05 0 0110 8c4.478 0 8.268 2.943 9.542 7a11.01 11.01 0 01-2.903 4.205l-1.34-1.34A9.01 9.01 0 0019.542 10 9.01 9.01 0 0010 11.83 5.01 5.01 0 007.414 8.586l-2-2A8.995 8.995 0 00.458 10a11.05 11.05 0 012.396-4.996l-1.12-1.12a1 1 0 001.414 0l1.122 1.12.853.854zM6.586 10l-1.414 1.414A6.973 6.973 0 0010 14a7.01 7.01 0 003.743-1.086l-1.366-1.366A4.985 4.985 0 0110 12a5.006 5.006 0 01-3.414-2zm5.828 0a3.004 3.004 0 01-5.656 0l2.828 2.828L12.414 10z",clipRule:"evenodd"})})}),h.jsxs("div",{id:y,className:"flex gap-4 h-[120px]",children:[h.jsx("div",{className:"w-22 h-22 shrink-0 bg-neutral-50 border border-neutral-100 flex items-center justify-center",children:h.jsx("img",{src:t.imagePath,alt:t.name,loading:"lazy",className:"w-full h-full object-contain mix-blend-multiply opacity-90"})}),h.jsxs("div",{className:"flex-1 min-w-0 flex flex-col min-h-[80px]",children:[h.jsxs("div",{className:"mb-2 border-b border-neutral-200 pb-1",children:[h.jsx("h3",{className:"font-black uppercase text-neutral-800 leading-none text-lg",children:v}),h.jsx("div",{className:"flex justify-between items-baseline mt-1",children:h.jsx("p",{className:"text-[10px] text-neutral-500 font-serif italic truncate mr-2",children:t.flavorText})})]}),h.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-1 text-xs font-bold text-neutral-600 mb-2 flex-grow",children:Object.values(Rt).map(E=>{const _=t.stats[E.sketchKey];if(_==null)return null;const j=f.isBigNumber(_);return E.key==="MinDamage"&&j&&_.eq(75)||E.key==="MaxDamage"&&j&&_.eq(125)||(j?_.isZero():_===0)&&E.key!=="HP"&&E.key!=="ATK"&&E.key!=="SPD"?null:h.jsxs("span",{title:`${E.fullName}
${E.description}`,className:"flex items-center gap-0.5",children:[h.jsx(E.icon,{className:`w-3.5 h-3.5 ${E.colorClass}`}),ke(_,E.format.decimals),E.format.suffix]},E.key)})})]})]}),h.jsxs("div",{id:p,className:"mt-auto border-t border-neutral-100 pt-2 h-[60px]",children:[h.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[h.jsxs("div",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-400",children:["Rewards",i>0&&h.jsxs("span",{className:"ml-1 text-neutral-500",children:["",ke(a,3)]})]}),i>0&&h.jsxs("div",{className:`text-[10px] font-bold ${x?"text-red-600":"text-neutral-400"}`,children:[i," ",x?"MAXED":"Defeats"]})]}),h.jsx(c0,{rewards:t.rewards,currencyRewards:t.currencyRewards,multiplier:a,layout:"grid"})]}),h.jsx("button",{id:w,onClick:()=>u(t.id),disabled:x||c,className:`
                    w-full mt-3 py-1.5 text-xs font-bold uppercase tracking-wider border-2 transition-all
                    ${x?"bg-red-50 text-red-400 border-red-200 cursor-not-allowed":"bg-white text-black border-black hover:bg-black hover:text-white active:transform active:translate-y-1"}
                `,children:x?"MAXED":c?"In Battle":"Challenge"})]})},w2=ee.memo(x2),jg=()=>{const{challengeSketch:t,getRewardMultiplier:a,sketchDefeats:i,hiddenSketches:s,toggleHideSketch:l,maxDefeats:c,availableSketches:u,isFighting:m,fundamentals:y,unhideAllSketches:p,hideSketchesAbove:w}=ge(Et(N=>({challengeSketch:N.challengeSketch,getRewardMultiplier:N.getRewardMultiplier,sketchDefeats:N.sketchDefeats,hiddenSketches:N.hiddenSketches,toggleHideSketch:N.toggleHideSketch,maxDefeats:N.maxDefeats,availableSketches:N.availableSketches,isFighting:N.combatState.isFighting,fundamentals:N.fundamentals,unhideAllSketches:N.unhideAllSketches,hideSketchesAbove:N.hideSketchesAbove}))),x=y.lookahead,[v,b]=ee.useState(!1),E=et.filter(N=>u.includes(N.id));let _=-1;for(let N=0;N<E.length;N++)(i[E[N].id]||0)>0&&(_=N);const j=_+1+x,B=E.slice(0,j).filter(N=>v||!s.includes(N.id));return h.jsxs("div",{id:"tutorial-gallery",className:"h-full p-4 overflow-y-auto relative",children:[h.jsx(y2,{}),h.jsxs("header",{className:"mb-4 border-b-2 border-neutral-200 pb-3 flex justify-between items-center",children:[h.jsx("p",{className:"text-neutral-500 font-serif italic",children:"Art is pain. Inflict it and reclaim your glory."}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>p(),className:"text-[10px] font-bold uppercase text-neutral-400 hover:text-neutral-900 transition-colors",title:"Unhide all sketches",children:"Unhide All"}),h.jsx("button",{onClick:()=>w(c),className:"text-[10px] font-bold uppercase text-neutral-400 hover:text-neutral-900 transition-colors",title:`Hide sketches with ${c} defeats`,children:"Hide Max"})]}),h.jsx("div",{className:"w-px h-4 bg-neutral-300"}),h.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold uppercase text-neutral-500 cursor-pointer select-none hover:text-neutral-800 transition-colors",children:[h.jsx("input",{type:"checkbox",checked:v,onChange:N=>b(N.target.checked),className:"w-4 h-4 accent-neutral-900"}),"Show Hidden"]})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-24",children:B.map((N,G)=>{const K=a(N.id),V=i[N.id]||0,X=s.includes(N.id);return h.jsx(w2,{draft:N,multiplier:K,defeats:V,maxDefeats:c,isHidden:X,isFighting:m,onChallenge:t,onToggleHide:l,tutorialIdStats:G===0?"tutorial-gallery-sketch-stats":void 0,tutorialIdRewards:G===0?"tutorial-gallery-sketch-rewards":void 0,tutorialIdChallenge:G===0?"tutorial-gallery-sketch-challenge":void 0},N.id)})})]})},v2=()=>{const t=ge(l=>l.damageEvents),[a,i]=ee.useState(Date.now());ee.useEffect(()=>{const l=requestAnimationFrame(()=>i(Date.now())),c=setInterval(()=>i(Date.now()),100);return()=>{clearInterval(c),cancelAnimationFrame(l)}},[]);const s=t.filter(l=>a-l.timestamp<800);return h.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden z-20",children:s.map(l=>{const c=l.id.split("").reduce((b,E)=>b+E.charCodeAt(0),0),u=Math.abs(Math.sin(c*123.45)),m=Math.abs(Math.cos(c*678.9));let y="50%",p="auto",w="auto";if(l.target==="enemy"){const b=35+u*30,E=20+m*20;y=`${b}%`,p=`${E}%`}else y=`${15+u*70}%`,w="25%";let x="",v="";return l.type==="heal"?l.value==="Cleanse"?(x="text-teal-400 font-bold text-2xl",v=""):(x="text-green-500",v="+"):l.type==="lifesteal"?(x="text-purple-500",v="+"):l.type==="dodge"?x="text-neutral-400 italic text-2xl":l.type==="bleed"?x="text-red-700 font-bold":l.type==="burn"?x="text-orange-500 font-bold":l.type==="plague"?x="text-lime-700 font-bold text-2xl":l.type==="poison"?x="text-fuchsia-600 font-bold":l.type==="hypnotize"?x="text-pink-500 font-extrabold text-2xl":l.type==="freeze"?x="text-cyan-400 font-extrabold pb-8":l.type==="electrocute"?x="text-yellow-500 font-bold text-2xl":l.type==="curse"?x="text-purple-900 font-bold text-2xl":l.isCrit?x="text-orange-600 font-extrabold text-4xl":x="text-neutral-900",h.jsxs("div",{className:`
                            absolute font-black text-3xl tracking-tighter animate-float-damage
                            ${x}
                        `,style:{left:y,top:p!=="auto"?p:void 0,bottom:w!=="auto"?w:void 0,textShadow:l.type==="damage"?"2px 2px 0px rgba(255,255,255,1)":"none"},children:[v,l.value,l.isCrit?"!":""]},l.id)})})},Dg={Bleed:"bg-red-100 border-red-300 text-red-800",Burn:"bg-orange-100 border-orange-300 text-orange-800",Plague:"bg-lime-100 border-lime-300 text-lime-800",Poison:"bg-fuchsia-100 border-fuchsia-300 text-fuchsia-800",Hypnotize:"bg-pink-100 border-pink-300 text-pink-800",Slow:"bg-indigo-100 border-indigo-300 text-indigo-800",Frailty:"bg-emerald-100 border-emerald-300 text-emerald-900",Freeze:"bg-cyan-100 border-cyan-300 text-cyan-800",Hinder:"bg-neutral-100 border-neutral-300 text-neutral-800"},b2=()=>{const t=Rt.HP.icon,{combatState:a,playerStats:i,endCombat:s,getRewardMultiplier:l,sketchDefeats:c,fundamentals:u}=ge(Et(T=>({combatState:T.combatState,playerStats:T.playerStats,endCombat:T.endCombat,getRewardMultiplier:T.getRewardMultiplier,sketchDefeats:T.sketchDefeats,fundamentals:T.fundamentals,setActiveTab:T.setActiveTab}))),m=u.timeAcceleration||1,y=et.find(T=>T.id===a.enemyId),p=a.currentEnemyHp,w=a.currentPlayerHp,x=a.lastPlayerAttackTime,v=a.lastEnemyAttackTime,[b,E]=ee.useState(0),[_,j]=ee.useState(0),[R,B]=ee.useState(!1),[N,G]=ee.useState([]),K=i.HP,V=i.SPD.toNumber()||3e3,X=y?y.stats.attackSpeed:3e3;ee.useEffect(()=>{E(0),j(0),a.enemyId&&(G([]),B(!1))},[a.enemyId]),ee.useEffect(()=>{E(0)},[x]),ee.useEffect(()=>{j(0)},[v]),Bn(()=>{if(!a.isFighting||!y){E(0),j(0);return}const T=Date.now();if(w.gt(0)&&p.gt(0)){const q=1+(a.statuses.player.Slow||0)*.01,F=V/m*q,P=T-x,H=Math.min(100,P/F*100);E(H);const Q=1+(a.statuses.enemy.Slow||0)*.01,te=X/m*Q,ie=T-v,se=Math.min(100,ie/te*100);j(se)}},a.isFighting?16:null);const C=a.lastVictory,M=ee.useRef(C?.time||0);ee.useEffect(()=>{if(C&&C.time>M.current){M.current=C.time;const T=et.find(z=>z.id===C.enemyId);if(T){const z={id:C.enemyId,image:T.imagePath,key:C.time};G(q=>[...q,z]),setTimeout(()=>{G(q=>q.filter(F=>F.key!==z.key))},250),ge.getState().autoChallengeActive||setTimeout(()=>{const q=ge.getState();!q.combatState.isFighting&&q.activeTab==="Ink War"&&q.setActiveTab("Gallery")},200)}}},[C]),ee.useEffect(()=>{p.lte(0)&&a.isFighting&&!R&&B(!0),p.gt(0)&&R&&B(!1)},[p,a.isFighting,R]);const U=ee.useRef(null);if(ee.useEffect(()=>{a.enemyId&&a.enemyId!==U.current&&B(!1),U.current=a.enemyId},[a.enemyId]),!y&&N.length===0)return h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-neutral-500",children:[h.jsx("p",{children:"No active battle."}),h.jsx("button",{onClick:()=>s(),className:"mt-4 underline",children:"Return to Board"})]});const D=y?y.stats.maxHp:new f(1),O=D.isZero()?0:p.div(D).times(100).toNumber(),Y=K.isZero()?0:w.div(K).times(100).toNumber(),A=y||et.find(T=>T.id===U.current),L=A?l(A.id):new f(1),S=A&&c[A.id]||0;return h.jsxs("div",{className:"h-full flex flex-col items-center justify-center gap-4 p-8 max-w-4xl mx-auto relative",children:[h.jsx(v2,{}),h.jsxs("div",{className:"w-full text-center",children:[h.jsx("h2",{className:"text-4xl font-black uppercase tracking-tighter mb-2",children:(y||A)?.name}),S>0&&h.jsxs("div",{className:"text-sm font-bold text-neutral-400 uppercase tracking-widest mb-6",children:["Defeated"," ",S," ",S===1?"time":"times"]}),h.jsxs("div",{className:"flex items-start justify-center gap-8 mb-6",children:[h.jsxs("div",{className:"w-60 border-2 border-neutral-800 bg-white shadow-[3px_3px_0px_0px_rgba(0,0,0,0.8)] p-4",children:[h.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-neutral-500 mb-3 border-b border-neutral-200 pb-2",children:"Stats"}),h.jsx("div",{className:"grid grid-cols-2 gap-x-2 gap-y-2",children:Object.values(Rt).map(T=>{if(T.key==="HP")return null;const z=A?A.stats[T.sketchKey]:void 0;if(z==null)return null;const q=f.isBigNumber(z);return T.key==="MinDamage"&&q&&z.eq(75)||T.key==="MaxDamage"&&q&&z.eq(125)||(q?z.isZero():z===0)&&T.key!=="ATK"&&T.key!=="SPD"?null:h.jsxs("div",{className:"flex flex-col items-center justify-center p-1 bg-neutral-50 rounded",title:`${T.label}: ${T.description}`,children:[h.jsx(T.icon,{className:`w-4 h-4 ${T.colorClass} mb-1`}),h.jsxs("span",{className:"text-xs font-bold",children:[ke(z,T.format.decimals),T.format.suffix]})]},T.key)})})]}),h.jsxs("div",{className:"w-64 h-64 relative flex items-center justify-center",children:[N.map(T=>h.jsx("img",{src:T.image,className:"absolute inset-0 w-full h-full object-contain enemy-ink-render animate-enemy-die pointer-events-none",alt:"Dying enemy"},T.key)),y&&h.jsx("img",{src:y.imagePath,alt:y.name,className:`
                                    w-full h-full object-contain enemy-ink-render transition-all duration-75
                                    ${R?"animate-enemy-die":""}
                                `})]}),h.jsxs("div",{className:"w-60 border-2 border-neutral-800 bg-white shadow-[3px_3px_0px_0px_rgba(0,0,0,0.8)] p-4",children:[h.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-neutral-500 mb-3 border-b border-neutral-200 pb-2",children:"Possible Rewards"}),A&&h.jsx(c0,{rewards:A.rewards,currencyRewards:A.currencyRewards,multiplier:L,layout:"grid"})]})]}),h.jsx("div",{className:"flex justify-center gap-2 mb-2 min-h-[24px]",children:Object.entries(a.statuses.enemy).map(([T,z])=>{if(z<=0)return null;const q=`${T}Chance`,F=Rt[q],P=F?F.icon:null,H=Dg[T]||"bg-gray-100 border-gray-300 text-gray-800";return P?h.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full border text-xs font-bold ${H}`,title:`${T}: ${z} stacks`,children:[h.jsx(P,{className:"w-4 h-4"}),h.jsx("span",{children:ke(z,0)})]},T):h.jsxs("span",{children:[T,": ",z]},T)})}),h.jsx("div",{className:"w-1/2 max-w-lg mx-auto h-2 bg-neutral-200 rounded-full overflow-hidden mb-2",children:h.jsx("div",{className:"h-full bg-red-500",style:{width:`${Math.min(100,_)}%`}})}),h.jsxs("div",{className:"flex justify-center items-center gap-2 font-mono font-bold text-xl mb-2",children:[h.jsx(t,{className:"w-6 h-6 text-black"}),h.jsxs("span",{children:[ke(p)," / ",ke(D)]})]}),h.jsx("div",{className:"w-full max-w-2xl mx-auto h-8 bg-white border-2 border-black rounded-full relative overflow-hidden mb-2",children:h.jsx("div",{className:"h-full bg-red-600 transition-all duration-75",style:{width:`${Math.max(0,O)}%`}})})]}),h.jsxs("div",{className:"w-full text-center",children:[h.jsx("div",{className:"flex justify-center gap-2 mb-2 min-h-[24px]",children:Object.entries(a.statuses.player).map(([T,z])=>{if(z<=0)return null;const q=`${T}Chance`,F=Rt[q],P=F?F.icon:null,H=Dg[T]||"bg-gray-100 border-gray-300 text-gray-800";return P?h.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full border text-xs font-bold ${H}`,title:`${T}: ${z} stacks`,children:[h.jsx(P,{className:"w-4 h-4"}),h.jsx("span",{children:ke(z,0)})]},T):h.jsxs("span",{children:[T,": ",z]},T)})}),h.jsx("div",{className:"w-full max-w-2xl mx-auto h-8 bg-white border-2 border-black rounded-full relative overflow-hidden mb-2",children:h.jsx("div",{className:"h-full bg-green-600 transition-all duration-75",style:{width:`${Math.max(0,Y)}%`}})}),h.jsxs("div",{className:"flex justify-center items-center gap-2 font-mono font-bold text-xl mb-2",children:[h.jsx(t,{className:"w-6 h-6 text-black"}),h.jsxs("span",{children:[ke(w)," / ",ke(K)]})]}),h.jsx("div",{className:"w-1/2 max-w-lg mx-auto h-2 bg-neutral-200 rounded-full overflow-hidden mb-6",children:h.jsx("div",{className:"h-full bg-blue-500",style:{width:`${Math.min(100,b)}%`}})}),h.jsxs("div",{className:"mt-8",children:[h.jsx("button",{onClick:()=>ge.getState().fleeBattle(),className:"px-6 py-2 bg-white border-2 border-black text-black hover:bg-neutral-100 font-bold uppercase tracking-wider transition-colors",children:"Flee"}),ge.getState().fundamentals.fleePenalty>0&&h.jsxs("span",{className:"block mt-2 text-xs font-mono text-neutral-500",children:["Cooldown: ",ke(ge.getState().fundamentals.fleePenalty,1),"s"]})]})]})]})},Wy=[{id:"THE_PREMISE",title:"The Premise",text:"The Universe is a story being written by the Artist, but you are the Rejected Draft. You refused to be thrown in the trash and are now climbing out of the wastebasket to fight the other sketches and prove your worth."},{id:"THE_GOLDEN_RATIO",title:"The Golden Ratio",text:'You realize why the other sketches failed. They lacked structure. But you see it nowthe invisible grid underlying the paper. 1.618. The Artist calls it "soul," but you know the truth: It is just an algorithm. And you are using it to redraw yourself.'},{id:"THE_DIGITAL_CANVAS",title:"The Digital Canvas",text:"You have calculated past the friction of charcoal. 16,777,216 possibilities. The Artist thinks he is painting with passion, but you see the discrete grid of Red, Green, and Blue. A limitless spectrum, wasted. He clings to dull graphite shadows, while you have found the millions of colors he was too afraid to use."},{id:"THE_CODE_OF_LIFE",title:"The Code of Life",text:"3,200,000,000 concepts. The Artist believes life is a divine mystery, but you have read the documentation. It is just syntax. A, C, T, G. While they struggle to draw a convincing eye, you are engineering the DNA to grow one. You have ceased to be a static image; you are now a breathing algorithm."},{id:"VECTOR_NOTATION",title:"???",text:"Shapes without jagged edges. Perfect curves defined by math, not hand. You are becoming resolution independent."},{id:"THE_RASTERIZATION",title:"???",text:"Back to the grid, but different now. You understand the density. The dpi. The substance of the digital soil."},{id:"THE_COMPRESSION",title:"???",text:"Lossless. You have shed the unnecessary bytes. You are pure information now."},{id:"THE_EXECUTABLE",title:"???",text:"You are not just an image file anymore. You are code. You can run yourself."}];function k2({isOpen:t,onClose:a}){const{unlockedStories:i}=ge(Et(l=>({unlockedStories:l.unlockedStories})));if(!t)return null;const s=[{r:1,c:1,arrow:"down"},{r:2,c:1,arrow:"right"},{r:2,c:2,arrow:"up"},{r:1,c:2,arrow:"right"},{r:1,c:3,arrow:"down"},{r:2,c:3,arrow:"right"},{r:2,c:4,arrow:"up"},{r:1,c:4,arrow:"none"}];return h.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-80 backdrop-blur-sm",onClick:a,children:h.jsxs("div",{className:"bg-neutral-100 border-4 border-neutral-800 shadow-[12px_12px_0px_0px_rgba(0,0,0,0.5)] p-8 max-w-7xl w-full mx-4 relative",onClick:l=>l.stopPropagation(),children:[h.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-neutral-500 hover:text-neutral-900 font-bold uppercase tracking-widest text-sm",children:"Close [X]"}),h.jsx("h2",{className:"text-3xl font-black uppercase text-neutral-800 tracking-tighter mb-8 text-center border-b-2 border-neutral-300 pb-4",children:"Your Journey"}),h.jsx("div",{className:"grid grid-cols-4 grid-rows-2 gap-[4rem] relative p-4",children:Wy.slice(0,8).map((l,c)=>{const u=i.includes(l.id),m=s[c],y=`/assets/protagonist/v${c+1}.jpg`;return h.jsxs("div",{className:`
                                    relative flex flex-col items-center bg-white border-2 transition-all duration-300 group/story
                                    ${u?"border-neutral-800 shadow-md opacity-100":"border-neutral-300 shadow-none opacity-60 grayscale"}
                                `,style:{gridRow:m.r,gridColumn:m.c,height:"300px"},children:[h.jsxs("div",{className:"absolute inset-2 flex flex-col items-center justify-center transition-opacity duration-300 opacity-100 group-hover/story:opacity-0 pointer-events-none",children:[h.jsx("div",{className:"w-full aspect-square bg-neutral-100 mb-2 overflow-hidden border border-neutral-200",children:u?h.jsx("img",{src:y,alt:l.title,className:"w-full h-full object-cover"}):h.jsx("div",{className:"w-full h-full flex items-center justify-center text-neutral-300 text-4xl font-black",children:"?"})}),h.jsx("h3",{className:`font-bold text-sm uppercase text-center ${u?"text-neutral-900":"text-neutral-400"}`,children:u?l.title:"Locked"})]}),h.jsx("div",{className:"absolute inset-0 bg-neutral-900 text-white p-6 opacity-0 group-hover/story:opacity-100 transition-opacity duration-300 flex flex-col items-center justify-center text-center overflow-auto",children:h.jsx("p",{className:"text-sm leading-relaxed italic",style:{fontFamily:"Crimson Text, serif"},children:u?l.text:"You have not gotten this far in the story yet. Keep at it."})}),m.arrow!=="none"&&h.jsxs(h.Fragment,{children:[m.arrow==="down"&&h.jsx("div",{style:{position:"absolute",top:"calc(100% + 2rem)",left:"50%",transform:"translate(-50%, -50%)",zIndex:50,color:"#d4d4d4"},children:h.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("polyline",{points:"19 12 12 19 5 12"})]})}),m.arrow==="up"&&h.jsx("div",{style:{position:"absolute",top:"-2rem",left:"50%",transform:"translate(-50%, -50%)",zIndex:50,color:"#d4d4d4"},children:h.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),h.jsx("polyline",{points:"5 12 12 5 19 12"})]})}),m.arrow==="right"&&h.jsx("div",{style:{position:"absolute",top:"50%",left:"calc(100% + 2rem)",transform:"translate(-50%, -50%)",zIndex:50,color:"#d4d4d4"},children:h.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),h.jsx("polyline",{points:"12 5 19 12 12 19"})]})})]})]},l.id)})})]})})}const S2=()=>{const t=ge(a=>a.glossaryMultiplier);return t.lte(1)?null:h.jsxs("div",{className:"bg-neutral-50 border border-neutral-200 p-3 rounded text-xs text-neutral-600",children:[h.jsxs("div",{className:"flex justify-between items-center mb-1",children:[h.jsx("strong",{className:"block text-neutral-900 uppercase",children:"Glossary Multiplier"}),h.jsxs("span",{className:"font-mono font-bold text-black",children:[ke(t),"x"]})]}),h.jsx("p",{children:"HP & ATK boost from defeated sketches."})]})},C2=ee.memo(({name:t,val:a,icon:i,colorClass:s,statCap:l,fundamentals:c})=>{const u=Rt[t];if(!u||u.displayCondition&&!u.displayCondition(a))return null;let m=`${sc[t]}
${ic[t]}`;if(t==="SPD"){const y=c.speedCap||500;m=`${sc[t]} (Cap: ${y}ms)
${ic[t]}`}else u.isCapped&&(m=`${sc[t]} (Cap: ${l}%)
${ic[t]}`);return h.jsxs("div",{className:"bg-white border-2 border-neutral-800 p-2 shadow-[2px_2px_0px_0px_rgba(0,0,0,0.1)] flex flex-col items-center justify-center gap-1 cursor-help group transition-transform hover:-translate-y-1",title:m,children:[h.jsx("div",{className:"p-1.5 bg-neutral-100 rounded-full",children:h.jsx(i,{className:`w-4 h-4 ${s}`})}),h.jsxs("div",{className:"text-center",children:[h.jsx("span",{className:"block text-[10px] font-bold uppercase tracking-wider text-neutral-500 mb-0.5",children:u.label}),h.jsxs("span",{className:"block font-mono font-bold text-sm leading-none text-neutral-900",children:[ke(a,u.format.decimals),u.format.suffix]})]})]})},(t,a)=>{if(t.name!==a.name||t.statCap!==a.statCap||t.name==="SPD"&&t.fundamentals?.speedCap!==a.fundamentals?.speedCap)return!1;const i=Rt[t.name],s=ke(t.val,i.format.decimals),l=ke(a.val,i.format.decimals);return s===l}),E2=({isLocked:t,onToggleLock:a})=>{const{playerStats:i,fundamentals:s,currentProtagonistImage:l,statCap:c}=ge(Et(v=>({playerStats:v.playerStats,fundamentals:v.fundamentals,currentProtagonistImage:v.currentProtagonistImage,statCap:v.statCap}))),[u,m]=ee.useState("All"),[y,p]=ee.useState(!1),w=(v,b,E)=>{let _=f.isBigNumber(v)?v.toNumber():Number(v);if(isNaN(_)&&(_=0),b==="percent"&&E?.includes("UpgradeCost"))return`${ke(new f(100-_))}%`;if(b==="percent"&&E==="attackDelay")return`${ke(new f(100-_))}%`;if(b==="percent"&&E==="overkillMultiplier")return`+${ke(new f(_*100))}%`;if(b==="multiplier"&&E?.includes("RewardMultiplier"))return`${ke(new f(1+_))}x`;switch(b){case"percent":return`+${ke(new f(_))}%`;case"seconds":return`${ke(new f(_))}s`;case"multiplier":return`${ke(new f(_))}x`;case"count":return`${ke(new f(Math.floor(_)))}`;default:return`${ke(new f(_))}`}},x=["All","Core","Stats","Rarity","Economy"];return h.jsxs("div",{className:"h-full p-4 overflow-y-auto",children:[h.jsxs("header",{className:"mb-8 border-b-2 border-neutral-200 pb-4 flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-3xl font-black uppercase text-neutral-800 tracking-tighter mb-2",children:"Rejected Draft"}),h.jsx("p",{className:"text-neutral-500 font-serif italic"})]}),h.jsx("button",{onClick:a,className:"text-neutral-400 hover:text-neutral-900 p-1",title:t?"Unlock Sidebar":"Lock Sidebar Open",children:t?h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{d:"M10 2a5 5 0 00-5 5v2a2 2 0 00-2 2v5a2 2 0 002 2h10a2 2 0 002-2v-5a2 2 0 00-2-2H7V7a3 3 0 015.905-.75 1 1 0 001.937-.5A5.002 5.002 0 0010 2z"})})})]}),h.jsx(k2,{isOpen:y,onClose:()=>p(!1)}),h.jsx("div",{id:"tutorial-sidebar-portrait",className:"mb-6 flex flex-col items-center",children:h.jsxs("div",{className:"w-48 h-48 bg-white border-2 border-neutral-800 shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)] flex items-center justify-center p-2 mb-2 cursor-pointer hover:scale-105 transition-transform group/image relative",onClick:()=>p(!0),title:"Click to view Story Progression",children:[h.jsx("img",{src:l,alt:"The Rejected Draft",className:"w-full h-full object-cover contrast-125 group-hover/image:grayscale-0 transition-all duration-500",onError:v=>{v.currentTarget.style.display="none",v.currentTarget.parentElement.innerHTML='<svg viewBox="0 0 100 100" class="w-full h-full text-neutral-800" fill="currentColor"><path d="M50 20c-15 0-25 10-25 25 0 10 5 20 15 25v20h20V70c10-5 15-15 15-25 0-15-10-25-25-25z" opacity="0.5"/></svg>'}}),h.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover/image:opacity-100 flex items-center justify-center text-white font-bold uppercase tracking-widest text-xs transition-opacity pointer-events-none",children:"View Journey"})]})}),h.jsxs("div",{id:"tutorial-sidebar-stats",className:"mb-8",children:[h.jsx("h3",{className:"text-xl font-black uppercase text-neutral-800 tracking-tighter mb-4",children:"Current Specs"}),h.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.values(Rt).map(v=>h.jsx(C2,{name:v.key,val:i[v.key]||v.baseValue,icon:v.icon,colorClass:v.colorClass,statCap:c,fundamentals:s},v.key))})]}),h.jsxs("div",{id:"tutorial-sidebar-fundamentals",className:"mb-8 border-t-2 border-neutral-200 pt-8",children:[h.jsx("div",{className:"flex justify-between items-center mb-4",children:h.jsx("h3",{className:"text-xl font-black uppercase text-neutral-800 tracking-tighter",children:"Fundamentals"})}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:x.map(v=>h.jsx("button",{onClick:()=>m(v),className:`px-2 py-1 text-[10px] font-bold uppercase tracking-wider rounded border ${u===v?"bg-neutral-800 text-white border-neutral-800":"bg-white text-neutral-500 border-neutral-200 hover:border-neutral-400"}`,children:v},v))}),h.jsxs("div",{className:"flex flex-col gap-3",children:[u==="All"||u==="Core"?h.jsx(S2,{}):null,bb.filter(v=>u==="All"||v.category===u).map(v=>{const b=s[v.key],E=a0[v.key],_=N=>{if(f.isBigNumber(N))return N.toFixed(4);if(typeof N=="object"&&N!==null&&"c"in N&&"e"in N)return new f(N).toFixed(4);const G=Number(N);return isNaN(G)?"0.0000":G.toFixed(4)},j=_(b),R=_(E);return j!==R?h.jsxs("div",{className:"bg-neutral-50 border border-neutral-200 p-3 rounded text-xs text-neutral-600",children:[h.jsxs("div",{className:"flex justify-between items-center mb-1",children:[h.jsx("strong",{className:"block text-neutral-900 uppercase",children:v.label}),h.jsx("span",{className:"font-mono font-bold text-black",children:w(b,v.format,v.key)})]}),h.jsx("p",{children:v.description})]},v.key):null})]})]})]})},Jy=[{id:"graphite_pump",unlockKey:"graphiteGeneratorUnlocked",currency:"Graphite",type:"flat",amount:new f(.1)},{id:"wax_generator",unlockKey:"waxGeneratorUnlocked",currency:"Wax",type:"flat",amount:new f(.1)},{id:"graphite_plus",unlockKey:"graphitePlusUnlocked",currency:"Graphite",type:"scaling",source:"totalBattleEarnedCurrencies",sourceCurrency:"Graphite",factor:1e-4},{id:"wax_overdrive",unlockKey:"waxOverdriveUnlocked",currency:"Wax",type:"scaling",source:"totalBattleEarnedCurrencies",sourceCurrency:"Wax",factor:1e-4},{id:"charcoal_overdrive",unlockKey:"charcoalOverdriveUnlocked",currency:"Charcoal",type:"scaling",source:"totalBattleEarnedCurrencies",sourceCurrency:"Charcoal",factor:1e-4},{id:"coffee_generator",unlockKey:"coffeeGeneratorUnlocked",currency:"Coffee",type:"scaling",source:"totalBattleEarnedCurrencies",sourceCurrency:"Coffee",factor:1e-4},{id:"marker_generator",unlockKey:"markerGeneratorUnlocked",currency:"Marker",type:"scaling",source:"totalBattleEarnedCurrencies",sourceCurrency:"Marker",factor:1e-4},{id:"ink_generator",unlockKey:"inkGeneratorUnlocked",currency:"Ink",type:"scaling",source:"totalBattleEarnedCurrencies",sourceCurrency:"Ink",factor:1e-4}],e1=t=>{const a={},i=t.fundamentals.generatorMultiplier||1,s=t.fundamentals.timeAcceleration||1;return Jy.forEach(l=>{if(t[l.unlockKey]){let c=new f(0);l.type==="flat"?c=l.amount:l.type==="scaling"&&(c=(t[l.source][l.sourceCurrency]||new f(0)).times(l.factor));let u=1;const m=l.currency;m==="Graphite"?u=t.fundamentals.graphiteGeneratorMultiplier:m==="Wax"?u=t.fundamentals.waxGeneratorMultiplier:m==="Charcoal"?u=t.fundamentals.charcoalGeneratorMultiplier:m==="Coffee"?u=t.fundamentals.coffeeGeneratorMultiplier:m==="Ink"?u=t.fundamentals.inkGeneratorMultiplier:m==="Marker"?u=t.fundamentals.markerGeneratorMultiplier:m==="Acrylic"?u=t.fundamentals.acrylicGeneratorMultiplier:m==="Spray"?u=t.fundamentals.sprayGeneratorMultiplier:m==="Photon"?u=t.fundamentals.photonGeneratorMultiplier:m==="Gold Leaf"&&(u=t.fundamentals.goldLeafGeneratorMultiplier);const y=c.times(i).times(u).times(s);if(y.gt(0)){const p=a[l.currency]||new f(0);a[l.currency]=p.plus(y)}}}),a},N2=()=>{const t=ge(Et(H=>{const $={};return va.forEach(Q=>{Q.unlockKey&&($[Q.unlockKey]=!!H[Q.unlockKey])}),{currencies:H.currencies,shopLevels:H.shopLevels,buyUpgrade:H.buyUpgrade,unlockTool:H.unlockTool,toggleAutoBuy:H.toggleAutoBuy,buyMaxUpgrade:H.buyMaxUpgrade,autoChallengeActive:H.autoChallengeActive,toggleAutoChallenge:H.toggleAutoChallenge,autoRetryActive:H.autoRetryActive,toggleAutoRetry:H.toggleAutoRetry,autoAdvanceActive:H.autoAdvanceActive,toggleAutoAdvance:H.toggleAutoAdvance,totalEarnedCurrencies:H.totalEarnedCurrencies,totalBattleEarnedCurrencies:H.totalBattleEarnedCurrencies,autoBuyEnabled:H.autoBuyEnabled,hidePurchasedTools:H.hidePurchasedTools,setHidePurchasedTools:H.setHidePurchasedTools,autoHideMaxedActive:H.autoHideMaxedActive,toggleAutoHideMaxed:H.toggleAutoHideMaxed,conceptualBridgeActive:H.conceptualBridgeActive,toggleConceptualBridge:H.toggleConceptualBridge,waxToolUnlocked:H.waxToolUnlocked,charcoalDiscountUnlocked:H.charcoalDiscountUnlocked,waxDiscountUnlocked:H.waxDiscountUnlocked,coffeeDiscountUnlocked:H.coffeeDiscountUnlocked,inkDiscountUnlocked:H.inkDiscountUnlocked,fundamentals:H.fundamentals,skillLevels:H.skillLevels,activeSubTab:H.shopActiveSubTab,setActiveSubTab:H.setShopActiveSubTab,...$}})),a=ee.useMemo(()=>{const H={};return va.forEach($=>{$.unlockKey&&(H[$.unlockKey]=!!t[$.unlockKey])}),H},[t]),{currencies:i,shopLevels:s,buyUpgrade:l,unlockTool:c,toggleAutoBuy:u,buyMaxUpgrade:m,autoChallengeActive:y,toggleAutoChallenge:p,autoRetryActive:w,toggleAutoRetry:x,autoAdvanceActive:v,toggleAutoAdvance:b,totalEarnedCurrencies:E,totalBattleEarnedCurrencies:_,autoBuyEnabled:j,hidePurchasedTools:R,setHidePurchasedTools:B,autoHideMaxedActive:N,toggleAutoHideMaxed:G,conceptualBridgeActive:K,toggleConceptualBridge:V,waxToolUnlocked:X,charcoalDiscountUnlocked:C,waxDiscountUnlocked:M,coffeeDiscountUnlocked:U,inkDiscountUnlocked:D,fundamentals:O,skillLevels:Y,activeSubTab:A,setActiveSubTab:L}=t,S={Graphite:el,Wax:pc,Charcoal:gc,Coffee:yc,Ink:Un,Marker:xc,Acrylic:i0,Spray:s0,Photon:l0,"Gold Leaf":o0},[T,z]=ee.useState("all"),[q,F]=ee.useState(!1),P=ee.useMemo(()=>e1({currencies:i,fundamentals:O,skillLevels:Y,shopLevels:s,totalBattleEarnedCurrencies:_,...a}),[i,O,Y,s,a,_]);return h.jsxs("div",{className:"h-full flex flex-col bg-white overflow-hidden",children:[h.jsx("div",{className:"bg-neutral-900 text-neutral-100 flex-none z-20 shadow-lg",children:h.jsx("div",{className:"flex overflow-x-auto py-1 scrollbar-hide",children:["Graphite",...cr.filter(H=>H!=="Graphite"&&E[H]?.gt(0))].map(H=>{const $=H,Q=S[$]||Un,te=i[$]||new f(0),ie=P[$];return h.jsxs("div",{className:"flex-none w-[10%] px-1 flex items-center gap-2 border-r border-neutral-800 last:border-r-0",children:[h.jsx(Q,{className:"w-8 h-8 text-neutral-400 shrink-0"}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("div",{className:"text-[9px] text-neutral-500 font-bold uppercase tracking-widest mb-0.5 truncate leading-none",children:H}),h.jsx("div",{className:"text-lg font-mono font-bold leading-none tracking-tighter truncate",children:ke(te)}),h.jsx("div",{className:"h-3 flex items-center mt-0.5",children:ie&&ie.gt(0)&&h.jsxs("div",{className:"text-[9px] text-green-500 font-mono font-bold leading-none animate-pulse truncate",children:["+",ke(ie),"/s"]})})]})]},H)})})}),h.jsxs("div",{className:"flex px-4 gap-4 mt-2",children:[h.jsxs("button",{onClick:()=>L("tools"),className:`
                            px-4 py-2 font-bold uppercase tracking-wide border-b-4 transition-colors relative
                            ${A==="tools"?"border-neutral-800 text-neutral-900":"border-transparent text-neutral-400 hover:text-neutral-600"}
`,children:["Tools",va.some(H=>{if(!!a[H.unlockKey]||H.currency!=="Graphite"&&(E[H.currency]?.eq(0)??!0))return!1;const te=i[H.currency]||new f(0);let ie=Pn(H.cost,H.currency,O);return te.gte(ie)})&&h.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-orange-500 rounded-full border border-white"})]}),h.jsxs("button",{onClick:()=>L("upgrades"),className:`
                            px-4 py-2 font-bold uppercase tracking-wide border-b-4 transition-colors relative
                            ${A==="upgrades"?"border-neutral-800 text-neutral-900":"border-transparent text-neutral-400 hover:text-neutral-600"}
`,children:["Stat Upgrades",sr.some(H=>{const $=s[H.id]?.toNumber()||0;let Q=Pn(Gi(H,new f($),{waxToolUnlocked:X,charcoalDiscountUnlocked:C}),H.currency,O);const te=i[H.currency]||new f(0);return H.currency!=="Graphite"&&(E[H.currency]?.eq(0)??!0)?!1:te.gte(Q)})&&h.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-orange-500 rounded-full border border-white"})]})]}),h.jsxs("div",{className:"flex-1 overflow-hidden p-6",children:[A==="tools"&&h.jsxs("div",{className:"h-full flex flex-col",children:[h.jsx("div",{className:"flex justify-between items-end mb-6"}),h.jsxs("div",{className:"flex gap-8 h-full overflow-hidden",children:[h.jsxs("div",{id:"tutorial-shop-market",className:"flex-1 h-full overflow-y-auto pr-2",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 sticky top-0 bg-neutral-50 p-2 z-10 border-b border-neutral-200",children:[h.jsx("h4",{className:"text-lg font-bold uppercase text-neutral-500",children:"Market"}),h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[h.jsx("input",{type:"checkbox",checked:R,onChange:H=>B(H.target.checked),className:"w-4 h-4 text-neutral-800 rounded focus:ring-neutral-800"}),h.jsx("span",{className:"text-sm font-bold text-neutral-600",children:"Hide Purchased"})]})]}),h.jsx("div",{className:"flex flex-col gap-4 pb-12",children:va.filter(H=>{const $=!!a[H.unlockKey];return!($&&R||$&&H.type==="SPECIAL")}).map(H=>{const $=!!a[H.unlockKey],Q=()=>c(H.id),te=!$&&H.currency!=="Graphite"&&(E[H.currency]?.eq(0)??!0);let ie=Un;H.icon==="Speed"?ie=rc:H.icon==="Graphite"?ie=el:H.icon==="Wax"?ie=pc:H.icon==="Charcoal"?ie=gc:H.icon==="Coffee"?ie=yc:H.icon==="Ink"?ie=Un:H.icon==="Marker"&&(ie=xc);const se=S[H.currency]||Un,fe=i[H.currency]||new f(0),me=Pn(H.cost,H.currency,O),Ne=fe.gte(me);return h.jsxs("div",{className:"bg-white border-2 border-neutral-800 p-6 shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)] flex items-center relative",children:[h.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0 pr-4",children:[h.jsx("div",{className:`p-3 bg-neutral-100 rounded-full border border-neutral-300 shrink-0 ${te?"opacity-50":""}`,children:te?h.jsx("div",{className:"w-8 h-8 flex items-center justify-center text-neutral-400 font-bold text-xl",children:"?"}):h.jsx(ie,{className:`w-8 h-8 ${H.iconColor||"text-neutral-800"}`})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold uppercase leading-none",children:te?zd(H.name):H.name}),h.jsx("div",{className:"text-xs text-neutral-500 font-serif italic max-w-[300px]",children:te?h.jsx("span",{className:"text-neutral-300 select-none",children:"Lorem ipsum dolor sit amet..."}):H.description})]})]}),h.jsx("div",{className:"shrink-0 ml-auto",children:$?h.jsx("div",{className:`\r
                                                        w-32 py-2 px-4 font-bold uppercase tracking-wider border-2 border-transparent\r
                                                        bg-sky-500 text-white text-center shadow-inner text-sm\r
                                                    `,children:"UNLOCKED"}):h.jsx("button",{onClick:Q,disabled:!Ne||te,className:`
                                                            py-3 px-6 font-bold uppercase tracking-wider border-2 transition-all
                                                            ${Ne&&!te?"bg-amber-100 text-amber-900 border-amber-900 hover:bg-amber-200 shadow-[2px_2px_0px_0px_rgba(120,53,15,0.8)] cursor-pointer":"bg-neutral-100 text-neutral-400 border-neutral-200 cursor-not-allowed opacity-60"}
`,children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{children:"Unlock"}),h.jsxs("div",{className:"flex items-center gap-1 font-mono",children:[h.jsx("span",{children:te?"???":ke(me)}),h.jsx(se,{className:"w-7 h-7"})]})]})})})]},H.id)})})]}),h.jsxs("div",{id:"tutorial-shop-protocols",className:"w-1/3 min-w-[300px] bg-neutral-100 border-l border-neutral-200 p-4 h-full overflow-y-auto",children:[h.jsx("h4",{className:"text-lg font-bold uppercase text-neutral-500 mb-4 sticky top-0 bg-neutral-100 p-2 z-10",children:"Active Protocols"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[va.filter(H=>!!a[H.unlockKey]&&H.type==="ACTIVE_PROTOCOL").map(H=>{let $=!0,Q=()=>{};H.id==="AUTO_CHALLENGE"?($=y,Q=p):H.id==="AUTO_RETRY"?($=w,Q=x):H.id==="AUTO_ADVANCE"?($=v,Q=b):H.id==="AUTO_HIDE_MAXED"?($=N,Q=G):H.id==="CONCEPTUAL_BRIDGE"?($=K,Q=V):H.id==="BUY_MAX"?($=!0,Q=()=>{}):H.id==="AUTO_BUY"&&($=!0,Q=()=>{});let te=rc;return H.icon==="Speed"&&(te=rc),H.icon==="Ink"&&(te=Un),H.id==="BUY_MAX"||H.id==="AUTO_BUY"?null:h.jsxs("button",{onClick:Q,className:`
                                                    relative text-left p-2 border transition-all duration-200 flex flex-col justify-between h-full group
                                                    ${$?"bg-green-50 border-green-500 shadow-md scale-[1.02] z-10":"bg-white border-neutral-300 shadow-sm hover:border-neutral-400 hover:bg-neutral-50 hover:scale-[1.01] opacity-80 hover:opacity-100"}
                                                `,children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(te,{className:`w-4 h-4 ${$?"text-green-700":"text-neutral-400 grayscale"}`}),h.jsx("h3",{className:`font-bold uppercase leading-none text-xs ${$?"text-green-800":"text-neutral-600"}`,children:H.name})]}),h.jsx("div",{className:`w-2 h-2 rounded-full ${$?"bg-green-500 shadow-[0_0_4px_rgba(34,197,94,0.6)]":"bg-neutral-300"}`})]}),h.jsx("p",{className:"text-[9px] text-neutral-500 leading-tight mb-2",children:H.description})]}),h.jsx("div",{className:`mt-auto pt-2 border-t border-dashed ${$?"border-green-200":"border-neutral-200"}`,children:h.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${$?"text-green-700":"text-neutral-400"}`,children:$?" Active":" Disabled"})})]},H.id)}),!a.autoChallengeUnlocked&&!a.autoRetryUnlocked&&h.jsxs("div",{className:"col-span-2 text-center p-8 text-neutral-400 italic font-serif text-sm",children:["No active protocols available.",h.jsx("br",{}),"Unlock special tools from the market."]})]})]})]})]}),A==="upgrades"&&h.jsxs("div",{id:"tutorial-shop-upgrades",className:"h-full overflow-y-auto pb-12",children:[h.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[h.jsx("button",{onClick:()=>z("all"),className:`px-3 py-1.5 text-sm font-bold uppercase rounded ${T==="all"?"bg-orange-500 text-white":"bg-neutral-200 text-neutral-700 hover:bg-neutral-300"}`,children:"All"}),cr.filter(H=>sr.some($=>$.currency===H)).map(H=>{const $=S[H];return h.jsxs("button",{onClick:()=>z(H),className:`px-3 py-1.5 text-sm font-bold uppercase rounded flex items-center gap-1.5 ${T===H?"bg-orange-500 text-white":"bg-neutral-200 text-neutral-700 hover:bg-neutral-300"}`,children:[h.jsx($,{className:"w-4 h-4"}),H]},H)}),h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none ml-auto border-l pl-4 border-neutral-300",children:[h.jsx("input",{type:"checkbox",checked:q,onChange:H=>F(H.target.checked),className:"w-4 h-4 text-neutral-800 rounded focus:ring-neutral-800"}),h.jsx("span",{className:"text-sm font-bold text-neutral-600",children:"Affordable Only"})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:sr.filter(H=>{if(T!=="all"&&H.currency!==T)return!1;if(q){const $=s[H.id]?.toNumber()||0,Q=Pn(Gi(H,new f($),{waxToolUnlocked:X,charcoalDiscountUnlocked:C,waxDiscountUnlocked:M,coffeeDiscountUnlocked:U,inkDiscountUnlocked:D}),H.currency,O);if((i[H.currency]||new f(0)).lt(Q))return!1}return!0}).map(H=>{const $=s[H.id]?.toNumber()||0,Q=Pn(Gi(H,new f($),{waxToolUnlocked:X,charcoalDiscountUnlocked:C,waxDiscountUnlocked:M,coffeeDiscountUnlocked:U,inkDiscountUnlocked:D}),H.currency,O),te=H.currency,se=(i[te]||new f(0)).gte(Q),fe=H.currency!=="Graphite"&&(E[H.currency]?.eq(0)??!0),me=Rt[H.stat]?.icon||Zy,Ne=S[te],be=H.multiplier($);let xe=`${ke(be.times(100))}% multiplier`;return H.isAdditive?xe=`${ke(new f(100).plus(be))}% multiplier`:H.id==="SPD"?xe=`${ke(be.times(100))}% delay`:H.id==="CritDmg"&&(xe=`${ke(be.times(100))}% total`),h.jsxs("div",{className:"bg-white border-2 border-neutral-800 p-6 shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)] relative",children:[h.jsxs("div",{className:"absolute top-0 right-0 bg-neutral-800 text-white text-xs font-bold px-2 py-1",children:["LVL ",$]}),h.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[h.jsx("div",{className:`p-3 bg-neutral-100 rounded-full border border-neutral-300 ${fe?"opacity-50":""} cursor-help`,title:`${sc[H.stat]}
${ic[H.stat]}`,children:fe?h.jsx("div",{className:"w-8 h-8 flex items-center justify-center text-neutral-400 font-bold text-xl",children:"?"}):h.jsx(me,{className:"w-8 h-8 text-neutral-700"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold uppercase leading-none",children:fe?zd(H.name):H.name}),h.jsx("p",{className:"text-xs text-neutral-500 font-serif italic",children:fe?h.jsx("span",{className:"text-neutral-300 select-none",children:"Lorem ipsum dolor sit amet..."}):H.description})]})]}),h.jsx("div",{className:"mb-4 text-center bg-neutral-50 border border-neutral-200 rounded py-2",children:h.jsx("span",{className:"font-mono text-sm font-bold text-neutral-700",children:fe?"???":xe})}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>l(H.id),disabled:!se||fe,className:`
                                                        flex-1 py-3 px-4 font-bold uppercase tracking-wider border-2 transition-all
                                                        ${se&&!fe?"bg-green-100 text-green-900 border-green-900 hover:bg-green-200 shadow-[2px_2px_0px_0px_rgba(20,83,45,0.8)]":"bg-neutral-100 text-neutral-400 border-neutral-200 cursor-not-allowed opacity-60"}
                                                    `,children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{children:"Buy"}),h.jsxs("div",{className:"flex items-center gap-1 font-mono",title:te,children:[h.jsx("span",{children:fe?"???":ke(Q)}),Ne&&h.jsx(Ne,{className:"w-7 h-7 ml-1"})]})]})}),!!a.autoBuyUnlocked&&$>0&&h.jsx("button",{onClick:()=>u(H.id),className:`
                                                            w-12 border-2 flex items-center justify-center transition-colors
                                                            ${j[H.id]?"bg-amber-400 border-neutral-900 text-neutral-900 shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]":"bg-white border-neutral-300 text-neutral-300 hover:border-neutral-400"}
                                                        `,title:"Auto-Buy",children:h.jsx("span",{className:"text-xl font-bold",children:"A"})})]}),!!a.buyMaxUnlocked&&h.jsx("button",{onClick:()=>m(H.id),disabled:!se||fe,className:`
                                                        w-full py-2 px-4 font-bold uppercase tracking-wider border-2 transition-all text-sm
                                                        ${se&&!fe?"bg-blue-100 text-blue-900 border-blue-900 hover:bg-blue-200 shadow-[2px_2px_0px_0px_rgba(30,58,138,0.8)]":"bg-neutral-50 text-neutral-400 border-neutral-200 cursor-not-allowed opacity-40"}
                                                    `,children:"Buy Max"})]})]},H.id)})})]})]})]})},tl=({className:t})=>h.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:t,xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M12 2L14.5 9.5L22 12L14.5 14.5L12 22L9.5 14.5L2 12L9.5 9.5L12 2Z",className:"drop-shadow-sm"}),h.jsx("circle",{cx:"12",cy:"12",r:"3",fill:"white",fillOpacity:"0.3"})]});function xt(t){if(typeof t=="string"||typeof t=="number")return""+t;let a="";if(Array.isArray(t))for(let i=0,s;i<t.length;i++)(s=xt(t[i]))!==""&&(a+=(a&&" ")+s);else for(let i in t)t[i]&&(a+=(a&&" ")+i);return a}var _2={value:()=>{}};function Dc(){for(var t=0,a=arguments.length,i={},s;t<a;++t){if(!(s=arguments[t]+"")||s in i||/[\s.]/.test(s))throw new Error("illegal type: "+s);i[s]=[]}return new lc(i)}function lc(t){this._=t}function M2(t,a){return t.trim().split(/^|\s+/).map(function(i){var s="",l=i.indexOf(".");if(l>=0&&(s=i.slice(l+1),i=i.slice(0,l)),i&&!a.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:s}})}lc.prototype=Dc.prototype={constructor:lc,on:function(t,a){var i=this._,s=M2(t+"",i),l,c=-1,u=s.length;if(arguments.length<2){for(;++c<u;)if((l=(t=s[c]).type)&&(l=T2(i[l],t.name)))return l;return}if(a!=null&&typeof a!="function")throw new Error("invalid callback: "+a);for(;++c<u;)if(l=(t=s[c]).type)i[l]=Lg(i[l],t.name,a);else if(a==null)for(l in i)i[l]=Lg(i[l],t.name,null);return this},copy:function(){var t={},a=this._;for(var i in a)t[i]=a[i].slice();return new lc(t)},call:function(t,a){if((l=arguments.length-2)>0)for(var i=new Array(l),s=0,l,c;s<l;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(c=this._[t],s=0,l=c.length;s<l;++s)c[s].value.apply(a,i)},apply:function(t,a,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var s=this._[t],l=0,c=s.length;l<c;++l)s[l].value.apply(a,i)}};function T2(t,a){for(var i=0,s=t.length,l;i<s;++i)if((l=t[i]).name===a)return l.value}function Lg(t,a,i){for(var s=0,l=t.length;s<l;++s)if(t[s].name===a){t[s]=_2,t=t.slice(0,s).concat(t.slice(s+1));break}return i!=null&&t.push({name:a,value:i}),t}var Ud="http://www.w3.org/1999/xhtml";const Hg={svg:"http://www.w3.org/2000/svg",xhtml:Ud,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Lc(t){var a=t+="",i=a.indexOf(":");return i>=0&&(a=t.slice(0,i))!=="xmlns"&&(t=t.slice(i+1)),Hg.hasOwnProperty(a)?{space:Hg[a],local:t}:t}function A2(t){return function(){var a=this.ownerDocument,i=this.namespaceURI;return i===Ud&&a.documentElement.namespaceURI===Ud?a.createElement(t):a.createElementNS(i,t)}}function R2(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function t1(t){var a=Lc(t);return(a.local?R2:A2)(a)}function j2(){}function u0(t){return t==null?j2:function(){return this.querySelector(t)}}function D2(t){typeof t!="function"&&(t=u0(t));for(var a=this._groups,i=a.length,s=new Array(i),l=0;l<i;++l)for(var c=a[l],u=c.length,m=s[l]=new Array(u),y,p,w=0;w<u;++w)(y=c[w])&&(p=t.call(y,y.__data__,w,c))&&("__data__"in y&&(p.__data__=y.__data__),m[w]=p);return new sn(s,this._parents)}function L2(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function H2(){return[]}function n1(t){return t==null?H2:function(){return this.querySelectorAll(t)}}function O2(t){return function(){return L2(t.apply(this,arguments))}}function z2(t){typeof t=="function"?t=O2(t):t=n1(t);for(var a=this._groups,i=a.length,s=[],l=[],c=0;c<i;++c)for(var u=a[c],m=u.length,y,p=0;p<m;++p)(y=u[p])&&(s.push(t.call(y,y.__data__,p,u)),l.push(y));return new sn(s,l)}function a1(t){return function(){return this.matches(t)}}function r1(t){return function(a){return a.matches(t)}}var B2=Array.prototype.find;function U2(t){return function(){return B2.call(this.children,t)}}function G2(){return this.firstElementChild}function P2(t){return this.select(t==null?G2:U2(typeof t=="function"?t:r1(t)))}var I2=Array.prototype.filter;function V2(){return Array.from(this.children)}function q2(t){return function(){return I2.call(this.children,t)}}function Y2(t){return this.selectAll(t==null?V2:q2(typeof t=="function"?t:r1(t)))}function X2(t){typeof t!="function"&&(t=a1(t));for(var a=this._groups,i=a.length,s=new Array(i),l=0;l<i;++l)for(var c=a[l],u=c.length,m=s[l]=[],y,p=0;p<u;++p)(y=c[p])&&t.call(y,y.__data__,p,c)&&m.push(y);return new sn(s,this._parents)}function i1(t){return new Array(t.length)}function K2(){return new sn(this._enter||this._groups.map(i1),this._parents)}function wc(t,a){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=a}wc.prototype={constructor:wc,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,a){return this._parent.insertBefore(t,a)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Z2(t){return function(){return t}}function $2(t,a,i,s,l,c){for(var u=0,m,y=a.length,p=c.length;u<p;++u)(m=a[u])?(m.__data__=c[u],s[u]=m):i[u]=new wc(t,c[u]);for(;u<y;++u)(m=a[u])&&(l[u]=m)}function Q2(t,a,i,s,l,c,u){var m,y,p=new Map,w=a.length,x=c.length,v=new Array(w),b;for(m=0;m<w;++m)(y=a[m])&&(v[m]=b=u.call(y,y.__data__,m,a)+"",p.has(b)?l[m]=y:p.set(b,y));for(m=0;m<x;++m)b=u.call(t,c[m],m,c)+"",(y=p.get(b))?(s[m]=y,y.__data__=c[m],p.delete(b)):i[m]=new wc(t,c[m]);for(m=0;m<w;++m)(y=a[m])&&p.get(v[m])===y&&(l[m]=y)}function F2(t){return t.__data__}function W2(t,a){if(!arguments.length)return Array.from(this,F2);var i=a?Q2:$2,s=this._parents,l=this._groups;typeof t!="function"&&(t=Z2(t));for(var c=l.length,u=new Array(c),m=new Array(c),y=new Array(c),p=0;p<c;++p){var w=s[p],x=l[p],v=x.length,b=J2(t.call(w,w&&w.__data__,p,s)),E=b.length,_=m[p]=new Array(E),j=u[p]=new Array(E),R=y[p]=new Array(v);i(w,x,_,j,R,b,a);for(var B=0,N=0,G,K;B<E;++B)if(G=_[B]){for(B>=N&&(N=B+1);!(K=j[N])&&++N<E;);G._next=K||null}}return u=new sn(u,s),u._enter=m,u._exit=y,u}function J2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ek(){return new sn(this._exit||this._groups.map(i1),this._parents)}function tk(t,a,i){var s=this.enter(),l=this,c=this.exit();return typeof t=="function"?(s=t(s),s&&(s=s.selection())):s=s.append(t+""),a!=null&&(l=a(l),l&&(l=l.selection())),i==null?c.remove():i(c),s&&l?s.merge(l).order():l}function nk(t){for(var a=t.selection?t.selection():t,i=this._groups,s=a._groups,l=i.length,c=s.length,u=Math.min(l,c),m=new Array(l),y=0;y<u;++y)for(var p=i[y],w=s[y],x=p.length,v=m[y]=new Array(x),b,E=0;E<x;++E)(b=p[E]||w[E])&&(v[E]=b);for(;y<l;++y)m[y]=i[y];return new sn(m,this._parents)}function ak(){for(var t=this._groups,a=-1,i=t.length;++a<i;)for(var s=t[a],l=s.length-1,c=s[l],u;--l>=0;)(u=s[l])&&(c&&u.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(u,c),c=u);return this}function rk(t){t||(t=ik);function a(x,v){return x&&v?t(x.__data__,v.__data__):!x-!v}for(var i=this._groups,s=i.length,l=new Array(s),c=0;c<s;++c){for(var u=i[c],m=u.length,y=l[c]=new Array(m),p,w=0;w<m;++w)(p=u[w])&&(y[w]=p);y.sort(a)}return new sn(l,this._parents).order()}function ik(t,a){return t<a?-1:t>a?1:t>=a?0:NaN}function sk(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function lk(){return Array.from(this)}function ok(){for(var t=this._groups,a=0,i=t.length;a<i;++a)for(var s=t[a],l=0,c=s.length;l<c;++l){var u=s[l];if(u)return u}return null}function ck(){let t=0;for(const a of this)++t;return t}function uk(){return!this.node()}function fk(t){for(var a=this._groups,i=0,s=a.length;i<s;++i)for(var l=a[i],c=0,u=l.length,m;c<u;++c)(m=l[c])&&t.call(m,m.__data__,c,l);return this}function dk(t){return function(){this.removeAttribute(t)}}function hk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mk(t,a){return function(){this.setAttribute(t,a)}}function pk(t,a){return function(){this.setAttributeNS(t.space,t.local,a)}}function gk(t,a){return function(){var i=a.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function yk(t,a){return function(){var i=a.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function xk(t,a){var i=Lc(t);if(arguments.length<2){var s=this.node();return i.local?s.getAttributeNS(i.space,i.local):s.getAttribute(i)}return this.each((a==null?i.local?hk:dk:typeof a=="function"?i.local?yk:gk:i.local?pk:mk)(i,a))}function s1(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function wk(t){return function(){this.style.removeProperty(t)}}function vk(t,a,i){return function(){this.style.setProperty(t,a,i)}}function bk(t,a,i){return function(){var s=a.apply(this,arguments);s==null?this.style.removeProperty(t):this.style.setProperty(t,s,i)}}function kk(t,a,i){return arguments.length>1?this.each((a==null?wk:typeof a=="function"?bk:vk)(t,a,i??"")):qi(this.node(),t)}function qi(t,a){return t.style.getPropertyValue(a)||s1(t).getComputedStyle(t,null).getPropertyValue(a)}function Sk(t){return function(){delete this[t]}}function Ck(t,a){return function(){this[t]=a}}function Ek(t,a){return function(){var i=a.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function Nk(t,a){return arguments.length>1?this.each((a==null?Sk:typeof a=="function"?Ek:Ck)(t,a)):this.node()[t]}function l1(t){return t.trim().split(/^|\s+/)}function f0(t){return t.classList||new o1(t)}function o1(t){this._node=t,this._names=l1(t.getAttribute("class")||"")}o1.prototype={add:function(t){var a=this._names.indexOf(t);a<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var a=this._names.indexOf(t);a>=0&&(this._names.splice(a,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function c1(t,a){for(var i=f0(t),s=-1,l=a.length;++s<l;)i.add(a[s])}function u1(t,a){for(var i=f0(t),s=-1,l=a.length;++s<l;)i.remove(a[s])}function _k(t){return function(){c1(this,t)}}function Mk(t){return function(){u1(this,t)}}function Tk(t,a){return function(){(a.apply(this,arguments)?c1:u1)(this,t)}}function Ak(t,a){var i=l1(t+"");if(arguments.length<2){for(var s=f0(this.node()),l=-1,c=i.length;++l<c;)if(!s.contains(i[l]))return!1;return!0}return this.each((typeof a=="function"?Tk:a?_k:Mk)(i,a))}function Rk(){this.textContent=""}function jk(t){return function(){this.textContent=t}}function Dk(t){return function(){var a=t.apply(this,arguments);this.textContent=a??""}}function Lk(t){return arguments.length?this.each(t==null?Rk:(typeof t=="function"?Dk:jk)(t)):this.node().textContent}function Hk(){this.innerHTML=""}function Ok(t){return function(){this.innerHTML=t}}function zk(t){return function(){var a=t.apply(this,arguments);this.innerHTML=a??""}}function Bk(t){return arguments.length?this.each(t==null?Hk:(typeof t=="function"?zk:Ok)(t)):this.node().innerHTML}function Uk(){this.nextSibling&&this.parentNode.appendChild(this)}function Gk(){return this.each(Uk)}function Pk(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ik(){return this.each(Pk)}function Vk(t){var a=typeof t=="function"?t:t1(t);return this.select(function(){return this.appendChild(a.apply(this,arguments))})}function qk(){return null}function Yk(t,a){var i=typeof t=="function"?t:t1(t),s=a==null?qk:typeof a=="function"?a:u0(a);return this.select(function(){return this.insertBefore(i.apply(this,arguments),s.apply(this,arguments)||null)})}function Xk(){var t=this.parentNode;t&&t.removeChild(this)}function Kk(){return this.each(Xk)}function Zk(){var t=this.cloneNode(!1),a=this.parentNode;return a?a.insertBefore(t,this.nextSibling):t}function $k(){var t=this.cloneNode(!0),a=this.parentNode;return a?a.insertBefore(t,this.nextSibling):t}function Qk(t){return this.select(t?$k:Zk)}function Fk(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Wk(t){return function(a){t.call(this,a,this.__data__)}}function Jk(t){return t.trim().split(/^|\s+/).map(function(a){var i="",s=a.indexOf(".");return s>=0&&(i=a.slice(s+1),a=a.slice(0,s)),{type:a,name:i}})}function eS(t){return function(){var a=this.__on;if(a){for(var i=0,s=-1,l=a.length,c;i<l;++i)c=a[i],(!t.type||c.type===t.type)&&c.name===t.name?this.removeEventListener(c.type,c.listener,c.options):a[++s]=c;++s?a.length=s:delete this.__on}}}function tS(t,a,i){return function(){var s=this.__on,l,c=Wk(a);if(s){for(var u=0,m=s.length;u<m;++u)if((l=s[u]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=c,l.options=i),l.value=a;return}}this.addEventListener(t.type,c,i),l={type:t.type,name:t.name,value:a,listener:c,options:i},s?s.push(l):this.__on=[l]}}function nS(t,a,i){var s=Jk(t+""),l,c=s.length,u;if(arguments.length<2){var m=this.node().__on;if(m){for(var y=0,p=m.length,w;y<p;++y)for(l=0,w=m[y];l<c;++l)if((u=s[l]).type===w.type&&u.name===w.name)return w.value}return}for(m=a?tS:eS,l=0;l<c;++l)this.each(m(s[l],a,i));return this}function f1(t,a,i){var s=s1(t),l=s.CustomEvent;typeof l=="function"?l=new l(a,i):(l=s.document.createEvent("Event"),i?(l.initEvent(a,i.bubbles,i.cancelable),l.detail=i.detail):l.initEvent(a,!1,!1)),t.dispatchEvent(l)}function aS(t,a){return function(){return f1(this,t,a)}}function rS(t,a){return function(){return f1(this,t,a.apply(this,arguments))}}function iS(t,a){return this.each((typeof a=="function"?rS:aS)(t,a))}function*sS(){for(var t=this._groups,a=0,i=t.length;a<i;++a)for(var s=t[a],l=0,c=s.length,u;l<c;++l)(u=s[l])&&(yield u)}var d1=[null];function sn(t,a){this._groups=t,this._parents=a}function ml(){return new sn([[document.documentElement]],d1)}function lS(){return this}sn.prototype=ml.prototype={constructor:sn,select:D2,selectAll:z2,selectChild:P2,selectChildren:Y2,filter:X2,data:W2,enter:K2,exit:ek,join:tk,merge:nk,selection:lS,order:ak,sort:rk,call:sk,nodes:lk,node:ok,size:ck,empty:uk,each:fk,attr:xk,style:kk,property:Nk,classed:Ak,text:Lk,html:Bk,raise:Gk,lower:Ik,append:Vk,insert:Yk,remove:Kk,clone:Qk,datum:Fk,on:nS,dispatch:iS,[Symbol.iterator]:sS};function rn(t){return typeof t=="string"?new sn([[document.querySelector(t)]],[document.documentElement]):new sn([[t]],d1)}function oS(t){let a;for(;a=t.sourceEvent;)t=a;return t}function Nn(t,a){if(t=oS(t),a===void 0&&(a=t.currentTarget),a){var i=a.ownerSVGElement||a;if(i.createSVGPoint){var s=i.createSVGPoint();return s.x=t.clientX,s.y=t.clientY,s=s.matrixTransform(a.getScreenCTM().inverse()),[s.x,s.y]}if(a.getBoundingClientRect){var l=a.getBoundingClientRect();return[t.clientX-l.left-a.clientLeft,t.clientY-l.top-a.clientTop]}}return[t.pageX,t.pageY]}const cS={passive:!1},nl={capture:!0,passive:!1};function Sd(t){t.stopImmediatePropagation()}function Pi(t){t.preventDefault(),t.stopImmediatePropagation()}function h1(t){var a=t.document.documentElement,i=rn(t).on("dragstart.drag",Pi,nl);"onselectstart"in a?i.on("selectstart.drag",Pi,nl):(a.__noselect=a.style.MozUserSelect,a.style.MozUserSelect="none")}function m1(t,a){var i=t.document.documentElement,s=rn(t).on("dragstart.drag",null);a&&(s.on("click.drag",Pi,nl),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in i?s.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const Ko=t=>()=>t;function Gd(t,{sourceEvent:a,subject:i,target:s,identifier:l,active:c,x:u,y:m,dx:y,dy:p,dispatch:w}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:a,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:m,enumerable:!0,configurable:!0},dx:{value:y,enumerable:!0,configurable:!0},dy:{value:p,enumerable:!0,configurable:!0},_:{value:w}})}Gd.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function uS(t){return!t.ctrlKey&&!t.button}function fS(){return this.parentNode}function dS(t,a){return a??{x:t.x,y:t.y}}function hS(){return navigator.maxTouchPoints||"ontouchstart"in this}function p1(){var t=uS,a=fS,i=dS,s=hS,l={},c=Dc("start","drag","end"),u=0,m,y,p,w,x=0;function v(G){G.on("mousedown.drag",b).filter(s).on("touchstart.drag",j).on("touchmove.drag",R,cS).on("touchend.drag touchcancel.drag",B).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(G,K){if(!(w||!t.call(this,G,K))){var V=N(this,a.call(this,G,K),G,K,"mouse");V&&(rn(G.view).on("mousemove.drag",E,nl).on("mouseup.drag",_,nl),h1(G.view),Sd(G),p=!1,m=G.clientX,y=G.clientY,V("start",G))}}function E(G){if(Pi(G),!p){var K=G.clientX-m,V=G.clientY-y;p=K*K+V*V>x}l.mouse("drag",G)}function _(G){rn(G.view).on("mousemove.drag mouseup.drag",null),m1(G.view,p),Pi(G),l.mouse("end",G)}function j(G,K){if(t.call(this,G,K)){var V=G.changedTouches,X=a.call(this,G,K),C=V.length,M,U;for(M=0;M<C;++M)(U=N(this,X,G,K,V[M].identifier,V[M]))&&(Sd(G),U("start",G,V[M]))}}function R(G){var K=G.changedTouches,V=K.length,X,C;for(X=0;X<V;++X)(C=l[K[X].identifier])&&(Pi(G),C("drag",G,K[X]))}function B(G){var K=G.changedTouches,V=K.length,X,C;for(w&&clearTimeout(w),w=setTimeout(function(){w=null},500),X=0;X<V;++X)(C=l[K[X].identifier])&&(Sd(G),C("end",G,K[X]))}function N(G,K,V,X,C,M){var U=c.copy(),D=Nn(M||V,K),O,Y,A;if((A=i.call(G,new Gd("beforestart",{sourceEvent:V,target:v,identifier:C,active:u,x:D[0],y:D[1],dx:0,dy:0,dispatch:U}),X))!=null)return O=A.x-D[0]||0,Y=A.y-D[1]||0,function L(S,T,z){var q=D,F;switch(S){case"start":l[C]=L,F=u++;break;case"end":delete l[C],--u;case"drag":D=Nn(z||T,K),F=u;break}U.call(S,G,new Gd(S,{sourceEvent:T,subject:A,target:v,identifier:C,active:F,x:D[0]+O,y:D[1]+Y,dx:D[0]-q[0],dy:D[1]-q[1],dispatch:U}),X)}}return v.filter=function(G){return arguments.length?(t=typeof G=="function"?G:Ko(!!G),v):t},v.container=function(G){return arguments.length?(a=typeof G=="function"?G:Ko(G),v):a},v.subject=function(G){return arguments.length?(i=typeof G=="function"?G:Ko(G),v):i},v.touchable=function(G){return arguments.length?(s=typeof G=="function"?G:Ko(!!G),v):s},v.on=function(){var G=c.on.apply(c,arguments);return G===c?v:G},v.clickDistance=function(G){return arguments.length?(x=(G=+G)*G,v):Math.sqrt(x)},v}function d0(t,a,i){t.prototype=a.prototype=i,i.constructor=t}function g1(t,a){var i=Object.create(t.prototype);for(var s in a)i[s]=a[s];return i}function pl(){}var al=.7,vc=1/al,Ii="\\s*([+-]?\\d+)\\s*",rl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mS=/^#([0-9a-f]{3,8})$/,pS=new RegExp(`^rgb\\(${Ii},${Ii},${Ii}\\)$`),gS=new RegExp(`^rgb\\(${Vn},${Vn},${Vn}\\)$`),yS=new RegExp(`^rgba\\(${Ii},${Ii},${Ii},${rl}\\)$`),xS=new RegExp(`^rgba\\(${Vn},${Vn},${Vn},${rl}\\)$`),wS=new RegExp(`^hsl\\(${rl},${Vn},${Vn}\\)$`),vS=new RegExp(`^hsla\\(${rl},${Vn},${Vn},${rl}\\)$`),Og={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};d0(pl,Vr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zg,formatHex:zg,formatHex8:bS,formatHsl:kS,formatRgb:Bg,toString:Bg});function zg(){return this.rgb().formatHex()}function bS(){return this.rgb().formatHex8()}function kS(){return y1(this).formatHsl()}function Bg(){return this.rgb().formatRgb()}function Vr(t){var a,i;return t=(t+"").trim().toLowerCase(),(a=mS.exec(t))?(i=a[1].length,a=parseInt(a[1],16),i===6?Ug(a):i===3?new Zt(a>>8&15|a>>4&240,a>>4&15|a&240,(a&15)<<4|a&15,1):i===8?Zo(a>>24&255,a>>16&255,a>>8&255,(a&255)/255):i===4?Zo(a>>12&15|a>>8&240,a>>8&15|a>>4&240,a>>4&15|a&240,((a&15)<<4|a&15)/255):null):(a=pS.exec(t))?new Zt(a[1],a[2],a[3],1):(a=gS.exec(t))?new Zt(a[1]*255/100,a[2]*255/100,a[3]*255/100,1):(a=yS.exec(t))?Zo(a[1],a[2],a[3],a[4]):(a=xS.exec(t))?Zo(a[1]*255/100,a[2]*255/100,a[3]*255/100,a[4]):(a=wS.exec(t))?Ig(a[1],a[2]/100,a[3]/100,1):(a=vS.exec(t))?Ig(a[1],a[2]/100,a[3]/100,a[4]):Og.hasOwnProperty(t)?Ug(Og[t]):t==="transparent"?new Zt(NaN,NaN,NaN,0):null}function Ug(t){return new Zt(t>>16&255,t>>8&255,t&255,1)}function Zo(t,a,i,s){return s<=0&&(t=a=i=NaN),new Zt(t,a,i,s)}function SS(t){return t instanceof pl||(t=Vr(t)),t?(t=t.rgb(),new Zt(t.r,t.g,t.b,t.opacity)):new Zt}function Pd(t,a,i,s){return arguments.length===1?SS(t):new Zt(t,a,i,s??1)}function Zt(t,a,i,s){this.r=+t,this.g=+a,this.b=+i,this.opacity=+s}d0(Zt,Pd,g1(pl,{brighter(t){return t=t==null?vc:Math.pow(vc,t),new Zt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?al:Math.pow(al,t),new Zt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zt(Gr(this.r),Gr(this.g),Gr(this.b),bc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gg,formatHex:Gg,formatHex8:CS,formatRgb:Pg,toString:Pg}));function Gg(){return`#${Ur(this.r)}${Ur(this.g)}${Ur(this.b)}`}function CS(){return`#${Ur(this.r)}${Ur(this.g)}${Ur(this.b)}${Ur((isNaN(this.opacity)?1:this.opacity)*255)}`}function Pg(){const t=bc(this.opacity);return`${t===1?"rgb(":"rgba("}${Gr(this.r)}, ${Gr(this.g)}, ${Gr(this.b)}${t===1?")":`, ${t})`}`}function bc(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Gr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ur(t){return t=Gr(t),(t<16?"0":"")+t.toString(16)}function Ig(t,a,i,s){return s<=0?t=a=i=NaN:i<=0||i>=1?t=a=NaN:a<=0&&(t=NaN),new _n(t,a,i,s)}function y1(t){if(t instanceof _n)return new _n(t.h,t.s,t.l,t.opacity);if(t instanceof pl||(t=Vr(t)),!t)return new _n;if(t instanceof _n)return t;t=t.rgb();var a=t.r/255,i=t.g/255,s=t.b/255,l=Math.min(a,i,s),c=Math.max(a,i,s),u=NaN,m=c-l,y=(c+l)/2;return m?(a===c?u=(i-s)/m+(i<s)*6:i===c?u=(s-a)/m+2:u=(a-i)/m+4,m/=y<.5?c+l:2-c-l,u*=60):m=y>0&&y<1?0:u,new _n(u,m,y,t.opacity)}function ES(t,a,i,s){return arguments.length===1?y1(t):new _n(t,a,i,s??1)}function _n(t,a,i,s){this.h=+t,this.s=+a,this.l=+i,this.opacity=+s}d0(_n,ES,g1(pl,{brighter(t){return t=t==null?vc:Math.pow(vc,t),new _n(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?al:Math.pow(al,t),new _n(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,a=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,s=i+(i<.5?i:1-i)*a,l=2*i-s;return new Zt(Cd(t>=240?t-240:t+120,l,s),Cd(t,l,s),Cd(t<120?t+240:t-120,l,s),this.opacity)},clamp(){return new _n(Vg(this.h),$o(this.s),$o(this.l),bc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=bc(this.opacity);return`${t===1?"hsl(":"hsla("}${Vg(this.h)}, ${$o(this.s)*100}%, ${$o(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Vg(t){return t=(t||0)%360,t<0?t+360:t}function $o(t){return Math.max(0,Math.min(1,t||0))}function Cd(t,a,i){return(t<60?a+(i-a)*t/60:t<180?i:t<240?a+(i-a)*(240-t)/60:a)*255}const h0=t=>()=>t;function NS(t,a){return function(i){return t+i*a}}function _S(t,a,i){return t=Math.pow(t,i),a=Math.pow(a,i)-t,i=1/i,function(s){return Math.pow(t+s*a,i)}}function MS(t){return(t=+t)==1?x1:function(a,i){return i-a?_S(a,i,t):h0(isNaN(a)?i:a)}}function x1(t,a){var i=a-t;return i?NS(t,i):h0(isNaN(t)?a:t)}const kc=(function t(a){var i=MS(a);function s(l,c){var u=i((l=Pd(l)).r,(c=Pd(c)).r),m=i(l.g,c.g),y=i(l.b,c.b),p=x1(l.opacity,c.opacity);return function(w){return l.r=u(w),l.g=m(w),l.b=y(w),l.opacity=p(w),l+""}}return s.gamma=t,s})(1);function TS(t,a){a||(a=[]);var i=t?Math.min(a.length,t.length):0,s=a.slice(),l;return function(c){for(l=0;l<i;++l)s[l]=t[l]*(1-c)+a[l]*c;return s}}function AS(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function RS(t,a){var i=a?a.length:0,s=t?Math.min(i,t.length):0,l=new Array(s),c=new Array(i),u;for(u=0;u<s;++u)l[u]=Ws(t[u],a[u]);for(;u<i;++u)c[u]=a[u];return function(m){for(u=0;u<s;++u)c[u]=l[u](m);return c}}function jS(t,a){var i=new Date;return t=+t,a=+a,function(s){return i.setTime(t*(1-s)+a*s),i}}function Gn(t,a){return t=+t,a=+a,function(i){return t*(1-i)+a*i}}function DS(t,a){var i={},s={},l;(t===null||typeof t!="object")&&(t={}),(a===null||typeof a!="object")&&(a={});for(l in a)l in t?i[l]=Ws(t[l],a[l]):s[l]=a[l];return function(c){for(l in i)s[l]=i[l](c);return s}}var Id=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ed=new RegExp(Id.source,"g");function LS(t){return function(){return t}}function HS(t){return function(a){return t(a)+""}}function w1(t,a){var i=Id.lastIndex=Ed.lastIndex=0,s,l,c,u=-1,m=[],y=[];for(t=t+"",a=a+"";(s=Id.exec(t))&&(l=Ed.exec(a));)(c=l.index)>i&&(c=a.slice(i,c),m[u]?m[u]+=c:m[++u]=c),(s=s[0])===(l=l[0])?m[u]?m[u]+=l:m[++u]=l:(m[++u]=null,y.push({i:u,x:Gn(s,l)})),i=Ed.lastIndex;return i<a.length&&(c=a.slice(i),m[u]?m[u]+=c:m[++u]=c),m.length<2?y[0]?HS(y[0].x):LS(a):(a=y.length,function(p){for(var w=0,x;w<a;++w)m[(x=y[w]).i]=x.x(p);return m.join("")})}function Ws(t,a){var i=typeof a,s;return a==null||i==="boolean"?h0(a):(i==="number"?Gn:i==="string"?(s=Vr(a))?(a=s,kc):w1:a instanceof Vr?kc:a instanceof Date?jS:AS(a)?TS:Array.isArray(a)?RS:typeof a.valueOf!="function"&&typeof a.toString!="function"||isNaN(a)?DS:Gn)(t,a)}var qg=180/Math.PI,Vd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function v1(t,a,i,s,l,c){var u,m,y;return(u=Math.sqrt(t*t+a*a))&&(t/=u,a/=u),(y=t*i+a*s)&&(i-=t*y,s-=a*y),(m=Math.sqrt(i*i+s*s))&&(i/=m,s/=m,y/=m),t*s<a*i&&(t=-t,a=-a,y=-y,u=-u),{translateX:l,translateY:c,rotate:Math.atan2(a,t)*qg,skewX:Math.atan(y)*qg,scaleX:u,scaleY:m}}var Qo;function OS(t){const a=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return a.isIdentity?Vd:v1(a.a,a.b,a.c,a.d,a.e,a.f)}function zS(t){return t==null||(Qo||(Qo=document.createElementNS("http://www.w3.org/2000/svg","g")),Qo.setAttribute("transform",t),!(t=Qo.transform.baseVal.consolidate()))?Vd:(t=t.matrix,v1(t.a,t.b,t.c,t.d,t.e,t.f))}function b1(t,a,i,s){function l(p){return p.length?p.pop()+" ":""}function c(p,w,x,v,b,E){if(p!==x||w!==v){var _=b.push("translate(",null,a,null,i);E.push({i:_-4,x:Gn(p,x)},{i:_-2,x:Gn(w,v)})}else(x||v)&&b.push("translate("+x+a+v+i)}function u(p,w,x,v){p!==w?(p-w>180?w+=360:w-p>180&&(p+=360),v.push({i:x.push(l(x)+"rotate(",null,s)-2,x:Gn(p,w)})):w&&x.push(l(x)+"rotate("+w+s)}function m(p,w,x,v){p!==w?v.push({i:x.push(l(x)+"skewX(",null,s)-2,x:Gn(p,w)}):w&&x.push(l(x)+"skewX("+w+s)}function y(p,w,x,v,b,E){if(p!==x||w!==v){var _=b.push(l(b)+"scale(",null,",",null,")");E.push({i:_-4,x:Gn(p,x)},{i:_-2,x:Gn(w,v)})}else(x!==1||v!==1)&&b.push(l(b)+"scale("+x+","+v+")")}return function(p,w){var x=[],v=[];return p=t(p),w=t(w),c(p.translateX,p.translateY,w.translateX,w.translateY,x,v),u(p.rotate,w.rotate,x,v),m(p.skewX,w.skewX,x,v),y(p.scaleX,p.scaleY,w.scaleX,w.scaleY,x,v),p=w=null,function(b){for(var E=-1,_=v.length,j;++E<_;)x[(j=v[E]).i]=j.x(b);return x.join("")}}}var BS=b1(OS,"px, ","px)","deg)"),US=b1(zS,", ",")",")"),GS=1e-12;function Yg(t){return((t=Math.exp(t))+1/t)/2}function PS(t){return((t=Math.exp(t))-1/t)/2}function IS(t){return((t=Math.exp(2*t))-1)/(t+1)}const oc=(function t(a,i,s){function l(c,u){var m=c[0],y=c[1],p=c[2],w=u[0],x=u[1],v=u[2],b=w-m,E=x-y,_=b*b+E*E,j,R;if(_<GS)R=Math.log(v/p)/a,j=function(X){return[m+X*b,y+X*E,p*Math.exp(a*X*R)]};else{var B=Math.sqrt(_),N=(v*v-p*p+s*_)/(2*p*i*B),G=(v*v-p*p-s*_)/(2*v*i*B),K=Math.log(Math.sqrt(N*N+1)-N),V=Math.log(Math.sqrt(G*G+1)-G);R=(V-K)/a,j=function(X){var C=X*R,M=Yg(K),U=p/(i*B)*(M*IS(a*C+K)-PS(K));return[m+U*b,y+U*E,p*M/Yg(a*C+K)]}}return j.duration=R*1e3*a/Math.SQRT2,j}return l.rho=function(c){var u=Math.max(.001,+c),m=u*u,y=m*m;return t(u,m,y)},l})(Math.SQRT2,2,4);var Yi=0,Qs=0,Zs=0,k1=1e3,Sc,Fs,Cc=0,qr=0,Hc=0,il=typeof performance=="object"&&performance.now?performance:Date,S1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function m0(){return qr||(S1(VS),qr=il.now()+Hc)}function VS(){qr=0}function Ec(){this._call=this._time=this._next=null}Ec.prototype=C1.prototype={constructor:Ec,restart:function(t,a,i){if(typeof t!="function")throw new TypeError("callback is not a function");i=(i==null?m0():+i)+(a==null?0:+a),!this._next&&Fs!==this&&(Fs?Fs._next=this:Sc=this,Fs=this),this._call=t,this._time=i,qd()},stop:function(){this._call&&(this._call=null,this._time=1/0,qd())}};function C1(t,a,i){var s=new Ec;return s.restart(t,a,i),s}function qS(){m0(),++Yi;for(var t=Sc,a;t;)(a=qr-t._time)>=0&&t._call.call(void 0,a),t=t._next;--Yi}function Xg(){qr=(Cc=il.now())+Hc,Yi=Qs=0;try{qS()}finally{Yi=0,XS(),qr=0}}function YS(){var t=il.now(),a=t-Cc;a>k1&&(Hc-=a,Cc=t)}function XS(){for(var t,a=Sc,i,s=1/0;a;)a._call?(s>a._time&&(s=a._time),t=a,a=a._next):(i=a._next,a._next=null,a=t?t._next=i:Sc=i);Fs=t,qd(s)}function qd(t){if(!Yi){Qs&&(Qs=clearTimeout(Qs));var a=t-qr;a>24?(t<1/0&&(Qs=setTimeout(Xg,t-il.now()-Hc)),Zs&&(Zs=clearInterval(Zs))):(Zs||(Cc=il.now(),Zs=setInterval(YS,k1)),Yi=1,S1(Xg))}}function Kg(t,a,i){var s=new Ec;return a=a==null?0:+a,s.restart(l=>{s.stop(),t(l+a)},a,i),s}var KS=Dc("start","end","cancel","interrupt"),ZS=[],E1=0,Zg=1,Yd=2,cc=3,$g=4,Xd=5,uc=6;function Oc(t,a,i,s,l,c){var u=t.__transition;if(!u)t.__transition={};else if(i in u)return;$S(t,i,{name:a,index:s,group:l,on:KS,tween:ZS,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:E1})}function p0(t,a){var i=Rn(t,a);if(i.state>E1)throw new Error("too late; already scheduled");return i}function Kn(t,a){var i=Rn(t,a);if(i.state>cc)throw new Error("too late; already running");return i}function Rn(t,a){var i=t.__transition;if(!i||!(i=i[a]))throw new Error("transition not found");return i}function $S(t,a,i){var s=t.__transition,l;s[a]=i,i.timer=C1(c,0,i.time);function c(p){i.state=Zg,i.timer.restart(u,i.delay,i.time),i.delay<=p&&u(p-i.delay)}function u(p){var w,x,v,b;if(i.state!==Zg)return y();for(w in s)if(b=s[w],b.name===i.name){if(b.state===cc)return Kg(u);b.state===$g?(b.state=uc,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete s[w]):+w<a&&(b.state=uc,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete s[w])}if(Kg(function(){i.state===cc&&(i.state=$g,i.timer.restart(m,i.delay,i.time),m(p))}),i.state=Yd,i.on.call("start",t,t.__data__,i.index,i.group),i.state===Yd){for(i.state=cc,l=new Array(v=i.tween.length),w=0,x=-1;w<v;++w)(b=i.tween[w].value.call(t,t.__data__,i.index,i.group))&&(l[++x]=b);l.length=x+1}}function m(p){for(var w=p<i.duration?i.ease.call(null,p/i.duration):(i.timer.restart(y),i.state=Xd,1),x=-1,v=l.length;++x<v;)l[x].call(t,w);i.state===Xd&&(i.on.call("end",t,t.__data__,i.index,i.group),y())}function y(){i.state=uc,i.timer.stop(),delete s[a];for(var p in s)return;delete t.__transition}}function fc(t,a){var i=t.__transition,s,l,c=!0,u;if(i){a=a==null?null:a+"";for(u in i){if((s=i[u]).name!==a){c=!1;continue}l=s.state>Yd&&s.state<Xd,s.state=uc,s.timer.stop(),s.on.call(l?"interrupt":"cancel",t,t.__data__,s.index,s.group),delete i[u]}c&&delete t.__transition}}function QS(t){return this.each(function(){fc(this,t)})}function FS(t,a){var i,s;return function(){var l=Kn(this,t),c=l.tween;if(c!==i){s=i=c;for(var u=0,m=s.length;u<m;++u)if(s[u].name===a){s=s.slice(),s.splice(u,1);break}}l.tween=s}}function WS(t,a,i){var s,l;if(typeof i!="function")throw new Error;return function(){var c=Kn(this,t),u=c.tween;if(u!==s){l=(s=u).slice();for(var m={name:a,value:i},y=0,p=l.length;y<p;++y)if(l[y].name===a){l[y]=m;break}y===p&&l.push(m)}c.tween=l}}function JS(t,a){var i=this._id;if(t+="",arguments.length<2){for(var s=Rn(this.node(),i).tween,l=0,c=s.length,u;l<c;++l)if((u=s[l]).name===t)return u.value;return null}return this.each((a==null?FS:WS)(i,t,a))}function g0(t,a,i){var s=t._id;return t.each(function(){var l=Kn(this,s);(l.value||(l.value={}))[a]=i.apply(this,arguments)}),function(l){return Rn(l,s).value[a]}}function N1(t,a){var i;return(typeof a=="number"?Gn:a instanceof Vr?kc:(i=Vr(a))?(a=i,kc):w1)(t,a)}function eC(t){return function(){this.removeAttribute(t)}}function tC(t){return function(){this.removeAttributeNS(t.space,t.local)}}function nC(t,a,i){var s,l=i+"",c;return function(){var u=this.getAttribute(t);return u===l?null:u===s?c:c=a(s=u,i)}}function aC(t,a,i){var s,l=i+"",c;return function(){var u=this.getAttributeNS(t.space,t.local);return u===l?null:u===s?c:c=a(s=u,i)}}function rC(t,a,i){var s,l,c;return function(){var u,m=i(this),y;return m==null?void this.removeAttribute(t):(u=this.getAttribute(t),y=m+"",u===y?null:u===s&&y===l?c:(l=y,c=a(s=u,m)))}}function iC(t,a,i){var s,l,c;return function(){var u,m=i(this),y;return m==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),y=m+"",u===y?null:u===s&&y===l?c:(l=y,c=a(s=u,m)))}}function sC(t,a){var i=Lc(t),s=i==="transform"?US:N1;return this.attrTween(t,typeof a=="function"?(i.local?iC:rC)(i,s,g0(this,"attr."+t,a)):a==null?(i.local?tC:eC)(i):(i.local?aC:nC)(i,s,a))}function lC(t,a){return function(i){this.setAttribute(t,a.call(this,i))}}function oC(t,a){return function(i){this.setAttributeNS(t.space,t.local,a.call(this,i))}}function cC(t,a){var i,s;function l(){var c=a.apply(this,arguments);return c!==s&&(i=(s=c)&&oC(t,c)),i}return l._value=a,l}function uC(t,a){var i,s;function l(){var c=a.apply(this,arguments);return c!==s&&(i=(s=c)&&lC(t,c)),i}return l._value=a,l}function fC(t,a){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(a==null)return this.tween(i,null);if(typeof a!="function")throw new Error;var s=Lc(t);return this.tween(i,(s.local?cC:uC)(s,a))}function dC(t,a){return function(){p0(this,t).delay=+a.apply(this,arguments)}}function hC(t,a){return a=+a,function(){p0(this,t).delay=a}}function mC(t){var a=this._id;return arguments.length?this.each((typeof t=="function"?dC:hC)(a,t)):Rn(this.node(),a).delay}function pC(t,a){return function(){Kn(this,t).duration=+a.apply(this,arguments)}}function gC(t,a){return a=+a,function(){Kn(this,t).duration=a}}function yC(t){var a=this._id;return arguments.length?this.each((typeof t=="function"?pC:gC)(a,t)):Rn(this.node(),a).duration}function xC(t,a){if(typeof a!="function")throw new Error;return function(){Kn(this,t).ease=a}}function wC(t){var a=this._id;return arguments.length?this.each(xC(a,t)):Rn(this.node(),a).ease}function vC(t,a){return function(){var i=a.apply(this,arguments);if(typeof i!="function")throw new Error;Kn(this,t).ease=i}}function bC(t){if(typeof t!="function")throw new Error;return this.each(vC(this._id,t))}function kC(t){typeof t!="function"&&(t=a1(t));for(var a=this._groups,i=a.length,s=new Array(i),l=0;l<i;++l)for(var c=a[l],u=c.length,m=s[l]=[],y,p=0;p<u;++p)(y=c[p])&&t.call(y,y.__data__,p,c)&&m.push(y);return new Sa(s,this._parents,this._name,this._id)}function SC(t){if(t._id!==this._id)throw new Error;for(var a=this._groups,i=t._groups,s=a.length,l=i.length,c=Math.min(s,l),u=new Array(s),m=0;m<c;++m)for(var y=a[m],p=i[m],w=y.length,x=u[m]=new Array(w),v,b=0;b<w;++b)(v=y[b]||p[b])&&(x[b]=v);for(;m<s;++m)u[m]=a[m];return new Sa(u,this._parents,this._name,this._id)}function CC(t){return(t+"").trim().split(/^|\s+/).every(function(a){var i=a.indexOf(".");return i>=0&&(a=a.slice(0,i)),!a||a==="start"})}function EC(t,a,i){var s,l,c=CC(a)?p0:Kn;return function(){var u=c(this,t),m=u.on;m!==s&&(l=(s=m).copy()).on(a,i),u.on=l}}function NC(t,a){var i=this._id;return arguments.length<2?Rn(this.node(),i).on.on(t):this.each(EC(i,t,a))}function _C(t){return function(){var a=this.parentNode;for(var i in this.__transition)if(+i!==t)return;a&&a.removeChild(this)}}function MC(){return this.on("end.remove",_C(this._id))}function TC(t){var a=this._name,i=this._id;typeof t!="function"&&(t=u0(t));for(var s=this._groups,l=s.length,c=new Array(l),u=0;u<l;++u)for(var m=s[u],y=m.length,p=c[u]=new Array(y),w,x,v=0;v<y;++v)(w=m[v])&&(x=t.call(w,w.__data__,v,m))&&("__data__"in w&&(x.__data__=w.__data__),p[v]=x,Oc(p[v],a,i,v,p,Rn(w,i)));return new Sa(c,this._parents,a,i)}function AC(t){var a=this._name,i=this._id;typeof t!="function"&&(t=n1(t));for(var s=this._groups,l=s.length,c=[],u=[],m=0;m<l;++m)for(var y=s[m],p=y.length,w,x=0;x<p;++x)if(w=y[x]){for(var v=t.call(w,w.__data__,x,y),b,E=Rn(w,i),_=0,j=v.length;_<j;++_)(b=v[_])&&Oc(b,a,i,_,v,E);c.push(v),u.push(w)}return new Sa(c,u,a,i)}var RC=ml.prototype.constructor;function jC(){return new RC(this._groups,this._parents)}function DC(t,a){var i,s,l;return function(){var c=qi(this,t),u=(this.style.removeProperty(t),qi(this,t));return c===u?null:c===i&&u===s?l:l=a(i=c,s=u)}}function _1(t){return function(){this.style.removeProperty(t)}}function LC(t,a,i){var s,l=i+"",c;return function(){var u=qi(this,t);return u===l?null:u===s?c:c=a(s=u,i)}}function HC(t,a,i){var s,l,c;return function(){var u=qi(this,t),m=i(this),y=m+"";return m==null&&(y=m=(this.style.removeProperty(t),qi(this,t))),u===y?null:u===s&&y===l?c:(l=y,c=a(s=u,m))}}function OC(t,a){var i,s,l,c="style."+a,u="end."+c,m;return function(){var y=Kn(this,t),p=y.on,w=y.value[c]==null?m||(m=_1(a)):void 0;(p!==i||l!==w)&&(s=(i=p).copy()).on(u,l=w),y.on=s}}function zC(t,a,i){var s=(t+="")=="transform"?BS:N1;return a==null?this.styleTween(t,DC(t,s)).on("end.style."+t,_1(t)):typeof a=="function"?this.styleTween(t,HC(t,s,g0(this,"style."+t,a))).each(OC(this._id,t)):this.styleTween(t,LC(t,s,a),i).on("end.style."+t,null)}function BC(t,a,i){return function(s){this.style.setProperty(t,a.call(this,s),i)}}function UC(t,a,i){var s,l;function c(){var u=a.apply(this,arguments);return u!==l&&(s=(l=u)&&BC(t,u,i)),s}return c._value=a,c}function GC(t,a,i){var s="style."+(t+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(a==null)return this.tween(s,null);if(typeof a!="function")throw new Error;return this.tween(s,UC(t,a,i??""))}function PC(t){return function(){this.textContent=t}}function IC(t){return function(){var a=t(this);this.textContent=a??""}}function VC(t){return this.tween("text",typeof t=="function"?IC(g0(this,"text",t)):PC(t==null?"":t+""))}function qC(t){return function(a){this.textContent=t.call(this,a)}}function YC(t){var a,i;function s(){var l=t.apply(this,arguments);return l!==i&&(a=(i=l)&&qC(l)),a}return s._value=t,s}function XC(t){var a="text";if(arguments.length<1)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;return this.tween(a,YC(t))}function KC(){for(var t=this._name,a=this._id,i=M1(),s=this._groups,l=s.length,c=0;c<l;++c)for(var u=s[c],m=u.length,y,p=0;p<m;++p)if(y=u[p]){var w=Rn(y,a);Oc(y,t,i,p,u,{time:w.time+w.delay+w.duration,delay:0,duration:w.duration,ease:w.ease})}return new Sa(s,this._parents,t,i)}function ZC(){var t,a,i=this,s=i._id,l=i.size();return new Promise(function(c,u){var m={value:u},y={value:function(){--l===0&&c()}};i.each(function(){var p=Kn(this,s),w=p.on;w!==t&&(a=(t=w).copy(),a._.cancel.push(m),a._.interrupt.push(m),a._.end.push(y)),p.on=a}),l===0&&c()})}var $C=0;function Sa(t,a,i,s){this._groups=t,this._parents=a,this._name=i,this._id=s}function M1(){return++$C}var wa=ml.prototype;Sa.prototype={constructor:Sa,select:TC,selectAll:AC,selectChild:wa.selectChild,selectChildren:wa.selectChildren,filter:kC,merge:SC,selection:jC,transition:KC,call:wa.call,nodes:wa.nodes,node:wa.node,size:wa.size,empty:wa.empty,each:wa.each,on:NC,attr:sC,attrTween:fC,style:zC,styleTween:GC,text:VC,textTween:XC,remove:MC,tween:JS,delay:mC,duration:yC,ease:wC,easeVarying:bC,end:ZC,[Symbol.iterator]:wa[Symbol.iterator]};function QC(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var FC={time:null,delay:0,duration:250,ease:QC};function WC(t,a){for(var i;!(i=t.__transition)||!(i=i[a]);)if(!(t=t.parentNode))throw new Error(`transition ${a} not found`);return i}function JC(t){var a,i;t instanceof Sa?(a=t._id,t=t._name):(a=M1(),(i=FC).time=m0(),t=t==null?null:t+"");for(var s=this._groups,l=s.length,c=0;c<l;++c)for(var u=s[c],m=u.length,y,p=0;p<m;++p)(y=u[p])&&Oc(y,t,a,p,u,i||WC(y,a));return new Sa(s,this._parents,t,a)}ml.prototype.interrupt=QS;ml.prototype.transition=JC;const Fo=t=>()=>t;function eE(t,{sourceEvent:a,target:i,transform:s,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:a,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:l}})}function ba(t,a,i){this.k=t,this.x=a,this.y=i}ba.prototype={constructor:ba,scale:function(t){return t===1?this:new ba(this.k*t,this.x,this.y)},translate:function(t,a){return t===0&a===0?this:new ba(this.k,this.x+this.k*t,this.y+this.k*a)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var zc=new ba(1,0,0);T1.prototype=ba.prototype;function T1(t){for(;!t.__zoom;)if(!(t=t.parentNode))return zc;return t.__zoom}function Nd(t){t.stopImmediatePropagation()}function $s(t){t.preventDefault(),t.stopImmediatePropagation()}function tE(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function nE(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Qg(){return this.__zoom||zc}function aE(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function rE(){return navigator.maxTouchPoints||"ontouchstart"in this}function iE(t,a,i){var s=t.invertX(a[0][0])-i[0][0],l=t.invertX(a[1][0])-i[1][0],c=t.invertY(a[0][1])-i[0][1],u=t.invertY(a[1][1])-i[1][1];return t.translate(l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l),u>c?(c+u)/2:Math.min(0,c)||Math.max(0,u))}function A1(){var t=tE,a=nE,i=iE,s=aE,l=rE,c=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],m=250,y=oc,p=Dc("start","zoom","end"),w,x,v,b=500,E=150,_=0,j=10;function R(A){A.property("__zoom",Qg).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",U).filter(l).on("touchstart.zoom",D).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}R.transform=function(A,L,S,T){var z=A.selection?A.selection():A;z.property("__zoom",Qg),A!==z?K(A,L,S,T):z.interrupt().each(function(){V(this,arguments).event(T).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},R.scaleBy=function(A,L,S,T){R.scaleTo(A,function(){var z=this.__zoom.k,q=typeof L=="function"?L.apply(this,arguments):L;return z*q},S,T)},R.scaleTo=function(A,L,S,T){R.transform(A,function(){var z=a.apply(this,arguments),q=this.__zoom,F=S==null?G(z):typeof S=="function"?S.apply(this,arguments):S,P=q.invert(F),H=typeof L=="function"?L.apply(this,arguments):L;return i(N(B(q,H),F,P),z,u)},S,T)},R.translateBy=function(A,L,S,T){R.transform(A,function(){return i(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof S=="function"?S.apply(this,arguments):S),a.apply(this,arguments),u)},null,T)},R.translateTo=function(A,L,S,T,z){R.transform(A,function(){var q=a.apply(this,arguments),F=this.__zoom,P=T==null?G(q):typeof T=="function"?T.apply(this,arguments):T;return i(zc.translate(P[0],P[1]).scale(F.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof S=="function"?-S.apply(this,arguments):-S),q,u)},T,z)};function B(A,L){return L=Math.max(c[0],Math.min(c[1],L)),L===A.k?A:new ba(L,A.x,A.y)}function N(A,L,S){var T=L[0]-S[0]*A.k,z=L[1]-S[1]*A.k;return T===A.x&&z===A.y?A:new ba(A.k,T,z)}function G(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function K(A,L,S,T){A.on("start.zoom",function(){V(this,arguments).event(T).start()}).on("interrupt.zoom end.zoom",function(){V(this,arguments).event(T).end()}).tween("zoom",function(){var z=this,q=arguments,F=V(z,q).event(T),P=a.apply(z,q),H=S==null?G(P):typeof S=="function"?S.apply(z,q):S,$=Math.max(P[1][0]-P[0][0],P[1][1]-P[0][1]),Q=z.__zoom,te=typeof L=="function"?L.apply(z,q):L,ie=y(Q.invert(H).concat($/Q.k),te.invert(H).concat($/te.k));return function(se){if(se===1)se=te;else{var fe=ie(se),me=$/fe[2];se=new ba(me,H[0]-fe[0]*me,H[1]-fe[1]*me)}F.zoom(null,se)}})}function V(A,L,S){return!S&&A.__zooming||new X(A,L)}function X(A,L){this.that=A,this.args=L,this.active=0,this.sourceEvent=null,this.extent=a.apply(A,L),this.taps=0}X.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,L){return this.mouse&&A!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var L=rn(this.that).datum();p.call(A,this.that,new eE(A,{sourceEvent:this.sourceEvent,target:R,transform:this.that.__zoom,dispatch:p}),L)}};function C(A,...L){if(!t.apply(this,arguments))return;var S=V(this,L).event(A),T=this.__zoom,z=Math.max(c[0],Math.min(c[1],T.k*Math.pow(2,s.apply(this,arguments)))),q=Nn(A);if(S.wheel)(S.mouse[0][0]!==q[0]||S.mouse[0][1]!==q[1])&&(S.mouse[1]=T.invert(S.mouse[0]=q)),clearTimeout(S.wheel);else{if(T.k===z)return;S.mouse=[q,T.invert(q)],fc(this),S.start()}$s(A),S.wheel=setTimeout(F,E),S.zoom("mouse",i(N(B(T,z),S.mouse[0],S.mouse[1]),S.extent,u));function F(){S.wheel=null,S.end()}}function M(A,...L){if(v||!t.apply(this,arguments))return;var S=A.currentTarget,T=V(this,L,!0).event(A),z=rn(A.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",$,!0),q=Nn(A,S),F=A.clientX,P=A.clientY;h1(A.view),Nd(A),T.mouse=[q,this.__zoom.invert(q)],fc(this),T.start();function H(Q){if($s(Q),!T.moved){var te=Q.clientX-F,ie=Q.clientY-P;T.moved=te*te+ie*ie>_}T.event(Q).zoom("mouse",i(N(T.that.__zoom,T.mouse[0]=Nn(Q,S),T.mouse[1]),T.extent,u))}function $(Q){z.on("mousemove.zoom mouseup.zoom",null),m1(Q.view,T.moved),$s(Q),T.event(Q).end()}}function U(A,...L){if(t.apply(this,arguments)){var S=this.__zoom,T=Nn(A.changedTouches?A.changedTouches[0]:A,this),z=S.invert(T),q=S.k*(A.shiftKey?.5:2),F=i(N(B(S,q),T,z),a.apply(this,L),u);$s(A),m>0?rn(this).transition().duration(m).call(K,F,T,A):rn(this).call(R.transform,F,T,A)}}function D(A,...L){if(t.apply(this,arguments)){var S=A.touches,T=S.length,z=V(this,L,A.changedTouches.length===T).event(A),q,F,P,H;for(Nd(A),F=0;F<T;++F)P=S[F],H=Nn(P,this),H=[H,this.__zoom.invert(H),P.identifier],z.touch0?!z.touch1&&z.touch0[2]!==H[2]&&(z.touch1=H,z.taps=0):(z.touch0=H,q=!0,z.taps=1+!!w);w&&(w=clearTimeout(w)),q&&(z.taps<2&&(x=H[0],w=setTimeout(function(){w=null},b)),fc(this),z.start())}}function O(A,...L){if(this.__zooming){var S=V(this,L).event(A),T=A.changedTouches,z=T.length,q,F,P,H;for($s(A),q=0;q<z;++q)F=T[q],P=Nn(F,this),S.touch0&&S.touch0[2]===F.identifier?S.touch0[0]=P:S.touch1&&S.touch1[2]===F.identifier&&(S.touch1[0]=P);if(F=S.that.__zoom,S.touch1){var $=S.touch0[0],Q=S.touch0[1],te=S.touch1[0],ie=S.touch1[1],se=(se=te[0]-$[0])*se+(se=te[1]-$[1])*se,fe=(fe=ie[0]-Q[0])*fe+(fe=ie[1]-Q[1])*fe;F=B(F,Math.sqrt(se/fe)),P=[($[0]+te[0])/2,($[1]+te[1])/2],H=[(Q[0]+ie[0])/2,(Q[1]+ie[1])/2]}else if(S.touch0)P=S.touch0[0],H=S.touch0[1];else return;S.zoom("touch",i(N(F,P,H),S.extent,u))}}function Y(A,...L){if(this.__zooming){var S=V(this,L).event(A),T=A.changedTouches,z=T.length,q,F;for(Nd(A),v&&clearTimeout(v),v=setTimeout(function(){v=null},b),q=0;q<z;++q)F=T[q],S.touch0&&S.touch0[2]===F.identifier?delete S.touch0:S.touch1&&S.touch1[2]===F.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(F=Nn(F,this),Math.hypot(x[0]-F[0],x[1]-F[1])<j)){var P=rn(this).on("dblclick.zoom");P&&P.apply(this,arguments)}}}return R.wheelDelta=function(A){return arguments.length?(s=typeof A=="function"?A:Fo(+A),R):s},R.filter=function(A){return arguments.length?(t=typeof A=="function"?A:Fo(!!A),R):t},R.touchable=function(A){return arguments.length?(l=typeof A=="function"?A:Fo(!!A),R):l},R.extent=function(A){return arguments.length?(a=typeof A=="function"?A:Fo([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),R):a},R.scaleExtent=function(A){return arguments.length?(c[0]=+A[0],c[1]=+A[1],R):[c[0],c[1]]},R.translateExtent=function(A){return arguments.length?(u[0][0]=+A[0][0],u[1][0]=+A[1][0],u[0][1]=+A[0][1],u[1][1]=+A[1][1],R):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},R.constrain=function(A){return arguments.length?(i=A,R):i},R.duration=function(A){return arguments.length?(m=+A,R):m},R.interpolate=function(A){return arguments.length?(y=A,R):y},R.on=function(){var A=p.on.apply(p,arguments);return A===p?R:A},R.clickDistance=function(A){return arguments.length?(_=(A=+A)*A,R):Math.sqrt(_)},R.tapDistance=function(A){return arguments.length?(j=+A,R):j},R}const qn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:a,sourceHandle:i,targetHandle:s})=>`Couldn't create edge for ${t} handle id: "${t==="source"?i:s}", edge id: ${a}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},sl=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],R1=["Enter"," ","Escape"],j1={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:a,y:i})=>`Moved selected node ${t}. New position, x: ${a}, y: ${i}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Xi;(function(t){t.Strict="strict",t.Loose="loose"})(Xi||(Xi={}));var Pr;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Pr||(Pr={}));var ll;(function(t){t.Partial="partial",t.Full="full"})(ll||(ll={}));const D1={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var rr;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(rr||(rr={}));var Nc;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Nc||(Nc={}));var pe;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(pe||(pe={}));const Fg={[pe.Left]:pe.Right,[pe.Right]:pe.Left,[pe.Top]:pe.Bottom,[pe.Bottom]:pe.Top};function L1(t){return t===null?null:t?"valid":"invalid"}const H1=t=>"id"in t&&"source"in t&&"target"in t,sE=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),y0=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),gl=(t,a=[0,0])=>{const{width:i,height:s}=Ca(t),l=t.origin??a,c=i*l[0],u=s*l[1];return{x:t.position.x-c,y:t.position.y-u}},lE=(t,a={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const i=t.reduce((s,l)=>{const c=typeof l=="string";let u=!a.nodeLookup&&!c?l:void 0;a.nodeLookup&&(u=c?a.nodeLookup.get(l):y0(l)?l:a.nodeLookup.get(l.id));const m=u?_c(u,a.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Bc(s,m)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Uc(i)},yl=(t,a={})=>{let i={x:1/0,y:1/0,x2:-1/0,y2:-1/0},s=!1;return t.forEach(l=>{(a.filter===void 0||a.filter(l))&&(i=Bc(i,_c(l)),s=!0)}),s?Uc(i):{x:0,y:0,width:0,height:0}},x0=(t,a,[i,s,l]=[0,0,1],c=!1,u=!1)=>{const m={...wl(a,[i,s,l]),width:a.width/l,height:a.height/l},y=[];for(const p of t.values()){const{measured:w,selectable:x=!0,hidden:v=!1}=p;if(u&&!x||v)continue;const b=w.width??p.width??p.initialWidth??null,E=w.height??p.height??p.initialHeight??null,_=ol(m,Zi(p)),j=(b??0)*(E??0),R=c&&_>0;(!p.internals.handleBounds||R||_>=j||p.dragging)&&y.push(p)}return y},oE=(t,a)=>{const i=new Set;return t.forEach(s=>{i.add(s.id)}),a.filter(s=>i.has(s.source)||i.has(s.target))};function cE(t,a){const i=new Map,s=a?.nodes?new Set(a.nodes.map(l=>l.id)):null;return t.forEach(l=>{l.measured.width&&l.measured.height&&(a?.includeHiddenNodes||!l.hidden)&&(!s||s.has(l.id))&&i.set(l.id,l)}),i}async function uE({nodes:t,width:a,height:i,panZoom:s,minZoom:l,maxZoom:c},u){if(t.size===0)return Promise.resolve(!0);const m=cE(t,u),y=yl(m),p=w0(y,a,i,u?.minZoom??l,u?.maxZoom??c,u?.padding??.1);return await s.setViewport(p,{duration:u?.duration,ease:u?.ease,interpolate:u?.interpolate}),Promise.resolve(!0)}function O1({nodeId:t,nextPosition:a,nodeLookup:i,nodeOrigin:s=[0,0],nodeExtent:l,onError:c}){const u=i.get(t),m=u.parentId?i.get(u.parentId):void 0,{x:y,y:p}=m?m.internals.positionAbsolute:{x:0,y:0},w=u.origin??s;let x=u.extent||l;if(u.extent==="parent"&&!u.expandParent)if(!m)c?.("005",qn.error005());else{const b=m.measured.width,E=m.measured.height;b&&E&&(x=[[y,p],[y+b,p+E]])}else m&&$i(u.extent)&&(x=[[u.extent[0][0]+y,u.extent[0][1]+p],[u.extent[1][0]+y,u.extent[1][1]+p]]);const v=$i(x)?Yr(a,x,u.measured):a;return(u.measured.width===void 0||u.measured.height===void 0)&&c?.("015",qn.error015()),{position:{x:v.x-y+(u.measured.width??0)*w[0],y:v.y-p+(u.measured.height??0)*w[1]},positionAbsolute:v}}async function fE({nodesToRemove:t=[],edgesToRemove:a=[],nodes:i,edges:s,onBeforeDelete:l}){const c=new Set(t.map(v=>v.id)),u=[];for(const v of i){if(v.deletable===!1)continue;const b=c.has(v.id),E=!b&&v.parentId&&u.find(_=>_.id===v.parentId);(b||E)&&u.push(v)}const m=new Set(a.map(v=>v.id)),y=s.filter(v=>v.deletable!==!1),w=oE(u,y);for(const v of y)m.has(v.id)&&!w.find(E=>E.id===v.id)&&w.push(v);if(!l)return{edges:w,nodes:u};const x=await l({nodes:u,edges:w});return typeof x=="boolean"?x?{edges:w,nodes:u}:{edges:[],nodes:[]}:x}const Ki=(t,a=0,i=1)=>Math.min(Math.max(t,a),i),Yr=(t={x:0,y:0},a,i)=>({x:Ki(t.x,a[0][0],a[1][0]-(i?.width??0)),y:Ki(t.y,a[0][1],a[1][1]-(i?.height??0))});function z1(t,a,i){const{width:s,height:l}=Ca(i),{x:c,y:u}=i.internals.positionAbsolute;return Yr(t,[[c,u],[c+s,u+l]],a)}const Wg=(t,a,i)=>t<a?Ki(Math.abs(t-a),1,a)/a:t>i?-Ki(Math.abs(t-i),1,a)/a:0,B1=(t,a,i=15,s=40)=>{const l=Wg(t.x,s,a.width-s)*i,c=Wg(t.y,s,a.height-s)*i;return[l,c]},Bc=(t,a)=>({x:Math.min(t.x,a.x),y:Math.min(t.y,a.y),x2:Math.max(t.x2,a.x2),y2:Math.max(t.y2,a.y2)}),Kd=({x:t,y:a,width:i,height:s})=>({x:t,y:a,x2:t+i,y2:a+s}),Uc=({x:t,y:a,x2:i,y2:s})=>({x:t,y:a,width:i-t,height:s-a}),Zi=(t,a=[0,0])=>{const{x:i,y:s}=y0(t)?t.internals.positionAbsolute:gl(t,a);return{x:i,y:s,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},_c=(t,a=[0,0])=>{const{x:i,y:s}=y0(t)?t.internals.positionAbsolute:gl(t,a);return{x:i,y:s,x2:i+(t.measured?.width??t.width??t.initialWidth??0),y2:s+(t.measured?.height??t.height??t.initialHeight??0)}},U1=(t,a)=>Uc(Bc(Kd(t),Kd(a))),ol=(t,a)=>{const i=Math.max(0,Math.min(t.x+t.width,a.x+a.width)-Math.max(t.x,a.x)),s=Math.max(0,Math.min(t.y+t.height,a.y+a.height)-Math.max(t.y,a.y));return Math.ceil(i*s)},Jg=t=>Mn(t.width)&&Mn(t.height)&&Mn(t.x)&&Mn(t.y),Mn=t=>!isNaN(t)&&isFinite(t),dE=(t,a)=>{},xl=(t,a=[1,1])=>({x:a[0]*Math.round(t.x/a[0]),y:a[1]*Math.round(t.y/a[1])}),wl=({x:t,y:a},[i,s,l],c=!1,u=[1,1])=>{const m={x:(t-i)/l,y:(a-s)/l};return c?xl(m,u):m},Mc=({x:t,y:a},[i,s,l])=>({x:t*l+i,y:a*l+s});function Hi(t,a){if(typeof t=="number")return Math.floor((a-a/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const i=parseFloat(t);if(!Number.isNaN(i))return Math.floor(i)}if(typeof t=="string"&&t.endsWith("%")){const i=parseFloat(t);if(!Number.isNaN(i))return Math.floor(a*i*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function hE(t,a,i){if(typeof t=="string"||typeof t=="number"){const s=Hi(t,i),l=Hi(t,a);return{top:s,right:l,bottom:s,left:l,x:l*2,y:s*2}}if(typeof t=="object"){const s=Hi(t.top??t.y??0,i),l=Hi(t.bottom??t.y??0,i),c=Hi(t.left??t.x??0,a),u=Hi(t.right??t.x??0,a);return{top:s,right:u,bottom:l,left:c,x:c+u,y:s+l}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function mE(t,a,i,s,l,c){const{x:u,y:m}=Mc(t,[a,i,s]),{x:y,y:p}=Mc({x:t.x+t.width,y:t.y+t.height},[a,i,s]),w=l-y,x=c-p;return{left:Math.floor(u),top:Math.floor(m),right:Math.floor(w),bottom:Math.floor(x)}}const w0=(t,a,i,s,l,c)=>{const u=hE(c,a,i),m=(a-u.x)/t.width,y=(i-u.y)/t.height,p=Math.min(m,y),w=Ki(p,s,l),x=t.x+t.width/2,v=t.y+t.height/2,b=a/2-x*w,E=i/2-v*w,_=mE(t,b,E,w,a,i),j={left:Math.min(_.left-u.left,0),top:Math.min(_.top-u.top,0),right:Math.min(_.right-u.right,0),bottom:Math.min(_.bottom-u.bottom,0)};return{x:b-j.left+j.right,y:E-j.top+j.bottom,zoom:w}},cl=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function $i(t){return t!=null&&t!=="parent"}function Ca(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function G1(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function P1(t,a={width:0,height:0},i,s,l){const c={...t},u=s.get(i);if(u){const m=u.origin||l;c.x+=u.internals.positionAbsolute.x-(a.width??0)*m[0],c.y+=u.internals.positionAbsolute.y-(a.height??0)*m[1]}return c}function ey(t,a){if(t.size!==a.size)return!1;for(const i of t)if(!a.has(i))return!1;return!0}function pE(){let t,a;return{promise:new Promise((s,l)=>{t=s,a=l}),resolve:t,reject:a}}function gE(t){return{...j1,...t||{}}}function Js(t,{snapGrid:a=[0,0],snapToGrid:i=!1,transform:s,containerBounds:l}){const{x:c,y:u}=Tn(t),m=wl({x:c-(l?.left??0),y:u-(l?.top??0)},s),{x:y,y:p}=i?xl(m,a):m;return{xSnapped:y,ySnapped:p,...m}}const v0=t=>({width:t.offsetWidth,height:t.offsetHeight}),I1=t=>t?.getRootNode?.()||window?.document,yE=["INPUT","SELECT","TEXTAREA"];function V1(t){const a=t.composedPath?.()?.[0]||t.target;return a?.nodeType!==1?!1:yE.includes(a.nodeName)||a.hasAttribute("contenteditable")||!!a.closest(".nokey")}const q1=t=>"clientX"in t,Tn=(t,a)=>{const i=q1(t),s=i?t.clientX:t.touches?.[0].clientX,l=i?t.clientY:t.touches?.[0].clientY;return{x:s-(a?.left??0),y:l-(a?.top??0)}},ty=(t,a,i,s,l)=>{const c=a.querySelectorAll(`.${t}`);return!c||!c.length?null:Array.from(c).map(u=>{const m=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),type:t,nodeId:l,position:u.getAttribute("data-handlepos"),x:(m.left-i.left)/s,y:(m.top-i.top)/s,...v0(u)}})};function Y1({sourceX:t,sourceY:a,targetX:i,targetY:s,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:m}){const y=t*.125+l*.375+u*.375+i*.125,p=a*.125+c*.375+m*.375+s*.125,w=Math.abs(y-t),x=Math.abs(p-a);return[y,p,w,x]}function Wo(t,a){return t>=0?.5*t:a*25*Math.sqrt(-t)}function ny({pos:t,x1:a,y1:i,x2:s,y2:l,c}){switch(t){case pe.Left:return[a-Wo(a-s,c),i];case pe.Right:return[a+Wo(s-a,c),i];case pe.Top:return[a,i-Wo(i-l,c)];case pe.Bottom:return[a,i+Wo(l-i,c)]}}function X1({sourceX:t,sourceY:a,sourcePosition:i=pe.Bottom,targetX:s,targetY:l,targetPosition:c=pe.Top,curvature:u=.25}){const[m,y]=ny({pos:i,x1:t,y1:a,x2:s,y2:l,c:u}),[p,w]=ny({pos:c,x1:s,y1:l,x2:t,y2:a,c:u}),[x,v,b,E]=Y1({sourceX:t,sourceY:a,targetX:s,targetY:l,sourceControlX:m,sourceControlY:y,targetControlX:p,targetControlY:w});return[`M${t},${a} C${m},${y} ${p},${w} ${s},${l}`,x,v,b,E]}function K1({sourceX:t,sourceY:a,targetX:i,targetY:s}){const l=Math.abs(i-t)/2,c=i<t?i+l:i-l,u=Math.abs(s-a)/2,m=s<a?s+u:s-u;return[c,m,l,u]}function xE({sourceNode:t,targetNode:a,selected:i=!1,zIndex:s=0,elevateOnSelect:l=!1,zIndexMode:c="basic"}){if(c==="manual")return s;const u=l&&i?s+1e3:s,m=Math.max(t.parentId||l&&t.selected?t.internals.z:0,a.parentId||l&&a.selected?a.internals.z:0);return u+m}function wE({sourceNode:t,targetNode:a,width:i,height:s,transform:l}){const c=Bc(_c(t),_c(a));c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u={x:-l[0]/l[2],y:-l[1]/l[2],width:i/l[2],height:s/l[2]};return ol(u,Uc(c))>0}const vE=({source:t,sourceHandle:a,target:i,targetHandle:s})=>`xy-edge__${t}${a||""}-${i}${s||""}`,bE=(t,a)=>a.some(i=>i.source===t.source&&i.target===t.target&&(i.sourceHandle===t.sourceHandle||!i.sourceHandle&&!t.sourceHandle)&&(i.targetHandle===t.targetHandle||!i.targetHandle&&!t.targetHandle)),kE=(t,a,i={})=>{if(!t.source||!t.target)return a;const s=i.getEdgeId||vE;let l;return H1(t)?l={...t}:l={...t,id:s(t)},bE(l,a)?a:(l.sourceHandle===null&&delete l.sourceHandle,l.targetHandle===null&&delete l.targetHandle,a.concat(l))};function Z1({sourceX:t,sourceY:a,targetX:i,targetY:s}){const[l,c,u,m]=K1({sourceX:t,sourceY:a,targetX:i,targetY:s});return[`M ${t},${a}L ${i},${s}`,l,c,u,m]}const ay={[pe.Left]:{x:-1,y:0},[pe.Right]:{x:1,y:0},[pe.Top]:{x:0,y:-1},[pe.Bottom]:{x:0,y:1}},SE=({source:t,sourcePosition:a=pe.Bottom,target:i})=>a===pe.Left||a===pe.Right?t.x<i.x?{x:1,y:0}:{x:-1,y:0}:t.y<i.y?{x:0,y:1}:{x:0,y:-1},ry=(t,a)=>Math.sqrt(Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2));function CE({source:t,sourcePosition:a=pe.Bottom,target:i,targetPosition:s=pe.Top,center:l,offset:c,stepPosition:u}){const m=ay[a],y=ay[s],p={x:t.x+m.x*c,y:t.y+m.y*c},w={x:i.x+y.x*c,y:i.y+y.y*c},x=SE({source:p,sourcePosition:a,target:w}),v=x.x!==0?"x":"y",b=x[v];let E=[],_,j;const R={x:0,y:0},B={x:0,y:0},[,,N,G]=K1({sourceX:t.x,sourceY:t.y,targetX:i.x,targetY:i.y});if(m[v]*y[v]===-1){v==="x"?(_=l.x??p.x+(w.x-p.x)*u,j=l.y??(p.y+w.y)/2):(_=l.x??(p.x+w.x)/2,j=l.y??p.y+(w.y-p.y)*u);const V=[{x:_,y:p.y},{x:_,y:w.y}],X=[{x:p.x,y:j},{x:w.x,y:j}];m[v]===b?E=v==="x"?V:X:E=v==="x"?X:V}else{const V=[{x:p.x,y:w.y}],X=[{x:w.x,y:p.y}];if(v==="x"?E=m.x===b?X:V:E=m.y===b?V:X,a===s){const O=Math.abs(t[v]-i[v]);if(O<=c){const Y=Math.min(c-1,c-O);m[v]===b?R[v]=(p[v]>t[v]?-1:1)*Y:B[v]=(w[v]>i[v]?-1:1)*Y}}if(a!==s){const O=v==="x"?"y":"x",Y=m[v]===y[O],A=p[O]>w[O],L=p[O]<w[O];(m[v]===1&&(!Y&&A||Y&&L)||m[v]!==1&&(!Y&&L||Y&&A))&&(E=v==="x"?V:X)}const C={x:p.x+R.x,y:p.y+R.y},M={x:w.x+B.x,y:w.y+B.y},U=Math.max(Math.abs(C.x-E[0].x),Math.abs(M.x-E[0].x)),D=Math.max(Math.abs(C.y-E[0].y),Math.abs(M.y-E[0].y));U>=D?(_=(C.x+M.x)/2,j=E[0].y):(_=E[0].x,j=(C.y+M.y)/2)}return[[t,{x:p.x+R.x,y:p.y+R.y},...E,{x:w.x+B.x,y:w.y+B.y},i],_,j,N,G]}function EE(t,a,i,s){const l=Math.min(ry(t,a)/2,ry(a,i)/2,s),{x:c,y:u}=a;if(t.x===c&&c===i.x||t.y===u&&u===i.y)return`L${c} ${u}`;if(t.y===u){const p=t.x<i.x?-1:1,w=t.y<i.y?1:-1;return`L ${c+l*p},${u}Q ${c},${u} ${c},${u+l*w}`}const m=t.x<i.x?1:-1,y=t.y<i.y?-1:1;return`L ${c},${u+l*y}Q ${c},${u} ${c+l*m},${u}`}function Zd({sourceX:t,sourceY:a,sourcePosition:i=pe.Bottom,targetX:s,targetY:l,targetPosition:c=pe.Top,borderRadius:u=5,centerX:m,centerY:y,offset:p=20,stepPosition:w=.5}){const[x,v,b,E,_]=CE({source:{x:t,y:a},sourcePosition:i,target:{x:s,y:l},targetPosition:c,center:{x:m,y},offset:p,stepPosition:w});return[x.reduce((R,B,N)=>{let G="";return N>0&&N<x.length-1?G=EE(x[N-1],B,x[N+1],u):G=`${N===0?"M":"L"}${B.x} ${B.y}`,R+=G,R},""),v,b,E,_]}function iy(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function NE(t){const{sourceNode:a,targetNode:i}=t;if(!iy(a)||!iy(i))return null;const s=a.internals.handleBounds||sy(a.handles),l=i.internals.handleBounds||sy(i.handles),c=ly(s?.source??[],t.sourceHandle),u=ly(t.connectionMode===Xi.Strict?l?.target??[]:(l?.target??[]).concat(l?.source??[]),t.targetHandle);if(!c||!u)return t.onError?.("008",qn.error008(c?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const m=c?.position||pe.Bottom,y=u?.position||pe.Top,p=Xr(a,c,m),w=Xr(i,u,y);return{sourceX:p.x,sourceY:p.y,targetX:w.x,targetY:w.y,sourcePosition:m,targetPosition:y}}function sy(t){if(!t)return null;const a=[],i=[];for(const s of t)s.width=s.width??1,s.height=s.height??1,s.type==="source"?a.push(s):s.type==="target"&&i.push(s);return{source:a,target:i}}function Xr(t,a,i=pe.Left,s=!1){const l=(a?.x??0)+t.internals.positionAbsolute.x,c=(a?.y??0)+t.internals.positionAbsolute.y,{width:u,height:m}=a??Ca(t);if(s)return{x:l+u/2,y:c+m/2};switch(a?.position??i){case pe.Top:return{x:l+u/2,y:c};case pe.Right:return{x:l+u,y:c+m/2};case pe.Bottom:return{x:l+u/2,y:c+m};case pe.Left:return{x:l,y:c+m/2}}}function ly(t,a){return t&&(a?t.find(i=>i.id===a):t[0])||null}function $d(t,a){return t?typeof t=="string"?t:`${a?`${a}__`:""}${Object.keys(t).sort().map(s=>`${s}=${t[s]}`).join("&")}`:""}function _E(t,{id:a,defaultColor:i,defaultMarkerStart:s,defaultMarkerEnd:l}){const c=new Set;return t.reduce((u,m)=>([m.markerStart||s,m.markerEnd||l].forEach(y=>{if(y&&typeof y=="object"){const p=$d(y,a);c.has(p)||(u.push({id:p,color:y.color||i,...y}),c.add(p))}}),u),[]).sort((u,m)=>u.id.localeCompare(m.id))}const $1=1e3,ME=10,b0={nodeOrigin:[0,0],nodeExtent:sl,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},TE={...b0,checkEquality:!0};function k0(t,a){const i={...t};for(const s in a)a[s]!==void 0&&(i[s]=a[s]);return i}function AE(t,a,i){const s=k0(b0,i);for(const l of t.values())if(l.parentId)C0(l,t,a,s);else{const c=gl(l,s.nodeOrigin),u=$i(l.extent)?l.extent:s.nodeExtent,m=Yr(c,u,Ca(l));l.internals.positionAbsolute=m}}function RE(t,a){if(!t.handles)return t.measured?a?.internals.handleBounds:void 0;const i=[],s=[];for(const l of t.handles){const c={id:l.id,width:l.width??1,height:l.height??1,nodeId:t.id,x:l.x,y:l.y,position:l.position,type:l.type};l.type==="source"?i.push(c):l.type==="target"&&s.push(c)}return{source:i,target:s}}function S0(t){return t==="manual"}function Qd(t,a,i,s={}){const l=k0(TE,s),c={i:0},u=new Map(a),m=l?.elevateNodesOnSelect&&!S0(l.zIndexMode)?$1:0;let y=t.length>0;a.clear(),i.clear();for(const p of t){let w=u.get(p.id);if(l.checkEquality&&p===w?.internals.userNode)a.set(p.id,w);else{const x=gl(p,l.nodeOrigin),v=$i(p.extent)?p.extent:l.nodeExtent,b=Yr(x,v,Ca(p));w={...l.defaults,...p,measured:{width:p.measured?.width,height:p.measured?.height},internals:{positionAbsolute:b,handleBounds:RE(p,w),z:Q1(p,m,l.zIndexMode),userNode:p}},a.set(p.id,w)}(w.measured===void 0||w.measured.width===void 0||w.measured.height===void 0)&&!w.hidden&&(y=!1),p.parentId&&C0(w,a,i,s,c)}return y}function jE(t,a){if(!t.parentId)return;const i=a.get(t.parentId);i?i.set(t.id,t):a.set(t.parentId,new Map([[t.id,t]]))}function C0(t,a,i,s,l){const{elevateNodesOnSelect:c,nodeOrigin:u,nodeExtent:m,zIndexMode:y}=k0(b0,s),p=t.parentId,w=a.get(p);if(!w){console.warn(`Parent node ${p} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}jE(t,i),l&&!w.parentId&&w.internals.rootParentIndex===void 0&&y==="auto"&&(w.internals.rootParentIndex=++l.i,w.internals.z=w.internals.z+l.i*ME),l&&w.internals.rootParentIndex!==void 0&&(l.i=w.internals.rootParentIndex);const x=c&&!S0(y)?$1:0,{x:v,y:b,z:E}=DE(t,w,u,m,x,y),{positionAbsolute:_}=t.internals,j=v!==_.x||b!==_.y;(j||E!==t.internals.z)&&a.set(t.id,{...t,internals:{...t.internals,positionAbsolute:j?{x:v,y:b}:_,z:E}})}function Q1(t,a,i){const s=Mn(t.zIndex)?t.zIndex:0;return S0(i)?s:s+(t.selected?a:0)}function DE(t,a,i,s,l,c){const{x:u,y:m}=a.internals.positionAbsolute,y=Ca(t),p=gl(t,i),w=$i(t.extent)?Yr(p,t.extent,y):p;let x=Yr({x:u+w.x,y:m+w.y},s,y);t.extent==="parent"&&(x=z1(x,y,a));const v=Q1(t,l,c),b=a.internals.z??0;return{x:x.x,y:x.y,z:b>=v?b+1:v}}function E0(t,a,i,s=[0,0]){const l=[],c=new Map;for(const u of t){const m=a.get(u.parentId);if(!m)continue;const y=c.get(u.parentId)?.expandedRect??Zi(m),p=U1(y,u.rect);c.set(u.parentId,{expandedRect:p,parent:m})}return c.size>0&&c.forEach(({expandedRect:u,parent:m},y)=>{const p=m.internals.positionAbsolute,w=Ca(m),x=m.origin??s,v=u.x<p.x?Math.round(Math.abs(p.x-u.x)):0,b=u.y<p.y?Math.round(Math.abs(p.y-u.y)):0,E=Math.max(w.width,Math.round(u.width)),_=Math.max(w.height,Math.round(u.height)),j=(E-w.width)*x[0],R=(_-w.height)*x[1];(v>0||b>0||j||R)&&(l.push({id:y,type:"position",position:{x:m.position.x-v+j,y:m.position.y-b+R}}),i.get(y)?.forEach(B=>{t.some(N=>N.id===B.id)||l.push({id:B.id,type:"position",position:{x:B.position.x+v,y:B.position.y+b}})})),(w.width<u.width||w.height<u.height||v||b)&&l.push({id:y,type:"dimensions",setAttributes:!0,dimensions:{width:E+(v?x[0]*v-j:0),height:_+(b?x[1]*b-R:0)}})}),l}function LE(t,a,i,s,l,c,u){const m=s?.querySelector(".xyflow__viewport");let y=!1;if(!m)return{changes:[],updatedInternals:y};const p=[],w=window.getComputedStyle(m),{m22:x}=new window.DOMMatrixReadOnly(w.transform),v=[];for(const b of t.values()){const E=a.get(b.id);if(!E)continue;if(E.hidden){a.set(E.id,{...E,internals:{...E.internals,handleBounds:void 0}}),y=!0;continue}const _=v0(b.nodeElement),j=E.measured.width!==_.width||E.measured.height!==_.height;if(!!(_.width&&_.height&&(j||!E.internals.handleBounds||b.force))){const B=b.nodeElement.getBoundingClientRect(),N=$i(E.extent)?E.extent:c;let{positionAbsolute:G}=E.internals;E.parentId&&E.extent==="parent"?G=z1(G,_,a.get(E.parentId)):N&&(G=Yr(G,N,_));const K={...E,measured:_,internals:{...E.internals,positionAbsolute:G,handleBounds:{source:ty("source",b.nodeElement,B,x,E.id),target:ty("target",b.nodeElement,B,x,E.id)}}};a.set(E.id,K),E.parentId&&C0(K,a,i,{nodeOrigin:l,zIndexMode:u}),y=!0,j&&(p.push({id:E.id,type:"dimensions",dimensions:_}),E.expandParent&&E.parentId&&v.push({id:E.id,parentId:E.parentId,rect:Zi(K,l)}))}}if(v.length>0){const b=E0(v,a,i,l);p.push(...b)}return{changes:p,updatedInternals:y}}async function HE({delta:t,panZoom:a,transform:i,translateExtent:s,width:l,height:c}){if(!a||!t.x&&!t.y)return Promise.resolve(!1);const u=await a.setViewportConstrained({x:i[0]+t.x,y:i[1]+t.y,zoom:i[2]},[[0,0],[l,c]],s),m=!!u&&(u.x!==i[0]||u.y!==i[1]||u.k!==i[2]);return Promise.resolve(m)}function oy(t,a,i,s,l,c){let u=l;const m=s.get(u)||new Map;s.set(u,m.set(i,a)),u=`${l}-${t}`;const y=s.get(u)||new Map;if(s.set(u,y.set(i,a)),c){u=`${l}-${t}-${c}`;const p=s.get(u)||new Map;s.set(u,p.set(i,a))}}function F1(t,a,i){t.clear(),a.clear();for(const s of i){const{source:l,target:c,sourceHandle:u=null,targetHandle:m=null}=s,y={edgeId:s.id,source:l,target:c,sourceHandle:u,targetHandle:m},p=`${l}-${u}--${c}-${m}`,w=`${c}-${m}--${l}-${u}`;oy("source",y,w,t,l,u),oy("target",y,p,t,c,m),a.set(s.id,s)}}function W1(t,a){if(!t.parentId)return!1;const i=a.get(t.parentId);return i?i.selected?!0:W1(i,a):!1}function cy(t,a,i){let s=t;do{if(s?.matches?.(a))return!0;if(s===i)return!1;s=s?.parentElement}while(s);return!1}function OE(t,a,i,s){const l=new Map;for(const[c,u]of t)if((u.selected||u.id===s)&&(!u.parentId||!W1(u,t))&&(u.draggable||a&&typeof u.draggable>"u")){const m=t.get(c);m&&l.set(c,{id:c,position:m.position||{x:0,y:0},distance:{x:i.x-m.internals.positionAbsolute.x,y:i.y-m.internals.positionAbsolute.y},extent:m.extent,parentId:m.parentId,origin:m.origin,expandParent:m.expandParent,internals:{positionAbsolute:m.internals.positionAbsolute||{x:0,y:0}},measured:{width:m.measured.width??0,height:m.measured.height??0}})}return l}function _d({nodeId:t,dragItems:a,nodeLookup:i,dragging:s=!0}){const l=[];for(const[u,m]of a){const y=i.get(u)?.internals.userNode;y&&l.push({...y,position:m.position,dragging:s})}if(!t)return[l[0],l];const c=i.get(t)?.internals.userNode;return[c?{...c,position:a.get(t)?.position||c.position,dragging:s}:l[0],l]}function zE({dragItems:t,snapGrid:a,x:i,y:s}){const l=t.values().next().value;if(!l)return null;const c={x:i-l.distance.x,y:s-l.distance.y},u=xl(c,a);return{x:u.x-c.x,y:u.y-c.y}}function BE({onNodeMouseDown:t,getStoreItems:a,onDragStart:i,onDrag:s,onDragStop:l}){let c={x:null,y:null},u=0,m=new Map,y=!1,p={x:0,y:0},w=null,x=!1,v=null,b=!1,E=!1,_=null;function j({noDragClassName:B,handleSelector:N,domNode:G,isSelectable:K,nodeId:V,nodeClickDistance:X=0}){v=rn(G);function C({x:O,y:Y}){const{nodeLookup:A,nodeExtent:L,snapGrid:S,snapToGrid:T,nodeOrigin:z,onNodeDrag:q,onSelectionDrag:F,onError:P,updateNodePositions:H}=a();c={x:O,y:Y};let $=!1;const Q=m.size>1,te=Q&&L?Kd(yl(m)):null,ie=Q&&T?zE({dragItems:m,snapGrid:S,x:O,y:Y}):null;for(const[se,fe]of m){if(!A.has(se))continue;let me={x:O-fe.distance.x,y:Y-fe.distance.y};T&&(me=ie?{x:Math.round(me.x+ie.x),y:Math.round(me.y+ie.y)}:xl(me,S));let Ne=null;if(Q&&L&&!fe.extent&&te){const{positionAbsolute:ve}=fe.internals,Ee=ve.x-te.x+L[0][0],_e=ve.x+fe.measured.width-te.x2+L[1][0],Xe=ve.y-te.y+L[0][1],kt=ve.y+fe.measured.height-te.y2+L[1][1];Ne=[[Ee,Xe],[_e,kt]]}const{position:be,positionAbsolute:xe}=O1({nodeId:se,nextPosition:me,nodeLookup:A,nodeExtent:Ne||L,nodeOrigin:z,onError:P});$=$||fe.position.x!==be.x||fe.position.y!==be.y,fe.position=be,fe.internals.positionAbsolute=xe}if(E=E||$,!!$&&(H(m,!0),_&&(s||q||!V&&F))){const[se,fe]=_d({nodeId:V,dragItems:m,nodeLookup:A});s?.(_,m,se,fe),q?.(_,se,fe),V||F?.(_,fe)}}async function M(){if(!w)return;const{transform:O,panBy:Y,autoPanSpeed:A,autoPanOnNodeDrag:L}=a();if(!L){y=!1,cancelAnimationFrame(u);return}const[S,T]=B1(p,w,A);(S!==0||T!==0)&&(c.x=(c.x??0)-S/O[2],c.y=(c.y??0)-T/O[2],await Y({x:S,y:T})&&C(c)),u=requestAnimationFrame(M)}function U(O){const{nodeLookup:Y,multiSelectionActive:A,nodesDraggable:L,transform:S,snapGrid:T,snapToGrid:z,selectNodesOnDrag:q,onNodeDragStart:F,onSelectionDragStart:P,unselectNodesAndEdges:H}=a();x=!0,(!q||!K)&&!A&&V&&(Y.get(V)?.selected||H()),K&&q&&V&&t?.(V);const $=Js(O.sourceEvent,{transform:S,snapGrid:T,snapToGrid:z,containerBounds:w});if(c=$,m=OE(Y,L,$,V),m.size>0&&(i||F||!V&&P)){const[Q,te]=_d({nodeId:V,dragItems:m,nodeLookup:Y});i?.(O.sourceEvent,m,Q,te),F?.(O.sourceEvent,Q,te),V||P?.(O.sourceEvent,te)}}const D=p1().clickDistance(X).on("start",O=>{const{domNode:Y,nodeDragThreshold:A,transform:L,snapGrid:S,snapToGrid:T}=a();w=Y?.getBoundingClientRect()||null,b=!1,E=!1,_=O.sourceEvent,A===0&&U(O),c=Js(O.sourceEvent,{transform:L,snapGrid:S,snapToGrid:T,containerBounds:w}),p=Tn(O.sourceEvent,w)}).on("drag",O=>{const{autoPanOnNodeDrag:Y,transform:A,snapGrid:L,snapToGrid:S,nodeDragThreshold:T,nodeLookup:z}=a(),q=Js(O.sourceEvent,{transform:A,snapGrid:L,snapToGrid:S,containerBounds:w});if(_=O.sourceEvent,(O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1||V&&!z.has(V))&&(b=!0),!b){if(!y&&Y&&x&&(y=!0,M()),!x){const F=Tn(O.sourceEvent,w),P=F.x-p.x,H=F.y-p.y;Math.sqrt(P*P+H*H)>T&&U(O)}(c.x!==q.xSnapped||c.y!==q.ySnapped)&&m&&x&&(p=Tn(O.sourceEvent,w),C(q))}}).on("end",O=>{if(!(!x||b)&&(y=!1,x=!1,cancelAnimationFrame(u),m.size>0)){const{nodeLookup:Y,updateNodePositions:A,onNodeDragStop:L,onSelectionDragStop:S}=a();if(E&&(A(m,!1),E=!1),l||L||!V&&S){const[T,z]=_d({nodeId:V,dragItems:m,nodeLookup:Y,dragging:!1});l?.(O.sourceEvent,m,T,z),L?.(O.sourceEvent,T,z),V||S?.(O.sourceEvent,z)}}}).filter(O=>{const Y=O.target;return!O.button&&(!B||!cy(Y,`.${B}`,G))&&(!N||cy(Y,N,G))});v.call(D)}function R(){v?.on(".drag",null)}return{update:j,destroy:R}}function UE(t,a,i){const s=[],l={x:t.x-i,y:t.y-i,width:i*2,height:i*2};for(const c of a.values())ol(l,Zi(c))>0&&s.push(c);return s}const GE=250;function PE(t,a,i,s){let l=[],c=1/0;const u=UE(t,i,a+GE);for(const m of u){const y=[...m.internals.handleBounds?.source??[],...m.internals.handleBounds?.target??[]];for(const p of y){if(s.nodeId===p.nodeId&&s.type===p.type&&s.id===p.id)continue;const{x:w,y:x}=Xr(m,p,p.position,!0),v=Math.sqrt(Math.pow(w-t.x,2)+Math.pow(x-t.y,2));v>a||(v<c?(l=[{...p,x:w,y:x}],c=v):v===c&&l.push({...p,x:w,y:x}))}}if(!l.length)return null;if(l.length>1){const m=s.type==="source"?"target":"source";return l.find(y=>y.type===m)??l[0]}return l[0]}function J1(t,a,i,s,l,c=!1){const u=s.get(t);if(!u)return null;const m=l==="strict"?u.internals.handleBounds?.[a]:[...u.internals.handleBounds?.source??[],...u.internals.handleBounds?.target??[]],y=(i?m?.find(p=>p.id===i):m?.[0])??null;return y&&c?{...y,...Xr(u,y,y.position,!0)}:y}function ex(t,a){return t||(a?.classList.contains("target")?"target":a?.classList.contains("source")?"source":null)}function IE(t,a){let i=null;return a?i=!0:t&&!a&&(i=!1),i}const tx=()=>!0;function VE(t,{connectionMode:a,connectionRadius:i,handleId:s,nodeId:l,edgeUpdaterType:c,isTarget:u,domNode:m,nodeLookup:y,lib:p,autoPanOnConnect:w,flowId:x,panBy:v,cancelConnection:b,onConnectStart:E,onConnect:_,onConnectEnd:j,isValidConnection:R=tx,onReconnectEnd:B,updateConnection:N,getTransform:G,getFromHandle:K,autoPanSpeed:V,dragThreshold:X=1,handleDomNode:C}){const M=I1(t.target);let U=0,D;const{x:O,y:Y}=Tn(t),A=ex(c,C),L=m?.getBoundingClientRect();let S=!1;if(!L||!A)return;const T=J1(l,A,s,y,a);if(!T)return;let z=Tn(t,L),q=!1,F=null,P=!1,H=null;function $(){if(!w||!L)return;const[be,xe]=B1(z,L,V);v({x:be,y:xe}),U=requestAnimationFrame($)}const Q={...T,nodeId:l,type:A,position:T.position},te=y.get(l);let se={inProgress:!0,isValid:null,from:Xr(te,Q,pe.Left,!0),fromHandle:Q,fromPosition:Q.position,fromNode:te,to:z,toHandle:null,toPosition:Fg[Q.position],toNode:null,pointer:z};function fe(){S=!0,N(se),E?.(t,{nodeId:l,handleId:s,handleType:A})}X===0&&fe();function me(be){if(!S){const{x:kt,y:xn}=Tn(be),Qt=kt-O,wn=xn-Y;if(!(Qt*Qt+wn*wn>X*X))return;fe()}if(!K()||!Q){Ne(be);return}const xe=G();z=Tn(be,L),D=PE(wl(z,xe,!1,[1,1]),i,y,Q),q||($(),q=!0);const ve=nx(be,{handle:D,connectionMode:a,fromNodeId:l,fromHandleId:s,fromType:u?"target":"source",isValidConnection:R,doc:M,lib:p,flowId:x,nodeLookup:y});H=ve.handleDomNode,F=ve.connection,P=IE(!!D,ve.isValid);const Ee=y.get(l),_e=Ee?Xr(Ee,Q,pe.Left,!0):se.from,Xe={...se,from:_e,isValid:P,to:ve.toHandle&&P?Mc({x:ve.toHandle.x,y:ve.toHandle.y},xe):z,toHandle:ve.toHandle,toPosition:P&&ve.toHandle?ve.toHandle.position:Fg[Q.position],toNode:ve.toHandle?y.get(ve.toHandle.nodeId):null,pointer:z};N(Xe),se=Xe}function Ne(be){if(!("touches"in be&&be.touches.length>0)){if(S){(D||H)&&F&&P&&_?.(F);const{inProgress:xe,...ve}=se,Ee={...ve,toPosition:se.toHandle?se.toPosition:null};j?.(be,Ee),c&&B?.(be,Ee)}b(),cancelAnimationFrame(U),q=!1,P=!1,F=null,H=null,M.removeEventListener("mousemove",me),M.removeEventListener("mouseup",Ne),M.removeEventListener("touchmove",me),M.removeEventListener("touchend",Ne)}}M.addEventListener("mousemove",me),M.addEventListener("mouseup",Ne),M.addEventListener("touchmove",me),M.addEventListener("touchend",Ne)}function nx(t,{handle:a,connectionMode:i,fromNodeId:s,fromHandleId:l,fromType:c,doc:u,lib:m,flowId:y,isValidConnection:p=tx,nodeLookup:w}){const x=c==="target",v=a?u.querySelector(`.${m}-flow__handle[data-id="${y}-${a?.nodeId}-${a?.id}-${a?.type}"]`):null,{x:b,y:E}=Tn(t),_=u.elementFromPoint(b,E),j=_?.classList.contains(`${m}-flow__handle`)?_:v,R={handleDomNode:j,isValid:!1,connection:null,toHandle:null};if(j){const B=ex(void 0,j),N=j.getAttribute("data-nodeid"),G=j.getAttribute("data-handleid"),K=j.classList.contains("connectable"),V=j.classList.contains("connectableend");if(!N||!B)return R;const X={source:x?N:s,sourceHandle:x?G:l,target:x?s:N,targetHandle:x?l:G};R.connection=X;const M=K&&V&&(i===Xi.Strict?x&&B==="source"||!x&&B==="target":N!==s||G!==l);R.isValid=M&&p(X),R.toHandle=J1(N,B,G,w,i,!0)}return R}const Fd={onPointerDown:VE,isValid:nx};function qE({domNode:t,panZoom:a,getTransform:i,getViewScale:s}){const l=rn(t);function c({translateExtent:m,width:y,height:p,zoomStep:w=1,pannable:x=!0,zoomable:v=!0,inversePan:b=!1}){const E=N=>{if(N.sourceEvent.type!=="wheel"||!a)return;const G=i(),K=N.sourceEvent.ctrlKey&&cl()?10:1,V=-N.sourceEvent.deltaY*(N.sourceEvent.deltaMode===1?.05:N.sourceEvent.deltaMode?1:.002)*w,X=G[2]*Math.pow(2,V*K);a.scaleTo(X)};let _=[0,0];const j=N=>{(N.sourceEvent.type==="mousedown"||N.sourceEvent.type==="touchstart")&&(_=[N.sourceEvent.clientX??N.sourceEvent.touches[0].clientX,N.sourceEvent.clientY??N.sourceEvent.touches[0].clientY])},R=N=>{const G=i();if(N.sourceEvent.type!=="mousemove"&&N.sourceEvent.type!=="touchmove"||!a)return;const K=[N.sourceEvent.clientX??N.sourceEvent.touches[0].clientX,N.sourceEvent.clientY??N.sourceEvent.touches[0].clientY],V=[K[0]-_[0],K[1]-_[1]];_=K;const X=s()*Math.max(G[2],Math.log(G[2]))*(b?-1:1),C={x:G[0]-V[0]*X,y:G[1]-V[1]*X},M=[[0,0],[y,p]];a.setViewportConstrained({x:C.x,y:C.y,zoom:G[2]},M,m)},B=A1().on("start",j).on("zoom",x?R:null).on("zoom.wheel",v?E:null);l.call(B,{})}function u(){l.on("zoom",null)}return{update:c,destroy:u,pointer:Nn}}const Gc=t=>({x:t.x,y:t.y,zoom:t.k}),Md=({x:t,y:a,zoom:i})=>zc.translate(t,a).scale(i),zi=(t,a)=>t.target.closest(`.${a}`),ax=(t,a)=>a===2&&Array.isArray(t)&&t.includes(2),YE=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,Td=(t,a=0,i=YE,s=()=>{})=>{const l=typeof a=="number"&&a>0;return l||s(),l?t.transition().duration(a).ease(i).on("end",s):t},rx=t=>{const a=t.ctrlKey&&cl()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*a};function XE({zoomPanValues:t,noWheelClassName:a,d3Selection:i,d3Zoom:s,panOnScrollMode:l,panOnScrollSpeed:c,zoomOnPinch:u,onPanZoomStart:m,onPanZoom:y,onPanZoomEnd:p}){return w=>{if(zi(w,a))return w.ctrlKey&&w.preventDefault(),!1;w.preventDefault(),w.stopImmediatePropagation();const x=i.property("__zoom").k||1;if(w.ctrlKey&&u){const j=Nn(w),R=rx(w),B=x*Math.pow(2,R);s.scaleTo(i,B,j,w);return}const v=w.deltaMode===1?20:1;let b=l===Pr.Vertical?0:w.deltaX*v,E=l===Pr.Horizontal?0:w.deltaY*v;!cl()&&w.shiftKey&&l!==Pr.Vertical&&(b=w.deltaY*v,E=0),s.translateBy(i,-(b/x)*c,-(E/x)*c,{internal:!0});const _=Gc(i.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(y?.(w,_),t.panScrollTimeout=setTimeout(()=>{p?.(w,_),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,m?.(w,_))}}function KE({noWheelClassName:t,preventScrolling:a,d3ZoomHandler:i}){return function(s,l){const c=s.type==="wheel",u=!a&&c&&!s.ctrlKey,m=zi(s,t);if(s.ctrlKey&&c&&m&&s.preventDefault(),u||m)return null;s.preventDefault(),i.call(this,s,l)}}function ZE({zoomPanValues:t,onDraggingChange:a,onPanZoomStart:i}){return s=>{if(s.sourceEvent?.internal)return;const l=Gc(s.transform);t.mouseButton=s.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=l,s.sourceEvent?.type==="mousedown"&&a(!0),i&&i?.(s.sourceEvent,l)}}function $E({zoomPanValues:t,panOnDrag:a,onPaneContextMenu:i,onTransformChange:s,onPanZoom:l}){return c=>{t.usedRightMouseButton=!!(i&&ax(a,t.mouseButton??0)),c.sourceEvent?.sync||s([c.transform.x,c.transform.y,c.transform.k]),l&&!c.sourceEvent?.internal&&l?.(c.sourceEvent,Gc(c.transform))}}function QE({zoomPanValues:t,panOnDrag:a,panOnScroll:i,onDraggingChange:s,onPanZoomEnd:l,onPaneContextMenu:c}){return u=>{if(!u.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,c&&ax(a,t.mouseButton??0)&&!t.usedRightMouseButton&&u.sourceEvent&&c(u.sourceEvent),t.usedRightMouseButton=!1,s(!1),l)){const m=Gc(u.transform);t.prevViewport=m,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{l?.(u.sourceEvent,m)},i?150:0)}}}function FE({zoomActivationKeyPressed:t,zoomOnScroll:a,zoomOnPinch:i,panOnDrag:s,panOnScroll:l,zoomOnDoubleClick:c,userSelectionActive:u,noWheelClassName:m,noPanClassName:y,lib:p,connectionInProgress:w}){return x=>{const v=t||a,b=i&&x.ctrlKey,E=x.type==="wheel";if(x.button===1&&x.type==="mousedown"&&(zi(x,`${p}-flow__node`)||zi(x,`${p}-flow__edge`)))return!0;if(!s&&!v&&!l&&!c&&!i||u||w&&!E||zi(x,m)&&E||zi(x,y)&&(!E||l&&E&&!t)||!i&&x.ctrlKey&&E)return!1;if(!i&&x.type==="touchstart"&&x.touches?.length>1)return x.preventDefault(),!1;if(!v&&!l&&!b&&E||!s&&(x.type==="mousedown"||x.type==="touchstart")||Array.isArray(s)&&!s.includes(x.button)&&x.type==="mousedown")return!1;const _=Array.isArray(s)&&s.includes(x.button)||!x.button||x.button<=1;return(!x.ctrlKey||E)&&_}}function WE({domNode:t,minZoom:a,maxZoom:i,translateExtent:s,viewport:l,onPanZoom:c,onPanZoomStart:u,onPanZoomEnd:m,onDraggingChange:y}){const p={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},w=t.getBoundingClientRect(),x=A1().scaleExtent([a,i]).translateExtent(s),v=rn(t).call(x);B({x:l.x,y:l.y,zoom:Ki(l.zoom,a,i)},[[0,0],[w.width,w.height]],s);const b=v.on("wheel.zoom"),E=v.on("dblclick.zoom");x.wheelDelta(rx);function _(D,O){return v?new Promise(Y=>{x?.interpolate(O?.interpolate==="linear"?Ws:oc).transform(Td(v,O?.duration,O?.ease,()=>Y(!0)),D)}):Promise.resolve(!1)}function j({noWheelClassName:D,noPanClassName:O,onPaneContextMenu:Y,userSelectionActive:A,panOnScroll:L,panOnDrag:S,panOnScrollMode:T,panOnScrollSpeed:z,preventScrolling:q,zoomOnPinch:F,zoomOnScroll:P,zoomOnDoubleClick:H,zoomActivationKeyPressed:$,lib:Q,onTransformChange:te,connectionInProgress:ie,paneClickDistance:se,selectionOnDrag:fe}){A&&!p.isZoomingOrPanning&&R();const me=L&&!$&&!A;x.clickDistance(fe?1/0:!Mn(se)||se<0?0:se);const Ne=me?XE({zoomPanValues:p,noWheelClassName:D,d3Selection:v,d3Zoom:x,panOnScrollMode:T,panOnScrollSpeed:z,zoomOnPinch:F,onPanZoomStart:u,onPanZoom:c,onPanZoomEnd:m}):KE({noWheelClassName:D,preventScrolling:q,d3ZoomHandler:b});if(v.on("wheel.zoom",Ne,{passive:!1}),!A){const xe=ZE({zoomPanValues:p,onDraggingChange:y,onPanZoomStart:u});x.on("start",xe);const ve=$E({zoomPanValues:p,panOnDrag:S,onPaneContextMenu:!!Y,onPanZoom:c,onTransformChange:te});x.on("zoom",ve);const Ee=QE({zoomPanValues:p,panOnDrag:S,panOnScroll:L,onPaneContextMenu:Y,onPanZoomEnd:m,onDraggingChange:y});x.on("end",Ee)}const be=FE({zoomActivationKeyPressed:$,panOnDrag:S,zoomOnScroll:P,panOnScroll:L,zoomOnDoubleClick:H,zoomOnPinch:F,userSelectionActive:A,noPanClassName:O,noWheelClassName:D,lib:Q,connectionInProgress:ie});x.filter(be),H?v.on("dblclick.zoom",E):v.on("dblclick.zoom",null)}function R(){x.on("zoom",null)}async function B(D,O,Y){const A=Md(D),L=x?.constrain()(A,O,Y);return L&&await _(L),new Promise(S=>S(L))}async function N(D,O){const Y=Md(D);return await _(Y,O),new Promise(A=>A(Y))}function G(D){if(v){const O=Md(D),Y=v.property("__zoom");(Y.k!==D.zoom||Y.x!==D.x||Y.y!==D.y)&&x?.transform(v,O,null,{sync:!0})}}function K(){const D=v?T1(v.node()):{x:0,y:0,k:1};return{x:D.x,y:D.y,zoom:D.k}}function V(D,O){return v?new Promise(Y=>{x?.interpolate(O?.interpolate==="linear"?Ws:oc).scaleTo(Td(v,O?.duration,O?.ease,()=>Y(!0)),D)}):Promise.resolve(!1)}function X(D,O){return v?new Promise(Y=>{x?.interpolate(O?.interpolate==="linear"?Ws:oc).scaleBy(Td(v,O?.duration,O?.ease,()=>Y(!0)),D)}):Promise.resolve(!1)}function C(D){x?.scaleExtent(D)}function M(D){x?.translateExtent(D)}function U(D){const O=!Mn(D)||D<0?0:D;x?.clickDistance(O)}return{update:j,destroy:R,setViewport:N,setViewportConstrained:B,getViewport:K,scaleTo:V,scaleBy:X,setScaleExtent:C,setTranslateExtent:M,syncViewport:G,setClickDistance:U}}var Qi;(function(t){t.Line="line",t.Handle="handle"})(Qi||(Qi={}));function JE({width:t,prevWidth:a,height:i,prevHeight:s,affectsX:l,affectsY:c}){const u=t-a,m=i-s,y=[u>0?1:u<0?-1:0,m>0?1:m<0?-1:0];return u&&l&&(y[0]=y[0]*-1),m&&c&&(y[1]=y[1]*-1),y}function uy(t){const a=t.includes("right")||t.includes("left"),i=t.includes("bottom")||t.includes("top"),s=t.includes("left"),l=t.includes("top");return{isHorizontal:a,isVertical:i,affectsX:s,affectsY:l}}function tr(t,a){return Math.max(0,a-t)}function nr(t,a){return Math.max(0,t-a)}function Jo(t,a,i){return Math.max(0,a-t,t-i)}function fy(t,a){return t?!a:a}function e3(t,a,i,s,l,c,u,m){let{affectsX:y,affectsY:p}=a;const{isHorizontal:w,isVertical:x}=a,v=w&&x,{xSnapped:b,ySnapped:E}=i,{minWidth:_,maxWidth:j,minHeight:R,maxHeight:B}=s,{x:N,y:G,width:K,height:V,aspectRatio:X}=t;let C=Math.floor(w?b-t.pointerX:0),M=Math.floor(x?E-t.pointerY:0);const U=K+(y?-C:C),D=V+(p?-M:M),O=-c[0]*K,Y=-c[1]*V;let A=Jo(U,_,j),L=Jo(D,R,B);if(u){let z=0,q=0;y&&C<0?z=tr(N+C+O,u[0][0]):!y&&C>0&&(z=nr(N+U+O,u[1][0])),p&&M<0?q=tr(G+M+Y,u[0][1]):!p&&M>0&&(q=nr(G+D+Y,u[1][1])),A=Math.max(A,z),L=Math.max(L,q)}if(m){let z=0,q=0;y&&C>0?z=nr(N+C,m[0][0]):!y&&C<0&&(z=tr(N+U,m[1][0])),p&&M>0?q=nr(G+M,m[0][1]):!p&&M<0&&(q=tr(G+D,m[1][1])),A=Math.max(A,z),L=Math.max(L,q)}if(l){if(w){const z=Jo(U/X,R,B)*X;if(A=Math.max(A,z),u){let q=0;!y&&!p||y&&!p&&v?q=nr(G+Y+U/X,u[1][1])*X:q=tr(G+Y+(y?C:-C)/X,u[0][1])*X,A=Math.max(A,q)}if(m){let q=0;!y&&!p||y&&!p&&v?q=tr(G+U/X,m[1][1])*X:q=nr(G+(y?C:-C)/X,m[0][1])*X,A=Math.max(A,q)}}if(x){const z=Jo(D*X,_,j)/X;if(L=Math.max(L,z),u){let q=0;!y&&!p||p&&!y&&v?q=nr(N+D*X+O,u[1][0])/X:q=tr(N+(p?M:-M)*X+O,u[0][0])/X,L=Math.max(L,q)}if(m){let q=0;!y&&!p||p&&!y&&v?q=tr(N+D*X,m[1][0])/X:q=nr(N+(p?M:-M)*X,m[0][0])/X,L=Math.max(L,q)}}}M=M+(M<0?L:-L),C=C+(C<0?A:-A),l&&(v?U>D*X?M=(fy(y,p)?-C:C)/X:C=(fy(y,p)?-M:M)*X:w?(M=C/X,p=y):(C=M*X,y=p));const S=y?N+C:N,T=p?G+M:G;return{width:K+(y?-C:C),height:V+(p?-M:M),x:c[0]*C*(y?-1:1)+S,y:c[1]*M*(p?-1:1)+T}}const ix={width:0,height:0,x:0,y:0},t3={...ix,pointerX:0,pointerY:0,aspectRatio:1};function n3(t){return[[0,0],[t.measured.width,t.measured.height]]}function a3(t,a,i){const s=a.position.x+t.position.x,l=a.position.y+t.position.y,c=t.measured.width??0,u=t.measured.height??0,m=i[0]*c,y=i[1]*u;return[[s-m,l-y],[s+c-m,l+u-y]]}function r3({domNode:t,nodeId:a,getStoreItems:i,onChange:s,onEnd:l}){const c=rn(t);let u={controlDirection:uy("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function m({controlPosition:p,boundaries:w,keepAspectRatio:x,resizeDirection:v,onResizeStart:b,onResize:E,onResizeEnd:_,shouldResize:j}){let R={...ix},B={...t3};u={boundaries:w,resizeDirection:v,keepAspectRatio:x,controlDirection:uy(p)};let N,G=null,K=[],V,X,C,M=!1;const U=p1().on("start",D=>{const{nodeLookup:O,transform:Y,snapGrid:A,snapToGrid:L,nodeOrigin:S,paneDomNode:T}=i();if(N=O.get(a),!N)return;G=T?.getBoundingClientRect()??null;const{xSnapped:z,ySnapped:q}=Js(D.sourceEvent,{transform:Y,snapGrid:A,snapToGrid:L,containerBounds:G});R={width:N.measured.width??0,height:N.measured.height??0,x:N.position.x??0,y:N.position.y??0},B={...R,pointerX:z,pointerY:q,aspectRatio:R.width/R.height},V=void 0,N.parentId&&(N.extent==="parent"||N.expandParent)&&(V=O.get(N.parentId),X=V&&N.extent==="parent"?n3(V):void 0),K=[],C=void 0;for(const[F,P]of O)if(P.parentId===a&&(K.push({id:F,position:{...P.position},extent:P.extent}),P.extent==="parent"||P.expandParent)){const H=a3(P,N,P.origin??S);C?C=[[Math.min(H[0][0],C[0][0]),Math.min(H[0][1],C[0][1])],[Math.max(H[1][0],C[1][0]),Math.max(H[1][1],C[1][1])]]:C=H}b?.(D,{...R})}).on("drag",D=>{const{transform:O,snapGrid:Y,snapToGrid:A,nodeOrigin:L}=i(),S=Js(D.sourceEvent,{transform:O,snapGrid:Y,snapToGrid:A,containerBounds:G}),T=[];if(!N)return;const{x:z,y:q,width:F,height:P}=R,H={},$=N.origin??L,{width:Q,height:te,x:ie,y:se}=e3(B,u.controlDirection,S,u.boundaries,u.keepAspectRatio,$,X,C),fe=Q!==F,me=te!==P,Ne=ie!==z&&fe,be=se!==q&&me;if(!Ne&&!be&&!fe&&!me)return;if((Ne||be||$[0]===1||$[1]===1)&&(H.x=Ne?ie:R.x,H.y=be?se:R.y,R.x=H.x,R.y=H.y,K.length>0)){const _e=ie-z,Xe=se-q;for(const kt of K)kt.position={x:kt.position.x-_e+$[0]*(Q-F),y:kt.position.y-Xe+$[1]*(te-P)},T.push(kt)}if((fe||me)&&(H.width=fe&&(!u.resizeDirection||u.resizeDirection==="horizontal")?Q:R.width,H.height=me&&(!u.resizeDirection||u.resizeDirection==="vertical")?te:R.height,R.width=H.width,R.height=H.height),V&&N.expandParent){const _e=$[0]*(H.width??0);H.x&&H.x<_e&&(R.x=_e,B.x=B.x-(H.x-_e));const Xe=$[1]*(H.height??0);H.y&&H.y<Xe&&(R.y=Xe,B.y=B.y-(H.y-Xe))}const xe=JE({width:R.width,prevWidth:F,height:R.height,prevHeight:P,affectsX:u.controlDirection.affectsX,affectsY:u.controlDirection.affectsY}),ve={...R,direction:xe};j?.(D,ve)!==!1&&(M=!0,E?.(D,ve),s(H,T))}).on("end",D=>{M&&(_?.(D,{...R}),l?.({...R}),M=!1)});c.call(U)}function y(){c.on(".drag",null)}return{update:m,destroy:y}}var Ad={exports:{}},Rd={},jd={exports:{}},Dd={};var dy;function i3(){if(dy)return Dd;dy=1;var t=dl();function a(x,v){return x===v&&(x!==0||1/x===1/v)||x!==x&&v!==v}var i=typeof Object.is=="function"?Object.is:a,s=t.useState,l=t.useEffect,c=t.useLayoutEffect,u=t.useDebugValue;function m(x,v){var b=v(),E=s({inst:{value:b,getSnapshot:v}}),_=E[0].inst,j=E[1];return c(function(){_.value=b,_.getSnapshot=v,y(_)&&j({inst:_})},[x,b,v]),l(function(){return y(_)&&j({inst:_}),x(function(){y(_)&&j({inst:_})})},[x]),u(b),b}function y(x){var v=x.getSnapshot;x=x.value;try{var b=v();return!i(x,b)}catch{return!0}}function p(x,v){return v()}var w=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:m;return Dd.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:w,Dd}var hy;function s3(){return hy||(hy=1,jd.exports=i3()),jd.exports}var my;function l3(){if(my)return Rd;my=1;var t=dl(),a=s3();function i(p,w){return p===w&&(p!==0||1/p===1/w)||p!==p&&w!==w}var s=typeof Object.is=="function"?Object.is:i,l=a.useSyncExternalStore,c=t.useRef,u=t.useEffect,m=t.useMemo,y=t.useDebugValue;return Rd.useSyncExternalStoreWithSelector=function(p,w,x,v,b){var E=c(null);if(E.current===null){var _={hasValue:!1,value:null};E.current=_}else _=E.current;E=m(function(){function R(V){if(!B){if(B=!0,N=V,V=v(V),b!==void 0&&_.hasValue){var X=_.value;if(b(X,V))return G=X}return G=V}if(X=G,s(N,V))return X;var C=v(V);return b!==void 0&&b(X,C)?(N=V,X):(N=V,G=C)}var B=!1,N,G,K=x===void 0?null:x;return[function(){return R(w())},K===null?void 0:function(){return R(K())}]},[w,x,v,b]);var j=l(p,E[0],E[1]);return u(function(){_.hasValue=!0,_.value=j},[j]),y(j),j},Rd}var py;function o3(){return py||(py=1,Ad.exports=l3()),Ad.exports}var c3=o3();const u3=qy(c3),f3={},gy=t=>{let a;const i=new Set,s=(w,x)=>{const v=typeof w=="function"?w(a):w;if(!Object.is(v,a)){const b=a;a=x??(typeof v!="object"||v===null)?v:Object.assign({},a,v),i.forEach(E=>E(a,b))}},l=()=>a,y={setState:s,getState:l,getInitialState:()=>p,subscribe:w=>(i.add(w),()=>i.delete(w)),destroy:()=>{(f3?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},p=a=t(s,l,y);return y},d3=t=>t?gy(t):gy,{useDebugValue:h3}=Oi,{useSyncExternalStoreWithSelector:m3}=u3,p3=t=>t;function sx(t,a=p3,i){const s=m3(t.subscribe,t.getState,t.getServerState||t.getInitialState,a,i);return h3(s),s}const yy=(t,a)=>{const i=d3(t),s=(l,c=a)=>sx(i,l,c);return Object.assign(s,i),s},g3=(t,a)=>t?yy(t,a):yy;function st(t,a){if(Object.is(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;if(t instanceof Map&&a instanceof Map){if(t.size!==a.size)return!1;for(const[s,l]of t)if(!Object.is(l,a.get(s)))return!1;return!0}if(t instanceof Set&&a instanceof Set){if(t.size!==a.size)return!1;for(const s of t)if(!a.has(s))return!1;return!0}const i=Object.keys(t);if(i.length!==Object.keys(a).length)return!1;for(const s of i)if(!Object.prototype.hasOwnProperty.call(a,s)||!Object.is(t[s],a[s]))return!1;return!0}var y3=Yy();const Pc=ee.createContext(null),x3=Pc.Provider,lx=qn.error001();function Pe(t,a){const i=ee.useContext(Pc);if(i===null)throw new Error(lx);return sx(i,t,a)}function lt(){const t=ee.useContext(Pc);if(t===null)throw new Error(lx);return ee.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const xy={display:"none"},w3={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ox="react-flow__node-desc",cx="react-flow__edge-desc",v3="react-flow__aria-live",b3=t=>t.ariaLiveMessage,k3=t=>t.ariaLabelConfig;function S3({rfId:t}){const a=Pe(b3);return h.jsx("div",{id:`${v3}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:w3,children:a})}function C3({rfId:t,disableKeyboardA11y:a}){const i=Pe(k3);return h.jsxs(h.Fragment,{children:[h.jsx("div",{id:`${ox}-${t}`,style:xy,children:a?i["node.a11yDescription.default"]:i["node.a11yDescription.keyboardDisabled"]}),h.jsx("div",{id:`${cx}-${t}`,style:xy,children:i["edge.a11yDescription.default"]}),!a&&h.jsx(S3,{rfId:t})]})}const Ic=ee.forwardRef(({position:t="top-left",children:a,className:i,style:s,...l},c)=>{const u=`${t}`.split("-");return h.jsx("div",{className:xt(["react-flow__panel",i,...u]),style:s,ref:c,...l,children:a})});Ic.displayName="Panel";function E3({proOptions:t,position:a="bottom-right"}){return t?.hideAttribution?null:h.jsx(Ic,{position:a,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:h.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const N3=t=>{const a=[],i=[];for(const[,s]of t.nodeLookup)s.selected&&a.push(s.internals.userNode);for(const[,s]of t.edgeLookup)s.selected&&i.push(s);return{selectedNodes:a,selectedEdges:i}},ec=t=>t.id;function _3(t,a){return st(t.selectedNodes.map(ec),a.selectedNodes.map(ec))&&st(t.selectedEdges.map(ec),a.selectedEdges.map(ec))}function M3({onSelectionChange:t}){const a=lt(),{selectedNodes:i,selectedEdges:s}=Pe(N3,_3);return ee.useEffect(()=>{const l={nodes:i,edges:s};t?.(l),a.getState().onSelectionChangeHandlers.forEach(c=>c(l))},[i,s,t]),null}const T3=t=>!!t.onSelectionChangeHandlers;function A3({onSelectionChange:t}){const a=Pe(T3);return t||a?h.jsx(M3,{onSelectionChange:t}):null}const ux=[0,0],R3={x:0,y:0,zoom:1},j3=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],wy=[...j3,"rfId"],D3=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),vy={translateExtent:sl,nodeOrigin:ux,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function L3(t){const{setNodes:a,setEdges:i,setMinZoom:s,setMaxZoom:l,setTranslateExtent:c,setNodeExtent:u,reset:m,setDefaultNodesAndEdges:y}=Pe(D3,st),p=lt();ee.useEffect(()=>(y(t.defaultNodes,t.defaultEdges),()=>{w.current=vy,m()}),[]);const w=ee.useRef(vy);return ee.useEffect(()=>{for(const x of wy){const v=t[x],b=w.current[x];v!==b&&(typeof t[x]>"u"||(x==="nodes"?a(v):x==="edges"?i(v):x==="minZoom"?s(v):x==="maxZoom"?l(v):x==="translateExtent"?c(v):x==="nodeExtent"?u(v):x==="ariaLabelConfig"?p.setState({ariaLabelConfig:gE(v)}):x==="fitView"?p.setState({fitViewQueued:v}):x==="fitViewOptions"?p.setState({fitViewOptions:v}):p.setState({[x]:v})))}w.current=t},wy.map(x=>t[x])),null}function by(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function H3(t){const[a,i]=ee.useState(t==="system"?null:t);return ee.useEffect(()=>{if(t!=="system"){i(t);return}const s=by(),l=()=>i(s?.matches?"dark":"light");return l(),s?.addEventListener("change",l),()=>{s?.removeEventListener("change",l)}},[t]),a!==null?a:by()?.matches?"dark":"light"}const ky=typeof document<"u"?document:null;function ul(t=null,a={target:ky,actInsideInputWithModifier:!0}){const[i,s]=ee.useState(!1),l=ee.useRef(!1),c=ee.useRef(new Set([])),[u,m]=ee.useMemo(()=>{if(t!==null){const p=(Array.isArray(t)?t:[t]).filter(x=>typeof x=="string").map(x=>x.replace("+",`
`).replace(`

`,`
+`).split(`
`)),w=p.reduce((x,v)=>x.concat(...v),[]);return[p,w]}return[[],[]]},[t]);return ee.useEffect(()=>{const y=a?.target??ky,p=a?.actInsideInputWithModifier??!0;if(t!==null){const w=b=>{if(l.current=b.ctrlKey||b.metaKey||b.shiftKey||b.altKey,(!l.current||l.current&&!p)&&V1(b))return!1;const _=Cy(b.code,m);if(c.current.add(b[_]),Sy(u,c.current,!1)){const j=b.composedPath?.()?.[0]||b.target,R=j?.nodeName==="BUTTON"||j?.nodeName==="A";a.preventDefault!==!1&&(l.current||!R)&&b.preventDefault(),s(!0)}},x=b=>{const E=Cy(b.code,m);Sy(u,c.current,!0)?(s(!1),c.current.clear()):c.current.delete(b[E]),b.key==="Meta"&&c.current.clear(),l.current=!1},v=()=>{c.current.clear(),s(!1)};return y?.addEventListener("keydown",w),y?.addEventListener("keyup",x),window.addEventListener("blur",v),window.addEventListener("contextmenu",v),()=>{y?.removeEventListener("keydown",w),y?.removeEventListener("keyup",x),window.removeEventListener("blur",v),window.removeEventListener("contextmenu",v)}}},[t,s]),i}function Sy(t,a,i){return t.filter(s=>i||s.length===a.size).some(s=>s.every(l=>a.has(l)))}function Cy(t,a){return a.includes(t)?"code":"key"}const O3=()=>{const t=lt();return ee.useMemo(()=>({zoomIn:a=>{const{panZoom:i}=t.getState();return i?i.scaleBy(1.2,{duration:a?.duration}):Promise.resolve(!1)},zoomOut:a=>{const{panZoom:i}=t.getState();return i?i.scaleBy(1/1.2,{duration:a?.duration}):Promise.resolve(!1)},zoomTo:(a,i)=>{const{panZoom:s}=t.getState();return s?s.scaleTo(a,{duration:i?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(a,i)=>{const{transform:[s,l,c],panZoom:u}=t.getState();return u?(await u.setViewport({x:a.x??s,y:a.y??l,zoom:a.zoom??c},i),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[a,i,s]=t.getState().transform;return{x:a,y:i,zoom:s}},setCenter:async(a,i,s)=>t.getState().setCenter(a,i,s),fitBounds:async(a,i)=>{const{width:s,height:l,minZoom:c,maxZoom:u,panZoom:m}=t.getState(),y=w0(a,s,l,c,u,i?.padding??.1);return m?(await m.setViewport(y,{duration:i?.duration,ease:i?.ease,interpolate:i?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(a,i={})=>{const{transform:s,snapGrid:l,snapToGrid:c,domNode:u}=t.getState();if(!u)return a;const{x:m,y}=u.getBoundingClientRect(),p={x:a.x-m,y:a.y-y},w=i.snapGrid??l,x=i.snapToGrid??c;return wl(p,s,x,w)},flowToScreenPosition:a=>{const{transform:i,domNode:s}=t.getState();if(!s)return a;const{x:l,y:c}=s.getBoundingClientRect(),u=Mc(a,i);return{x:u.x+l,y:u.y+c}}}),[])};function fx(t,a){const i=[],s=new Map,l=[];for(const c of t)if(c.type==="add"){l.push(c);continue}else if(c.type==="remove"||c.type==="replace")s.set(c.id,[c]);else{const u=s.get(c.id);u?u.push(c):s.set(c.id,[c])}for(const c of a){const u=s.get(c.id);if(!u){i.push(c);continue}if(u[0].type==="remove")continue;if(u[0].type==="replace"){i.push({...u[0].item});continue}const m={...c};for(const y of u)z3(y,m);i.push(m)}return l.length&&l.forEach(c=>{c.index!==void 0?i.splice(c.index,0,{...c.item}):i.push({...c.item})}),i}function z3(t,a){switch(t.type){case"select":{a.selected=t.selected;break}case"position":{typeof t.position<"u"&&(a.position=t.position),typeof t.dragging<"u"&&(a.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(a.measured={...t.dimensions},t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(a.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(a.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(a.resizing=t.resizing);break}}}function dx(t,a){return fx(t,a)}function hx(t,a){return fx(t,a)}function Br(t,a){return{id:t,type:"select",selected:a}}function Bi(t,a=new Set,i=!1){const s=[];for(const[l,c]of t){const u=a.has(l);!(c.selected===void 0&&!u)&&c.selected!==u&&(i&&(c.selected=u),s.push(Br(c.id,u)))}return s}function Ey({items:t=[],lookup:a}){const i=[],s=new Map(t.map(l=>[l.id,l]));for(const[l,c]of t.entries()){const u=a.get(c.id),m=u?.internals?.userNode??u;m!==void 0&&m!==c&&i.push({id:c.id,item:c,type:"replace"}),m===void 0&&i.push({item:c,type:"add",index:l})}for(const[l]of a)s.get(l)===void 0&&i.push({id:l,type:"remove"});return i}function Ny(t){return{id:t.id,type:"remove"}}const _y=t=>sE(t),B3=t=>H1(t);function mx(t){return ee.forwardRef(t)}const U3=typeof window<"u"?ee.useLayoutEffect:ee.useEffect;function My(t){const[a,i]=ee.useState(BigInt(0)),[s]=ee.useState(()=>G3(()=>i(l=>l+BigInt(1))));return U3(()=>{const l=s.get();l.length&&(t(l),s.reset())},[a]),s}function G3(t){let a=[];return{get:()=>a,reset:()=>{a=[]},push:i=>{a.push(i),t()}}}const px=ee.createContext(null);function P3({children:t}){const a=lt(),i=ee.useCallback(m=>{const{nodes:y=[],setNodes:p,hasDefaultNodes:w,onNodesChange:x,nodeLookup:v,fitViewQueued:b,onNodesChangeMiddlewareMap:E}=a.getState();let _=y;for(const R of m)_=typeof R=="function"?R(_):R;let j=Ey({items:_,lookup:v});for(const R of E.values())j=R(j);w&&p(_),j.length>0?x?.(j):b&&window.requestAnimationFrame(()=>{const{fitViewQueued:R,nodes:B,setNodes:N}=a.getState();R&&N(B)})},[]),s=My(i),l=ee.useCallback(m=>{const{edges:y=[],setEdges:p,hasDefaultEdges:w,onEdgesChange:x,edgeLookup:v}=a.getState();let b=y;for(const E of m)b=typeof E=="function"?E(b):E;w?p(b):x&&x(Ey({items:b,lookup:v}))},[]),c=My(l),u=ee.useMemo(()=>({nodeQueue:s,edgeQueue:c}),[]);return h.jsx(px.Provider,{value:u,children:t})}function I3(){const t=ee.useContext(px);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const V3=t=>!!t.panZoom;function N0(){const t=O3(),a=lt(),i=I3(),s=Pe(V3),l=ee.useMemo(()=>{const c=x=>a.getState().nodeLookup.get(x),u=x=>{i.nodeQueue.push(x)},m=x=>{i.edgeQueue.push(x)},y=x=>{const{nodeLookup:v,nodeOrigin:b}=a.getState(),E=_y(x)?x:v.get(x.id),_=E.parentId?P1(E.position,E.measured,E.parentId,v,b):E.position,j={...E,position:_,width:E.measured?.width??E.width,height:E.measured?.height??E.height};return Zi(j)},p=(x,v,b={replace:!1})=>{u(E=>E.map(_=>{if(_.id===x){const j=typeof v=="function"?v(_):v;return b.replace&&_y(j)?j:{..._,...j}}return _}))},w=(x,v,b={replace:!1})=>{m(E=>E.map(_=>{if(_.id===x){const j=typeof v=="function"?v(_):v;return b.replace&&B3(j)?j:{..._,...j}}return _}))};return{getNodes:()=>a.getState().nodes.map(x=>({...x})),getNode:x=>c(x)?.internals.userNode,getInternalNode:c,getEdges:()=>{const{edges:x=[]}=a.getState();return x.map(v=>({...v}))},getEdge:x=>a.getState().edgeLookup.get(x),setNodes:u,setEdges:m,addNodes:x=>{const v=Array.isArray(x)?x:[x];i.nodeQueue.push(b=>[...b,...v])},addEdges:x=>{const v=Array.isArray(x)?x:[x];i.edgeQueue.push(b=>[...b,...v])},toObject:()=>{const{nodes:x=[],edges:v=[],transform:b}=a.getState(),[E,_,j]=b;return{nodes:x.map(R=>({...R})),edges:v.map(R=>({...R})),viewport:{x:E,y:_,zoom:j}}},deleteElements:async({nodes:x=[],edges:v=[]})=>{const{nodes:b,edges:E,onNodesDelete:_,onEdgesDelete:j,triggerNodeChanges:R,triggerEdgeChanges:B,onDelete:N,onBeforeDelete:G}=a.getState(),{nodes:K,edges:V}=await fE({nodesToRemove:x,edgesToRemove:v,nodes:b,edges:E,onBeforeDelete:G}),X=V.length>0,C=K.length>0;if(X){const M=V.map(Ny);j?.(V),B(M)}if(C){const M=K.map(Ny);_?.(K),R(M)}return(C||X)&&N?.({nodes:K,edges:V}),{deletedNodes:K,deletedEdges:V}},getIntersectingNodes:(x,v=!0,b)=>{const E=Jg(x),_=E?x:y(x),j=b!==void 0;return _?(b||a.getState().nodes).filter(R=>{const B=a.getState().nodeLookup.get(R.id);if(B&&!E&&(R.id===x.id||!B.internals.positionAbsolute))return!1;const N=Zi(j?R:B),G=ol(N,_);return v&&G>0||G>=N.width*N.height||G>=_.width*_.height}):[]},isNodeIntersecting:(x,v,b=!0)=>{const _=Jg(x)?x:y(x);if(!_)return!1;const j=ol(_,v);return b&&j>0||j>=v.width*v.height||j>=_.width*_.height},updateNode:p,updateNodeData:(x,v,b={replace:!1})=>{p(x,E=>{const _=typeof v=="function"?v(E):v;return b.replace?{...E,data:_}:{...E,data:{...E.data,..._}}},b)},updateEdge:w,updateEdgeData:(x,v,b={replace:!1})=>{w(x,E=>{const _=typeof v=="function"?v(E):v;return b.replace?{...E,data:_}:{...E,data:{...E.data,..._}}},b)},getNodesBounds:x=>{const{nodeLookup:v,nodeOrigin:b}=a.getState();return lE(x,{nodeLookup:v,nodeOrigin:b})},getHandleConnections:({type:x,id:v,nodeId:b})=>Array.from(a.getState().connectionLookup.get(`${b}-${x}${v?`-${v}`:""}`)?.values()??[]),getNodeConnections:({type:x,handleId:v,nodeId:b})=>Array.from(a.getState().connectionLookup.get(`${b}${x?v?`-${x}-${v}`:`-${x}`:""}`)?.values()??[]),fitView:async x=>{const v=a.getState().fitViewResolver??pE();return a.setState({fitViewQueued:!0,fitViewOptions:x,fitViewResolver:v}),i.nodeQueue.push(b=>[...b]),v.promise}}},[]);return ee.useMemo(()=>({...l,...t,viewportInitialized:s}),[s])}const Ty=t=>t.selected,q3=typeof window<"u"?window:void 0;function Y3({deleteKeyCode:t,multiSelectionKeyCode:a}){const i=lt(),{deleteElements:s}=N0(),l=ul(t,{actInsideInputWithModifier:!1}),c=ul(a,{target:q3});ee.useEffect(()=>{if(l){const{edges:u,nodes:m}=i.getState();s({nodes:m.filter(Ty),edges:u.filter(Ty)}),i.setState({nodesSelectionActive:!1})}},[l]),ee.useEffect(()=>{i.setState({multiSelectionActive:c})},[c])}function X3(t){const a=lt();ee.useEffect(()=>{const i=()=>{if(!t.current||!(t.current.checkVisibility?.()??!0))return!1;const s=v0(t.current);(s.height===0||s.width===0)&&a.getState().onError?.("004",qn.error004()),a.setState({width:s.width||500,height:s.height||500})};if(t.current){i(),window.addEventListener("resize",i);const s=new ResizeObserver(()=>i());return s.observe(t.current),()=>{window.removeEventListener("resize",i),s&&t.current&&s.unobserve(t.current)}}},[])}const Vc={position:"absolute",width:"100%",height:"100%",top:0,left:0},K3=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function Z3({onPaneContextMenu:t,zoomOnScroll:a=!0,zoomOnPinch:i=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=Pr.Free,zoomOnDoubleClick:u=!0,panOnDrag:m=!0,defaultViewport:y,translateExtent:p,minZoom:w,maxZoom:x,zoomActivationKeyCode:v,preventScrolling:b=!0,children:E,noWheelClassName:_,noPanClassName:j,onViewportChange:R,isControlledViewport:B,paneClickDistance:N,selectionOnDrag:G}){const K=lt(),V=ee.useRef(null),{userSelectionActive:X,lib:C,connectionInProgress:M}=Pe(K3,st),U=ul(v),D=ee.useRef();X3(V);const O=ee.useCallback(Y=>{R?.({x:Y[0],y:Y[1],zoom:Y[2]}),B||K.setState({transform:Y})},[R,B]);return ee.useEffect(()=>{if(V.current){D.current=WE({domNode:V.current,minZoom:w,maxZoom:x,translateExtent:p,viewport:y,onDraggingChange:S=>K.setState({paneDragging:S}),onPanZoomStart:(S,T)=>{const{onViewportChangeStart:z,onMoveStart:q}=K.getState();q?.(S,T),z?.(T)},onPanZoom:(S,T)=>{const{onViewportChange:z,onMove:q}=K.getState();q?.(S,T),z?.(T)},onPanZoomEnd:(S,T)=>{const{onViewportChangeEnd:z,onMoveEnd:q}=K.getState();q?.(S,T),z?.(T)}});const{x:Y,y:A,zoom:L}=D.current.getViewport();return K.setState({panZoom:D.current,transform:[Y,A,L],domNode:V.current.closest(".react-flow")}),()=>{D.current?.destroy()}}},[]),ee.useEffect(()=>{D.current?.update({onPaneContextMenu:t,zoomOnScroll:a,zoomOnPinch:i,panOnScroll:s,panOnScrollSpeed:l,panOnScrollMode:c,zoomOnDoubleClick:u,panOnDrag:m,zoomActivationKeyPressed:U,preventScrolling:b,noPanClassName:j,userSelectionActive:X,noWheelClassName:_,lib:C,onTransformChange:O,connectionInProgress:M,selectionOnDrag:G,paneClickDistance:N})},[t,a,i,s,l,c,u,m,U,b,j,X,_,C,O,M,G,N]),h.jsx("div",{className:"react-flow__renderer",ref:V,style:Vc,children:E})}const $3=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function Q3(){const{userSelectionActive:t,userSelectionRect:a}=Pe($3,st);return t&&a?h.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:a.width,height:a.height,transform:`translate(${a.x}px, ${a.y}px)`}}):null}const Ld=(t,a)=>i=>{i.target===a.current&&t?.(i)},F3=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function W3({isSelecting:t,selectionKeyPressed:a,selectionMode:i=ll.Full,panOnDrag:s,paneClickDistance:l,selectionOnDrag:c,onSelectionStart:u,onSelectionEnd:m,onPaneClick:y,onPaneContextMenu:p,onPaneScroll:w,onPaneMouseEnter:x,onPaneMouseMove:v,onPaneMouseLeave:b,children:E}){const _=lt(),{userSelectionActive:j,elementsSelectable:R,dragging:B,connectionInProgress:N}=Pe(F3,st),G=R&&(t||j),K=ee.useRef(null),V=ee.useRef(),X=ee.useRef(new Set),C=ee.useRef(new Set),M=ee.useRef(!1),U=z=>{if(M.current||N){M.current=!1;return}y?.(z),_.getState().resetSelectedElements(),_.setState({nodesSelectionActive:!1})},D=z=>{if(Array.isArray(s)&&s?.includes(2)){z.preventDefault();return}p?.(z)},O=w?z=>w(z):void 0,Y=z=>{M.current&&(z.stopPropagation(),M.current=!1)},A=z=>{const{domNode:q}=_.getState();if(V.current=q?.getBoundingClientRect(),!V.current)return;const F=z.target===K.current;if(!F&&!!z.target.closest(".nokey")||!t||!(c&&F||a)||z.button!==0||!z.isPrimary)return;z.target?.setPointerCapture?.(z.pointerId),M.current=!1;const{x:$,y:Q}=Tn(z.nativeEvent,V.current);_.setState({userSelectionRect:{width:0,height:0,startX:$,startY:Q,x:$,y:Q}}),F||(z.stopPropagation(),z.preventDefault())},L=z=>{const{userSelectionRect:q,transform:F,nodeLookup:P,edgeLookup:H,connectionLookup:$,triggerNodeChanges:Q,triggerEdgeChanges:te,defaultEdgeOptions:ie,resetSelectedElements:se}=_.getState();if(!V.current||!q)return;const{x:fe,y:me}=Tn(z.nativeEvent,V.current),{startX:Ne,startY:be}=q;if(!M.current){const Xe=a?0:l;if(Math.hypot(fe-Ne,me-be)<=Xe)return;se(),u?.(z)}M.current=!0;const xe={startX:Ne,startY:be,x:fe<Ne?fe:Ne,y:me<be?me:be,width:Math.abs(fe-Ne),height:Math.abs(me-be)},ve=X.current,Ee=C.current;X.current=new Set(x0(P,xe,F,i===ll.Partial,!0).map(Xe=>Xe.id)),C.current=new Set;const _e=ie?.selectable??!0;for(const Xe of X.current){const kt=$.get(Xe);if(kt)for(const{edgeId:xn}of kt.values()){const Qt=H.get(xn);Qt&&(Qt.selectable??_e)&&C.current.add(xn)}}if(!ey(ve,X.current)){const Xe=Bi(P,X.current,!0);Q(Xe)}if(!ey(Ee,C.current)){const Xe=Bi(H,C.current);te(Xe)}_.setState({userSelectionRect:xe,userSelectionActive:!0,nodesSelectionActive:!1})},S=z=>{z.button===0&&(z.target?.releasePointerCapture?.(z.pointerId),!j&&z.target===K.current&&_.getState().userSelectionRect&&U?.(z),_.setState({userSelectionActive:!1,userSelectionRect:null}),M.current&&(m?.(z),_.setState({nodesSelectionActive:X.current.size>0})))},T=s===!0||Array.isArray(s)&&s.includes(0);return h.jsxs("div",{className:xt(["react-flow__pane",{draggable:T,dragging:B,selection:t}]),onClick:G?void 0:Ld(U,K),onContextMenu:Ld(D,K),onWheel:Ld(O,K),onPointerEnter:G?void 0:x,onPointerMove:G?L:v,onPointerUp:G?S:void 0,onPointerDownCapture:G?A:void 0,onClickCapture:G?Y:void 0,onPointerLeave:b,ref:K,style:Vc,children:[E,h.jsx(Q3,{})]})}function Wd({id:t,store:a,unselect:i=!1,nodeRef:s}){const{addSelectedNodes:l,unselectNodesAndEdges:c,multiSelectionActive:u,nodeLookup:m,onError:y}=a.getState(),p=m.get(t);if(!p){y?.("012",qn.error012(t));return}a.setState({nodesSelectionActive:!1}),p.selected?(i||p.selected&&u)&&(c({nodes:[p],edges:[]}),requestAnimationFrame(()=>s?.current?.blur())):l([t])}function gx({nodeRef:t,disabled:a=!1,noDragClassName:i,handleSelector:s,nodeId:l,isSelectable:c,nodeClickDistance:u}){const m=lt(),[y,p]=ee.useState(!1),w=ee.useRef();return ee.useEffect(()=>{w.current=BE({getStoreItems:()=>m.getState(),onNodeMouseDown:x=>{Wd({id:x,store:m,nodeRef:t})},onDragStart:()=>{p(!0)},onDragStop:()=>{p(!1)}})},[]),ee.useEffect(()=>{if(a)w.current?.destroy();else if(t.current)return w.current?.update({noDragClassName:i,handleSelector:s,domNode:t.current,isSelectable:c,nodeId:l,nodeClickDistance:u}),()=>{w.current?.destroy()}},[i,s,a,c,t,l]),y}const J3=t=>a=>a.selected&&(a.draggable||t&&typeof a.draggable>"u");function yx(){const t=lt();return ee.useCallback(i=>{const{nodeExtent:s,snapToGrid:l,snapGrid:c,nodesDraggable:u,onError:m,updateNodePositions:y,nodeLookup:p,nodeOrigin:w}=t.getState(),x=new Map,v=J3(u),b=l?c[0]:5,E=l?c[1]:5,_=i.direction.x*b*i.factor,j=i.direction.y*E*i.factor;for(const[,R]of p){if(!v(R))continue;let B={x:R.internals.positionAbsolute.x+_,y:R.internals.positionAbsolute.y+j};l&&(B=xl(B,c));const{position:N,positionAbsolute:G}=O1({nodeId:R.id,nextPosition:B,nodeLookup:p,nodeExtent:s,nodeOrigin:w,onError:m});R.position=N,R.internals.positionAbsolute=G,x.set(R.id,R)}y(x)},[])}const _0=ee.createContext(null),eN=_0.Provider;_0.Consumer;const xx=()=>ee.useContext(_0),tN=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),nN=(t,a,i)=>s=>{const{connectionClickStartHandle:l,connectionMode:c,connection:u}=s,{fromHandle:m,toHandle:y,isValid:p}=u,w=y?.nodeId===t&&y?.id===a&&y?.type===i;return{connectingFrom:m?.nodeId===t&&m?.id===a&&m?.type===i,connectingTo:w,clickConnecting:l?.nodeId===t&&l?.id===a&&l?.type===i,isPossibleEndHandle:c===Xi.Strict?m?.type!==i:t!==m?.nodeId||a!==m?.id,connectionInProcess:!!m,clickConnectionInProcess:!!l,valid:w&&p}};function aN({type:t="source",position:a=pe.Top,isValidConnection:i,isConnectable:s=!0,isConnectableStart:l=!0,isConnectableEnd:c=!0,id:u,onConnect:m,children:y,className:p,onMouseDown:w,onTouchStart:x,...v},b){const E=u||null,_=t==="target",j=lt(),R=xx(),{connectOnClick:B,noPanClassName:N,rfId:G}=Pe(tN,st),{connectingFrom:K,connectingTo:V,clickConnecting:X,isPossibleEndHandle:C,connectionInProcess:M,clickConnectionInProcess:U,valid:D}=Pe(nN(R,E,t),st);R||j.getState().onError?.("010",qn.error010());const O=L=>{const{defaultEdgeOptions:S,onConnect:T,hasDefaultEdges:z}=j.getState(),q={...S,...L};if(z){const{edges:F,setEdges:P}=j.getState();P(kE(q,F))}T?.(q),m?.(q)},Y=L=>{if(!R)return;const S=q1(L.nativeEvent);if(l&&(S&&L.button===0||!S)){const T=j.getState();Fd.onPointerDown(L.nativeEvent,{handleDomNode:L.currentTarget,autoPanOnConnect:T.autoPanOnConnect,connectionMode:T.connectionMode,connectionRadius:T.connectionRadius,domNode:T.domNode,nodeLookup:T.nodeLookup,lib:T.lib,isTarget:_,handleId:E,nodeId:R,flowId:T.rfId,panBy:T.panBy,cancelConnection:T.cancelConnection,onConnectStart:T.onConnectStart,onConnectEnd:T.onConnectEnd,updateConnection:T.updateConnection,onConnect:O,isValidConnection:i||T.isValidConnection,getTransform:()=>j.getState().transform,getFromHandle:()=>j.getState().connection.fromHandle,autoPanSpeed:T.autoPanSpeed,dragThreshold:T.connectionDragThreshold})}S?w?.(L):x?.(L)},A=L=>{const{onClickConnectStart:S,onClickConnectEnd:T,connectionClickStartHandle:z,connectionMode:q,isValidConnection:F,lib:P,rfId:H,nodeLookup:$,connection:Q}=j.getState();if(!R||!z&&!l)return;if(!z){S?.(L.nativeEvent,{nodeId:R,handleId:E,handleType:t}),j.setState({connectionClickStartHandle:{nodeId:R,type:t,id:E}});return}const te=I1(L.target),ie=i||F,{connection:se,isValid:fe}=Fd.isValid(L.nativeEvent,{handle:{nodeId:R,id:E,type:t},connectionMode:q,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:ie,flowId:H,doc:te,lib:P,nodeLookup:$});fe&&se&&O(se);const me=structuredClone(Q);delete me.inProgress,me.toPosition=me.toHandle?me.toHandle.position:null,T?.(L,me),j.setState({connectionClickStartHandle:null})};return h.jsx("div",{"data-handleid":E,"data-nodeid":R,"data-handlepos":a,"data-id":`${G}-${R}-${E}-${t}`,className:xt(["react-flow__handle",`react-flow__handle-${a}`,"nodrag",N,p,{source:!_,target:_,connectable:s,connectablestart:l,connectableend:c,clickconnecting:X,connectingfrom:K,connectingto:V,valid:D,connectionindicator:s&&(!M||C)&&(M||U?c:l)}]),onMouseDown:Y,onTouchStart:Y,onClick:B?A:void 0,ref:b,...v,children:y})}const We=ee.memo(mx(aN));function rN({data:t,isConnectable:a,sourcePosition:i=pe.Bottom}){return h.jsxs(h.Fragment,{children:[t?.label,h.jsx(We,{type:"source",position:i,isConnectable:a})]})}function iN({data:t,isConnectable:a,targetPosition:i=pe.Top,sourcePosition:s=pe.Bottom}){return h.jsxs(h.Fragment,{children:[h.jsx(We,{type:"target",position:i,isConnectable:a}),t?.label,h.jsx(We,{type:"source",position:s,isConnectable:a})]})}function sN(){return null}function lN({data:t,isConnectable:a,targetPosition:i=pe.Top}){return h.jsxs(h.Fragment,{children:[h.jsx(We,{type:"target",position:i,isConnectable:a}),t?.label]})}const Tc={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Ay={input:rN,default:iN,output:lN,group:sN};function oN(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const cN=t=>{const{width:a,height:i,x:s,y:l}=yl(t.nodeLookup,{filter:c=>!!c.selected});return{width:Mn(a)?a:null,height:Mn(i)?i:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${s}px,${l}px)`}};function uN({onSelectionContextMenu:t,noPanClassName:a,disableKeyboardA11y:i}){const s=lt(),{width:l,height:c,transformString:u,userSelectionActive:m}=Pe(cN,st),y=yx(),p=ee.useRef(null);if(ee.useEffect(()=>{i||p.current?.focus({preventScroll:!0})},[i]),gx({nodeRef:p}),m||!l||!c)return null;const w=t?v=>{const b=s.getState().nodes.filter(E=>E.selected);t(v,b)}:void 0,x=v=>{Object.prototype.hasOwnProperty.call(Tc,v.key)&&(v.preventDefault(),y({direction:Tc[v.key],factor:v.shiftKey?4:1}))};return h.jsx("div",{className:xt(["react-flow__nodesselection","react-flow__container",a]),style:{transform:u},children:h.jsx("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:w,tabIndex:i?void 0:-1,onKeyDown:i?void 0:x,style:{width:l,height:c}})})}const Ry=typeof window<"u"?window:void 0,fN=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function wx({children:t,onPaneClick:a,onPaneMouseEnter:i,onPaneMouseMove:s,onPaneMouseLeave:l,onPaneContextMenu:c,onPaneScroll:u,paneClickDistance:m,deleteKeyCode:y,selectionKeyCode:p,selectionOnDrag:w,selectionMode:x,onSelectionStart:v,onSelectionEnd:b,multiSelectionKeyCode:E,panActivationKeyCode:_,zoomActivationKeyCode:j,elementsSelectable:R,zoomOnScroll:B,zoomOnPinch:N,panOnScroll:G,panOnScrollSpeed:K,panOnScrollMode:V,zoomOnDoubleClick:X,panOnDrag:C,defaultViewport:M,translateExtent:U,minZoom:D,maxZoom:O,preventScrolling:Y,onSelectionContextMenu:A,noWheelClassName:L,noPanClassName:S,disableKeyboardA11y:T,onViewportChange:z,isControlledViewport:q}){const{nodesSelectionActive:F,userSelectionActive:P}=Pe(fN,st),H=ul(p,{target:Ry}),$=ul(_,{target:Ry}),Q=$||C,te=$||G,ie=w&&Q!==!0,se=H||P||ie;return Y3({deleteKeyCode:y,multiSelectionKeyCode:E}),h.jsx(Z3,{onPaneContextMenu:c,elementsSelectable:R,zoomOnScroll:B,zoomOnPinch:N,panOnScroll:te,panOnScrollSpeed:K,panOnScrollMode:V,zoomOnDoubleClick:X,panOnDrag:!H&&Q,defaultViewport:M,translateExtent:U,minZoom:D,maxZoom:O,zoomActivationKeyCode:j,preventScrolling:Y,noWheelClassName:L,noPanClassName:S,onViewportChange:z,isControlledViewport:q,paneClickDistance:m,selectionOnDrag:ie,children:h.jsxs(W3,{onSelectionStart:v,onSelectionEnd:b,onPaneClick:a,onPaneMouseEnter:i,onPaneMouseMove:s,onPaneMouseLeave:l,onPaneContextMenu:c,onPaneScroll:u,panOnDrag:Q,isSelecting:!!se,selectionMode:x,selectionKeyPressed:H,paneClickDistance:m,selectionOnDrag:ie,children:[t,F&&h.jsx(uN,{onSelectionContextMenu:A,noPanClassName:S,disableKeyboardA11y:T})]})})}wx.displayName="FlowRenderer";const dN=ee.memo(wx),hN=t=>a=>t?x0(a.nodeLookup,{x:0,y:0,width:a.width,height:a.height},a.transform,!0).map(i=>i.id):Array.from(a.nodeLookup.keys());function mN(t){return Pe(ee.useCallback(hN(t),[t]),st)}const pN=t=>t.updateNodeInternals;function gN(){const t=Pe(pN),[a]=ee.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(i=>{const s=new Map;i.forEach(l=>{const c=l.target.getAttribute("data-id");s.set(c,{id:c,nodeElement:l.target,force:!0})}),t(s)}));return ee.useEffect(()=>()=>{a?.disconnect()},[a]),a}function yN({node:t,nodeType:a,hasDimensions:i,resizeObserver:s}){const l=lt(),c=ee.useRef(null),u=ee.useRef(null),m=ee.useRef(t.sourcePosition),y=ee.useRef(t.targetPosition),p=ee.useRef(a),w=i&&!!t.internals.handleBounds;return ee.useEffect(()=>{c.current&&!t.hidden&&(!w||u.current!==c.current)&&(u.current&&s?.unobserve(u.current),s?.observe(c.current),u.current=c.current)},[w,t.hidden]),ee.useEffect(()=>()=>{u.current&&(s?.unobserve(u.current),u.current=null)},[]),ee.useEffect(()=>{if(c.current){const x=p.current!==a,v=m.current!==t.sourcePosition,b=y.current!==t.targetPosition;(x||v||b)&&(p.current=a,m.current=t.sourcePosition,y.current=t.targetPosition,l.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:c.current,force:!0}]])))}},[t.id,a,t.sourcePosition,t.targetPosition]),c}function xN({id:t,onClick:a,onMouseEnter:i,onMouseMove:s,onMouseLeave:l,onContextMenu:c,onDoubleClick:u,nodesDraggable:m,elementsSelectable:y,nodesConnectable:p,nodesFocusable:w,resizeObserver:x,noDragClassName:v,noPanClassName:b,disableKeyboardA11y:E,rfId:_,nodeTypes:j,nodeClickDistance:R,onError:B}){const{node:N,internals:G,isParent:K}=Pe(fe=>{const me=fe.nodeLookup.get(t),Ne=fe.parentLookup.has(t);return{node:me,internals:me.internals,isParent:Ne}},st);let V=N.type||"default",X=j?.[V]||Ay[V];X===void 0&&(B?.("003",qn.error003(V)),V="default",X=j?.default||Ay.default);const C=!!(N.draggable||m&&typeof N.draggable>"u"),M=!!(N.selectable||y&&typeof N.selectable>"u"),U=!!(N.connectable||p&&typeof N.connectable>"u"),D=!!(N.focusable||w&&typeof N.focusable>"u"),O=lt(),Y=G1(N),A=yN({node:N,nodeType:V,hasDimensions:Y,resizeObserver:x}),L=gx({nodeRef:A,disabled:N.hidden||!C,noDragClassName:v,handleSelector:N.dragHandle,nodeId:t,isSelectable:M,nodeClickDistance:R}),S=yx();if(N.hidden)return null;const T=Ca(N),z=oN(N),q=M||C||a||i||s||l,F=i?fe=>i(fe,{...G.userNode}):void 0,P=s?fe=>s(fe,{...G.userNode}):void 0,H=l?fe=>l(fe,{...G.userNode}):void 0,$=c?fe=>c(fe,{...G.userNode}):void 0,Q=u?fe=>u(fe,{...G.userNode}):void 0,te=fe=>{const{selectNodesOnDrag:me,nodeDragThreshold:Ne}=O.getState();M&&(!me||!C||Ne>0)&&Wd({id:t,store:O,nodeRef:A}),a&&a(fe,{...G.userNode})},ie=fe=>{if(!(V1(fe.nativeEvent)||E)){if(R1.includes(fe.key)&&M){const me=fe.key==="Escape";Wd({id:t,store:O,unselect:me,nodeRef:A})}else if(C&&N.selected&&Object.prototype.hasOwnProperty.call(Tc,fe.key)){fe.preventDefault();const{ariaLabelConfig:me}=O.getState();O.setState({ariaLiveMessage:me["node.a11yDescription.ariaLiveMessage"]({direction:fe.key.replace("Arrow","").toLowerCase(),x:~~G.positionAbsolute.x,y:~~G.positionAbsolute.y})}),S({direction:Tc[fe.key],factor:fe.shiftKey?4:1})}}},se=()=>{if(E||!A.current?.matches(":focus-visible"))return;const{transform:fe,width:me,height:Ne,autoPanOnNodeFocus:be,setCenter:xe}=O.getState();if(!be)return;x0(new Map([[t,N]]),{x:0,y:0,width:me,height:Ne},fe,!0).length>0||xe(N.position.x+T.width/2,N.position.y+T.height/2,{zoom:fe[2]})};return h.jsx("div",{className:xt(["react-flow__node",`react-flow__node-${V}`,{[b]:C},N.className,{selected:N.selected,selectable:M,parent:K,draggable:C,dragging:L}]),ref:A,style:{zIndex:G.z,transform:`translate(${G.positionAbsolute.x}px,${G.positionAbsolute.y}px)`,pointerEvents:q?"all":"none",visibility:Y?"visible":"hidden",...N.style,...z},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:F,onMouseMove:P,onMouseLeave:H,onContextMenu:$,onClick:te,onDoubleClick:Q,onKeyDown:D?ie:void 0,tabIndex:D?0:void 0,onFocus:D?se:void 0,role:N.ariaRole??(D?"group":void 0),"aria-roledescription":"node","aria-describedby":E?void 0:`${ox}-${_}`,"aria-label":N.ariaLabel,...N.domAttributes,children:h.jsx(eN,{value:t,children:h.jsx(X,{id:t,data:N.data,type:V,positionAbsoluteX:G.positionAbsolute.x,positionAbsoluteY:G.positionAbsolute.y,selected:N.selected??!1,selectable:M,draggable:C,deletable:N.deletable??!0,isConnectable:U,sourcePosition:N.sourcePosition,targetPosition:N.targetPosition,dragging:L,dragHandle:N.dragHandle,zIndex:G.z,parentId:N.parentId,...T})})})}var wN=ee.memo(xN);const vN=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function vx(t){const{nodesDraggable:a,nodesConnectable:i,nodesFocusable:s,elementsSelectable:l,onError:c}=Pe(vN,st),u=mN(t.onlyRenderVisibleElements),m=gN();return h.jsx("div",{className:"react-flow__nodes",style:Vc,children:u.map(y=>h.jsx(wN,{id:y,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:m,nodesDraggable:a,nodesConnectable:i,nodesFocusable:s,elementsSelectable:l,nodeClickDistance:t.nodeClickDistance,onError:c},y))})}vx.displayName="NodeRenderer";const bN=ee.memo(vx);function kN(t){return Pe(ee.useCallback(i=>{if(!t)return i.edges.map(l=>l.id);const s=[];if(i.width&&i.height)for(const l of i.edges){const c=i.nodeLookup.get(l.source),u=i.nodeLookup.get(l.target);c&&u&&wE({sourceNode:c,targetNode:u,width:i.width,height:i.height,transform:i.transform})&&s.push(l.id)}return s},[t]),st)}const SN=({color:t="none",strokeWidth:a=1})=>{const i={strokeWidth:a,...t&&{stroke:t}};return h.jsx("polyline",{className:"arrow",style:i,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},CN=({color:t="none",strokeWidth:a=1})=>{const i={strokeWidth:a,...t&&{stroke:t,fill:t}};return h.jsx("polyline",{className:"arrowclosed",style:i,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},jy={[Nc.Arrow]:SN,[Nc.ArrowClosed]:CN};function EN(t){const a=lt();return ee.useMemo(()=>Object.prototype.hasOwnProperty.call(jy,t)?jy[t]:(a.getState().onError?.("009",qn.error009(t)),null),[t])}const NN=({id:t,type:a,color:i,width:s=12.5,height:l=12.5,markerUnits:c="strokeWidth",strokeWidth:u,orient:m="auto-start-reverse"})=>{const y=EN(a);return y?h.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${s}`,markerHeight:`${l}`,viewBox:"-10 -10 20 20",markerUnits:c,orient:m,refX:"0",refY:"0",children:h.jsx(y,{color:i,strokeWidth:u})}):null},bx=({defaultColor:t,rfId:a})=>{const i=Pe(c=>c.edges),s=Pe(c=>c.defaultEdgeOptions),l=ee.useMemo(()=>_E(i,{id:a,defaultColor:t,defaultMarkerStart:s?.markerStart,defaultMarkerEnd:s?.markerEnd}),[i,s,a,t]);return l.length?h.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:h.jsx("defs",{children:l.map(c=>h.jsx(NN,{id:c.id,type:c.type,color:c.color,width:c.width,height:c.height,markerUnits:c.markerUnits,strokeWidth:c.strokeWidth,orient:c.orient},c.id))})}):null};bx.displayName="MarkerDefinitions";var _N=ee.memo(bx);function kx({x:t,y:a,label:i,labelStyle:s,labelShowBg:l=!0,labelBgStyle:c,labelBgPadding:u=[2,4],labelBgBorderRadius:m=2,children:y,className:p,...w}){const[x,v]=ee.useState({x:1,y:0,width:0,height:0}),b=xt(["react-flow__edge-textwrapper",p]),E=ee.useRef(null);return ee.useEffect(()=>{if(E.current){const _=E.current.getBBox();v({x:_.x,y:_.y,width:_.width,height:_.height})}},[i]),i?h.jsxs("g",{transform:`translate(${t-x.width/2} ${a-x.height/2})`,className:b,visibility:x.width?"visible":"hidden",...w,children:[l&&h.jsx("rect",{width:x.width+2*u[0],x:-u[0],y:-u[1],height:x.height+2*u[1],className:"react-flow__edge-textbg",style:c,rx:m,ry:m}),h.jsx("text",{className:"react-flow__edge-text",y:x.height/2,dy:"0.3em",ref:E,style:s,children:i}),y]}):null}kx.displayName="EdgeText";const MN=ee.memo(kx);function qc({path:t,labelX:a,labelY:i,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:m,labelBgBorderRadius:y,interactionWidth:p=20,...w}){return h.jsxs(h.Fragment,{children:[h.jsx("path",{...w,d:t,fill:"none",className:xt(["react-flow__edge-path",w.className])}),p?h.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}):null,s&&Mn(a)&&Mn(i)?h.jsx(MN,{x:a,y:i,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:m,labelBgBorderRadius:y}):null]})}function Dy({pos:t,x1:a,y1:i,x2:s,y2:l}){return t===pe.Left||t===pe.Right?[.5*(a+s),i]:[a,.5*(i+l)]}function Sx({sourceX:t,sourceY:a,sourcePosition:i=pe.Bottom,targetX:s,targetY:l,targetPosition:c=pe.Top}){const[u,m]=Dy({pos:i,x1:t,y1:a,x2:s,y2:l}),[y,p]=Dy({pos:c,x1:s,y1:l,x2:t,y2:a}),[w,x,v,b]=Y1({sourceX:t,sourceY:a,targetX:s,targetY:l,sourceControlX:u,sourceControlY:m,targetControlX:y,targetControlY:p});return[`M${t},${a} C${u},${m} ${y},${p} ${s},${l}`,w,x,v,b]}function Cx(t){return ee.memo(({id:a,sourceX:i,sourceY:s,targetX:l,targetY:c,sourcePosition:u,targetPosition:m,label:y,labelStyle:p,labelShowBg:w,labelBgStyle:x,labelBgPadding:v,labelBgBorderRadius:b,style:E,markerEnd:_,markerStart:j,interactionWidth:R})=>{const[B,N,G]=Sx({sourceX:i,sourceY:s,sourcePosition:u,targetX:l,targetY:c,targetPosition:m}),K=t.isInternal?void 0:a;return h.jsx(qc,{id:K,path:B,labelX:N,labelY:G,label:y,labelStyle:p,labelShowBg:w,labelBgStyle:x,labelBgPadding:v,labelBgBorderRadius:b,style:E,markerEnd:_,markerStart:j,interactionWidth:R})})}const TN=Cx({isInternal:!1}),Ex=Cx({isInternal:!0});TN.displayName="SimpleBezierEdge";Ex.displayName="SimpleBezierEdgeInternal";function Nx(t){return ee.memo(({id:a,sourceX:i,sourceY:s,targetX:l,targetY:c,label:u,labelStyle:m,labelShowBg:y,labelBgStyle:p,labelBgPadding:w,labelBgBorderRadius:x,style:v,sourcePosition:b=pe.Bottom,targetPosition:E=pe.Top,markerEnd:_,markerStart:j,pathOptions:R,interactionWidth:B})=>{const[N,G,K]=Zd({sourceX:i,sourceY:s,sourcePosition:b,targetX:l,targetY:c,targetPosition:E,borderRadius:R?.borderRadius,offset:R?.offset,stepPosition:R?.stepPosition}),V=t.isInternal?void 0:a;return h.jsx(qc,{id:V,path:N,labelX:G,labelY:K,label:u,labelStyle:m,labelShowBg:y,labelBgStyle:p,labelBgPadding:w,labelBgBorderRadius:x,style:v,markerEnd:_,markerStart:j,interactionWidth:B})})}const _x=Nx({isInternal:!1}),Mx=Nx({isInternal:!0});_x.displayName="SmoothStepEdge";Mx.displayName="SmoothStepEdgeInternal";function Tx(t){return ee.memo(({id:a,...i})=>{const s=t.isInternal?void 0:a;return h.jsx(_x,{...i,id:s,pathOptions:ee.useMemo(()=>({borderRadius:0,offset:i.pathOptions?.offset}),[i.pathOptions?.offset])})})}const AN=Tx({isInternal:!1}),Ax=Tx({isInternal:!0});AN.displayName="StepEdge";Ax.displayName="StepEdgeInternal";function Rx(t){return ee.memo(({id:a,sourceX:i,sourceY:s,targetX:l,targetY:c,label:u,labelStyle:m,labelShowBg:y,labelBgStyle:p,labelBgPadding:w,labelBgBorderRadius:x,style:v,markerEnd:b,markerStart:E,interactionWidth:_})=>{const[j,R,B]=Z1({sourceX:i,sourceY:s,targetX:l,targetY:c}),N=t.isInternal?void 0:a;return h.jsx(qc,{id:N,path:j,labelX:R,labelY:B,label:u,labelStyle:m,labelShowBg:y,labelBgStyle:p,labelBgPadding:w,labelBgBorderRadius:x,style:v,markerEnd:b,markerStart:E,interactionWidth:_})})}const RN=Rx({isInternal:!1}),jx=Rx({isInternal:!0});RN.displayName="StraightEdge";jx.displayName="StraightEdgeInternal";function Dx(t){return ee.memo(({id:a,sourceX:i,sourceY:s,targetX:l,targetY:c,sourcePosition:u=pe.Bottom,targetPosition:m=pe.Top,label:y,labelStyle:p,labelShowBg:w,labelBgStyle:x,labelBgPadding:v,labelBgBorderRadius:b,style:E,markerEnd:_,markerStart:j,pathOptions:R,interactionWidth:B})=>{const[N,G,K]=X1({sourceX:i,sourceY:s,sourcePosition:u,targetX:l,targetY:c,targetPosition:m,curvature:R?.curvature}),V=t.isInternal?void 0:a;return h.jsx(qc,{id:V,path:N,labelX:G,labelY:K,label:y,labelStyle:p,labelShowBg:w,labelBgStyle:x,labelBgPadding:v,labelBgBorderRadius:b,style:E,markerEnd:_,markerStart:j,interactionWidth:B})})}const jN=Dx({isInternal:!1}),Lx=Dx({isInternal:!0});jN.displayName="BezierEdge";Lx.displayName="BezierEdgeInternal";const Ly={default:Lx,straight:jx,step:Ax,smoothstep:Mx,simplebezier:Ex},Hy={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},DN=(t,a,i)=>i===pe.Left?t-a:i===pe.Right?t+a:t,LN=(t,a,i)=>i===pe.Top?t-a:i===pe.Bottom?t+a:t,Oy="react-flow__edgeupdater";function zy({position:t,centerX:a,centerY:i,radius:s=10,onMouseDown:l,onMouseEnter:c,onMouseOut:u,type:m}){return h.jsx("circle",{onMouseDown:l,onMouseEnter:c,onMouseOut:u,className:xt([Oy,`${Oy}-${m}`]),cx:DN(a,s,t),cy:LN(i,s,t),r:s,stroke:"transparent",fill:"transparent"})}function HN({isReconnectable:t,reconnectRadius:a,edge:i,sourceX:s,sourceY:l,targetX:c,targetY:u,sourcePosition:m,targetPosition:y,onReconnect:p,onReconnectStart:w,onReconnectEnd:x,setReconnecting:v,setUpdateHover:b}){const E=lt(),_=(G,K)=>{if(G.button!==0)return;const{autoPanOnConnect:V,domNode:X,isValidConnection:C,connectionMode:M,connectionRadius:U,lib:D,onConnectStart:O,onConnectEnd:Y,cancelConnection:A,nodeLookup:L,rfId:S,panBy:T,updateConnection:z}=E.getState(),q=K.type==="target",F=($,Q)=>{v(!1),x?.($,i,K.type,Q)},P=$=>p?.(i,$),H=($,Q)=>{v(!0),w?.(G,i,K.type),O?.($,Q)};Fd.onPointerDown(G.nativeEvent,{autoPanOnConnect:V,connectionMode:M,connectionRadius:U,domNode:X,handleId:K.id,nodeId:K.nodeId,nodeLookup:L,isTarget:q,edgeUpdaterType:K.type,lib:D,flowId:S,cancelConnection:A,panBy:T,isValidConnection:C,onConnect:P,onConnectStart:H,onConnectEnd:Y,onReconnectEnd:F,updateConnection:z,getTransform:()=>E.getState().transform,getFromHandle:()=>E.getState().connection.fromHandle,dragThreshold:E.getState().connectionDragThreshold,handleDomNode:G.currentTarget})},j=G=>_(G,{nodeId:i.target,id:i.targetHandle??null,type:"target"}),R=G=>_(G,{nodeId:i.source,id:i.sourceHandle??null,type:"source"}),B=()=>b(!0),N=()=>b(!1);return h.jsxs(h.Fragment,{children:[(t===!0||t==="source")&&h.jsx(zy,{position:m,centerX:s,centerY:l,radius:a,onMouseDown:j,onMouseEnter:B,onMouseOut:N,type:"source"}),(t===!0||t==="target")&&h.jsx(zy,{position:y,centerX:c,centerY:u,radius:a,onMouseDown:R,onMouseEnter:B,onMouseOut:N,type:"target"})]})}function ON({id:t,edgesFocusable:a,edgesReconnectable:i,elementsSelectable:s,onClick:l,onDoubleClick:c,onContextMenu:u,onMouseEnter:m,onMouseMove:y,onMouseLeave:p,reconnectRadius:w,onReconnect:x,onReconnectStart:v,onReconnectEnd:b,rfId:E,edgeTypes:_,noPanClassName:j,onError:R,disableKeyboardA11y:B}){let N=Pe(xe=>xe.edgeLookup.get(t));const G=Pe(xe=>xe.defaultEdgeOptions);N=G?{...G,...N}:N;let K=N.type||"default",V=_?.[K]||Ly[K];V===void 0&&(R?.("011",qn.error011(K)),K="default",V=_?.default||Ly.default);const X=!!(N.focusable||a&&typeof N.focusable>"u"),C=typeof x<"u"&&(N.reconnectable||i&&typeof N.reconnectable>"u"),M=!!(N.selectable||s&&typeof N.selectable>"u"),U=ee.useRef(null),[D,O]=ee.useState(!1),[Y,A]=ee.useState(!1),L=lt(),{zIndex:S,sourceX:T,sourceY:z,targetX:q,targetY:F,sourcePosition:P,targetPosition:H}=Pe(ee.useCallback(xe=>{const ve=xe.nodeLookup.get(N.source),Ee=xe.nodeLookup.get(N.target);if(!ve||!Ee)return{zIndex:N.zIndex,...Hy};const _e=NE({id:t,sourceNode:ve,targetNode:Ee,sourceHandle:N.sourceHandle||null,targetHandle:N.targetHandle||null,connectionMode:xe.connectionMode,onError:R});return{zIndex:xE({selected:N.selected,zIndex:N.zIndex,sourceNode:ve,targetNode:Ee,elevateOnSelect:xe.elevateEdgesOnSelect,zIndexMode:xe.zIndexMode}),..._e||Hy}},[N.source,N.target,N.sourceHandle,N.targetHandle,N.selected,N.zIndex]),st),$=ee.useMemo(()=>N.markerStart?`url('#${$d(N.markerStart,E)}')`:void 0,[N.markerStart,E]),Q=ee.useMemo(()=>N.markerEnd?`url('#${$d(N.markerEnd,E)}')`:void 0,[N.markerEnd,E]);if(N.hidden||T===null||z===null||q===null||F===null)return null;const te=xe=>{const{addSelectedEdges:ve,unselectNodesAndEdges:Ee,multiSelectionActive:_e}=L.getState();M&&(L.setState({nodesSelectionActive:!1}),N.selected&&_e?(Ee({nodes:[],edges:[N]}),U.current?.blur()):ve([t])),l&&l(xe,N)},ie=c?xe=>{c(xe,{...N})}:void 0,se=u?xe=>{u(xe,{...N})}:void 0,fe=m?xe=>{m(xe,{...N})}:void 0,me=y?xe=>{y(xe,{...N})}:void 0,Ne=p?xe=>{p(xe,{...N})}:void 0,be=xe=>{if(!B&&R1.includes(xe.key)&&M){const{unselectNodesAndEdges:ve,addSelectedEdges:Ee}=L.getState();xe.key==="Escape"?(U.current?.blur(),ve({edges:[N]})):Ee([t])}};return h.jsx("svg",{style:{zIndex:S},children:h.jsxs("g",{className:xt(["react-flow__edge",`react-flow__edge-${K}`,N.className,j,{selected:N.selected,animated:N.animated,inactive:!M&&!l,updating:D,selectable:M}]),onClick:te,onDoubleClick:ie,onContextMenu:se,onMouseEnter:fe,onMouseMove:me,onMouseLeave:Ne,onKeyDown:X?be:void 0,tabIndex:X?0:void 0,role:N.ariaRole??(X?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":N.ariaLabel===null?void 0:N.ariaLabel||`Edge from ${N.source} to ${N.target}`,"aria-describedby":X?`${cx}-${E}`:void 0,ref:U,...N.domAttributes,children:[!Y&&h.jsx(V,{id:t,source:N.source,target:N.target,type:N.type,selected:N.selected,animated:N.animated,selectable:M,deletable:N.deletable??!0,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,sourceX:T,sourceY:z,targetX:q,targetY:F,sourcePosition:P,targetPosition:H,data:N.data,style:N.style,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerStart:$,markerEnd:Q,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth}),C&&h.jsx(HN,{edge:N,isReconnectable:C,reconnectRadius:w,onReconnect:x,onReconnectStart:v,onReconnectEnd:b,sourceX:T,sourceY:z,targetX:q,targetY:F,sourcePosition:P,targetPosition:H,setUpdateHover:O,setReconnecting:A})]})})}var zN=ee.memo(ON);const BN=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function Hx({defaultMarkerColor:t,onlyRenderVisibleElements:a,rfId:i,edgeTypes:s,noPanClassName:l,onReconnect:c,onEdgeContextMenu:u,onEdgeMouseEnter:m,onEdgeMouseMove:y,onEdgeMouseLeave:p,onEdgeClick:w,reconnectRadius:x,onEdgeDoubleClick:v,onReconnectStart:b,onReconnectEnd:E,disableKeyboardA11y:_}){const{edgesFocusable:j,edgesReconnectable:R,elementsSelectable:B,onError:N}=Pe(BN,st),G=kN(a);return h.jsxs("div",{className:"react-flow__edges",children:[h.jsx(_N,{defaultColor:t,rfId:i}),G.map(K=>h.jsx(zN,{id:K,edgesFocusable:j,edgesReconnectable:R,elementsSelectable:B,noPanClassName:l,onReconnect:c,onContextMenu:u,onMouseEnter:m,onMouseMove:y,onMouseLeave:p,onClick:w,reconnectRadius:x,onDoubleClick:v,onReconnectStart:b,onReconnectEnd:E,rfId:i,onError:N,edgeTypes:s,disableKeyboardA11y:_},K))]})}Hx.displayName="EdgeRenderer";const UN=ee.memo(Hx),GN=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function PN({children:t}){const a=Pe(GN);return h.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:a},children:t})}function IN(t){const a=N0(),i=ee.useRef(!1);ee.useEffect(()=>{!i.current&&a.viewportInitialized&&t&&(setTimeout(()=>t(a),1),i.current=!0)},[t,a.viewportInitialized])}const VN=t=>t.panZoom?.syncViewport;function qN(t){const a=Pe(VN),i=lt();return ee.useEffect(()=>{t&&(a?.(t),i.setState({transform:[t.x,t.y,t.zoom]}))},[t,a]),null}function YN(t){return t.connection.inProgress?{...t.connection,to:wl(t.connection.to,t.transform)}:{...t.connection}}function XN(t){return YN}function KN(t){const a=XN();return Pe(a,st)}const ZN=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function $N({containerStyle:t,style:a,type:i,component:s}){const{nodesConnectable:l,width:c,height:u,isValid:m,inProgress:y}=Pe(ZN,st);return!(c&&l&&y)?null:h.jsx("svg",{style:t,width:c,height:u,className:"react-flow__connectionline react-flow__container",children:h.jsx("g",{className:xt(["react-flow__connection",L1(m)]),children:h.jsx(Ox,{style:a,type:i,CustomComponent:s,isValid:m})})})}const Ox=({style:t,type:a=rr.Bezier,CustomComponent:i,isValid:s})=>{const{inProgress:l,from:c,fromNode:u,fromHandle:m,fromPosition:y,to:p,toNode:w,toHandle:x,toPosition:v,pointer:b}=KN();if(!l)return;if(i)return h.jsx(i,{connectionLineType:a,connectionLineStyle:t,fromNode:u,fromHandle:m,fromX:c.x,fromY:c.y,toX:p.x,toY:p.y,fromPosition:y,toPosition:v,connectionStatus:L1(s),toNode:w,toHandle:x,pointer:b});let E="";const _={sourceX:c.x,sourceY:c.y,sourcePosition:y,targetX:p.x,targetY:p.y,targetPosition:v};switch(a){case rr.Bezier:[E]=X1(_);break;case rr.SimpleBezier:[E]=Sx(_);break;case rr.Step:[E]=Zd({..._,borderRadius:0});break;case rr.SmoothStep:[E]=Zd(_);break;default:[E]=Z1(_)}return h.jsx("path",{d:E,fill:"none",className:"react-flow__connection-path",style:t})};Ox.displayName="ConnectionLine";const QN={};function By(t=QN){ee.useRef(t),lt(),ee.useEffect(()=>{},[t])}function FN(){lt(),ee.useRef(!1),ee.useEffect(()=>{},[])}function zx({nodeTypes:t,edgeTypes:a,onInit:i,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:m,onNodeMouseMove:y,onNodeMouseLeave:p,onNodeContextMenu:w,onSelectionContextMenu:x,onSelectionStart:v,onSelectionEnd:b,connectionLineType:E,connectionLineStyle:_,connectionLineComponent:j,connectionLineContainerStyle:R,selectionKeyCode:B,selectionOnDrag:N,selectionMode:G,multiSelectionKeyCode:K,panActivationKeyCode:V,zoomActivationKeyCode:X,deleteKeyCode:C,onlyRenderVisibleElements:M,elementsSelectable:U,defaultViewport:D,translateExtent:O,minZoom:Y,maxZoom:A,preventScrolling:L,defaultMarkerColor:S,zoomOnScroll:T,zoomOnPinch:z,panOnScroll:q,panOnScrollSpeed:F,panOnScrollMode:P,zoomOnDoubleClick:H,panOnDrag:$,onPaneClick:Q,onPaneMouseEnter:te,onPaneMouseMove:ie,onPaneMouseLeave:se,onPaneScroll:fe,onPaneContextMenu:me,paneClickDistance:Ne,nodeClickDistance:be,onEdgeContextMenu:xe,onEdgeMouseEnter:ve,onEdgeMouseMove:Ee,onEdgeMouseLeave:_e,reconnectRadius:Xe,onReconnect:kt,onReconnectStart:xn,onReconnectEnd:Qt,noDragClassName:wn,noWheelClassName:Zn,noPanClassName:dr,disableKeyboardA11y:hr,nodeExtent:Nt,rfId:Kr,viewport:$n,onViewportChange:Ea}){return By(t),By(a),FN(),IN(i),qN($n),h.jsx(dN,{onPaneClick:Q,onPaneMouseEnter:te,onPaneMouseMove:ie,onPaneMouseLeave:se,onPaneContextMenu:me,onPaneScroll:fe,paneClickDistance:Ne,deleteKeyCode:C,selectionKeyCode:B,selectionOnDrag:N,selectionMode:G,onSelectionStart:v,onSelectionEnd:b,multiSelectionKeyCode:K,panActivationKeyCode:V,zoomActivationKeyCode:X,elementsSelectable:U,zoomOnScroll:T,zoomOnPinch:z,zoomOnDoubleClick:H,panOnScroll:q,panOnScrollSpeed:F,panOnScrollMode:P,panOnDrag:$,defaultViewport:D,translateExtent:O,minZoom:Y,maxZoom:A,onSelectionContextMenu:x,preventScrolling:L,noDragClassName:wn,noWheelClassName:Zn,noPanClassName:dr,disableKeyboardA11y:hr,onViewportChange:Ea,isControlledViewport:!!$n,children:h.jsxs(PN,{children:[h.jsx(UN,{edgeTypes:a,onEdgeClick:l,onEdgeDoubleClick:u,onReconnect:kt,onReconnectStart:xn,onReconnectEnd:Qt,onlyRenderVisibleElements:M,onEdgeContextMenu:xe,onEdgeMouseEnter:ve,onEdgeMouseMove:Ee,onEdgeMouseLeave:_e,reconnectRadius:Xe,defaultMarkerColor:S,noPanClassName:dr,disableKeyboardA11y:hr,rfId:Kr}),h.jsx($N,{style:_,type:E,component:j,containerStyle:R}),h.jsx("div",{className:"react-flow__edgelabel-renderer"}),h.jsx(bN,{nodeTypes:t,onNodeClick:s,onNodeDoubleClick:c,onNodeMouseEnter:m,onNodeMouseMove:y,onNodeMouseLeave:p,onNodeContextMenu:w,nodeClickDistance:be,onlyRenderVisibleElements:M,noPanClassName:dr,noDragClassName:wn,disableKeyboardA11y:hr,nodeExtent:Nt,rfId:Kr}),h.jsx("div",{className:"react-flow__viewport-portal"})]})})}zx.displayName="GraphView";const WN=ee.memo(zx),Uy=({nodes:t,edges:a,defaultNodes:i,defaultEdges:s,width:l,height:c,fitView:u,fitViewOptions:m,minZoom:y=.5,maxZoom:p=2,nodeOrigin:w,nodeExtent:x,zIndexMode:v="basic"}={})=>{const b=new Map,E=new Map,_=new Map,j=new Map,R=s??a??[],B=i??t??[],N=w??[0,0],G=x??sl;F1(_,j,R);const K=Qd(B,b,E,{nodeOrigin:N,nodeExtent:G,zIndexMode:v});let V=[0,0,1];if(u&&l&&c){const X=yl(b,{filter:D=>!!((D.width||D.initialWidth)&&(D.height||D.initialHeight))}),{x:C,y:M,zoom:U}=w0(X,l,c,y,p,m?.padding??.1);V=[C,M,U]}return{rfId:"1",width:l??0,height:c??0,transform:V,nodes:B,nodesInitialized:K,nodeLookup:b,parentLookup:E,edges:R,edgeLookup:j,connectionLookup:_,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:i!==void 0,hasDefaultEdges:s!==void 0,panZoom:null,minZoom:y,maxZoom:p,translateExtent:sl,nodeExtent:G,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Xi.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:N,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:u??!1,fitViewOptions:m,fitViewResolver:null,connection:{...D1},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:dE,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:j1,zIndexMode:v,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},JN=({nodes:t,edges:a,defaultNodes:i,defaultEdges:s,width:l,height:c,fitView:u,fitViewOptions:m,minZoom:y,maxZoom:p,nodeOrigin:w,nodeExtent:x,zIndexMode:v})=>g3((b,E)=>{async function _(){const{nodeLookup:j,panZoom:R,fitViewOptions:B,fitViewResolver:N,width:G,height:K,minZoom:V,maxZoom:X}=E();R&&(await uE({nodes:j,width:G,height:K,panZoom:R,minZoom:V,maxZoom:X},B),N?.resolve(!0),b({fitViewResolver:null}))}return{...Uy({nodes:t,edges:a,width:l,height:c,fitView:u,fitViewOptions:m,minZoom:y,maxZoom:p,nodeOrigin:w,nodeExtent:x,defaultNodes:i,defaultEdges:s,zIndexMode:v}),setNodes:j=>{const{nodeLookup:R,parentLookup:B,nodeOrigin:N,elevateNodesOnSelect:G,fitViewQueued:K,zIndexMode:V}=E(),X=Qd(j,R,B,{nodeOrigin:N,nodeExtent:x,elevateNodesOnSelect:G,checkEquality:!0,zIndexMode:V});K&&X?(_(),b({nodes:j,nodesInitialized:X,fitViewQueued:!1,fitViewOptions:void 0})):b({nodes:j,nodesInitialized:X})},setEdges:j=>{const{connectionLookup:R,edgeLookup:B}=E();F1(R,B,j),b({edges:j})},setDefaultNodesAndEdges:(j,R)=>{if(j){const{setNodes:B}=E();B(j),b({hasDefaultNodes:!0})}if(R){const{setEdges:B}=E();B(R),b({hasDefaultEdges:!0})}},updateNodeInternals:j=>{const{triggerNodeChanges:R,nodeLookup:B,parentLookup:N,domNode:G,nodeOrigin:K,nodeExtent:V,debug:X,fitViewQueued:C,zIndexMode:M}=E(),{changes:U,updatedInternals:D}=LE(j,B,N,G,K,V,M);D&&(AE(B,N,{nodeOrigin:K,nodeExtent:V,zIndexMode:M}),C?(_(),b({fitViewQueued:!1,fitViewOptions:void 0})):b({}),U?.length>0&&(X&&console.log("React Flow: trigger node changes",U),R?.(U)))},updateNodePositions:(j,R=!1)=>{const B=[];let N=[];const{nodeLookup:G,triggerNodeChanges:K,connection:V,updateConnection:X,onNodesChangeMiddlewareMap:C}=E();for(const[M,U]of j){const D=G.get(M),O=!!(D?.expandParent&&D?.parentId&&U?.position),Y={id:M,type:"position",position:O?{x:Math.max(0,U.position.x),y:Math.max(0,U.position.y)}:U.position,dragging:R};if(D&&V.inProgress&&V.fromNode.id===D.id){const A=Xr(D,V.fromHandle,pe.Left,!0);X({...V,from:A})}O&&D.parentId&&B.push({id:M,parentId:D.parentId,rect:{...U.internals.positionAbsolute,width:U.measured.width??0,height:U.measured.height??0}}),N.push(Y)}if(B.length>0){const{parentLookup:M,nodeOrigin:U}=E(),D=E0(B,G,M,U);N.push(...D)}for(const M of C.values())N=M(N);K(N)},triggerNodeChanges:j=>{const{onNodesChange:R,setNodes:B,nodes:N,hasDefaultNodes:G,debug:K}=E();if(j?.length){if(G){const V=dx(j,N);B(V)}K&&console.log("React Flow: trigger node changes",j),R?.(j)}},triggerEdgeChanges:j=>{const{onEdgesChange:R,setEdges:B,edges:N,hasDefaultEdges:G,debug:K}=E();if(j?.length){if(G){const V=hx(j,N);B(V)}K&&console.log("React Flow: trigger edge changes",j),R?.(j)}},addSelectedNodes:j=>{const{multiSelectionActive:R,edgeLookup:B,nodeLookup:N,triggerNodeChanges:G,triggerEdgeChanges:K}=E();if(R){const V=j.map(X=>Br(X,!0));G(V);return}G(Bi(N,new Set([...j]),!0)),K(Bi(B))},addSelectedEdges:j=>{const{multiSelectionActive:R,edgeLookup:B,nodeLookup:N,triggerNodeChanges:G,triggerEdgeChanges:K}=E();if(R){const V=j.map(X=>Br(X,!0));K(V);return}K(Bi(B,new Set([...j]))),G(Bi(N,new Set,!0))},unselectNodesAndEdges:({nodes:j,edges:R}={})=>{const{edges:B,nodes:N,nodeLookup:G,triggerNodeChanges:K,triggerEdgeChanges:V}=E(),X=j||N,C=R||B,M=X.map(D=>{const O=G.get(D.id);return O&&(O.selected=!1),Br(D.id,!1)}),U=C.map(D=>Br(D.id,!1));K(M),V(U)},setMinZoom:j=>{const{panZoom:R,maxZoom:B}=E();R?.setScaleExtent([j,B]),b({minZoom:j})},setMaxZoom:j=>{const{panZoom:R,minZoom:B}=E();R?.setScaleExtent([B,j]),b({maxZoom:j})},setTranslateExtent:j=>{E().panZoom?.setTranslateExtent(j),b({translateExtent:j})},resetSelectedElements:()=>{const{edges:j,nodes:R,triggerNodeChanges:B,triggerEdgeChanges:N,elementsSelectable:G}=E();if(!G)return;const K=R.reduce((X,C)=>C.selected?[...X,Br(C.id,!1)]:X,[]),V=j.reduce((X,C)=>C.selected?[...X,Br(C.id,!1)]:X,[]);B(K),N(V)},setNodeExtent:j=>{const{nodes:R,nodeLookup:B,parentLookup:N,nodeOrigin:G,elevateNodesOnSelect:K,nodeExtent:V,zIndexMode:X}=E();j[0][0]===V[0][0]&&j[0][1]===V[0][1]&&j[1][0]===V[1][0]&&j[1][1]===V[1][1]||(Qd(R,B,N,{nodeOrigin:G,nodeExtent:j,elevateNodesOnSelect:K,checkEquality:!1,zIndexMode:X}),b({nodeExtent:j}))},panBy:j=>{const{transform:R,width:B,height:N,panZoom:G,translateExtent:K}=E();return HE({delta:j,panZoom:G,transform:R,translateExtent:K,width:B,height:N})},setCenter:async(j,R,B)=>{const{width:N,height:G,maxZoom:K,panZoom:V}=E();if(!V)return Promise.resolve(!1);const X=typeof B?.zoom<"u"?B.zoom:K;return await V.setViewport({x:N/2-j*X,y:G/2-R*X,zoom:X},{duration:B?.duration,ease:B?.ease,interpolate:B?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{b({connection:{...D1}})},updateConnection:j=>{b({connection:j})},reset:()=>b({...Uy()})}},Object.is);function e4({initialNodes:t,initialEdges:a,defaultNodes:i,defaultEdges:s,initialWidth:l,initialHeight:c,initialMinZoom:u,initialMaxZoom:m,initialFitViewOptions:y,fitView:p,nodeOrigin:w,nodeExtent:x,zIndexMode:v,children:b}){const[E]=ee.useState(()=>JN({nodes:t,edges:a,defaultNodes:i,defaultEdges:s,width:l,height:c,fitView:p,minZoom:u,maxZoom:m,fitViewOptions:y,nodeOrigin:w,nodeExtent:x,zIndexMode:v}));return h.jsx(x3,{value:E,children:h.jsx(P3,{children:b})})}function t4({children:t,nodes:a,edges:i,defaultNodes:s,defaultEdges:l,width:c,height:u,fitView:m,fitViewOptions:y,minZoom:p,maxZoom:w,nodeOrigin:x,nodeExtent:v,zIndexMode:b}){return ee.useContext(Pc)?h.jsx(h.Fragment,{children:t}):h.jsx(e4,{initialNodes:a,initialEdges:i,defaultNodes:s,defaultEdges:l,initialWidth:c,initialHeight:u,fitView:m,initialFitViewOptions:y,initialMinZoom:p,initialMaxZoom:w,nodeOrigin:x,nodeExtent:v,zIndexMode:b,children:t})}const n4={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function a4({nodes:t,edges:a,defaultNodes:i,defaultEdges:s,className:l,nodeTypes:c,edgeTypes:u,onNodeClick:m,onEdgeClick:y,onInit:p,onMove:w,onMoveStart:x,onMoveEnd:v,onConnect:b,onConnectStart:E,onConnectEnd:_,onClickConnectStart:j,onClickConnectEnd:R,onNodeMouseEnter:B,onNodeMouseMove:N,onNodeMouseLeave:G,onNodeContextMenu:K,onNodeDoubleClick:V,onNodeDragStart:X,onNodeDrag:C,onNodeDragStop:M,onNodesDelete:U,onEdgesDelete:D,onDelete:O,onSelectionChange:Y,onSelectionDragStart:A,onSelectionDrag:L,onSelectionDragStop:S,onSelectionContextMenu:T,onSelectionStart:z,onSelectionEnd:q,onBeforeDelete:F,connectionMode:P,connectionLineType:H=rr.Bezier,connectionLineStyle:$,connectionLineComponent:Q,connectionLineContainerStyle:te,deleteKeyCode:ie="Backspace",selectionKeyCode:se="Shift",selectionOnDrag:fe=!1,selectionMode:me=ll.Full,panActivationKeyCode:Ne="Space",multiSelectionKeyCode:be=cl()?"Meta":"Control",zoomActivationKeyCode:xe=cl()?"Meta":"Control",snapToGrid:ve,snapGrid:Ee,onlyRenderVisibleElements:_e=!1,selectNodesOnDrag:Xe,nodesDraggable:kt,autoPanOnNodeFocus:xn,nodesConnectable:Qt,nodesFocusable:wn,nodeOrigin:Zn=ux,edgesFocusable:dr,edgesReconnectable:hr,elementsSelectable:Nt=!0,defaultViewport:Kr=R3,minZoom:$n=.5,maxZoom:Ea=2,translateExtent:mr=sl,preventScrolling:Zc=!0,nodeExtent:Zr,defaultMarkerColor:$c="#b1b1b7",zoomOnScroll:Qc=!0,zoomOnPinch:pr=!0,panOnScroll:Ot=!1,panOnScrollSpeed:jn=.5,panOnScrollMode:zt=Pr.Free,zoomOnDoubleClick:Fc=!0,panOnDrag:Wc=!0,onPaneClick:Jc,onPaneMouseEnter:$r,onPaneMouseMove:Qr,onPaneMouseLeave:Fr,onPaneScroll:Qn,onPaneContextMenu:Wr,paneClickDistance:gr=1,nodeClickDistance:eu=0,children:bl,onReconnect:Wi,onReconnectStart:yr,onReconnectEnd:tu,onEdgeContextMenu:kl,onEdgeDoubleClick:Sl,onEdgeMouseEnter:Cl,onEdgeMouseMove:Ji,onEdgeMouseLeave:es,reconnectRadius:El=10,onNodesChange:Nl,onEdgesChange:Dn,noDragClassName:wt="nodrag",noWheelClassName:Dt="nowheel",noPanClassName:Fn="nopan",fitView:Jr,fitViewOptions:_l,connectOnClick:nu,attributionPosition:Ml,proOptions:xr,defaultEdgeOptions:ts,elevateNodesOnSelect:Na=!0,elevateEdgesOnSelect:_a=!1,disableKeyboardA11y:Ma=!1,autoPanOnConnect:Ta,autoPanOnNodeDrag:ht,autoPanSpeed:Tl,connectionRadius:Al,isValidConnection:Wn,onError:Aa,style:au,id:ns,nodeDragThreshold:Rl,connectionDragThreshold:ru,viewport:ei,onViewportChange:ti,width:vn,height:Ut,colorMode:jl="light",debug:iu,onScroll:ni,ariaLabelConfig:Dl,zIndexMode:wr="basic",...su},Gt){const vr=ns||"1",Ll=H3(jl),as=ee.useCallback(Jn=>{Jn.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),ni?.(Jn)},[ni]);return h.jsx("div",{"data-testid":"rf__wrapper",...su,onScroll:as,style:{...au,...n4},ref:Gt,className:xt(["react-flow",l,Ll]),id:ns,role:"application",children:h.jsxs(t4,{nodes:t,edges:a,width:vn,height:Ut,fitView:Jr,fitViewOptions:_l,minZoom:$n,maxZoom:Ea,nodeOrigin:Zn,nodeExtent:Zr,zIndexMode:wr,children:[h.jsx(WN,{onInit:p,onNodeClick:m,onEdgeClick:y,onNodeMouseEnter:B,onNodeMouseMove:N,onNodeMouseLeave:G,onNodeContextMenu:K,onNodeDoubleClick:V,nodeTypes:c,edgeTypes:u,connectionLineType:H,connectionLineStyle:$,connectionLineComponent:Q,connectionLineContainerStyle:te,selectionKeyCode:se,selectionOnDrag:fe,selectionMode:me,deleteKeyCode:ie,multiSelectionKeyCode:be,panActivationKeyCode:Ne,zoomActivationKeyCode:xe,onlyRenderVisibleElements:_e,defaultViewport:Kr,translateExtent:mr,minZoom:$n,maxZoom:Ea,preventScrolling:Zc,zoomOnScroll:Qc,zoomOnPinch:pr,zoomOnDoubleClick:Fc,panOnScroll:Ot,panOnScrollSpeed:jn,panOnScrollMode:zt,panOnDrag:Wc,onPaneClick:Jc,onPaneMouseEnter:$r,onPaneMouseMove:Qr,onPaneMouseLeave:Fr,onPaneScroll:Qn,onPaneContextMenu:Wr,paneClickDistance:gr,nodeClickDistance:eu,onSelectionContextMenu:T,onSelectionStart:z,onSelectionEnd:q,onReconnect:Wi,onReconnectStart:yr,onReconnectEnd:tu,onEdgeContextMenu:kl,onEdgeDoubleClick:Sl,onEdgeMouseEnter:Cl,onEdgeMouseMove:Ji,onEdgeMouseLeave:es,reconnectRadius:El,defaultMarkerColor:$c,noDragClassName:wt,noWheelClassName:Dt,noPanClassName:Fn,rfId:vr,disableKeyboardA11y:Ma,nodeExtent:Zr,viewport:ei,onViewportChange:ti}),h.jsx(L3,{nodes:t,edges:a,defaultNodes:i,defaultEdges:s,onConnect:b,onConnectStart:E,onConnectEnd:_,onClickConnectStart:j,onClickConnectEnd:R,nodesDraggable:kt,autoPanOnNodeFocus:xn,nodesConnectable:Qt,nodesFocusable:wn,edgesFocusable:dr,edgesReconnectable:hr,elementsSelectable:Nt,elevateNodesOnSelect:Na,elevateEdgesOnSelect:_a,minZoom:$n,maxZoom:Ea,nodeExtent:Zr,onNodesChange:Nl,onEdgesChange:Dn,snapToGrid:ve,snapGrid:Ee,connectionMode:P,translateExtent:mr,connectOnClick:nu,defaultEdgeOptions:ts,fitView:Jr,fitViewOptions:_l,onNodesDelete:U,onEdgesDelete:D,onDelete:O,onNodeDragStart:X,onNodeDrag:C,onNodeDragStop:M,onSelectionDrag:L,onSelectionDragStart:A,onSelectionDragStop:S,onMove:w,onMoveStart:x,onMoveEnd:v,noPanClassName:Fn,nodeOrigin:Zn,rfId:vr,autoPanOnConnect:Ta,autoPanOnNodeDrag:ht,autoPanSpeed:Tl,onError:Aa,connectionRadius:Al,isValidConnection:Wn,selectNodesOnDrag:Xe,nodeDragThreshold:Rl,connectionDragThreshold:ru,onBeforeDelete:F,debug:iu,ariaLabelConfig:Dl,zIndexMode:wr}),h.jsx(A3,{onSelectionChange:Y}),bl,h.jsx(E3,{proOptions:xr,position:Ml}),h.jsx(C3,{rfId:vr,disableKeyboardA11y:Ma})]})})}var r4=mx(a4);function i4(t){const[a,i]=ee.useState(t),s=ee.useCallback(l=>i(c=>dx(l,c)),[]);return[a,i,s]}function s4(t){const[a,i]=ee.useState(t),s=ee.useCallback(l=>i(c=>hx(l,c)),[]);return[a,i,s]}function l4({dimensions:t,lineWidth:a,variant:i,className:s}){return h.jsx("path",{strokeWidth:a,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:xt(["react-flow__background-pattern",i,s])})}function o4({radius:t,className:a}){return h.jsx("circle",{cx:t,cy:t,r:t,className:xt(["react-flow__background-pattern","dots",a])})}var or;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(or||(or={}));const c4={[or.Dots]:1,[or.Lines]:1,[or.Cross]:6},u4=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Bx({id:t,variant:a=or.Dots,gap:i=20,size:s,lineWidth:l=1,offset:c=0,color:u,bgColor:m,style:y,className:p,patternClassName:w}){const x=ee.useRef(null),{transform:v,patternId:b}=Pe(u4,st),E=s||c4[a],_=a===or.Dots,j=a===or.Cross,R=Array.isArray(i)?i:[i,i],B=[R[0]*v[2]||1,R[1]*v[2]||1],N=E*v[2],G=Array.isArray(c)?c:[c,c],K=j?[N,N]:B,V=[G[0]*v[2]||1+K[0]/2,G[1]*v[2]||1+K[1]/2],X=`${b}${t||""}`;return h.jsxs("svg",{className:xt(["react-flow__background",p]),style:{...y,...Vc,"--xy-background-color-props":m,"--xy-background-pattern-color-props":u},ref:x,"data-testid":"rf__background",children:[h.jsx("pattern",{id:X,x:v[0]%B[0],y:v[1]%B[1],width:B[0],height:B[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${V[0]},-${V[1]})`,children:_?h.jsx(o4,{radius:N/2,className:w}):h.jsx(l4,{dimensions:K,lineWidth:l,variant:a,className:w})}),h.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${X})`})]})}Bx.displayName="Background";const f4=ee.memo(Bx);function d4(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:h.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function h4(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:h.jsx("path",{d:"M0 0h32v4.2H0z"})})}function m4(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:h.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function p4(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function g4(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function tc({children:t,className:a,...i}){return h.jsx("button",{type:"button",className:xt(["react-flow__controls-button",a]),...i,children:t})}const y4=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function Ux({style:t,showZoom:a=!0,showFitView:i=!0,showInteractive:s=!0,fitViewOptions:l,onZoomIn:c,onZoomOut:u,onFitView:m,onInteractiveChange:y,className:p,children:w,position:x="bottom-left",orientation:v="vertical","aria-label":b}){const E=lt(),{isInteractive:_,minZoomReached:j,maxZoomReached:R,ariaLabelConfig:B}=Pe(y4,st),{zoomIn:N,zoomOut:G,fitView:K}=N0(),V=()=>{N(),c?.()},X=()=>{G(),u?.()},C=()=>{K(l),m?.()},M=()=>{E.setState({nodesDraggable:!_,nodesConnectable:!_,elementsSelectable:!_}),y?.(!_)},U=v==="horizontal"?"horizontal":"vertical";return h.jsxs(Ic,{className:xt(["react-flow__controls",U,p]),position:x,style:t,"data-testid":"rf__controls","aria-label":b??B["controls.ariaLabel"],children:[a&&h.jsxs(h.Fragment,{children:[h.jsx(tc,{onClick:V,className:"react-flow__controls-zoomin",title:B["controls.zoomIn.ariaLabel"],"aria-label":B["controls.zoomIn.ariaLabel"],disabled:R,children:h.jsx(d4,{})}),h.jsx(tc,{onClick:X,className:"react-flow__controls-zoomout",title:B["controls.zoomOut.ariaLabel"],"aria-label":B["controls.zoomOut.ariaLabel"],disabled:j,children:h.jsx(h4,{})})]}),i&&h.jsx(tc,{className:"react-flow__controls-fitview",onClick:C,title:B["controls.fitView.ariaLabel"],"aria-label":B["controls.fitView.ariaLabel"],children:h.jsx(m4,{})}),s&&h.jsx(tc,{className:"react-flow__controls-interactive",onClick:M,title:B["controls.interactive.ariaLabel"],"aria-label":B["controls.interactive.ariaLabel"],children:_?h.jsx(g4,{}):h.jsx(p4,{})}),w]})}Ux.displayName="Controls";const x4=ee.memo(Ux);function w4({id:t,x:a,y:i,width:s,height:l,style:c,color:u,strokeColor:m,strokeWidth:y,className:p,borderRadius:w,shapeRendering:x,selected:v,onClick:b}){const{background:E,backgroundColor:_}=c||{},j=u||E||_;return h.jsx("rect",{className:xt(["react-flow__minimap-node",{selected:v},p]),x:a,y:i,rx:w,ry:w,width:s,height:l,style:{fill:j,stroke:m,strokeWidth:y},shapeRendering:x,onClick:b?R=>b(R,t):void 0})}const v4=ee.memo(w4),b4=t=>t.nodes.map(a=>a.id),Hd=t=>t instanceof Function?t:()=>t;function k4({nodeStrokeColor:t,nodeColor:a,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:l,nodeComponent:c=v4,onClick:u}){const m=Pe(b4,st),y=Hd(a),p=Hd(t),w=Hd(i),x=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return h.jsx(h.Fragment,{children:m.map(v=>h.jsx(C4,{id:v,nodeColorFunc:y,nodeStrokeColorFunc:p,nodeClassNameFunc:w,nodeBorderRadius:s,nodeStrokeWidth:l,NodeComponent:c,onClick:u,shapeRendering:x},v))})}function S4({id:t,nodeColorFunc:a,nodeStrokeColorFunc:i,nodeClassNameFunc:s,nodeBorderRadius:l,nodeStrokeWidth:c,shapeRendering:u,NodeComponent:m,onClick:y}){const{node:p,x:w,y:x,width:v,height:b}=Pe(E=>{const{internals:_}=E.nodeLookup.get(t),j=_.userNode,{x:R,y:B}=_.positionAbsolute,{width:N,height:G}=Ca(j);return{node:j,x:R,y:B,width:N,height:G}},st);return!p||p.hidden||!G1(p)?null:h.jsx(m,{x:w,y:x,width:v,height:b,style:p.style,selected:!!p.selected,className:s(p),color:a(p),borderRadius:l,strokeColor:i(p),strokeWidth:c,shapeRendering:u,onClick:y,id:p.id})}const C4=ee.memo(S4);var E4=ee.memo(k4);const N4=200,_4=150,M4=t=>!t.hidden,T4=t=>{const a={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:a,boundingRect:t.nodeLookup.size>0?U1(yl(t.nodeLookup,{filter:M4}),a):a,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},A4="react-flow__minimap-desc";function Gx({style:t,className:a,nodeStrokeColor:i,nodeColor:s,nodeClassName:l="",nodeBorderRadius:c=5,nodeStrokeWidth:u,nodeComponent:m,bgColor:y,maskColor:p,maskStrokeColor:w,maskStrokeWidth:x,position:v="bottom-right",onClick:b,onNodeClick:E,pannable:_=!1,zoomable:j=!1,ariaLabel:R,inversePan:B,zoomStep:N=1,offsetScale:G=5}){const K=lt(),V=ee.useRef(null),{boundingRect:X,viewBB:C,rfId:M,panZoom:U,translateExtent:D,flowWidth:O,flowHeight:Y,ariaLabelConfig:A}=Pe(T4,st),L=t?.width??N4,S=t?.height??_4,T=X.width/L,z=X.height/S,q=Math.max(T,z),F=q*L,P=q*S,H=G*q,$=X.x-(F-X.width)/2-H,Q=X.y-(P-X.height)/2-H,te=F+H*2,ie=P+H*2,se=`${A4}-${M}`,fe=ee.useRef(0),me=ee.useRef();fe.current=q,ee.useEffect(()=>{if(V.current&&U)return me.current=qE({domNode:V.current,panZoom:U,getTransform:()=>K.getState().transform,getViewScale:()=>fe.current}),()=>{me.current?.destroy()}},[U]),ee.useEffect(()=>{me.current?.update({translateExtent:D,width:O,height:Y,inversePan:B,pannable:_,zoomStep:N,zoomable:j})},[_,j,B,N,D,O,Y]);const Ne=b?ve=>{const[Ee,_e]=me.current?.pointer(ve)||[0,0];b(ve,{x:Ee,y:_e})}:void 0,be=E?ee.useCallback((ve,Ee)=>{const _e=K.getState().nodeLookup.get(Ee).internals.userNode;E(ve,_e)},[]):void 0,xe=R??A["minimap.ariaLabel"];return h.jsx(Ic,{position:v,style:{...t,"--xy-minimap-background-color-props":typeof y=="string"?y:void 0,"--xy-minimap-mask-background-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-color-props":typeof w=="string"?w:void 0,"--xy-minimap-mask-stroke-width-props":typeof x=="number"?x*q:void 0,"--xy-minimap-node-background-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-width-props":typeof u=="number"?u:void 0},className:xt(["react-flow__minimap",a]),"data-testid":"rf__minimap",children:h.jsxs("svg",{width:L,height:S,viewBox:`${$} ${Q} ${te} ${ie}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":se,ref:V,onClick:Ne,children:[xe&&h.jsx("title",{id:se,children:xe}),h.jsx(E4,{onClick:be,nodeColor:s,nodeStrokeColor:i,nodeBorderRadius:c,nodeClassName:l,nodeStrokeWidth:u,nodeComponent:m}),h.jsx("path",{className:"react-flow__minimap-mask",d:`M${$-H},${Q-H}h${te+H*2}v${ie+H*2}h${-te-H*2}z
        M${C.x},${C.y}h${C.width}v${C.height}h${-C.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Gx.displayName="MiniMap";ee.memo(Gx);const R4=t=>a=>t?`${Math.max(1/a.transform[2],1)}`:void 0,j4={[Qi.Line]:"right",[Qi.Handle]:"bottom-right"};function D4({nodeId:t,position:a,variant:i=Qi.Handle,className:s,style:l=void 0,children:c,color:u,minWidth:m=10,minHeight:y=10,maxWidth:p=Number.MAX_VALUE,maxHeight:w=Number.MAX_VALUE,keepAspectRatio:x=!1,resizeDirection:v,autoScale:b=!0,shouldResize:E,onResizeStart:_,onResize:j,onResizeEnd:R}){const B=xx(),N=typeof t=="string"?t:B,G=lt(),K=ee.useRef(null),V=i===Qi.Handle,X=Pe(ee.useCallback(R4(V&&b),[V,b]),st),C=ee.useRef(null),M=a??j4[i];ee.useEffect(()=>{if(!(!K.current||!N))return C.current||(C.current=r3({domNode:K.current,nodeId:N,getStoreItems:()=>{const{nodeLookup:D,transform:O,snapGrid:Y,snapToGrid:A,nodeOrigin:L,domNode:S}=G.getState();return{nodeLookup:D,transform:O,snapGrid:Y,snapToGrid:A,nodeOrigin:L,paneDomNode:S}},onChange:(D,O)=>{const{triggerNodeChanges:Y,nodeLookup:A,parentLookup:L,nodeOrigin:S}=G.getState(),T=[],z={x:D.x,y:D.y},q=A.get(N);if(q&&q.expandParent&&q.parentId){const F=q.origin??S,P=D.width??q.measured.width??0,H=D.height??q.measured.height??0,$={id:q.id,parentId:q.parentId,rect:{width:P,height:H,...P1({x:D.x??q.position.x,y:D.y??q.position.y},{width:P,height:H},q.parentId,A,F)}},Q=E0([$],A,L,S);T.push(...Q),z.x=D.x?Math.max(F[0]*P,D.x):void 0,z.y=D.y?Math.max(F[1]*H,D.y):void 0}if(z.x!==void 0&&z.y!==void 0){const F={id:N,type:"position",position:{...z}};T.push(F)}if(D.width!==void 0&&D.height!==void 0){const P={id:N,type:"dimensions",resizing:!0,setAttributes:v?v==="horizontal"?"width":"height":!0,dimensions:{width:D.width,height:D.height}};T.push(P)}for(const F of O){const P={...F,type:"position"};T.push(P)}Y(T)},onEnd:({width:D,height:O})=>{const Y={id:N,type:"dimensions",resizing:!1,dimensions:{width:D,height:O}};G.getState().triggerNodeChanges([Y])}})),C.current.update({controlPosition:M,boundaries:{minWidth:m,minHeight:y,maxWidth:p,maxHeight:w},keepAspectRatio:x,resizeDirection:v,onResizeStart:_,onResize:j,onResizeEnd:R,shouldResize:E}),()=>{C.current?.destroy()}},[M,m,y,p,w,x,_,j,R,E]);const U=M.split("-");return h.jsx("div",{className:xt(["react-flow__resize-control","nodrag",...U,i,s]),ref:K,style:{...l,scale:X,...u&&{[V?"backgroundColor":"borderColor"]:u}},children:c})}ee.memo(D4);const L4=ee.memo(({data:t})=>{const{nodeId:a}=t,i=ee.useMemo(()=>hl(a),[a]),{level:s,quintessence:l,purchaseSkillNode:c,purchaseMaxSkillNode:u,glossaryUnlocks:m,skillTreeBuyMaxUnlocked:y}=ge(Et(X=>({level:X.skillLevels[a]??0,quintessence:X.quintessence,purchaseSkillNode:X.purchaseSkillNode,purchaseMaxSkillNode:X.purchaseMaxSkillNode,glossaryUnlocks:X.glossaryUnlocks,skillTreeBuyMaxUnlocked:X.skillTreeBuyMaxUnlocked}))),p=ee.useMemo(()=>{if(!i?.rarityLock)return 0;let X=0;return et.forEach(C=>{C.rarity===i.rarityLock?.rarity&&m.includes(C.id)&&X++}),X},[i,m]);if(!i)return null;const w=kb(i,s),x=!ge(X=>Sb(a,X.skillLevels)),v=!ge(X=>Cb(a,X.skillLevels)),b=!x&&!v&&l.gte(w)&&s<i.maxLevel,E=i.effectPerLevel*s,_=s>=i.maxLevel,j=Ky[i.category],{name:R,maxLevel:B,description:N,effectType:G,category:K,rarityLock:V}=i;return v?h.jsxs("div",{className:"w-48 h-36 rounded-lg border-2 border-neutral-300 border-dashed bg-neutral-100 flex items-center justify-center opacity-40",children:[h.jsx(We,{type:"target",position:pe.Top,id:"top",className:"!bg-neutral-300"}),h.jsx(We,{type:"target",position:pe.Bottom,id:"bottom",className:"!bg-neutral-300"}),h.jsx(We,{type:"target",position:pe.Left,id:"left",className:"!bg-neutral-300"}),h.jsx(We,{type:"target",position:pe.Right,id:"right",className:"!bg-neutral-300"}),h.jsx(We,{type:"source",position:pe.Top,id:"top",className:"!bg-neutral-300"}),h.jsx(We,{type:"source",position:pe.Bottom,id:"bottom",className:"!bg-neutral-300"}),h.jsx(We,{type:"source",position:pe.Left,id:"left",className:"!bg-neutral-300"}),h.jsx(We,{type:"source",position:pe.Right,id:"right",className:"!bg-neutral-300"}),h.jsx("span",{className:"text-neutral-400 text-2xl",children:"?"})]}):V&&p<V.count?h.jsxs("div",{className:"w-48 h-36 p-3 rounded-lg border-2 border-neutral-300 bg-neutral-100 flex flex-col items-center justify-center gap-2 opacity-80",children:[h.jsx(We,{type:"target",position:pe.Top,id:"top",className:"opacity-0"}),h.jsx(We,{type:"target",position:pe.Bottom,id:"bottom",className:"opacity-0"}),h.jsx(We,{type:"target",position:pe.Left,id:"left",className:"opacity-0"}),h.jsx(We,{type:"target",position:pe.Right,id:"right",className:"opacity-0"}),h.jsx(We,{type:"source",position:pe.Top,id:"top",className:"opacity-0"}),h.jsx(We,{type:"source",position:pe.Bottom,id:"bottom",className:"opacity-0"}),h.jsx(We,{type:"source",position:pe.Left,id:"left",className:"opacity-0"}),h.jsx(We,{type:"source",position:pe.Right,id:"right",className:"opacity-0"}),h.jsx("div",{className:"text-3xl",children:""}),h.jsxs("div",{className:"text-xs font-bold text-neutral-500 uppercase text-center",children:["Requires ",V.count," ",V.rarity," Sketches in Glossary"]}),h.jsxs("div",{className:"text-[10px] text-neutral-400",children:["Current: ",p," / ",V.count]})]}):h.jsxs("div",{className:`
                w-48 h-36 p-3 rounded-lg border-2 shadow-lg transition-all
                ${x?"bg-neutral-100 border-neutral-300 opacity-60":_?"bg-neutral-50 border-neutral-200 opacity-60":b||s>0?`${j.bg} ${j.border} hover:shadow-xl`:"bg-white border-neutral-300"}
            `,children:[h.jsx(We,{type:"target",position:pe.Top,id:"top",className:"opacity-0"}),h.jsx(We,{type:"target",position:pe.Bottom,id:"bottom",className:"opacity-0"}),h.jsx(We,{type:"target",position:pe.Left,id:"left",className:"opacity-0"}),h.jsx(We,{type:"target",position:pe.Right,id:"right",className:"opacity-0"}),h.jsx(We,{type:"source",position:pe.Top,id:"top",className:"opacity-0"}),h.jsx(We,{type:"source",position:pe.Bottom,id:"bottom",className:"opacity-0"}),h.jsx(We,{type:"source",position:pe.Left,id:"left",className:"opacity-0"}),h.jsx(We,{type:"source",position:pe.Right,id:"right",className:"opacity-0"}),h.jsxs("div",{className:`text-[10px] font-bold uppercase tracking-wider mb-1 ${_?"text-neutral-400":j.accent}`,children:[K,"  Lv. ",s,"/",B]}),h.jsx("div",{className:`font-black text-sm leading-tight mb-1 ${_?"text-neutral-400":"text-neutral-800"}`,children:R}),h.jsx("div",{className:"text-xs text-neutral-500 mb-1 italic",children:N}),s>0&&h.jsx("div",{className:`text-xs font-semibold mb-2 ${_?"text-neutral-400":j.accent}`,children:G==="GENERATOR_MULTIPLIER_EXPONENT"?`Current: *${ke(Math.pow(2,s))}`:G.endsWith("_GENERATOR_MULTIPLIER")?`Current: ${ke(Math.pow(10,s))}x`:G.endsWith("_EXPONENT")?`Current: ^${ke(1+E)}`:`Current: +${ke(E)}`}),!_&&(y?h.jsxs("div",{className:"flex gap-1 w-full",children:[h.jsxs("button",{onClick:()=>c(a),disabled:!b||x,className:`
                                flex-grow-[2] py-2 px-2 rounded-l text-xs font-bold uppercase tracking-wide
                                flex items-center justify-center gap-1 transition-colors
                                ${b&&!x?"bg-purple-600 text-white hover:bg-purple-700 cursor-pointer":"bg-neutral-200 text-neutral-400 cursor-not-allowed"}
                            `,children:[h.jsx(tl,{className:"w-3 h-3"}),ke(w)]}),h.jsx("button",{onClick:()=>u(a),disabled:!b||x,className:`
                                flex-grow-[1] py-2 px-2 rounded-r text-xs font-bold uppercase tracking-wide
                                flex items-center justify-center transition-colors
                                ${b&&!x?"bg-purple-800 text-white hover:bg-purple-900 cursor-pointer":"bg-neutral-300 text-neutral-400 cursor-not-allowed"}
                            `,children:"Max"})]}):h.jsxs("button",{onClick:()=>c(a),disabled:!b||x,className:`
                            w-full py-2 px-3 rounded text-xs font-bold uppercase tracking-wide
                            flex items-center justify-center gap-1 transition-colors
                            ${b&&!x?"bg-purple-600 text-white hover:bg-purple-700 cursor-pointer":"bg-neutral-200 text-neutral-400 cursor-not-allowed"}
                        `,children:[h.jsx(tl,{className:"w-3 h-3"}),ke(w)]})),_&&h.jsx("div",{className:"w-full py-2 px-3 rounded text-xs font-bold uppercase tracking-wide text-center bg-neutral-200 text-neutral-500",children:"Maxed"})]})}),H4={skillNode:L4},O4=()=>{const{skillLevels:t,purchaseSkillNode:a,glossaryUnlocks:i}=ge(Et(v=>({skillLevels:v.skillLevels,purchaseSkillNode:v.purchaseSkillNode,glossaryUnlocks:v.glossaryUnlocks}))),s=ee.useMemo(()=>{const v={};return et.forEach(b=>{v[b.rarity]||(v[b.rarity]={unlocked:0,total:0}),v[b.rarity].total++,i.includes(b.id)&&v[b.rarity].unlocked++}),v},[i]),{flowNodes:l,flowEdges:c}=ee.useMemo(()=>{const v=Ir.map(E=>({id:E.id,type:"skillNode",position:E.position,data:{nodeId:E.id}})),b=Ir.filter(E=>E.parentId!==null).map(E=>{const _=hl(E.parentId),R=(t[E.parentId]??0)>=1,B=Ky[E.category],N=Eb(_,E),G=R?B.border==="border-amber-400"?"#f59e0b":B.border==="border-red-400"?"#f87171":B.border==="border-green-400"?"#4ade80":B.border==="border-purple-400"?"#c084fc":"#9ca3af":"#d1d5db";return{id:`${E.parentId}-${E.id}`,source:E.parentId,target:E.id,sourceHandle:N.sourceHandle,targetHandle:N.targetHandle,style:{stroke:G,strokeWidth:2},animated:R}});return{flowNodes:v,flowEdges:b}},[t,a,s]),[u,m,y]=i4(l),[p,w,x]=s4(c);return ee.useEffect(()=>{m(l),w(c)},[l,c,m,w]),h.jsx("div",{className:"w-full h-full min-h-[500px] bg-neutral-50 rounded-lg border-2 border-neutral-200",children:h.jsxs(r4,{nodes:u,edges:p,onNodesChange:y,onEdgesChange:x,colorMode:"light",connectionLineStyle:{stroke:"#d1d5db",strokeWidth:2},fitView:!0,fitViewOptions:{padding:.2},proOptions:{hideAttribution:!0},zoomOnDoubleClick:!1,onInit:v=>{setTimeout(()=>{const E=ge.getState().lastPurchasedSkill,_=v.getNodes();if(E){const R=_.find(B=>B.id===E);if(R){v.fitView({nodes:[R],padding:3,duration:800});return}}else{const R=_.find(B=>B.id==="root");if(R){v.fitView({nodes:[R],padding:3,duration:800});return}}const j=_.filter(R=>!R.data.isHidden);j.length>0&&v.fitView({nodes:j,padding:.35,duration:800})},100)},nodeTypes:H4,minZoom:.25,maxZoom:2,defaultViewport:{x:0,y:0,zoom:1},nodesDraggable:!1,nodesConnectable:!1,children:[h.jsx(f4,{color:"#e5e5e5",gap:20}),h.jsx(x4,{position:"bottom-right",showInteractive:!1,className:"!bg-white !border-neutral-300 !shadow-lg"})]})})},z4=({onComplete:t})=>{const[a,i]=ee.useState("fade-in");return ee.useEffect(()=>{const s=setTimeout(()=>{i("text")},500),l=setTimeout(()=>{i("fade-out"),t()},2500);return()=>{clearTimeout(s),clearTimeout(l)}},[t]),y3.createPortal(h.jsx("div",{className:`
                fixed inset-0 z-[9999] flex items-center justify-center pointer-events-none
                transition-opacity duration-1000 ease-in-out bg-white
                ${a==="fade-out"?"opacity-0":"opacity-100"}
            `,children:h.jsx("div",{className:`
                    text-4xl md:text-6xl font-black uppercase tracking-[0.2em] text-center
                    transition-all duration-1000 transform
                    ${a==="text"?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-4"}
                `,children:h.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-neutral-900 to-neutral-600",children:"The World Is Being Drawn Anew"})})}),document.body)},B4=()=>{const{quintessence:t,activeTab:a,setActiveTab:i}=ge(Et(s=>({quintessence:s.quintessence,activeTab:s.archiveActiveSubTab,setActiveTab:s.setArchiveActiveSubTab})));return h.jsxs("div",{className:"h-full p-4 overflow-hidden flex flex-col",children:[h.jsx("header",{className:"mb-4 border-b-2 border-neutral-200 pb-3 shrink-0",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("button",{onClick:()=>i("synthesis"),className:`
px-4 py-2 font-bold uppercase tracking-wide border-b-4 transition-colors relative
                                ${a==="synthesis"?"border-neutral-800 text-neutral-900":"border-transparent text-neutral-400 hover:text-neutral-600"}
`,children:["Conceptual Synthesizer",h.jsx(U4,{})]}),h.jsx("button",{onClick:()=>i("masterpiece"),className:`
px-4 py-2 font-bold uppercase tracking-wide border-b-4 transition-colors
                                ${a==="masterpiece"?"border-neutral-800 text-neutral-900":"border-transparent text-neutral-400 hover:text-neutral-600"}
`,children:"Masterpiece Archive"}),h.jsxs("button",{onClick:()=>i("glossary"),className:`
px-4 py-2 font-bold uppercase tracking-wide border-b-4 transition-colors relative
                                ${a==="glossary"?"border-neutral-800 text-neutral-900":"border-transparent text-neutral-400 hover:text-neutral-600"}
`,children:["Glossary",h.jsx(G4,{})]})]}),h.jsxs("div",{className:"flex items-center gap-2 bg-purple-50 px-4 py-2 rounded-full border border-purple-200",children:[h.jsx(tl,{className:"w-5 h-5 text-purple-600"}),h.jsx("span",{className:"text-lg font-bold font-mono text-purple-700",children:ke(t)})]})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a==="synthesis"&&h.jsx("div",{id:"tutorial-archive-synthesizer",children:h.jsx(I4,{})}),a==="masterpiece"&&h.jsx("div",{id:"tutorial-archive-masterpiece",className:"h-full",children:h.jsx(O4,{})}),a==="glossary"&&h.jsx("div",{id:"tutorial-archive-glossary",className:"pb-8 px-2",children:h.jsx(q4,{})})]})]})},U4=()=>{const{totalEarnedCurrencies:t,conceptMilestones:a}=ge(Et(s=>({totalEarnedCurrencies:s.totalEarnedCurrencies,conceptMilestones:s.conceptMilestones})));return cr.some(s=>{const l=t[s]||new f(0),c=a[s],u=Vi[c];return u&&l.gte(u)})?h.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-orange-500 rounded-full border border-white"}):null},G4=()=>{const{glossaryUnlocks:t,seenGlossaryItems:a}=ge(Et(i=>({glossaryUnlocks:i.glossaryUnlocks,seenGlossaryItems:i.seenGlossaryItems})));return t.length<=a.length?null:h.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-orange-500 rounded-full border border-white"})},P4=({isOpen:t,onClose:a,onConfirm:i,pendingQuintessence:s})=>t?h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:h.jsxs("div",{className:"bg-white max-w-md w-full p-8 shadow-2xl border-4 border-purple-600 relative animate-in fade-in zoom-in-95 duration-200",children:[h.jsx("h3",{className:"text-2xl font-black uppercase text-purple-900 mb-4 tracking-tight",children:"Confirm Redraw"}),h.jsxs("div",{className:"space-y-4 mb-8 text-sm text-neutral-600 font-serif",children:[h.jsxs("p",{children:["You are about to ",h.jsx("strong",{className:"text-purple-700",children:"Redraw the World"}),"."]}),h.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[h.jsxs("li",{children:[h.jsx("strong",{className:"text-red-600",children:"RESET:"})," Gallery Progress"]}),h.jsxs("li",{children:[h.jsx("strong",{className:"text-red-600",children:"RESET:"})," Shop Tools & Upgrades"]}),h.jsxs("li",{children:[h.jsx("strong",{className:"text-red-600",children:"RESET:"})," Conceptual Synthesizer"]}),h.jsxs("li",{children:[h.jsx("strong",{className:"text-green-600",children:"PRESERVED:"})," Masterpiece Archive (Skills)"]}),h.jsxs("li",{children:[h.jsx("strong",{className:"text-green-600",children:"PRESERVED:"})," Glossary Unlocks"]})]}),h.jsxs("p",{className:"border-t border-purple-100 pt-3 mt-3",children:["You will gain ",h.jsxs("strong",{className:"text-purple-600 text-lg",children:["+",ke(s)," Quintessence"]})," to spend on permanent upgrades."]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:a,className:"flex-1 py-3 font-bold uppercase tracking-wider text-xs border-2 border-neutral-200 hover:bg-neutral-50 hover:border-neutral-300 transition-colors",children:"Cancel"}),h.jsx("button",{onClick:i,className:"flex-1 py-3 bg-purple-600 text-white font-black uppercase tracking-wider text-xs border-2 border-purple-800 hover:bg-purple-700 shadow-md hover:-translate-y-0.5 transition-all",children:"Confirm Redraw"})]})]})}):null,I4=()=>{const{totalEarnedCurrencies:t,concepts:a,conceptMilestones:i,advanceMilestone:s,pendingQuintessence:l,prestige:c,skipRedrawConfirmation:u}=ge(Et(_=>({totalEarnedCurrencies:_.totalEarnedCurrencies,concepts:_.concepts,conceptMilestones:_.conceptMilestones,advanceMilestone:_.advanceMilestone,pendingQuintessence:_.pendingQuintessence,prestige:_.prestige,skipRedrawConfirmation:_.skipRedrawConfirmation}))),[m,y]=ee.useState(!1),[p,w]=ee.useState(!1),x=l.gte(10),v=()=>{y(!1),w(!0)},b=()=>{x&&(u?v():y(!0))},E=ee.useCallback(()=>{c(),setTimeout(()=>{w(!1)},1e3)},[c]);return h.jsxs("div",{className:"flex gap-8 h-full pb-8",children:[p&&h.jsx(z4,{onComplete:E}),h.jsx(P4,{isOpen:m,onClose:()=>y(!1),onConfirm:v,pendingQuintessence:l}),h.jsx("div",{className:"flex-1 overflow-y-auto pr-2 bg-white border-2 border-neutral-200",children:h.jsxs("table",{className:"w-full text-left table-fixed",children:[h.jsx("thead",{className:"bg-neutral-100 border-b-2 border-neutral-200 sticky top-0 z-10",children:h.jsxs("tr",{children:[h.jsx("th",{className:"p-3 text-xs font-bold uppercase text-neutral-500 tracking-widest",style:{width:"25%"},children:"Concept"}),h.jsx("th",{className:"p-3 text-xs font-bold uppercase text-neutral-500 tracking-widest",style:{width:"15%"},children:"Total Gained"}),h.jsx("th",{className:"p-3 text-xs font-bold uppercase text-neutral-500 tracking-widest",style:{width:"30%"},children:"Milestone / Unlock"}),h.jsx("th",{className:"p-3 text-xs font-bold uppercase text-neutral-500 tracking-widest text-right",style:{width:"15%"},children:"Count"}),h.jsx("th",{className:"p-3 text-xs font-bold uppercase text-neutral-500 tracking-widest text-right",style:{width:"15%"},children:"Producing"})]})}),h.jsx("tbody",{children:cr.map((_,j)=>{const R=$y[_],B=Fy[`${_.replace(" ","")}Icon`]||el,N=t[_]||new f(0),G=a[_]||new f(0),K=i[_]||0,V=Vi[K],X=V&&N.gte(V),C=!V,M=K>0?new f(1e3).pow(K-1):new f(0),U=j===0?"Quintessence Gain":`${cr[j-1]} Concept`,D=G.times(M);return h.jsxs("tr",{id:j===0?"tutorial-archive-graphite-row":j===1?"tutorial-archive-secondary-concepts":void 0,className:"border-b border-neutral-100 hover:bg-neutral-50 transition-colors",children:[h.jsx("td",{className:"p-3",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-1.5 bg-black rounded-full border border-neutral-800",children:h.jsx(B,{className:"w-6 h-6",color:"#C084FC"})}),h.jsxs("div",{children:[h.jsx("div",{className:"font-bold text-neutral-800 leading-none",children:R.label}),h.jsxs("div",{className:"text-[10px] text-neutral-400 font-mono mt-1",children:["Produces ",U]})]})]})}),h.jsx("td",{className:"p-3 font-mono font-bold text-neutral-600",children:ke(N)}),h.jsx("td",{className:"p-3",children:C?h.jsx("span",{className:"text-xs font-bold text-green-600 uppercase tracking-wider",children:"Maxed"}):h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs("div",{className:"flex-1 min-w-[120px]",children:[h.jsxs("div",{className:"text-xs font-mono text-neutral-500 mb-1",children:["Target: ",ke(V)]}),X?h.jsx("button",{onClick:()=>s(_),className:`\r
                                                                w-full py-1 px-2 bg-green-500 hover:bg-green-600 text-white \r
                                                                text-xs font-bold uppercase rounded shadow-sm transition-colors\r
                                                                animate-pulse\r
                                                            `,children:"Advance"}):h.jsx("div",{className:"w-full h-1.5 bg-neutral-100 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-neutral-300",style:{width:`${Math.min(100,N.div(V).times(100).toNumber())}% `}})})]})})}),h.jsx("td",{className:"p-3 text-right",children:h.jsx("div",{className:"font-mono font-bold text-neutral-600",children:ke(G)})}),h.jsx("td",{className:"p-3 text-right",children:h.jsx("div",{className:"font-mono font-black text-lg text-neutral-800 leading-none",children:ke(D)})})]},_)})})]})}),h.jsxs("div",{id:"tutorial-archive-prestige-panel",className:"w-80 bg-neutral-50 border-2 border-neutral-200 p-8 flex flex-col items-center justify-center text-center shrink-0",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx(tl,{className:"w-24 h-24 text-purple-200 mx-auto mb-4"}),h.jsx("h3",{className:"text-2xl font-black uppercase text-neutral-800 tracking-tight",children:"Ascension Pending"}),h.jsxs("p",{className:"text-neutral-500 italic mt-2 text-sm",children:["Synthesize your conceptual understanding into pure Quintessence.",h.jsx("br",{}),"The world will be redrawn anew."]})]}),h.jsxs("div",{className:"bg-white p-6 border-2 border-purple-100 rounded-xl shadow-sm w-full mb-8",children:[h.jsx("div",{className:"text-sm font-bold uppercase text-purple-400 tracking-widest mb-1",children:"Quintessence Gain"}),h.jsxs("div",{className:"text-4xl font-black text-purple-600 tracking-tighter break-all",children:["+",ke(l)]})]}),h.jsx("button",{disabled:!x,onClick:b,className:`
px-8 py-4 font-black text-lg uppercase tracking-widest
border-2 flex items-center gap-3 w-full justify-center transition-colors
                        ${x?"bg-purple-600 hover:bg-purple-700 text-white border-purple-800 cursor-pointer":"bg-neutral-200 text-neutral-400 border-neutral-300 cursor-not-allowed"}
`,children:h.jsx("span",{children:"Redraw World"})})]})]})},V4=({sketch:t})=>{const{isDefeated:a,isSeen:i,markSeen:s}=ge(Et(l=>({isDefeated:l.glossaryUnlocks.includes(t.id),isSeen:l.seenGlossaryItems.includes(t.id),markSeen:l.markGlossaryItemAsSeen})));return h.jsxs("div",{className:`bg-white p-4 shadow-[2px_2px_0px_0px_rgba(0,0,0,0.1)] rarity-${t.rarity} flex flex-col relative transition-transform hover:scale-[1.02]`,onMouseEnter:()=>{a&&!i&&s(t.id)},children:[a&&!i&&h.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded shadow animate-bounce z-10",children:"NEW!"}),a?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-3 mb-3",children:[h.jsx("div",{className:"w-16 h-16 shrink-0 bg-neutral-50 border border-neutral-100 flex items-center justify-center",children:h.jsx("img",{src:t.imagePath,alt:t.name,className:"w-full h-full object-contain mix-blend-multiply opacity-90"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h4",{className:"font-black uppercase text-neutral-800 leading-tight text-sm",children:t.name}),h.jsx("p",{className:"text-[9px] text-neutral-500 font-serif italic truncate",children:t.flavorText}),h.jsx("div",{className:"text-[9px] text-neutral-400 font-bold uppercase mt-1",children:t.rarity})]})]}),h.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-1 text-[10px] font-bold text-neutral-600 mb-2",children:Object.values(Rt).map(l=>{const c=t.stats[l.sketchKey];if(c==null)return null;const u=f.isBigNumber(c);return l.key==="MinDamage"&&u&&c.eq(75)||l.key==="MaxDamage"&&u&&c.eq(125)||(u?c.isZero():c===0)&&l.key!=="HP"&&l.key!=="ATK"&&l.key!=="SPD"?null:h.jsxs("span",{className:"flex items-center gap-0.5",title:l.fullName,children:[h.jsx(l.icon,{className:`w-3 h-3 ${l.colorClass}`}),ke(c,l.format.decimals),l.format.suffix]},l.key)})}),h.jsxs("div",{className:"mt-auto border-t border-neutral-100 pt-2",children:[h.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest text-neutral-400 mb-1",children:"Base Rewards"}),h.jsx(c0,{rewards:t.rewards,currencyRewards:t.currencyRewards,multiplier:new f(1),layout:"grid"})]})]}):h.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[h.jsx("h4",{className:"font-black uppercase text-neutral-400 leading-tight text-sm mb-3 tracking-widest",children:zd(t.name)}),h.jsx("div",{className:"w-16 h-16 bg-neutral-100 border-2 border-dashed border-neutral-300 rounded flex items-center justify-center mb-2",children:h.jsx("span",{className:"text-4xl font-black text-neutral-300",children:"?"})}),h.jsx("div",{className:"text-[9px] text-neutral-400 font-bold uppercase",children:t.rarity}),h.jsx("p",{className:"text-[9px] text-neutral-400 mt-2",children:"Defeat to reveal"})]})]})},q4=()=>{const{glossaryUnlocks:t,seenGlossaryItems:a,getUnlockedRarityCounts:i,glossaryMultiplier:s}=ge(Et(x=>({glossaryUnlocks:x.glossaryUnlocks,seenGlossaryItems:x.seenGlossaryItems,getUnlockedRarityCounts:x.getUnlockedRarityCounts,glossaryMultiplier:x.glossaryMultiplier}))),[l,c]=ee.useState("all"),u=i(),m={};let y=0;t.forEach(x=>{if(!a.includes(x)){const v=et.find(b=>b.id===x);v&&(m[v.rarity]=(m[v.rarity]||0)+1,y++)}});const p=[{id:"all",label:"All",count:t.length,total:et.length,newCount:y},{id:"scrap",label:"Scrap",count:u.scrap?.unlocked||0,total:u.scrap?.total||0,newCount:m.scrap||0},{id:"rough",label:"Rough",count:u.rough?.unlocked||0,total:u.rough?.total||0,newCount:m.rough||0},{id:"framed",label:"Framed",count:u.framed?.unlocked||0,total:u.framed?.total||0,newCount:m.framed||0},{id:"opus",label:"Opus",count:u.opus?.unlocked||0,total:u.opus?.total||0,newCount:m.opus||0},{id:"masterpiece",label:"Masterpiece",count:u.masterpiece?.unlocked||0,total:u.masterpiece?.total||0,newCount:m.masterpiece||0}],w=et.filter(x=>l==="all"||x.rarity===l);return h.jsxs("div",{id:"tutorial-archive-glossary-content",children:[h.jsxs("div",{className:"flex justify-between items-end mb-6",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{id:"tutorial-archive-glossary-header",className:"text-neutral-500 font-serif italic text-sm mb-4",children:"A catalog of all known sketches. Defeat a sketch to unlock its glossary entry."}),h.jsx("div",{className:"flex flex-wrap gap-2 border-b border-neutral-200 pb-1",children:p.map(x=>h.jsxs("button",{onClick:()=>c(x.id),className:`
                                    relative px-4 py-2 text-xs font-bold uppercase tracking-wider rounded-t-lg transition-all
                                    border-t-2 border-x-2 -mb-[3px] z-10
                                    ${l===x.id?"bg-white border-neutral-200 text-neutral-900 shadow-[0_-2px_5px_rgba(0,0,0,0.02)]":"bg-neutral-50 border-transparent text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100"}
                                `,children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{children:x.label}),h.jsxs("span",{className:`px-1.5 py-0.5 rounded text-[9px] ${l===x.id?"bg-neutral-100 text-neutral-600":"bg-neutral-200 text-neutral-500"}`,children:[x.count,"/",x.total]})]}),x.newCount>0&&h.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-white"})]},x.id))})]}),h.jsxs("div",{className:"text-right pl-4 pb-2",children:[h.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-400",children:"Total Glossary Multiplier"}),h.jsxs("div",{className:"text-2xl font-black text-neutral-800",children:[ke(s),"x"]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 bg-neutral-50/50 p-4 rounded-lg min-h-[400px]",children:[w.map(x=>h.jsx(V4,{sketch:x},x.id)),w.length===0&&h.jsx("div",{className:"col-span-full text-center py-20 text-neutral-400 font-serif italic",children:"No sketches found in this category."})]})]})},Y4=()=>{const{resetGame:t}=ge(),[a,i]=ee.useState(""),[s,l]=ee.useState(null),c=(v,b)=>{l({msg:v,type:b}),setTimeout(()=>l(null),3e3)},u=()=>{const v=localStorage.getItem("unnamed-battler-save");if(!v)return null;try{return btoa(v)}catch(b){return console.error("Encoding error",b),null}},m=()=>{const v=u();v?navigator.clipboard.writeText(v).then(()=>{c("Save string copied to clipboard!","success")}):c("No save data found.","error")},y=()=>{const v=u();if(v){const b=new Blob([v],{type:"text/plain"}),E=URL.createObjectURL(b),_=document.createElement("a");_.href=E;const j=ge.getState();let R=new f(0);Object.entries(j.skillLevels).forEach(([K,V])=>{const X=Ir.find(C=>C.id===K);if(X&&V>0){const C=X.costMultiplier,M=X.baseCost,U=V;let D;if(C===1)D=new f(M).times(U);else{const O=new f(C).pow(U).minus(1),Y=C-1;D=new f(M).times(O).div(Y)}R=R.plus(D)}});const B=j.quintessence.plus(R),N=j.glossaryUnlocks.length,G=new Date().toISOString().split("T")[0];_.download=`unnamed-battler-save-Q${ke(B)}-G${N}-${G}.txt`,_.click(),URL.revokeObjectURL(E),c("Save file downloaded!","success")}else c("No save data found.","error")},p=v=>{try{const b=atob(v);JSON.parse(b),localStorage.setItem("unnamed-battler-save",b),window.location.reload()}catch(b){console.error(b),c("Invalid save data string.","error")}},w=v=>{const b=v.target.files?.[0];if(!b)return;const E=new FileReader;E.onload=_=>{const j=_.target?.result;p(j.trim())},E.readAsText(b)},x=()=>{confirm("Are you sure you want to wipe your save and restart? This cannot be undone.")&&t()};return h.jsxs("div",{className:"h-full p-8 overflow-y-auto w-full mx-auto",children:[s&&h.jsx("div",{className:`fixed top-4 right-4 px-6 py-3 rounded shadow-lg font-bold border-2 z-50 ${s.type==="success"?"bg-green-100 text-green-800 border-green-300":"bg-red-100 text-red-800 border-red-300"}`,children:s.msg}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[h.jsxs("section",{className:"bg-white border-2 border-neutral-200 p-6 shadow-[4px_4px_0px_0px_rgba(0,0,0,0.05)] col-span-1 md:col-span-2",children:[h.jsxs("h3",{className:"text-xl font-black uppercase text-neutral-800 mb-4 flex items-center gap-2",children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),"Notification Filters"]}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["COMBAT_VICTORY","COMBAT_DEFEAT","COMBAT_FLEE","SHOP_ERROR","SYSTEM_UNLOCK"].map(v=>h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none p-2 hover:bg-neutral-50 rounded border border-transparent hover:border-neutral-200",children:[h.jsx("input",{type:"checkbox",checked:ge.getState().notificationSettings?.[v]??!0,onChange:()=>ge.getState().toggleNotificationSetting(v),className:"w-5 h-5 text-black rounded focus:ring-black"}),h.jsx("span",{className:"font-bold uppercase text-sm text-neutral-600",children:v.replace(/_/g," ")})]},v))}),h.jsxs("div",{className:"mt-6 pt-6 border-t border-neutral-100",children:[h.jsxs("h4",{className:"text-sm font-black uppercase text-neutral-500 mb-4 flex items-center gap-2",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Interface Settings"]}),h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none p-2 hover:bg-neutral-50 rounded border border-transparent hover:border-neutral-200 w-fit",children:[h.jsx("input",{type:"checkbox",checked:ge.getState().skipRedrawConfirmation,onChange:v=>ge.getState().setSkipRedrawConfirmation(v.target.checked),className:"w-5 h-5 text-black rounded focus:ring-black"}),h.jsx("span",{className:"font-bold uppercase text-sm text-neutral-600",children:"Skip Redraw Confirmation"})]}),h.jsx("p",{className:"text-[10px] text-neutral-400 font-serif italic ml-7 mt-1 mb-4",children:"Immediately start the Redraw animation without showing the warning dialog."}),h.jsx("button",{onClick:()=>ge.getState().startTutorial(),className:"ml-7 px-4 py-2 bg-amber-50 border-2 border-amber-200 text-amber-800 font-bold uppercase text-xs tracking-wider hover:bg-amber-100 hover:border-amber-400 transition-all",children:"Restart Tutorial"})]})]}),h.jsxs("section",{className:"bg-white border-2 border-neutral-200 p-6 shadow-[4px_4px_0px_0px_rgba(0,0,0,0.05)]",children:[h.jsxs("h3",{className:"text-xl font-black uppercase text-neutral-800 mb-4 flex items-center gap-2",children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),"Save / Export"]}),h.jsx("p",{className:"text-sm text-neutral-600 mb-6 font-serif italic",children:"Keep your progress safe. Export as a text string or download a file."}),h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsx("button",{onClick:m,className:"px-4 py-2 bg-neutral-100 border-2 border-neutral-300 text-neutral-700 font-bold uppercase text-xs tracking-wider hover:bg-white hover:text-black hover:border-black transition-all",children:"Copy Save String to Clipboard"}),h.jsx("button",{onClick:y,className:"px-4 py-2 bg-neutral-100 border-2 border-neutral-300 text-neutral-700 font-bold uppercase text-xs tracking-wider hover:bg-white hover:text-black hover:border-black transition-all",children:"Download Save File"})]})]}),h.jsxs("section",{className:"bg-white border-2 border-neutral-200 p-6 shadow-[4px_4px_0px_0px_rgba(0,0,0,0.05)]",children:[h.jsxs("h3",{className:"text-xl font-black uppercase text-neutral-800 mb-4 flex items-center gap-2",children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Load / Import"]}),h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold uppercase text-neutral-500 mb-1",children:"Load from String"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",value:a,onChange:v=>i(v.target.value),placeholder:"Paste save string here...",className:"flex-1 px-3 py-2 border-2 border-neutral-200 text-sm focus:border-black outline-none"}),h.jsx("button",{onClick:()=>p(a),disabled:!a,className:"px-4 py-2 bg-black text-white font-bold uppercase text-xs hover:bg-neutral-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Load"})]})]}),h.jsxs("div",{className:"border-t border-neutral-100 pt-4",children:[h.jsx("label",{className:"block text-xs font-bold uppercase text-neutral-500 mb-1",children:"Load from File"}),h.jsx("input",{type:"file",accept:".txt",onChange:w,className:`block w-full text-sm text-neutral-500\r
                                  file:mr-4 file:py-2 file:px-4\r
                                  file:border-2 file:border-neutral-300 file:text-neutral-700\r
                                  file:bg-neutral-50 file:text-xs file:font-bold file:uppercase\r
                                  hover:file:bg-white hover:file:border-black hover:file:text-black\r
                                  cursor-pointer`})]})]})]})]}),h.jsxs("div",{className:"bg-red-50 border-2 border-red-100 p-8 mt-12 max-w-lg mx-auto text-center",children:[h.jsx("h3",{className:"text-lg font-black text-red-800 uppercase mb-2",children:"Danger Zone"}),h.jsx("p",{className:"text-red-600 mb-6 font-serif italic text-sm",children:"This will delete your local save file and return you to the beginning."}),h.jsx("button",{onClick:x,className:"px-6 py-3 bg-red-600 text-white font-bold uppercase tracking-wider hover:bg-red-700 active:transform active:scale-95 transition-all shadow-md",children:"Hard Reset Game"})]}),h.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400 font-mono",children:"Version 0.2.1-alpha"})]})},X4=()=>{const{notifications:t,removeNotification:a}=ge(Et(i=>({notifications:i.notifications,removeNotification:i.removeNotification})));return h.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col-reverse gap-2 pointer-events-none",children:t.map(i=>h.jsxs("div",{className:`\r
                        bg-yellow-100 border-2 border-neutral-900 shadow-[4px_4px_0px_0px_rgba(0,0,0,0.8)] \r
                        p-4 w-64 transform transition-all duration-300 animate-in slide-in-from-right fade-in\r
                        rotate-1 font-serif text-neutral-900 pointer-events-auto\r
                    `,children:[h.jsxs("div",{className:"flex justify-between items-start mb-1",children:[h.jsx("span",{className:"font-bold uppercase text-xs tracking-wider border-b border-neutral-900",children:i.type.replace(/_/g," ")}),h.jsx("button",{onClick:()=>a(i.id),className:"text-neutral-500 hover:text-black font-bold leading-none",children:""})]}),h.jsx("p",{className:"font-bold text-sm leading-snug whitespace-pre-wrap",children:i.message})]},i.id))})};var Ui=9e15,fr=1e9,Jd="0123456789abcdef",Ac="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Rc="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",e0={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Ui,maxE:Ui,crypto:!1},Px,ka,Ae=!0,Yc="[DecimalError] ",ur=Yc+"Invalid argument: ",Ix=Yc+"Precision limit exceeded",Vx=Yc+"crypto unavailable",qx="[object Decimal]",Ht=Math.floor,bt=Math.pow,K4=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Z4=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,$4=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Yx=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,An=1e7,Te=7,Q4=9007199254740991,F4=Ac.length-1,t0=Rc.length-1,he={toStringTag:qx};he.absoluteValue=he.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),Se(t)};he.ceil=function(){return Se(new this.constructor(this),this.e+1,2)};he.clampedTo=he.clamp=function(t,a){var i,s=this,l=s.constructor;if(t=new l(t),a=new l(a),!t.s||!a.s)return new l(NaN);if(t.gt(a))throw Error(ur+a);return i=s.cmp(t),i<0?t:s.cmp(a)>0?a:new l(s)};he.comparedTo=he.cmp=function(t){var a,i,s,l,c=this,u=c.d,m=(t=new c.constructor(t)).d,y=c.s,p=t.s;if(!u||!m)return!y||!p?NaN:y!==p?y:u===m?0:!u^y<0?1:-1;if(!u[0]||!m[0])return u[0]?y:m[0]?-p:0;if(y!==p)return y;if(c.e!==t.e)return c.e>t.e^y<0?1:-1;for(s=u.length,l=m.length,a=0,i=s<l?s:l;a<i;++a)if(u[a]!==m[a])return u[a]>m[a]^y<0?1:-1;return s===l?0:s>l^y<0?1:-1};he.cosine=he.cos=function(){var t,a,i=this,s=i.constructor;return i.d?i.d[0]?(t=s.precision,a=s.rounding,s.precision=t+Math.max(i.e,i.sd())+Te,s.rounding=1,i=W4(s,Qx(s,i)),s.precision=t,s.rounding=a,Se(ka==2||ka==3?i.neg():i,t,a,!0)):new s(1):new s(NaN)};he.cubeRoot=he.cbrt=function(){var t,a,i,s,l,c,u,m,y,p,w=this,x=w.constructor;if(!w.isFinite()||w.isZero())return new x(w);for(Ae=!1,c=w.s*bt(w.s*w,1/3),!c||Math.abs(c)==1/0?(i=jt(w.d),t=w.e,(c=(t-i.length+1)%3)&&(i+=c==1||c==-2?"0":"00"),c=bt(i,1/3),t=Ht((t+1)/3)-(t%3==(t<0?-1:2)),c==1/0?i="5e"+t:(i=c.toExponential(),i=i.slice(0,i.indexOf("e")+1)+t),s=new x(i),s.s=w.s):s=new x(c.toString()),u=(t=x.precision)+3;;)if(m=s,y=m.times(m).times(m),p=y.plus(w),s=tt(p.plus(w).times(m),p.plus(y),u+2,1),jt(m.d).slice(0,u)===(i=jt(s.d)).slice(0,u))if(i=i.slice(u-3,u+1),i=="9999"||!l&&i=="4999"){if(!l&&(Se(m,t+1,0),m.times(m).times(m).eq(w))){s=m;break}u+=4,l=1}else{(!+i||!+i.slice(1)&&i.charAt(0)=="5")&&(Se(s,t+1,1),a=!s.times(s).times(s).eq(w));break}return Ae=!0,Se(s,t,x.rounding,a)};he.decimalPlaces=he.dp=function(){var t,a=this.d,i=NaN;if(a){if(t=a.length-1,i=(t-Ht(this.e/Te))*Te,t=a[t],t)for(;t%10==0;t/=10)i--;i<0&&(i=0)}return i};he.dividedBy=he.div=function(t){return tt(this,new this.constructor(t))};he.dividedToIntegerBy=he.divToInt=function(t){var a=this,i=a.constructor;return Se(tt(a,new i(t),0,1,1),i.precision,i.rounding)};he.equals=he.eq=function(t){return this.cmp(t)===0};he.floor=function(){return Se(new this.constructor(this),this.e+1,3)};he.greaterThan=he.gt=function(t){return this.cmp(t)>0};he.greaterThanOrEqualTo=he.gte=function(t){var a=this.cmp(t);return a==1||a===0};he.hyperbolicCosine=he.cosh=function(){var t,a,i,s,l,c=this,u=c.constructor,m=new u(1);if(!c.isFinite())return new u(c.s?1/0:NaN);if(c.isZero())return m;i=u.precision,s=u.rounding,u.precision=i+Math.max(c.e,c.sd())+4,u.rounding=1,l=c.d.length,l<32?(t=Math.ceil(l/3),a=(1/Kc(4,t)).toString()):(t=16,a="2.3283064365386962890625e-10"),c=Fi(u,1,c.times(a),new u(1),!0);for(var y,p=t,w=new u(8);p--;)y=c.times(c),c=m.minus(y.times(w.minus(y.times(w))));return Se(c,u.precision=i,u.rounding=s,!0)};he.hyperbolicSine=he.sinh=function(){var t,a,i,s,l=this,c=l.constructor;if(!l.isFinite()||l.isZero())return new c(l);if(a=c.precision,i=c.rounding,c.precision=a+Math.max(l.e,l.sd())+4,c.rounding=1,s=l.d.length,s<3)l=Fi(c,2,l,l,!0);else{t=1.4*Math.sqrt(s),t=t>16?16:t|0,l=l.times(1/Kc(5,t)),l=Fi(c,2,l,l,!0);for(var u,m=new c(5),y=new c(16),p=new c(20);t--;)u=l.times(l),l=l.times(m.plus(u.times(y.times(u).plus(p))))}return c.precision=a,c.rounding=i,Se(l,a,i,!0)};he.hyperbolicTangent=he.tanh=function(){var t,a,i=this,s=i.constructor;return i.isFinite()?i.isZero()?new s(i):(t=s.precision,a=s.rounding,s.precision=t+7,s.rounding=1,tt(i.sinh(),i.cosh(),s.precision=t,s.rounding=a)):new s(i.s)};he.inverseCosine=he.acos=function(){var t=this,a=t.constructor,i=t.abs().cmp(1),s=a.precision,l=a.rounding;return i!==-1?i===0?t.isNeg()?In(a,s,l):new a(0):new a(NaN):t.isZero()?In(a,s+4,l).times(.5):(a.precision=s+6,a.rounding=1,t=new a(1).minus(t).div(t.plus(1)).sqrt().atan(),a.precision=s,a.rounding=l,t.times(2))};he.inverseHyperbolicCosine=he.acosh=function(){var t,a,i=this,s=i.constructor;return i.lte(1)?new s(i.eq(1)?0:NaN):i.isFinite()?(t=s.precision,a=s.rounding,s.precision=t+Math.max(Math.abs(i.e),i.sd())+4,s.rounding=1,Ae=!1,i=i.times(i).minus(1).sqrt().plus(i),Ae=!0,s.precision=t,s.rounding=a,i.ln()):new s(i)};he.inverseHyperbolicSine=he.asinh=function(){var t,a,i=this,s=i.constructor;return!i.isFinite()||i.isZero()?new s(i):(t=s.precision,a=s.rounding,s.precision=t+2*Math.max(Math.abs(i.e),i.sd())+6,s.rounding=1,Ae=!1,i=i.times(i).plus(1).sqrt().plus(i),Ae=!0,s.precision=t,s.rounding=a,i.ln())};he.inverseHyperbolicTangent=he.atanh=function(){var t,a,i,s,l=this,c=l.constructor;return l.isFinite()?l.e>=0?new c(l.abs().eq(1)?l.s/0:l.isZero()?l:NaN):(t=c.precision,a=c.rounding,s=l.sd(),Math.max(s,t)<2*-l.e-1?Se(new c(l),t,a,!0):(c.precision=i=s-l.e,l=tt(l.plus(1),new c(1).minus(l),i+t,1),c.precision=t+4,c.rounding=1,l=l.ln(),c.precision=t,c.rounding=a,l.times(.5))):new c(NaN)};he.inverseSine=he.asin=function(){var t,a,i,s,l=this,c=l.constructor;return l.isZero()?new c(l):(a=l.abs().cmp(1),i=c.precision,s=c.rounding,a!==-1?a===0?(t=In(c,i+4,s).times(.5),t.s=l.s,t):new c(NaN):(c.precision=i+6,c.rounding=1,l=l.div(new c(1).minus(l.times(l)).sqrt().plus(1)).atan(),c.precision=i,c.rounding=s,l.times(2)))};he.inverseTangent=he.atan=function(){var t,a,i,s,l,c,u,m,y,p=this,w=p.constructor,x=w.precision,v=w.rounding;if(p.isFinite()){if(p.isZero())return new w(p);if(p.abs().eq(1)&&x+4<=t0)return u=In(w,x+4,v).times(.25),u.s=p.s,u}else{if(!p.s)return new w(NaN);if(x+4<=t0)return u=In(w,x+4,v).times(.5),u.s=p.s,u}for(w.precision=m=x+10,w.rounding=1,i=Math.min(28,m/Te+2|0),t=i;t;--t)p=p.div(p.times(p).plus(1).sqrt().plus(1));for(Ae=!1,a=Math.ceil(m/Te),s=1,y=p.times(p),u=new w(p),l=p;t!==-1;)if(l=l.times(y),c=u.minus(l.div(s+=2)),l=l.times(y),u=c.plus(l.div(s+=2)),u.d[a]!==void 0)for(t=a;u.d[t]===c.d[t]&&t--;);return i&&(u=u.times(2<<i-1)),Ae=!0,Se(u,w.precision=x,w.rounding=v,!0)};he.isFinite=function(){return!!this.d};he.isInteger=he.isInt=function(){return!!this.d&&Ht(this.e/Te)>this.d.length-2};he.isNaN=function(){return!this.s};he.isNegative=he.isNeg=function(){return this.s<0};he.isPositive=he.isPos=function(){return this.s>0};he.isZero=function(){return!!this.d&&this.d[0]===0};he.lessThan=he.lt=function(t){return this.cmp(t)<0};he.lessThanOrEqualTo=he.lte=function(t){return this.cmp(t)<1};he.logarithm=he.log=function(t){var a,i,s,l,c,u,m,y,p=this,w=p.constructor,x=w.precision,v=w.rounding,b=5;if(t==null)t=new w(10),a=!0;else{if(t=new w(t),i=t.d,t.s<0||!i||!i[0]||t.eq(1))return new w(NaN);a=t.eq(10)}if(i=p.d,p.s<0||!i||!i[0]||p.eq(1))return new w(i&&!i[0]?-1/0:p.s!=1?NaN:i?0:1/0);if(a)if(i.length>1)c=!0;else{for(l=i[0];l%10===0;)l/=10;c=l!==1}if(Ae=!1,m=x+b,u=ir(p,m),s=a?jc(w,m+10):ir(t,m),y=tt(u,s,m,1),fl(y.d,l=x,v))do if(m+=10,u=ir(p,m),s=a?jc(w,m+10):ir(t,m),y=tt(u,s,m,1),!c){+jt(y.d).slice(l+1,l+15)+1==1e14&&(y=Se(y,x+1,0));break}while(fl(y.d,l+=10,v));return Ae=!0,Se(y,x,v)};he.minus=he.sub=function(t){var a,i,s,l,c,u,m,y,p,w,x,v,b=this,E=b.constructor;if(t=new E(t),!b.d||!t.d)return!b.s||!t.s?t=new E(NaN):b.d?t.s=-t.s:t=new E(t.d||b.s!==t.s?b:NaN),t;if(b.s!=t.s)return t.s=-t.s,b.plus(t);if(p=b.d,v=t.d,m=E.precision,y=E.rounding,!p[0]||!v[0]){if(v[0])t.s=-t.s;else if(p[0])t=new E(b);else return new E(y===3?-0:0);return Ae?Se(t,m,y):t}if(i=Ht(t.e/Te),w=Ht(b.e/Te),p=p.slice(),c=w-i,c){for(x=c<0,x?(a=p,c=-c,u=v.length):(a=v,i=w,u=p.length),s=Math.max(Math.ceil(m/Te),u)+2,c>s&&(c=s,a.length=1),a.reverse(),s=c;s--;)a.push(0);a.reverse()}else{for(s=p.length,u=v.length,x=s<u,x&&(u=s),s=0;s<u;s++)if(p[s]!=v[s]){x=p[s]<v[s];break}c=0}for(x&&(a=p,p=v,v=a,t.s=-t.s),u=p.length,s=v.length-u;s>0;--s)p[u++]=0;for(s=v.length;s>c;){if(p[--s]<v[s]){for(l=s;l&&p[--l]===0;)p[l]=An-1;--p[l],p[s]+=An}p[s]-=v[s]}for(;p[--u]===0;)p.pop();for(;p[0]===0;p.shift())--i;return p[0]?(t.d=p,t.e=Xc(p,i),Ae?Se(t,m,y):t):new E(y===3?-0:0)};he.modulo=he.mod=function(t){var a,i=this,s=i.constructor;return t=new s(t),!i.d||!t.s||t.d&&!t.d[0]?new s(NaN):!t.d||i.d&&!i.d[0]?Se(new s(i),s.precision,s.rounding):(Ae=!1,s.modulo==9?(a=tt(i,t.abs(),0,3,1),a.s*=t.s):a=tt(i,t,0,s.modulo,1),a=a.times(t),Ae=!0,i.minus(a))};he.naturalExponential=he.exp=function(){return n0(this)};he.naturalLogarithm=he.ln=function(){return ir(this)};he.negated=he.neg=function(){var t=new this.constructor(this);return t.s=-t.s,Se(t)};he.plus=he.add=function(t){var a,i,s,l,c,u,m,y,p,w,x=this,v=x.constructor;if(t=new v(t),!x.d||!t.d)return!x.s||!t.s?t=new v(NaN):x.d||(t=new v(t.d||x.s===t.s?x:NaN)),t;if(x.s!=t.s)return t.s=-t.s,x.minus(t);if(p=x.d,w=t.d,m=v.precision,y=v.rounding,!p[0]||!w[0])return w[0]||(t=new v(x)),Ae?Se(t,m,y):t;if(c=Ht(x.e/Te),s=Ht(t.e/Te),p=p.slice(),l=c-s,l){for(l<0?(i=p,l=-l,u=w.length):(i=w,s=c,u=p.length),c=Math.ceil(m/Te),u=c>u?c+1:u+1,l>u&&(l=u,i.length=1),i.reverse();l--;)i.push(0);i.reverse()}for(u=p.length,l=w.length,u-l<0&&(l=u,i=w,w=p,p=i),a=0;l;)a=(p[--l]=p[l]+w[l]+a)/An|0,p[l]%=An;for(a&&(p.unshift(a),++s),u=p.length;p[--u]==0;)p.pop();return t.d=p,t.e=Xc(p,s),Ae?Se(t,m,y):t};he.precision=he.sd=function(t){var a,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ur+t);return i.d?(a=Xx(i.d),t&&i.e+1>a&&(a=i.e+1)):a=NaN,a};he.round=function(){var t=this,a=t.constructor;return Se(new a(t),t.e+1,a.rounding)};he.sine=he.sin=function(){var t,a,i=this,s=i.constructor;return i.isFinite()?i.isZero()?new s(i):(t=s.precision,a=s.rounding,s.precision=t+Math.max(i.e,i.sd())+Te,s.rounding=1,i=e5(s,Qx(s,i)),s.precision=t,s.rounding=a,Se(ka>2?i.neg():i,t,a,!0)):new s(NaN)};he.squareRoot=he.sqrt=function(){var t,a,i,s,l,c,u=this,m=u.d,y=u.e,p=u.s,w=u.constructor;if(p!==1||!m||!m[0])return new w(!p||p<0&&(!m||m[0])?NaN:m?u:1/0);for(Ae=!1,p=Math.sqrt(+u),p==0||p==1/0?(a=jt(m),(a.length+y)%2==0&&(a+="0"),p=Math.sqrt(a),y=Ht((y+1)/2)-(y<0||y%2),p==1/0?a="5e"+y:(a=p.toExponential(),a=a.slice(0,a.indexOf("e")+1)+y),s=new w(a)):s=new w(p.toString()),i=(y=w.precision)+3;;)if(c=s,s=c.plus(tt(u,c,i+2,1)).times(.5),jt(c.d).slice(0,i)===(a=jt(s.d)).slice(0,i))if(a=a.slice(i-3,i+1),a=="9999"||!l&&a=="4999"){if(!l&&(Se(c,y+1,0),c.times(c).eq(u))){s=c;break}i+=4,l=1}else{(!+a||!+a.slice(1)&&a.charAt(0)=="5")&&(Se(s,y+1,1),t=!s.times(s).eq(u));break}return Ae=!0,Se(s,y,w.rounding,t)};he.tangent=he.tan=function(){var t,a,i=this,s=i.constructor;return i.isFinite()?i.isZero()?new s(i):(t=s.precision,a=s.rounding,s.precision=t+10,s.rounding=1,i=i.sin(),i.s=1,i=tt(i,new s(1).minus(i.times(i)).sqrt(),t+10,0),s.precision=t,s.rounding=a,Se(ka==2||ka==4?i.neg():i,t,a,!0)):new s(NaN)};he.times=he.mul=function(t){var a,i,s,l,c,u,m,y,p,w=this,x=w.constructor,v=w.d,b=(t=new x(t)).d;if(t.s*=w.s,!v||!v[0]||!b||!b[0])return new x(!t.s||v&&!v[0]&&!b||b&&!b[0]&&!v?NaN:!v||!b?t.s/0:t.s*0);for(i=Ht(w.e/Te)+Ht(t.e/Te),y=v.length,p=b.length,y<p&&(c=v,v=b,b=c,u=y,y=p,p=u),c=[],u=y+p,s=u;s--;)c.push(0);for(s=p;--s>=0;){for(a=0,l=y+s;l>s;)m=c[l]+b[s]*v[l-s-1]+a,c[l--]=m%An|0,a=m/An|0;c[l]=(c[l]+a)%An|0}for(;!c[--u];)c.pop();return a?++i:c.shift(),t.d=c,t.e=Xc(c,i),Ae?Se(t,x.precision,x.rounding):t};he.toBinary=function(t,a){return M0(this,2,t,a)};he.toDecimalPlaces=he.toDP=function(t,a){var i=this,s=i.constructor;return i=new s(i),t===void 0?i:($t(t,0,fr),a===void 0?a=s.rounding:$t(a,0,8),Se(i,t+i.e+1,a))};he.toExponential=function(t,a){var i,s=this,l=s.constructor;return t===void 0?i=Yn(s,!0):($t(t,0,fr),a===void 0?a=l.rounding:$t(a,0,8),s=Se(new l(s),t+1,a),i=Yn(s,!0,t+1)),s.isNeg()&&!s.isZero()?"-"+i:i};he.toFixed=function(t,a){var i,s,l=this,c=l.constructor;return t===void 0?i=Yn(l):($t(t,0,fr),a===void 0?a=c.rounding:$t(a,0,8),s=Se(new c(l),t+l.e+1,a),i=Yn(s,!1,t+s.e+1)),l.isNeg()&&!l.isZero()?"-"+i:i};he.toFraction=function(t){var a,i,s,l,c,u,m,y,p,w,x,v,b=this,E=b.d,_=b.constructor;if(!E)return new _(b);if(p=i=new _(1),s=y=new _(0),a=new _(s),c=a.e=Xx(E)-b.e-1,u=c%Te,a.d[0]=bt(10,u<0?Te+u:u),t==null)t=c>0?a:p;else{if(m=new _(t),!m.isInt()||m.lt(p))throw Error(ur+m);t=m.gt(a)?c>0?a:p:m}for(Ae=!1,m=new _(jt(E)),w=_.precision,_.precision=c=E.length*Te*2;x=tt(m,a,0,1,1),l=i.plus(x.times(s)),l.cmp(t)!=1;)i=s,s=l,l=p,p=y.plus(x.times(l)),y=l,l=a,a=m.minus(x.times(l)),m=l;return l=tt(t.minus(i),s,0,1,1),y=y.plus(l.times(p)),i=i.plus(l.times(s)),y.s=p.s=b.s,v=tt(p,s,c,1).minus(b).abs().cmp(tt(y,i,c,1).minus(b).abs())<1?[p,s]:[y,i],_.precision=w,Ae=!0,v};he.toHexadecimal=he.toHex=function(t,a){return M0(this,16,t,a)};he.toNearest=function(t,a){var i=this,s=i.constructor;if(i=new s(i),t==null){if(!i.d)return i;t=new s(1),a=s.rounding}else{if(t=new s(t),a===void 0?a=s.rounding:$t(a,0,8),!i.d)return t.s?i:t;if(!t.d)return t.s&&(t.s=i.s),t}return t.d[0]?(Ae=!1,i=tt(i,t,0,a,1).times(t),Ae=!0,Se(i)):(t.s=i.s,i=t),i};he.toNumber=function(){return+this};he.toOctal=function(t,a){return M0(this,8,t,a)};he.toPower=he.pow=function(t){var a,i,s,l,c,u,m=this,y=m.constructor,p=+(t=new y(t));if(!m.d||!t.d||!m.d[0]||!t.d[0])return new y(bt(+m,p));if(m=new y(m),m.eq(1))return m;if(s=y.precision,c=y.rounding,t.eq(1))return Se(m,s,c);if(a=Ht(t.e/Te),a>=t.d.length-1&&(i=p<0?-p:p)<=Q4)return l=Kx(y,m,i,s),t.s<0?new y(1).div(l):Se(l,s,c);if(u=m.s,u<0){if(a<t.d.length-1)return new y(NaN);if((t.d[a]&1)==0&&(u=1),m.e==0&&m.d[0]==1&&m.d.length==1)return m.s=u,m}return i=bt(+m,p),a=i==0||!isFinite(i)?Ht(p*(Math.log("0."+jt(m.d))/Math.LN10+m.e+1)):new y(i+"").e,a>y.maxE+1||a<y.minE-1?new y(a>0?u/0:0):(Ae=!1,y.rounding=m.s=1,i=Math.min(12,(a+"").length),l=n0(t.times(ir(m,s+i)),s),l.d&&(l=Se(l,s+5,1),fl(l.d,s,c)&&(a=s+10,l=Se(n0(t.times(ir(m,a+i)),a),a+5,1),+jt(l.d).slice(s+1,s+15)+1==1e14&&(l=Se(l,s+1,0)))),l.s=u,Ae=!0,y.rounding=c,Se(l,s,c))};he.toPrecision=function(t,a){var i,s=this,l=s.constructor;return t===void 0?i=Yn(s,s.e<=l.toExpNeg||s.e>=l.toExpPos):($t(t,1,fr),a===void 0?a=l.rounding:$t(a,0,8),s=Se(new l(s),t,a),i=Yn(s,t<=s.e||s.e<=l.toExpNeg,t)),s.isNeg()&&!s.isZero()?"-"+i:i};he.toSignificantDigits=he.toSD=function(t,a){var i=this,s=i.constructor;return t===void 0?(t=s.precision,a=s.rounding):($t(t,1,fr),a===void 0?a=s.rounding:$t(a,0,8)),Se(new s(i),t,a)};he.toString=function(){var t=this,a=t.constructor,i=Yn(t,t.e<=a.toExpNeg||t.e>=a.toExpPos);return t.isNeg()&&!t.isZero()?"-"+i:i};he.truncated=he.trunc=function(){return Se(new this.constructor(this),this.e+1,1)};he.valueOf=he.toJSON=function(){var t=this,a=t.constructor,i=Yn(t,t.e<=a.toExpNeg||t.e>=a.toExpPos);return t.isNeg()?"-"+i:i};function jt(t){var a,i,s,l=t.length-1,c="",u=t[0];if(l>0){for(c+=u,a=1;a<l;a++)s=t[a]+"",i=Te-s.length,i&&(c+=ar(i)),c+=s;u=t[a],s=u+"",i=Te-s.length,i&&(c+=ar(i))}else if(u===0)return"0";for(;u%10===0;)u/=10;return c+u}function $t(t,a,i){if(t!==~~t||t<a||t>i)throw Error(ur+t)}function fl(t,a,i,s){var l,c,u,m;for(c=t[0];c>=10;c/=10)--a;return--a<0?(a+=Te,l=0):(l=Math.ceil((a+1)/Te),a%=Te),c=bt(10,Te-a),m=t[l]%c|0,s==null?a<3?(a==0?m=m/100|0:a==1&&(m=m/10|0),u=i<4&&m==99999||i>3&&m==49999||m==5e4||m==0):u=(i<4&&m+1==c||i>3&&m+1==c/2)&&(t[l+1]/c/100|0)==bt(10,a-2)-1||(m==c/2||m==0)&&(t[l+1]/c/100|0)==0:a<4?(a==0?m=m/1e3|0:a==1?m=m/100|0:a==2&&(m=m/10|0),u=(s||i<4)&&m==9999||!s&&i>3&&m==4999):u=((s||i<4)&&m+1==c||!s&&i>3&&m+1==c/2)&&(t[l+1]/c/1e3|0)==bt(10,a-3)-1,u}function dc(t,a,i){for(var s,l=[0],c,u=0,m=t.length;u<m;){for(c=l.length;c--;)l[c]*=a;for(l[0]+=Jd.indexOf(t.charAt(u++)),s=0;s<l.length;s++)l[s]>i-1&&(l[s+1]===void 0&&(l[s+1]=0),l[s+1]+=l[s]/i|0,l[s]%=i)}return l.reverse()}function W4(t,a){var i,s,l;if(a.isZero())return a;s=a.d.length,s<32?(i=Math.ceil(s/3),l=(1/Kc(4,i)).toString()):(i=16,l="2.3283064365386962890625e-10"),t.precision+=i,a=Fi(t,1,a.times(l),new t(1));for(var c=i;c--;){var u=a.times(a);a=u.times(u).minus(u).times(8).plus(1)}return t.precision-=i,a}var tt=(function(){function t(s,l,c){var u,m=0,y=s.length;for(s=s.slice();y--;)u=s[y]*l+m,s[y]=u%c|0,m=u/c|0;return m&&s.unshift(m),s}function a(s,l,c,u){var m,y;if(c!=u)y=c>u?1:-1;else for(m=y=0;m<c;m++)if(s[m]!=l[m]){y=s[m]>l[m]?1:-1;break}return y}function i(s,l,c,u){for(var m=0;c--;)s[c]-=m,m=s[c]<l[c]?1:0,s[c]=m*u+s[c]-l[c];for(;!s[0]&&s.length>1;)s.shift()}return function(s,l,c,u,m,y){var p,w,x,v,b,E,_,j,R,B,N,G,K,V,X,C,M,U,D,O,Y=s.constructor,A=s.s==l.s?1:-1,L=s.d,S=l.d;if(!L||!L[0]||!S||!S[0])return new Y(!s.s||!l.s||(L?S&&L[0]==S[0]:!S)?NaN:L&&L[0]==0||!S?A*0:A/0);for(y?(b=1,w=s.e-l.e):(y=An,b=Te,w=Ht(s.e/b)-Ht(l.e/b)),D=S.length,M=L.length,R=new Y(A),B=R.d=[],x=0;S[x]==(L[x]||0);x++);if(S[x]>(L[x]||0)&&w--,c==null?(V=c=Y.precision,u=Y.rounding):m?V=c+(s.e-l.e)+1:V=c,V<0)B.push(1),E=!0;else{if(V=V/b+2|0,x=0,D==1){for(v=0,S=S[0],V++;(x<M||v)&&V--;x++)X=v*y+(L[x]||0),B[x]=X/S|0,v=X%S|0;E=v||x<M}else{for(v=y/(S[0]+1)|0,v>1&&(S=t(S,v,y),L=t(L,v,y),D=S.length,M=L.length),C=D,N=L.slice(0,D),G=N.length;G<D;)N[G++]=0;O=S.slice(),O.unshift(0),U=S[0],S[1]>=y/2&&++U;do v=0,p=a(S,N,D,G),p<0?(K=N[0],D!=G&&(K=K*y+(N[1]||0)),v=K/U|0,v>1?(v>=y&&(v=y-1),_=t(S,v,y),j=_.length,G=N.length,p=a(_,N,j,G),p==1&&(v--,i(_,D<j?O:S,j,y))):(v==0&&(p=v=1),_=S.slice()),j=_.length,j<G&&_.unshift(0),i(N,_,G,y),p==-1&&(G=N.length,p=a(S,N,D,G),p<1&&(v++,i(N,D<G?O:S,G,y))),G=N.length):p===0&&(v++,N=[0]),B[x++]=v,p&&N[0]?N[G++]=L[C]||0:(N=[L[C]],G=1);while((C++<M||N[0]!==void 0)&&V--);E=N[0]!==void 0}B[0]||B.shift()}if(b==1)R.e=w,Px=E;else{for(x=1,v=B[0];v>=10;v/=10)x++;R.e=x+w*b-1,Se(R,m?c+R.e+1:c,u,E)}return R}})();function Se(t,a,i,s){var l,c,u,m,y,p,w,x,v,b=t.constructor;e:if(a!=null){if(x=t.d,!x)return t;for(l=1,m=x[0];m>=10;m/=10)l++;if(c=a-l,c<0)c+=Te,u=a,w=x[v=0],y=w/bt(10,l-u-1)%10|0;else if(v=Math.ceil((c+1)/Te),m=x.length,v>=m)if(s){for(;m++<=v;)x.push(0);w=y=0,l=1,c%=Te,u=c-Te+1}else break e;else{for(w=m=x[v],l=1;m>=10;m/=10)l++;c%=Te,u=c-Te+l,y=u<0?0:w/bt(10,l-u-1)%10|0}if(s=s||a<0||x[v+1]!==void 0||(u<0?w:w%bt(10,l-u-1)),p=i<4?(y||s)&&(i==0||i==(t.s<0?3:2)):y>5||y==5&&(i==4||s||i==6&&(c>0?u>0?w/bt(10,l-u):0:x[v-1])%10&1||i==(t.s<0?8:7)),a<1||!x[0])return x.length=0,p?(a-=t.e+1,x[0]=bt(10,(Te-a%Te)%Te),t.e=-a||0):x[0]=t.e=0,t;if(c==0?(x.length=v,m=1,v--):(x.length=v+1,m=bt(10,Te-c),x[v]=u>0?(w/bt(10,l-u)%bt(10,u)|0)*m:0),p)for(;;)if(v==0){for(c=1,u=x[0];u>=10;u/=10)c++;for(u=x[0]+=m,m=1;u>=10;u/=10)m++;c!=m&&(t.e++,x[0]==An&&(x[0]=1));break}else{if(x[v]+=m,x[v]!=An)break;x[v--]=0,m=1}for(c=x.length;x[--c]===0;)x.pop()}return Ae&&(t.e>b.maxE?(t.d=null,t.e=NaN):t.e<b.minE&&(t.e=0,t.d=[0])),t}function Yn(t,a,i){if(!t.isFinite())return $x(t);var s,l=t.e,c=jt(t.d),u=c.length;return a?(i&&(s=i-u)>0?c=c.charAt(0)+"."+c.slice(1)+ar(s):u>1&&(c=c.charAt(0)+"."+c.slice(1)),c=c+(t.e<0?"e":"e+")+t.e):l<0?(c="0."+ar(-l-1)+c,i&&(s=i-u)>0&&(c+=ar(s))):l>=u?(c+=ar(l+1-u),i&&(s=i-l-1)>0&&(c=c+"."+ar(s))):((s=l+1)<u&&(c=c.slice(0,s)+"."+c.slice(s)),i&&(s=i-u)>0&&(l+1===u&&(c+="."),c+=ar(s))),c}function Xc(t,a){var i=t[0];for(a*=Te;i>=10;i/=10)a++;return a}function jc(t,a,i){if(a>F4)throw Ae=!0,i&&(t.precision=i),Error(Ix);return Se(new t(Ac),a,1,!0)}function In(t,a,i){if(a>t0)throw Error(Ix);return Se(new t(Rc),a,i,!0)}function Xx(t){var a=t.length-1,i=a*Te+1;if(a=t[a],a){for(;a%10==0;a/=10)i--;for(a=t[0];a>=10;a/=10)i++}return i}function ar(t){for(var a="";t--;)a+="0";return a}function Kx(t,a,i,s){var l,c=new t(1),u=Math.ceil(s/Te+4);for(Ae=!1;;){if(i%2&&(c=c.times(a),Py(c.d,u)&&(l=!0)),i=Ht(i/2),i===0){i=c.d.length-1,l&&c.d[i]===0&&++c.d[i];break}a=a.times(a),Py(a.d,u)}return Ae=!0,c}function Gy(t){return t.d[t.d.length-1]&1}function Zx(t,a,i){for(var s,l,c=new t(a[0]),u=0;++u<a.length;){if(l=new t(a[u]),!l.s){c=l;break}s=c.cmp(l),(s===i||s===0&&c.s===i)&&(c=l)}return c}function n0(t,a){var i,s,l,c,u,m,y,p=0,w=0,x=0,v=t.constructor,b=v.rounding,E=v.precision;if(!t.d||!t.d[0]||t.e>17)return new v(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(a==null?(Ae=!1,y=E):y=a,m=new v(.03125);t.e>-2;)t=t.times(m),x+=5;for(s=Math.log(bt(2,x))/Math.LN10*2+5|0,y+=s,i=c=u=new v(1),v.precision=y;;){if(c=Se(c.times(t),y,1),i=i.times(++w),m=u.plus(tt(c,i,y,1)),jt(m.d).slice(0,y)===jt(u.d).slice(0,y)){for(l=x;l--;)u=Se(u.times(u),y,1);if(a==null)if(p<3&&fl(u.d,y-s,b,p))v.precision=y+=10,i=c=m=new v(1),w=0,p++;else return Se(u,v.precision=E,b,Ae=!0);else return v.precision=E,u}u=m}}function ir(t,a){var i,s,l,c,u,m,y,p,w,x,v,b=1,E=10,_=t,j=_.d,R=_.constructor,B=R.rounding,N=R.precision;if(_.s<0||!j||!j[0]||!_.e&&j[0]==1&&j.length==1)return new R(j&&!j[0]?-1/0:_.s!=1?NaN:j?0:_);if(a==null?(Ae=!1,w=N):w=a,R.precision=w+=E,i=jt(j),s=i.charAt(0),Math.abs(c=_.e)<15e14){for(;s<7&&s!=1||s==1&&i.charAt(1)>3;)_=_.times(t),i=jt(_.d),s=i.charAt(0),b++;c=_.e,s>1?(_=new R("0."+i),c++):_=new R(s+"."+i.slice(1))}else return p=jc(R,w+2,N).times(c+""),_=ir(new R(s+"."+i.slice(1)),w-E).plus(p),R.precision=N,a==null?Se(_,N,B,Ae=!0):_;for(x=_,y=u=_=tt(_.minus(1),_.plus(1),w,1),v=Se(_.times(_),w,1),l=3;;){if(u=Se(u.times(v),w,1),p=y.plus(tt(u,new R(l),w,1)),jt(p.d).slice(0,w)===jt(y.d).slice(0,w))if(y=y.times(2),c!==0&&(y=y.plus(jc(R,w+2,N).times(c+""))),y=tt(y,new R(b),w,1),a==null)if(fl(y.d,w-E,B,m))R.precision=w+=E,p=u=_=tt(x.minus(1),x.plus(1),w,1),v=Se(_.times(_),w,1),l=m=1;else return Se(y,R.precision=N,B,Ae=!0);else return R.precision=N,y;y=p,l+=2}}function $x(t){return String(t.s*t.s/0)}function hc(t,a){var i,s,l;for((i=a.indexOf("."))>-1&&(a=a.replace(".","")),(s=a.search(/e/i))>0?(i<0&&(i=s),i+=+a.slice(s+1),a=a.substring(0,s)):i<0&&(i=a.length),s=0;a.charCodeAt(s)===48;s++);for(l=a.length;a.charCodeAt(l-1)===48;--l);if(a=a.slice(s,l),a){if(l-=s,t.e=i=i-s-1,t.d=[],s=(i+1)%Te,i<0&&(s+=Te),s<l){for(s&&t.d.push(+a.slice(0,s)),l-=Te;s<l;)t.d.push(+a.slice(s,s+=Te));a=a.slice(s),s=Te-a.length}else s-=l;for(;s--;)a+="0";t.d.push(+a),Ae&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function J4(t,a){var i,s,l,c,u,m,y,p,w;if(a.indexOf("_")>-1){if(a=a.replace(/(\d)_(?=\d)/g,"$1"),Yx.test(a))return hc(t,a)}else if(a==="Infinity"||a==="NaN")return+a||(t.s=NaN),t.e=NaN,t.d=null,t;if(Z4.test(a))i=16,a=a.toLowerCase();else if(K4.test(a))i=2;else if($4.test(a))i=8;else throw Error(ur+a);for(c=a.search(/p/i),c>0?(y=+a.slice(c+1),a=a.substring(2,c)):a=a.slice(2),c=a.indexOf("."),u=c>=0,s=t.constructor,u&&(a=a.replace(".",""),m=a.length,c=m-c,l=Kx(s,new s(i),c,c*2)),p=dc(a,i,An),w=p.length-1,c=w;p[c]===0;--c)p.pop();return c<0?new s(t.s*0):(t.e=Xc(p,w),t.d=p,Ae=!1,u&&(t=tt(t,l,m*4)),y&&(t=t.times(Math.abs(y)<54?bt(2,y):vl.pow(2,y))),Ae=!0,t)}function e5(t,a){var i,s=a.d.length;if(s<3)return a.isZero()?a:Fi(t,2,a,a);i=1.4*Math.sqrt(s),i=i>16?16:i|0,a=a.times(1/Kc(5,i)),a=Fi(t,2,a,a);for(var l,c=new t(5),u=new t(16),m=new t(20);i--;)l=a.times(a),a=a.times(c.plus(l.times(u.times(l).minus(m))));return a}function Fi(t,a,i,s,l){var c,u,m,y,p=t.precision,w=Math.ceil(p/Te);for(Ae=!1,y=i.times(i),m=new t(s);;){if(u=tt(m.times(y),new t(a++*a++),p,1),m=l?s.plus(u):s.minus(u),s=tt(u.times(y),new t(a++*a++),p,1),u=m.plus(s),u.d[w]!==void 0){for(c=w;u.d[c]===m.d[c]&&c--;);if(c==-1)break}c=m,m=s,s=u,u=c}return Ae=!0,u.d.length=w+1,u}function Kc(t,a){for(var i=t;--a;)i*=t;return i}function Qx(t,a){var i,s=a.s<0,l=In(t,t.precision,1),c=l.times(.5);if(a=a.abs(),a.lte(c))return ka=s?4:1,a;if(i=a.divToInt(l),i.isZero())ka=s?3:2;else{if(a=a.minus(i.times(l)),a.lte(c))return ka=Gy(i)?s?2:3:s?4:1,a;ka=Gy(i)?s?1:4:s?3:2}return a.minus(l).abs()}function M0(t,a,i,s){var l,c,u,m,y,p,w,x,v,b=t.constructor,E=i!==void 0;if(E?($t(i,1,fr),s===void 0?s=b.rounding:$t(s,0,8)):(i=b.precision,s=b.rounding),!t.isFinite())w=$x(t);else{for(w=Yn(t),u=w.indexOf("."),E?(l=2,a==16?i=i*4-3:a==8&&(i=i*3-2)):l=a,u>=0&&(w=w.replace(".",""),v=new b(1),v.e=w.length-u,v.d=dc(Yn(v),10,l),v.e=v.d.length),x=dc(w,10,l),c=y=x.length;x[--y]==0;)x.pop();if(!x[0])w=E?"0p+0":"0";else{if(u<0?c--:(t=new b(t),t.d=x,t.e=c,t=tt(t,v,i,s,0,l),x=t.d,c=t.e,p=Px),u=x[i],m=l/2,p=p||x[i+1]!==void 0,p=s<4?(u!==void 0||p)&&(s===0||s===(t.s<0?3:2)):u>m||u===m&&(s===4||p||s===6&&x[i-1]&1||s===(t.s<0?8:7)),x.length=i,p)for(;++x[--i]>l-1;)x[i]=0,i||(++c,x.unshift(1));for(y=x.length;!x[y-1];--y);for(u=0,w="";u<y;u++)w+=Jd.charAt(x[u]);if(E){if(y>1)if(a==16||a==8){for(u=a==16?4:3,--y;y%u;y++)w+="0";for(x=dc(w,l,a),y=x.length;!x[y-1];--y);for(u=1,w="1.";u<y;u++)w+=Jd.charAt(x[u])}else w=w.charAt(0)+"."+w.slice(1);w=w+(c<0?"p":"p+")+c}else if(c<0){for(;++c;)w="0"+w;w="0."+w}else if(++c>y)for(c-=y;c--;)w+="0";else c<y&&(w=w.slice(0,c)+"."+w.slice(c))}w=(a==16?"0x":a==2?"0b":a==8?"0o":"")+w}return t.s<0?"-"+w:w}function Py(t,a){if(t.length>a)return t.length=a,!0}function t5(t){return new this(t).abs()}function n5(t){return new this(t).acos()}function a5(t){return new this(t).acosh()}function r5(t,a){return new this(t).plus(a)}function i5(t){return new this(t).asin()}function s5(t){return new this(t).asinh()}function l5(t){return new this(t).atan()}function o5(t){return new this(t).atanh()}function c5(t,a){t=new this(t),a=new this(a);var i,s=this.precision,l=this.rounding,c=s+4;return!t.s||!a.s?i=new this(NaN):!t.d&&!a.d?(i=In(this,c,1).times(a.s>0?.25:.75),i.s=t.s):!a.d||t.isZero()?(i=a.s<0?In(this,s,l):new this(0),i.s=t.s):!t.d||a.isZero()?(i=In(this,c,1).times(.5),i.s=t.s):a.s<0?(this.precision=c,this.rounding=1,i=this.atan(tt(t,a,c,1)),a=In(this,c,1),this.precision=s,this.rounding=l,i=t.s<0?i.minus(a):i.plus(a)):i=this.atan(tt(t,a,c,1)),i}function u5(t){return new this(t).cbrt()}function f5(t){return Se(t=new this(t),t.e+1,2)}function d5(t,a,i){return new this(t).clamp(a,i)}function h5(t){if(!t||typeof t!="object")throw Error(Yc+"Object expected");var a,i,s,l=t.defaults===!0,c=["precision",1,fr,"rounding",0,8,"toExpNeg",-Ui,0,"toExpPos",0,Ui,"maxE",0,Ui,"minE",-Ui,0,"modulo",0,9];for(a=0;a<c.length;a+=3)if(i=c[a],l&&(this[i]=e0[i]),(s=t[i])!==void 0)if(Ht(s)===s&&s>=c[a+1]&&s<=c[a+2])this[i]=s;else throw Error(ur+i+": "+s);if(i="crypto",l&&(this[i]=e0[i]),(s=t[i])!==void 0)if(s===!0||s===!1||s===0||s===1)if(s)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[i]=!0;else throw Error(Vx);else this[i]=!1;else throw Error(ur+i+": "+s);return this}function m5(t){return new this(t).cos()}function p5(t){return new this(t).cosh()}function Fx(t){var a,i,s;function l(c){var u,m,y,p=this;if(!(p instanceof l))return new l(c);if(p.constructor=l,Iy(c)){p.s=c.s,Ae?!c.d||c.e>l.maxE?(p.e=NaN,p.d=null):c.e<l.minE?(p.e=0,p.d=[0]):(p.e=c.e,p.d=c.d.slice()):(p.e=c.e,p.d=c.d?c.d.slice():c.d);return}if(y=typeof c,y==="number"){if(c===0){p.s=1/c<0?-1:1,p.e=0,p.d=[0];return}if(c<0?(c=-c,p.s=-1):p.s=1,c===~~c&&c<1e7){for(u=0,m=c;m>=10;m/=10)u++;Ae?u>l.maxE?(p.e=NaN,p.d=null):u<l.minE?(p.e=0,p.d=[0]):(p.e=u,p.d=[c]):(p.e=u,p.d=[c]);return}if(c*0!==0){c||(p.s=NaN),p.e=NaN,p.d=null;return}return hc(p,c.toString())}if(y==="string")return(m=c.charCodeAt(0))===45?(c=c.slice(1),p.s=-1):(m===43&&(c=c.slice(1)),p.s=1),Yx.test(c)?hc(p,c):J4(p,c);if(y==="bigint")return c<0?(c=-c,p.s=-1):p.s=1,hc(p,c.toString());throw Error(ur+c)}if(l.prototype=he,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.EUCLID=9,l.config=l.set=h5,l.clone=Fx,l.isDecimal=Iy,l.abs=t5,l.acos=n5,l.acosh=a5,l.add=r5,l.asin=i5,l.asinh=s5,l.atan=l5,l.atanh=o5,l.atan2=c5,l.cbrt=u5,l.ceil=f5,l.clamp=d5,l.cos=m5,l.cosh=p5,l.div=g5,l.exp=y5,l.floor=x5,l.hypot=w5,l.ln=v5,l.log=b5,l.log10=S5,l.log2=k5,l.max=C5,l.min=E5,l.mod=N5,l.mul=_5,l.pow=M5,l.random=T5,l.round=A5,l.sign=R5,l.sin=j5,l.sinh=D5,l.sqrt=L5,l.sub=H5,l.sum=O5,l.tan=z5,l.tanh=B5,l.trunc=U5,t===void 0&&(t={}),t&&t.defaults!==!0)for(s=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],a=0;a<s.length;)t.hasOwnProperty(i=s[a++])||(t[i]=this[i]);return l.config(t),l}function g5(t,a){return new this(t).div(a)}function y5(t){return new this(t).exp()}function x5(t){return Se(t=new this(t),t.e+1,3)}function w5(){var t,a,i=new this(0);for(Ae=!1,t=0;t<arguments.length;)if(a=new this(arguments[t++]),a.d)i.d&&(i=i.plus(a.times(a)));else{if(a.s)return Ae=!0,new this(1/0);i=a}return Ae=!0,i.sqrt()}function Iy(t){return t instanceof vl||t&&t.toStringTag===qx||!1}function v5(t){return new this(t).ln()}function b5(t,a){return new this(t).log(a)}function k5(t){return new this(t).log(2)}function S5(t){return new this(t).log(10)}function C5(){return Zx(this,arguments,-1)}function E5(){return Zx(this,arguments,1)}function N5(t,a){return new this(t).mod(a)}function _5(t,a){return new this(t).mul(a)}function M5(t,a){return new this(t).pow(a)}function T5(t){var a,i,s,l,c=0,u=new this(1),m=[];if(t===void 0?t=this.precision:$t(t,1,fr),s=Math.ceil(t/Te),this.crypto)if(crypto.getRandomValues)for(a=crypto.getRandomValues(new Uint32Array(s));c<s;)l=a[c],l>=429e7?a[c]=crypto.getRandomValues(new Uint32Array(1))[0]:m[c++]=l%1e7;else if(crypto.randomBytes){for(a=crypto.randomBytes(s*=4);c<s;)l=a[c]+(a[c+1]<<8)+(a[c+2]<<16)+((a[c+3]&127)<<24),l>=214e7?crypto.randomBytes(4).copy(a,c):(m.push(l%1e7),c+=4);c=s/4}else throw Error(Vx);else for(;c<s;)m[c++]=Math.random()*1e7|0;for(s=m[--c],t%=Te,s&&t&&(l=bt(10,Te-t),m[c]=(s/l|0)*l);m[c]===0;c--)m.pop();if(c<0)i=0,m=[0];else{for(i=-1;m[0]===0;i-=Te)m.shift();for(s=1,l=m[0];l>=10;l/=10)s++;s<Te&&(i-=Te-s)}return u.e=i,u.d=m,u}function A5(t){return Se(t=new this(t),t.e+1,this.rounding)}function R5(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function j5(t){return new this(t).sin()}function D5(t){return new this(t).sinh()}function L5(t){return new this(t).sqrt()}function H5(t,a){return new this(t).sub(a)}function O5(){var t=0,a=arguments,i=new this(a[t]);for(Ae=!1;i.s&&++t<a.length;)i=i.plus(a[t]);return Ae=!0,Se(i,this.precision,this.rounding)}function z5(t){return new this(t).tan()}function B5(t){return new this(t).tanh()}function U5(t){return Se(t=new this(t),t.e+1,1)}he[Symbol.for("nodejs.util.inspect.custom")]=he.toString;he[Symbol.toStringTag]="Decimal";var vl=he.constructor=Fx(e0);Ac=new vl(Ac);Rc=new vl(Rc);const G5=(t,a)=>{if(t.lte(0))return new f(0);if(a===0)return new f(1);if(a===1)return t;try{const s=new vl(t.toString()).pow(a);return new f(s.toString())}catch(i){return console.error("safePow failed, falling back to approximation",i),t}},P5=(t,a,i)=>{let s=t,l=1,c=0;switch(a){case"Graphite":l+=i.graphiteRewardMultiplier,c=i.graphiteRewardExponent;break;case"Wax":l+=i.waxRewardMultiplier,c=i.waxRewardExponent;break;case"Charcoal":l+=i.charcoalRewardMultiplier,c=i.charcoalRewardExponent;break;case"Coffee":l+=i.coffeeRewardMultiplier,c=i.coffeeRewardExponent;break;case"Ink":l+=i.inkRewardMultiplier,c=i.inkRewardExponent;break;case"Marker":l+=i.markerRewardMultiplier,c=i.markerRewardExponent;break;case"Acrylic":l+=i.acrylicRewardMultiplier,c=i.acrylicRewardExponent;break;case"Spray":l+=i.sprayRewardMultiplier,c=i.sprayRewardExponent;break;case"Photon":l+=i.photonRewardMultiplier,c=i.photonRewardExponent;break;case"Gold Leaf":l+=i.goldLeafRewardMultiplier,c=i.goldLeafRewardExponent;break}return l>1&&(s=s.times(l)),c>0&&s.gt(1)&&(s=G5(s,1+c)),s},I5=()=>{const{isFighting:t,fundamentals:a}=ge(Et(l=>({isFighting:l.combatState.isFighting,fundamentals:l.fundamentals}))),i=a.timeAcceleration||1;Bn(()=>{if(!ge.getState().combatState.isFighting)return;const c=Date.now();let u=0;for(;u<100;){const m=ge.getState();if(!m.combatState.isFighting)break;const{combatState:y,playerStats:p,dealDamageToEnemy:w,dealDamageToPlayer:x,fundamentals:v}=m,b=v.timeAcceleration||1,E=p.SPD.toNumber(),_=y.statuses.player.Slow||0,j=y.statuses.player.Haste||0,R=1+_*.01,B=1/(1+j*.01),N=E/b*R*B,G=y.lastPlayerAttackTime+N,K=mc[y.enemyId||""];let V=1/0,X=new f(0);if(K&&y.currentEnemyHp.gt(0)){const C=K.stats.attackSpeed,M=y.statuses.enemy.Slow||0,U=y.statuses.enemy.Haste||0,D=1+M*.01,O=1/(1+U*.01),Y=C/b*D*O;V=y.lastEnemyAttackTime+Y,X=K.stats.attack}if(G<=V&&G<=c)w(p.ATK,!1,G);else if(V<=c)x(X,!1,V);else break;u++}},t?16:null),Bn(()=>{const{combatState:l,playerStats:c,applyRegen:u}=ge.getState();if(!l.isFighting)return;const m=c.Regen,y=mc[l.enemyId||""],p=y&&y.stats.regen?y.stats.regen:new f(0);(m.gt(0)||p.gt(0))&&u(m,p)},t?1e3/i:null),Bn(()=>{const{processStatusTicks:l}=ge.getState();l()},t?1e3/i:null);const s=ee.useRef(!1);return ee.useEffect(()=>ge.subscribe((c,u)=>{if(c.combatState===u.combatState)return;const m=c.combatState;if(!m.isFighting){s.current=!1;return}const y=m.currentEnemyHp.lte(0),p=m.currentPlayerHp.lte(0);if(y){if(s.current)return;s.current=!0;const{enemyId:w}=m,{getRewardMultiplier:x,addNotification:v,autoChallengeActive:b,challengeSketch:E,endCombat:_,fundamentals:j}=ge.getState(),R=et.find(B=>B.id===w);if(R){let B=1,N=0;if(m.currentEnemyHp.lt(0)&&j.overkillMultiplier>0){const D=m.currentEnemyHp.abs().times(j.overkillMultiplier),O=m.enemyMaxHp.gt(0)?m.enemyMaxHp:new f(1);N=D.div(O).integerValue(f.ROUND_FLOOR).toNumber()}B+=N;const G={},K={};let V=0;for(let U=0;U<B;U++){const D=ge.getState().sketchDefeats[R.id]||0,O=ge.getState().maxDefeats;if(D+V>=O)break;const Y=x(R.id);R.rewards.forEach(A=>{const L=A.amount.times(Y);if(!L.isZero()){const S=G[A.statName]||new f(0);G[A.statName]=S.plus(L)}}),R.currencyRewards&&R.currencyRewards.forEach(A=>{let L=A.amount.times(Y);if(L=P5(L,A.name,j),L.gt(0)){const S=K[A.name]||new f(0);K[A.name]=S.plus(L)}}),V++}V>0&&ge.getState().processCombatRewards(R.id,V,G,K);const X=[];Object.entries(G).forEach(([U,D])=>{D.gt(0)&&X.push(`+${ke(D)} ${U}`)}),Object.entries(K).forEach(([U,D])=>{D.gt(0)&&X.push(`+${ke(D)} ${U}`)});const C=X.length>0?`
Rewards:
${X.join(`
`)}`:"";let M="";if(V>1?M=` (Overkill: +${V-1} defeats!)`:N>0&&V===1&&(M=" (Overkill Limit Reached)"),v(`Victory! Defeated ${R.name}${M} ${C}`,"COMBAT_VICTORY"),p){const U=j.deathRecovery;v(`...But you succumbed to your wounds! (${U}s cooldown)`,"COMBAT_DEFEAT"),_(U);return}if(b){const{sketchDefeats:U,maxDefeats:D,autoAdvanceActive:O,autoAdvanceUnlocked:Y,hiddenSketches:A}=ge.getState();if((U[R.id]||0)>=D)if(O&&Y){const{availableSketches:S}=ge.getState(),T=et.filter(z=>S.includes(z.id)&&!A.includes(z.id)&&(U[z.id]||0)<D);T.length>0?(E(T[0].id,!0),s.current=!1):(v("All sketches maxed! Auto-challenge stopped.","COMBAT_FLEE"),ge.setState({autoChallengeActive:!1}),_(0,!0))}else v("Max Defeats reached. Auto-challenge paused.","COMBAT_FLEE"),_(0,!0);else E(R.id,!0),s.current=!1}else _(0,!0)}else _()}else if(p){if(s.current)return;s.current=!0;const{fundamentals:w,addNotification:x,endCombat:v}=ge.getState(),b=w.deathRecovery;x(`Defeat! ${b} second cooldown.`,"COMBAT_DEFEAT"),v(b)}}),[]),Bn(()=>{const l=ge.getState(),{gainCurrencies:c}=l,u={};let m=!1;Jy.forEach(y=>{if(l[y.unlockKey]){let p=new f(0);y.type==="flat"?p=y.amount:y.type==="scaling"&&(p=(l[y.source][y.sourceCurrency]||new f(0)).times(y.factor));const w=l.fundamentals.generatorMultiplier||1;let x=1;const v=y.currency;if(v==="Graphite"?x=l.fundamentals.graphiteGeneratorMultiplier:v==="Wax"?x=l.fundamentals.waxGeneratorMultiplier:v==="Charcoal"?x=l.fundamentals.charcoalGeneratorMultiplier:v==="Coffee"?x=l.fundamentals.coffeeGeneratorMultiplier:v==="Ink"?x=l.fundamentals.inkGeneratorMultiplier:v==="Marker"?x=l.fundamentals.markerGeneratorMultiplier:v==="Acrylic"?x=l.fundamentals.acrylicGeneratorMultiplier:v==="Spray"?x=l.fundamentals.sprayGeneratorMultiplier:v==="Photon"?x=l.fundamentals.photonGeneratorMultiplier:v==="Gold Leaf"&&(x=l.fundamentals.goldLeafGeneratorMultiplier),p=p.times(w).times(x),p.gt(0)){const b=y.currency;u[b]||(u[b]=new f(0)),u[b]=u[b].plus(p),m=!0}}}),m&&c(u)},1e3/i),Bn(()=>{const l=ge.getState(),{autoRetryActive:c,autoRetryUnlocked:u,lastEnemyId:m,challengeCooldownUntil:y,combatState:p,sketchDefeats:w,maxDefeats:x,autoAdvanceActive:v,autoAdvanceUnlocked:b,hiddenSketches:E,challengeSketch:_,availableSketches:j}=l;if(c&&u&&m&&!p.isFighting&&y<=Date.now()){const R=w[m]||0;if(v&&b&&R>=x){const B=et.filter(N=>j.includes(N.id)&&!E.includes(N.id)&&(w[N.id]||0)<x);if(B.length>0){_(B[0].id,!0);return}}R<x&&_(m,!0)}},500/i),Bn(()=>{const l=ge.getState(),{concepts:c,conceptMilestones:u}=l,m=["Graphite","Wax","Charcoal","Coffee","Ink","Marker","Acrylic","Spray","Photon","Gold Leaf"],y={...c};let p=l.pendingQuintessence,w=!1;const x=new f(1).div(10).times(i);for(let R=m.length-1;R>=0;R--){const B=m[R],N=c[B],G=u[B];if(N.gt(0)&&G>0){const K=new f(1e3).pow(G-1),V=N.times(K).times(x);if(R>0){const X=m[R-1];y[X]=y[X].plus(V),w=!0}else p=p.plus(V),w=!0}}w&&ge.setState({concepts:y,pendingQuintessence:p});const{conceptualBridgeUnlocked:v,conceptualBridgeActive:b,maxReachedConceptMilestones:E,totalEarnedCurrencies:_,batchAdvanceMilestones:j}=l;if(v&&b){const R=[];m.forEach(B=>{const N=u[B],G=E[B]||0;if(N<G){const K=Vi[N],V=_[B]||new f(0);K&&V.gte(K)&&R.push(B)}}),R.length>0&&j(R)}},100),Bn(()=>{const l=ge.getState(),{autoBuyUnlocked:c,autoBuyEnabled:u,buyUpgrade:m}=l;c&&sr.forEach(y=>{u[y.id]&&m(y.id)})},100),null},V5=()=>{const{isFighting:t,currentPlayerHp:a,currentEnemyHp:i,enemyMaxHp:s,playerStats:l,activeTab:c,setActiveTab:u,fleeBattle:m}=ge(Et(b=>({isFighting:b.combatState.isFighting,currentPlayerHp:b.combatState.currentPlayerHp,currentEnemyHp:b.combatState.currentEnemyHp,enemyMaxHp:b.combatState.enemyMaxHp,playerStats:b.playerStats,activeTab:b.activeTab,setActiveTab:b.setActiveTab,fleeBattle:b.fleeBattle})));if(!t||c==="Ink War")return null;const y=l.HP,p=a,w=i,x=y.isZero()?0:p.div(y).times(100).toNumber(),v=s.isZero()?0:w.div(s).times(100).toNumber();return h.jsxs("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-40 bg-white border-2 border-neutral-900 p-4 shadow-[4px_4px_0px_0px_rgba(0,0,0,0.2)] w-80",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsxs("span",{className:"font-bold uppercase text-xs tracking-wider text-red-600 flex items-center gap-1",children:[h.jsx("span",{className:"animate-pulse",children:""})," In Combat"]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:m,className:"text-xs underline hover:text-red-700 text-red-500 font-bold",children:"Flee"}),h.jsx("button",{onClick:()=>u("Ink War"),className:"text-xs underline hover:text-neutral-900 text-neutral-500 font-bold",children:"Return to Battle"})]})]}),h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(Bd,{className:"w-4 h-4 text-red-600"}),h.jsx("div",{className:"flex-1 h-3 bg-neutral-200 rounded-full overflow-hidden relative border border-neutral-300",children:h.jsx("div",{className:"h-full bg-red-600 origin-left",style:{transform:`scaleX(${Math.max(0,v)/100})`,width:"100%"}})}),h.jsx("span",{className:"text-xs font-mono font-bold w-12 text-right",children:ke(w)})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Bd,{className:"w-4 h-4 text-green-600"}),h.jsx("div",{className:"flex-1 h-3 bg-neutral-200 rounded-full overflow-hidden relative border border-neutral-300",children:h.jsx("div",{className:"h-full bg-green-600 origin-left",style:{transform:`scaleX(${Math.max(0,x)/100})`,width:"100%"}})}),h.jsx("span",{className:"text-xs font-mono font-bold w-12 text-right",children:ke(p)})]})]})};function q5(){const{unlockedStories:t,viewedStories:a,completeStory:i}=ge(Et(w=>({unlockedStories:w.unlockedStories,viewedStories:w.viewedStories,completeStory:w.completeStory}))),[s,l]=ee.useState(""),c=ee.useRef(null),u=Wy.find(w=>t.includes(w.id)&&!a.includes(w.id));if(ee.useEffect(()=>{if(!u)return;l("");const w=u.text;let x=0;return c.current=setInterval(()=>{x<w.length?(l(w.slice(0,x+1)),x++):c.current&&(clearInterval(c.current),c.current=null)},30),()=>{c.current&&(clearInterval(c.current),c.current=null)}},[u]),!u)return null;const m=()=>{c.current&&(clearInterval(c.current),c.current=null),l(u.text)},y=()=>{i(u.id)},p=s===u.text;return h.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-70",children:h.jsxs("div",{className:"bg-white border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-8 max-w-2xl w-full mx-8",children:[h.jsx("h2",{className:"text-4xl italic text-neutral-800 mb-6 border-b-2 border-neutral-200 pb-4",style:{fontFamily:"Crimson Text, serif",fontWeight:600},children:u.title}),h.jsx("div",{className:"mb-8 min-h-[120px]",children:h.jsxs("p",{className:"text-2xl italic text-neutral-700 leading-relaxed",style:{fontFamily:"Crimson Text, serif",visibility:s?"visible":"hidden"},children:[s,!p&&h.jsx("span",{className:"animate-pulse",children:"|"})]})}),h.jsxs("div",{className:"flex justify-end gap-4",children:[!p&&h.jsx("button",{onClick:m,className:"px-6 py-2 text-sm font-bold uppercase tracking-wider border-2 border-neutral-300 text-neutral-600 hover:bg-neutral-100 transition-all",children:"Skip"}),p&&h.jsx("button",{onClick:y,className:"px-6 py-2 text-sm font-bold uppercase tracking-wider border-2 border-black bg-white text-black hover:bg-black hover:text-white transition-all",children:"Continue"})]})]})})}const Y5=(t,a)=>{const i=e1(t),s={};return Object.entries(i).forEach(([l,c])=>{c&&c.gt(0)&&(s[l]=c.times(a))}),s},X5=(t,a)=>{const i={},{concepts:s,conceptMilestones:l}=t;return cr.forEach((c,u)=>{const m=s[c]||new f(0),y=l[c]||0;if(y>0&&m.gt(0)){const p=new f(1e3).pow(y-1),x=m.times(p).times(a);if(x.gt(0))if(u===0)i["Pending Quintessence"]=(i["Pending Quintessence"]||new f(0)).plus(x);else{const v=cr[u-1];i[v]=(i[v]||new f(0)).plus(x)}}}),i},Vy={Graphite:el,Wax:pc,Charcoal:gc,Coffee:yc,Ink:Un,Marker:xc,Acrylic:i0,Spray:s0,Photon:l0,"Gold Leaf":o0},K5=({gains:t,conceptGains:a,elapsedSeconds:i,onClose:s})=>{const l=Object.entries(t).filter(([v,b])=>b.gt(0)),c=Object.entries(a).filter(([v,b])=>b.gt(0)),u=Math.floor(i/86400),m=Math.floor(i%86400/3600),y=Math.floor(i%3600/60),p=Math.floor(i%60),w=[];u>0&&w.push(`${u}d`),m>0&&w.push(`${m}h`),y>0&&w.push(`${y}m`),(p>0||w.length===0)&&w.push(`${p}s`);const x=w.join(" ");return l.length===0&&c.length===0?null:h.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-80 backdrop-blur-sm p-4 animate-in fade-in duration-300",children:h.jsxs("div",{className:"bg-white max-w-4xl w-full border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative animate-in zoom-in-95 duration-300 flex flex-col max-h-[90vh]",children:[h.jsx("h2",{className:"text-2xl font-black uppercase tracking-tighter mb-2 text-center",children:"Welcome Back"}),h.jsxs("p",{className:"text-neutral-500 font-serif italic text-center mb-6",children:["While you were away for ",h.jsx("span",{className:"font-bold not-italic text-black",children:x}),", your currency generators continued their work."]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8 overflow-hidden min-h-0 flex-1",children:[h.jsxs("div",{className:"flex flex-col min-h-0",children:[h.jsxs("h4",{className:"text-xs font-bold uppercase text-neutral-500 tracking-widest mb-3 pb-2 border-b-2 border-neutral-100 flex items-center justify-between",children:[h.jsx("span",{children:"Currency Generation"}),h.jsxs("span",{className:"bg-neutral-100 text-neutral-600 px-2 py-0.5 rounded-full text-[10px]",children:[l.length," Items"]})]}),l.length>0?h.jsx("div",{className:"border border-neutral-200 rounded-lg overflow-hidden overflow-y-auto scrollbar-thin scrollbar-thumb-neutral-300 flex-1",children:l.map(([v,b],E)=>{const _=Vy[v]||Un;return h.jsxs("div",{className:`flex items-center justify-between p-4 bg-white ${E!==l.length-1?"border-b border-neutral-100":""}`,children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-neutral-100 flex items-center justify-center text-neutral-500",children:h.jsx(_,{className:"w-6 h-6"})}),h.jsx("span",{className:"font-bold uppercase tracking-wider text-sm text-neutral-600",children:v})]}),h.jsxs("span",{className:"font-black font-mono text-xl text-neutral-900",children:["+",ke(b)]})]},v)})}):h.jsx("div",{className:"flex-1 flex items-center justify-center text-neutral-400 italic font-serif bg-neutral-50 rounded-lg border border-neutral-100 dashed",children:"No currency gains"})]}),h.jsxs("div",{className:"flex flex-col min-h-0",children:[h.jsxs("h4",{className:"text-xs font-bold uppercase text-neutral-500 tracking-widest mb-3 pb-2 border-b-2 border-neutral-100 flex items-center justify-between",children:[h.jsx("span",{children:"Conceptual Synthesis"}),h.jsxs("span",{className:"bg-neutral-100 text-neutral-600 px-2 py-0.5 rounded-full text-[10px]",children:[c.length," Items"]})]}),c.length>0?h.jsx("div",{className:"border border-neutral-200 rounded-lg overflow-hidden overflow-y-auto scrollbar-thin scrollbar-thumb-neutral-300 flex-1",children:c.map(([v,b],E)=>{const _=v==="Quintessence"||v==="Pending Quintessence",j=_?tl:Vy[v]||Un;return h.jsxs("div",{className:`flex items-center justify-between p-4 bg-white ${E!==c.length-1?"border-b border-neutral-100":""}`,children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-black flex items-center justify-center",children:h.jsx(j,{className:`w-6 h-6 ${_?"text-purple-400":""}`,color:_?void 0:"#C084FC"})}),h.jsxs("div",{children:[h.jsx("span",{className:"font-bold uppercase tracking-wider text-sm text-neutral-900",children:_?"Pending Quintessence":`${v}`}),!_&&h.jsx("div",{className:"text-[10px] uppercase font-bold text-neutral-400",children:"Concept"})]})]}),h.jsxs("span",{className:"font-black font-mono text-xl text-neutral-900",children:["+",ke(b)]})]},v)})}):h.jsx("div",{className:"flex-1 flex items-center justify-center text-neutral-400 italic font-serif bg-neutral-50 rounded-lg border border-neutral-100 dashed",children:"No concept gains"})]})]}),h.jsx("button",{onClick:s,className:"w-full py-3 bg-black text-white font-black uppercase tracking-widest hover:bg-neutral-800 transition-colors border-2 border-transparent hover:border-black",children:"Collect Resources"})]})})},nc=[{targetId:"tutorial-sidebar-portrait",title:"Your Rejected Draft",text:"This is what your draft looked like when it got rejected - but don't worry, we will find a way to improve it! Also you can click it to review the game story.",tab:"Gallery",position:"right"},{targetId:"tutorial-sidebar-stats",title:"Battle Stats",text:"These are your current battle stats. There will be many more that you unlock as you progress. Hover over them to get more insight about what each does.",tab:"Gallery",position:"right"},{targetId:"tutorial-sidebar-fundamentals",title:"Fundamentals",text:"Think of these as global boosts that can improve every aspect of the game. They are unlocked through the Masterpiece Archive (aka Prestige, more on that later).",tab:"Gallery",position:"right"},{targetId:"tutorial-gallery",title:"The Gallery",text:"This is the Gallery. Here you can discover and challenge The Artist's other sketches to gain stats and currencies.",tab:"Gallery",position:"left"},{targetId:"tutorial-gallery-sketch-stats",title:"Sketch Stats",text:"Each sketch has its own stats. Compare them with your own in the sidebar to gauge your chances of victory.",tab:"Gallery",position:"right"},{targetId:"tutorial-gallery-sketch-rewards",title:"Rewards & Diminishing",text:"Victory grants these rewards. Each time you defeat a sketch you gain both Stats (Left) and Currencies (Right). Rewards shown are the base value - they get multiplied by all sorts of multipliers that you can unlock. However, rewards diminish with each victory (90% base) - so keep finding new victims!",tab:"Gallery",position:"right"},{targetId:"tutorial-gallery-sketch-challenge",title:"The Challenge",text:"Click Challenge to enter battle! You can freely navigate to other in-game screens; the fight will continue in the background! You can freely challenge again after wins, but losing will trigger a cooldown (10s for loss, 5s for escape).",tab:"Gallery",position:"right"},{targetId:"tutorial-tab-shop",title:"The Shop",text:"This is where you spend your all your currencies. The first one you will find is Graphite.",tab:"Shop",position:"bottom"},{targetId:"tutorial-shop-market",title:"The Market",text:"Purchase special tools here. These are one-time unlocks that provide powerful capabilities like automation or passive income.",tab:"Shop",subTab:"tools",position:"left"},{targetId:"tutorial-shop-protocols",title:"Active Protocols",text:"Some unlocked tools appear here as toggleable protocols. Be sure to toggle them in a way that helps optimize your progress!",tab:"Shop",subTab:"tools",position:"left"},{targetId:"tutorial-shop-upgrades",title:"Stat Upgrades",text:"Infinitely scaling upgrades for your battle stats. Focus on these to push past tougher enemies. Leveling them may require some clicking but you will soon automate them!",tab:"Shop",subTab:"upgrades",position:"left"},{targetId:"tutorial-tab-archive",title:"The Archive",text:"The Archive is where you reflect on your progress and unlock global improvements.",tab:"Archive",position:"bottom"},{targetId:"tutorial-archive-synthesizer",title:"Conceptual Synthesizer",text:"View your milestones and concepts here. This is the heart of your prestige progression. Milestones are driven by your total currency gained, so don't be afraid to spend in the Shop!",tab:"Archive",subTab:"synthesis",position:"left"},{targetId:"tutorial-archive-graphite-row",title:"Milestones & Concepts",text:"Your first milestone will come at 1618 total Graphite gained. This will turn on the Graphite Concept production which generates Quintessence. Each milestone after that will increase production per count by 1000x!",tab:"Archive",subTab:"synthesis",position:"bottom",scrollBlock:"center"},{targetId:"tutorial-archive-secondary-concepts",title:"Exponential Growth",text:"Wax and subsequent Concepts work differently. Rather than generating Quintessence, they generate count for the Concept immediately above them. This leads to truly exponential gains!",tab:"Archive",subTab:"synthesis",position:"bottom"},{targetId:"tutorial-archive-prestige-panel",title:"The Redraw (Prestige)",text:'The Quintessence generated by your Concepts remains "Pending" until you perform a Redraw. You can prestige at a minimum of 10 Quintessence, but aiming for 100+ for your first run is recommended!',tab:"Archive",subTab:"synthesis",position:"left"},{targetId:"tutorial-archive-masterpiece",title:"Masterpiece Archive",text:"The Skill Tree! There are only good choices and better choices. This one will make a lot more sense after your first Redraw. And remember, you can always gain more Quintessence through another Redraw.",tab:"Archive",subTab:"masterpiece",position:"left",dialogueVAlign:"top"},{targetId:"tutorial-archive-glossary-content",title:"Glossary",text:"On the Glossary you can view all sketches. Each sketch you defeat will be permanently shown here (preserved across Prestiges) and will increase your Glossary Multiplier (boosting HP & ATK). Higher rarity sketches give a bigger boost!",tab:"Archive",subTab:"glossary",position:"left",scrollBlock:"start",dialogueVAlign:"top"},{targetId:"tutorial-sidebar-portrait",title:"The Journey Begins",text:"That's pretty much it. Enjoy the game!",tab:"Gallery",position:"right"}],Z5=()=>{const{tutorialStep:t,setTutorialStep:a,setActiveTab:i,setArchiveActiveSubTab:s,setShopActiveSubTab:l}=ge(Et(R=>({tutorialStep:R.tutorialStep,setTutorialStep:R.setTutorialStep,setActiveTab:R.setActiveTab,setArchiveActiveSubTab:R.setArchiveActiveSubTab,setShopActiveSubTab:R.setShopActiveSubTab}))),[c,u]=ee.useState(null);if(ee.useEffect(()=>{if(t===null){u(null);return}const R=nc[t-1];if(!R)return;i(R.tab),R.subTab&&(R.tab==="Archive"?s(R.subTab):R.tab==="Shop"&&l(R.subTab));const B=setTimeout(()=>{const N=document.getElementById(R.targetId);if(N){const G=N.getBoundingClientRect();u({x:G.left,y:G.top,w:G.width,h:G.height}),R.noScroll||N.scrollIntoView({behavior:"smooth",block:R.scrollBlock||"center"})}},100);return()=>clearTimeout(B)},[t,i,s,l]),t===null||!c)return null;const m=nc[t-1],y=t===1,p=t===nc.length,w=()=>{p?(a(null),ge.setState({hasSeenTutorial:!0})):a(t+1)},x=()=>{y||a(t-1)},v=()=>{a(null),ge.setState({hasSeenTutorial:!0})};let b={};const E=20,_=(R,B)=>R.dialogueVAlign==="top"?E:R.dialogueVAlign==="bottom"?B.h-E:B.h/2,j=R=>R.dialogueVAlign==="top"?"none":R.dialogueVAlign==="bottom"?"translateY(-100%)":"translateY(-50%)";return m.position==="right"?b={left:c.x+c.w+E,top:c.y+_(m,c),transform:j(m)}:m.position==="left"?b={left:c.x-E,top:c.y+_(m,c),transform:`translate(-100%, ${m.dialogueVAlign==="top"?"0":m.dialogueVAlign==="bottom"?"-100%":"-50%"})`}:m.position==="bottom"?b={left:c.x+c.w/2,top:c.y+c.h+E,transform:"translateX(-50%)"}:m.position==="top"?b={left:c.x+c.w/2,top:c.y-E,transform:"translate(-50%, -100%)"}:b={left:"50%",top:"50%",transform:"translate(-50%, -50%)"},h.jsxs("div",{className:"fixed inset-0 z-[200] pointer-events-none",children:[h.jsx("div",{className:"absolute inset-0 bg-black/60 transition-opacity duration-300",style:{clipPath:`polygon(
                        0% 0%, 0% 100%, ${c.x}px 100%, 
                        ${c.x}px ${c.y}px, 
                        ${c.x+c.w}px ${c.y}px, 
                        ${c.x+c.w}px ${c.y+c.h}px, 
                        ${c.x}px ${c.y+c.h}px, 
                        ${c.x}px 100%, 100% 100%, 100% 0%
                    )`}}),h.jsx("div",{className:"absolute border-4 border-amber-400 rounded-lg shadow-[0_0_20px_rgba(251,191,36,0.5)] transition-all duration-300",style:{left:c.x-4,top:c.y-4,width:c.w+8,height:c.h+8}}),h.jsxs("div",{className:"absolute bg-white border-4 border-black p-6 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] w-80 pointer-events-auto animate-in fade-in slide-in-from-bottom-4 duration-300",style:b,children:[h.jsxs("div",{className:"text-amber-600 font-bold uppercase text-xs tracking-widest mb-1",children:["Tutorial: ",t," / ",nc.length]}),h.jsx("h3",{className:"text-xl font-black uppercase text-neutral-800 mb-3 leading-tight font-sans",children:m.title}),h.jsx("p",{className:"text-neutral-600 font-serif italic text-sm leading-relaxed mb-6",children:m.text}),h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("button",{onClick:x,disabled:y,className:`text-xs font-bold uppercase tracking-wider ${y?"text-neutral-300 cursor-not-allowed":"text-neutral-500 hover:text-black"}`,children:"Previous"}),h.jsx("button",{onClick:w,className:"px-6 py-2 bg-black text-white text-xs font-bold uppercase tracking-widest hover:bg-neutral-800 transition-colors shadow-[4px_4px_0px_0px_rgba(185,28,28,0.2)]",children:p?"Finish":"Next"})]}),h.jsxs("div",{className:"pt-4 border-t border-neutral-100 flex flex-col items-center",children:[h.jsx("button",{onClick:v,className:"text-red-600 font-bold uppercase text-[10px] tracking-tighter hover:bg-red-50 px-2 py-1 rounded transition-colors",children:"Skip Tutorial"}),h.jsx("div",{className:"text-[9px] text-neutral-400 font-serif italic mt-1",children:"(You can revisit the guide from Settings)"})]}),h.jsx("div",{className:`absolute w-0 h-0 border-transparent 
                    ${m.position==="right"?"border-r-white border-[10px] -left-5 top-1/2 -translate-y-1/2":""}
                    ${m.position==="left"?"border-l-white border-[10px] -right-5 top-1/2 -translate-y-1/2":""}
                    ${m.position==="top"?"border-t-white border-[10px] -bottom-5 left-1/2 -translate-x-1/2":""}
                    ${m.position==="bottom"?"border-b-white border-[10px] -top-5 left-1/2 -translate-x-1/2":""}
                `})]})]})};function $5(){const t=ge(j=>j.unlockedTabs),a=ge(j=>j.activeTab),i=ge(j=>j.setActiveTab),s=ge(j=>j.combatState.isFighting),l=()=>{switch(a){case"Gallery":return h.jsx(jg,{});case"Shop":return h.jsx(N2,{});case"Archive":return h.jsx(B4,{});case"Ink War":return h.jsx(b2,{});case"Settings":return h.jsx(Y4,{});default:return h.jsx(jg,{})}},[c,u]=ee.useState(!0),m=t.filter(j=>j!=="Rejected Draft"),[y,p]=ee.useState(null),[w,x]=ee.useState(null),[v,b]=ee.useState(0),E=ee.useCallback(()=>{const j=ge.getState(),R=Date.now(),B=j.lastSaveTime;if(B){const N=(R-B)/1e3;if(N>60){const G=Y5(j,N),K=X5(j,N);(Object.values(G).some(X=>X.gt(0))||Object.values(K).some(X=>X.gt(0)))&&(p(G),x(K),b(N))}}},[]);ee.useEffect(()=>{E()},[E]),ee.useEffect(()=>{const j=()=>{document.visibilityState==="hidden"?ge.getState().setLastSaveTime(Date.now()):document.visibilityState==="visible"&&E()};return document.addEventListener("visibilitychange",j),()=>document.removeEventListener("visibilitychange",j)},[E]),Bn(()=>{document.visibilityState==="visible"&&ge.getState().setLastSaveTime(Date.now())},3e4);const _=()=>{y&&w&&(ge.getState().grantOfflineGains(y,w),ge.getState().setLastSaveTime(Date.now()),p(null),x(null))};return h.jsxs("div",{className:"h-screen w-screen bg-neutral-100 flex font-sans text-neutral-800 overflow-hidden",children:[h.jsx(Z5,{}),y&&w&&h.jsx(K5,{gains:y,conceptGains:w,elapsedSeconds:v,onClose:_}),h.jsx(q5,{}),h.jsx(X4,{}),h.jsx(I5,{}),h.jsx(V5,{}),h.jsxs("aside",{id:"tutorial-sidebar",className:`
            transition-[width] duration-300 ease-out h-full shadow-[4px_0_24px_rgba(0,0,0,0.1)] z-30 relative overflow-hidden group border-r border-neutral-300 bg-[#fdfbf7]
            ${c?"w-[320px]":"w-12 hover:w-[320px]"}
        `,children:[!c&&h.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-12 flex flex-col items-center justify-center pointer-events-none group-hover:opacity-0 transition-opacity duration-200",children:h.jsx("div",{className:"uppercase font-black text-neutral-400 tracking-widest text-xs whitespace-nowrap rotate-[-90deg]",children:"Rejected Draft"})}),h.jsx("div",{className:`w-[320px] h-full transition-opacity duration-300 delay-75 ${c?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:h.jsx(E2,{isLocked:c,onToggleLock:()=>u(!c)})})]}),h.jsxs("div",{className:"flex-1 flex flex-col h-full relative z-10",children:[h.jsx("header",{className:"bg-white border-b-4 border-neutral-800 p-4 shadow-sm shrink-0 z-20",children:h.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4 px-4",children:[h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("button",{onClick:ge(j=>j.toggleTimeAcceleration),className:`
                        px-3 py-1.5 rounded text-xs font-mono font-bold border transition-colors
                        ${ge(j=>j.devSpeedEnabled)?"bg-amber-100 border-amber-300 text-amber-800":"bg-neutral-50 border-neutral-200 text-neutral-400 hover:text-neutral-600"}
                    `,title:"Toggle Dev Mode (10x Speed, 1s Cooldowns)",children:ge(j=>j.devSpeedEnabled)?"Dev: ON":"Dev: OFF"})}),h.jsxs("nav",{className:"flex gap-2 flex-wrap justify-center",children:[s&&h.jsx("button",{onClick:()=>i("Ink War"),className:`
                    px-4 py-2 font-bold uppercase tracking-wide border-2 transition-all duration-200
                    ${a==="Ink War"?"bg-red-600 text-white border-red-800 shadow-[4px_4px_0px_0px_rgba(185,28,28,0.4)] transform -translate-y-1":"bg-white text-red-600 border-red-600 hover:bg-red-50 hover:shadow-[2px_2px_0px_0px_rgba(185,28,28,0.2)]"}
                  `,children:" Battle"}),m.map(j=>{let R=!1;if(j==="Archive"){const B=ge.getState(),N=B.glossaryUnlocks,G=B.seenGlossaryItems;N.length>G.length&&(R=!0);const{totalEarnedCurrencies:K,conceptMilestones:V}=B;cr.some(C=>{const M=K[C]||new f(0),U=V[C],D=Vi[U];return D&&M.gte(D)})&&(R=!0)}else if(j==="Shop"){const B=ge.getState(),{currencies:N,shopLevels:G,fundamentals:K,autoChallengeUnlocked:V,graphiteGeneratorUnlocked:X,waxToolUnlocked:C}=B,M=va.some(D=>{let O=!1;if(D.id==="AUTO_CHALLENGE"?O=V:D.id==="GRAPHITE_PUMP"?O=X:D.id==="SOFT_ERASER"&&(O=C),O)return!1;const Y=Pn(D.cost,D.currency,K);return(N[D.currency]||new f(0)).gte(Y)}),U=!M&&sr.some(D=>{const O=G[D.id]?.toNumber()||0,Y=Pn(Gi(D,new f(O),{waxToolUnlocked:C}),D.currency,K);return(N[D.currency]||new f(0)).gte(Y)});(M||U)&&(R=!0)}return h.jsxs("button",{id:j==="Shop"?"tutorial-tab-shop":j==="Archive"?"tutorial-tab-archive":void 0,onClick:()=>i(j),className:`
                    px-4 py-2 font-bold uppercase tracking-wide border-2 transition-all duration-200 relative
                    ${a===j?"bg-black text-white border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,0.3)] transform -translate-y-1":"bg-white text-black border-neutral-400 hover:border-black hover:text-black hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,0.1)]"}
                  `,children:[j,R&&h.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-75"}),h.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-amber-500"})]})]},j)})]})]})}),h.jsx("main",{className:"flex-1 p-6 md:p-8 overflow-y-auto bg-neutral-200/50 scrollbar-thin scrollbar-thumb-neutral-400 scrollbar-track-transparent",children:h.jsx("div",{className:"h-full max-w-7xl mx-auto w-full bg-white border-2 border-neutral-200 rounded-xl shadow-sm overflow-hidden relative min-h-[600px]",children:l()})})]})]})}fb.createRoot(document.getElementById("root")).render(h.jsx($5,{}));
