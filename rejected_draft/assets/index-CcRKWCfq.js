(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function i(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(s){if(s.ep)return;s.ep=!0;const c=i(s);fetch(s.href,c)}})();function Xy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hf={exports:{}},$o={};var fg;function cv(){if(fg)return $o;fg=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(o,s,c){var u=null;if(c!==void 0&&(u=""+c),s.key!==void 0&&(u=""+s.key),"key"in s){c={};for(var m in s)m!=="key"&&(c[m]=s[m])}else c=s;return s=c.ref,{$$typeof:t,type:o,key:u,ref:s!==void 0?s:null,props:c}}return $o.Fragment=a,$o.jsx=i,$o.jsxs=i,$o}var hg;function uv(){return hg||(hg=1,hf.exports=cv()),hf.exports}var d=uv(),mf={exports:{}},Xo={},pf={exports:{}},gf={};var mg;function dv(){return mg||(mg=1,(function(t){function a(S,P){var A=S.length;S.push(P);e:for(;0<A;){var K=A-1>>>1,X=S[K];if(0<s(X,P))S[K]=P,S[A]=X,A=K;else break e}}function i(S){return S.length===0?null:S[0]}function o(S){if(S.length===0)return null;var P=S[0],A=S.pop();if(A!==P){S[0]=A;e:for(var K=0,X=S.length,G=X>>>1;K<G;){var L=2*(K+1)-1,Z=S[L],Q=L+1,te=S[Q];if(0>s(Z,A))Q<X&&0>s(te,Z)?(S[K]=te,S[Q]=A,K=Q):(S[K]=Z,S[L]=A,K=L);else if(Q<X&&0>s(te,A))S[K]=te,S[Q]=A,K=Q;else break e}}return P}function s(S,P){var A=S.sortIndex-P.sortIndex;return A!==0?A:S.id-P.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();t.unstable_now=function(){return u.now()-m}}var g=[],p=[],b=1,x=null,w=3,E=!1,T=!1,k=!1,O=!1,z=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function R(S){for(var P=i(p);P!==null;){if(P.callback===null)o(p);else if(P.startTime<=S)o(p),P.sortIndex=P.expirationTime,a(g,P);else break;P=i(p)}}function q(S){if(k=!1,R(S),!T)if(i(g)!==null)T=!0,I||(I=!0,U());else{var P=i(p);P!==null&&j(q,P.startTime-S)}}var I=!1,Y=-1,v=5,N=-1;function B(){return O?!0:!(t.unstable_now()-N<v)}function H(){if(O=!1,I){var S=t.unstable_now();N=S;var P=!0;try{e:{T=!1,k&&(k=!1,M(Y),Y=-1),E=!0;var A=w;try{t:{for(R(S),x=i(g);x!==null&&!(x.expirationTime>S&&B());){var K=x.callback;if(typeof K=="function"){x.callback=null,w=x.priorityLevel;var X=K(x.expirationTime<=S);if(S=t.unstable_now(),typeof X=="function"){x.callback=X,R(S),P=!0;break t}x===i(g)&&o(g),R(S)}else o(g);x=i(g)}if(x!==null)P=!0;else{var G=i(p);G!==null&&j(q,G.startTime-S),P=!1}}break e}finally{x=null,w=A,E=!1}P=void 0}}finally{P?U():I=!1}}}var U;if(typeof _=="function")U=function(){_(H)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,D=F.port2;F.port1.onmessage=H,U=function(){D.postMessage(null)}}else U=function(){z(H,0)};function j(S,P){Y=z(function(){S(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(S){switch(w){case 1:case 2:case 3:var P=3;break;default:P=w}var A=w;w=P;try{return S()}finally{w=A}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(S,P){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var A=w;w=S;try{return P()}finally{w=A}},t.unstable_scheduleCallback=function(S,P,A){var K=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?K+A:K):A=K,S){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=A+X,S={id:b++,callback:P,priorityLevel:S,startTime:A,expirationTime:X,sortIndex:-1},A>K?(S.sortIndex=A,a(p,S),i(g)===null&&S===i(p)&&(k?(M(Y),Y=-1):k=!0,j(q,A-K))):(S.sortIndex=X,a(g,S),T||E||(T=!0,I||(I=!0,U()))),S},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(S){var P=w;return function(){var A=w;w=P;try{return S.apply(this,arguments)}finally{w=A}}}})(gf)),gf}var pg;function fv(){return pg||(pg=1,pf.exports=dv()),pf.exports}var yf={exports:{}},je={};var gg;function hv(){if(gg)return je;gg=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function E(G){return G===null||typeof G!="object"?null:(G=w&&G[w]||G["@@iterator"],typeof G=="function"?G:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,O={};function z(G,L,Z){this.props=G,this.context=L,this.refs=O,this.updater=Z||T}z.prototype.isReactComponent={},z.prototype.setState=function(G,L){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,L,"setState")},z.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function M(){}M.prototype=z.prototype;function _(G,L,Z){this.props=G,this.context=L,this.refs=O,this.updater=Z||T}var R=_.prototype=new M;R.constructor=_,k(R,z.prototype),R.isPureReactComponent=!0;var q=Array.isArray;function I(){}var Y={H:null,A:null,T:null,S:null},v=Object.prototype.hasOwnProperty;function N(G,L,Z){var Q=Z.ref;return{$$typeof:t,type:G,key:L,ref:Q!==void 0?Q:null,props:Z}}function B(G,L){return N(G.type,L,G.props)}function H(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function U(G){var L={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(Z){return L[Z]})}var F=/\/+/g;function D(G,L){return typeof G=="object"&&G!==null&&G.key!=null?U(""+G.key):L.toString(36)}function j(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(I,I):(G.status="pending",G.then(function(L){G.status==="pending"&&(G.status="fulfilled",G.value=L)},function(L){G.status==="pending"&&(G.status="rejected",G.reason=L)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function S(G,L,Z,Q,te){var ie=typeof G;(ie==="undefined"||ie==="boolean")&&(G=null);var oe=!1;if(G===null)oe=!0;else switch(ie){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(G.$$typeof){case t:case a:oe=!0;break;case b:return oe=G._init,S(oe(G._payload),L,Z,Q,te)}}if(oe)return te=te(G),oe=Q===""?"."+D(G,0):Q,q(te)?(Z="",oe!=null&&(Z=oe.replace(F,"$&/")+"/"),S(te,L,Z,"",function(Ee){return Ee})):te!=null&&(H(te)&&(te=B(te,Z+(te.key==null||G&&G.key===te.key?"":(""+te.key).replace(F,"$&/")+"/")+oe)),L.push(te)),1;oe=0;var de=Q===""?".":Q+":";if(q(G))for(var pe=0;pe<G.length;pe++)Q=G[pe],ie=de+D(Q,pe),oe+=S(Q,L,Z,ie,te);else if(pe=E(G),typeof pe=="function")for(G=pe.call(G),pe=0;!(Q=G.next()).done;)Q=Q.value,ie=de+D(Q,pe++),oe+=S(Q,L,Z,ie,te);else if(ie==="object"){if(typeof G.then=="function")return S(j(G),L,Z,Q,te);throw L=String(G),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return oe}function P(G,L,Z){if(G==null)return G;var Q=[],te=0;return S(G,Q,"","",function(ie){return L.call(Z,ie,te++)}),Q}function A(G){if(G._status===-1){var L=G._result;L=L(),L.then(function(Z){(G._status===0||G._status===-1)&&(G._status=1,G._result=Z)},function(Z){(G._status===0||G._status===-1)&&(G._status=2,G._result=Z)}),G._status===-1&&(G._status=0,G._result=L)}if(G._status===1)return G._result.default;throw G._result}var K=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},X={map:P,forEach:function(G,L,Z){P(G,function(){L.apply(this,arguments)},Z)},count:function(G){var L=0;return P(G,function(){L++}),L},toArray:function(G){return P(G,function(L){return L})||[]},only:function(G){if(!H(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return je.Activity=x,je.Children=X,je.Component=z,je.Fragment=i,je.Profiler=s,je.PureComponent=_,je.StrictMode=o,je.Suspense=g,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,je.__COMPILER_RUNTIME={__proto__:null,c:function(G){return Y.H.useMemoCache(G)}},je.cache=function(G){return function(){return G.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(G,L,Z){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var Q=k({},G.props),te=G.key;if(L!=null)for(ie in L.key!==void 0&&(te=""+L.key),L)!v.call(L,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&L.ref===void 0||(Q[ie]=L[ie]);var ie=arguments.length-2;if(ie===1)Q.children=Z;else if(1<ie){for(var oe=Array(ie),de=0;de<ie;de++)oe[de]=arguments[de+2];Q.children=oe}return N(G.type,te,Q)},je.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:c,_context:G},G},je.createElement=function(G,L,Z){var Q,te={},ie=null;if(L!=null)for(Q in L.key!==void 0&&(ie=""+L.key),L)v.call(L,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(te[Q]=L[Q]);var oe=arguments.length-2;if(oe===1)te.children=Z;else if(1<oe){for(var de=Array(oe),pe=0;pe<oe;pe++)de[pe]=arguments[pe+2];te.children=de}if(G&&G.defaultProps)for(Q in oe=G.defaultProps,oe)te[Q]===void 0&&(te[Q]=oe[Q]);return N(G,ie,te)},je.createRef=function(){return{current:null}},je.forwardRef=function(G){return{$$typeof:m,render:G}},je.isValidElement=H,je.lazy=function(G){return{$$typeof:b,_payload:{_status:-1,_result:G},_init:A}},je.memo=function(G,L){return{$$typeof:p,type:G,compare:L===void 0?null:L}},je.startTransition=function(G){var L=Y.T,Z={};Y.T=Z;try{var Q=G(),te=Y.S;te!==null&&te(Z,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(I,K)}catch(ie){K(ie)}finally{L!==null&&Z.types!==null&&(L.types=Z.types),Y.T=L}},je.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},je.use=function(G){return Y.H.use(G)},je.useActionState=function(G,L,Z){return Y.H.useActionState(G,L,Z)},je.useCallback=function(G,L){return Y.H.useCallback(G,L)},je.useContext=function(G){return Y.H.useContext(G)},je.useDebugValue=function(){},je.useDeferredValue=function(G,L){return Y.H.useDeferredValue(G,L)},je.useEffect=function(G,L){return Y.H.useEffect(G,L)},je.useEffectEvent=function(G){return Y.H.useEffectEvent(G)},je.useId=function(){return Y.H.useId()},je.useImperativeHandle=function(G,L,Z){return Y.H.useImperativeHandle(G,L,Z)},je.useInsertionEffect=function(G,L){return Y.H.useInsertionEffect(G,L)},je.useLayoutEffect=function(G,L){return Y.H.useLayoutEffect(G,L)},je.useMemo=function(G,L){return Y.H.useMemo(G,L)},je.useOptimistic=function(G,L){return Y.H.useOptimistic(G,L)},je.useReducer=function(G,L,Z){return Y.H.useReducer(G,L,Z)},je.useRef=function(G){return Y.H.useRef(G)},je.useState=function(G){return Y.H.useState(G)},je.useSyncExternalStore=function(G,L,Z){return Y.H.useSyncExternalStore(G,L,Z)},je.useTransition=function(){return Y.H.useTransition()},je.version="19.2.4",je}var yg;function ys(){return yg||(yg=1,yf.exports=hv()),yf.exports}var xf={exports:{}},Dt={};var xg;function mv(){if(xg)return Dt;xg=1;var t=ys();function a(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(g,p,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:g,containerInfo:p,implementation:b}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Dt.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return c(g,p,null,b)},Dt.flushSync=function(g){var p=u.T,b=o.p;try{if(u.T=null,o.p=2,g)return g()}finally{u.T=p,o.p=b,o.d.f()}},Dt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(g,p))},Dt.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},Dt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,x=m(b,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?o.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:E}):b==="script"&&o.d.X(g,{crossOrigin:x,integrity:w,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Dt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=m(p.as,p.crossOrigin);o.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(g)},Dt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,x=m(b,p.crossOrigin);o.d.L(g,b,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Dt.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=m(p.as,p.crossOrigin);o.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(g)},Dt.requestFormReset=function(g){o.d.r(g)},Dt.unstable_batchedUpdates=function(g,p){return g(p)},Dt.useFormState=function(g,p,b){return u.H.useFormState(g,p,b)},Dt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Dt.version="19.2.4",Dt}var bg;function Zy(){if(bg)return xf.exports;bg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),xf.exports=mv(),xf.exports}var wg;function pv(){if(wg)return Xo;wg=1;var t=fv(),a=ys(),i=Zy();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function u(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(o(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(o(188));return n!==e?null:e}for(var r=e,l=n;;){var h=r.return;if(h===null)break;var y=h.alternate;if(y===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===r)return g(h),e;if(y===l)return g(h),n;y=y.sibling}throw Error(o(188))}if(r.return!==l.return)r=h,l=y;else{for(var C=!1,V=h.child;V;){if(V===r){C=!0,r=h,l=y;break}if(V===l){C=!0,l=h,r=y;break}V=V.sibling}if(!C){for(V=y.child;V;){if(V===r){C=!0,r=y,l=h;break}if(V===l){C=!0,l=y,r=h;break}V=V.sibling}if(!C)throw Error(o(189))}}if(r.alternate!==l)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),_=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var F=Symbol.for("react.client.reference");function D(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===F?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case z:return"Profiler";case O:return"StrictMode";case q:return"Suspense";case I:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case _:return e.displayName||"Context";case M:return(e._context.displayName||"Context")+".Consumer";case R:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return n=e.displayName||null,n!==null?n:D(e.type)||"Memo";case v:n=e._payload,e=e._init;try{return D(e(n))}catch{}}return null}var j=Array.isArray,S=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A={pending:!1,data:null,method:null,action:null},K=[],X=-1;function G(e){return{current:e}}function L(e){0>X||(e.current=K[X],K[X]=null,X--)}function Z(e,n){X++,K[X]=e.current,e.current=n}var Q=G(null),te=G(null),ie=G(null),oe=G(null);function de(e,n){switch(Z(ie,n),Z(te,e),Z(Q,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Op(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Op(n),e=Hp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(Q),Z(Q,e)}function pe(){L(Q),L(te),L(ie)}function Ee(e){e.memoizedState!==null&&Z(oe,e);var n=Q.current,r=Hp(n,e.type);n!==r&&(Z(te,e),Z(Q,r))}function ke(e){te.current===e&&(L(Q),L(te)),oe.current===e&&(L(oe),Yo._currentValue=A)}var xe,we;function Ne(e){if(xe===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);xe=n&&n[1]||"",we=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+e+we}var Te=!1;function Ke(e,n){if(!e||Te)return"";Te=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(se){var re=se}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(se){re=se}e.call(ue.prototype)}}else{try{throw Error()}catch(se){re=se}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(se){if(se&&re&&typeof se.stack=="string")return[se.stack,re.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=l.DetermineComponentFrameRoot(),C=y[0],V=y[1];if(C&&V){var $=C.split(`
`),ae=V.split(`
`);for(h=l=0;l<$.length&&!$[l].includes("DetermineComponentFrameRoot");)l++;for(;h<ae.length&&!ae[h].includes("DetermineComponentFrameRoot");)h++;if(l===$.length||h===ae.length)for(l=$.length-1,h=ae.length-1;1<=l&&0<=h&&$[l]!==ae[h];)h--;for(;1<=l&&0<=h;l--,h--)if($[l]!==ae[h]){if(l!==1||h!==1)do if(l--,h--,0>h||$[l]!==ae[h]){var le=`
`+$[l].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=l&&0<=h);break}}}finally{Te=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ne(r):""}function Ct(e,n){switch(e.tag){case 26:case 27:case 5:return Ne(e.type);case 16:return Ne("Lazy");case 13:return e.child!==n&&n!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return Ke(e.type,!1);case 11:return Ke(e.type.render,!1);case 1:return Ke(e.type,!0);case 31:return Ne("Activity");default:return""}}function bn(e){try{var n="",r=null;do n+=Ct(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Zt=Object.prototype.hasOwnProperty,wn=t.unstable_scheduleCallback,Xn=t.unstable_cancelCallback,mr=t.unstable_shouldYield,pr=t.unstable_requestPaint,Nt=t.unstable_now,Xr=t.unstable_getCurrentPriorityLevel,Zn=t.unstable_ImmediatePriority,Na=t.unstable_UserBlockingPriority,gr=t.unstable_NormalPriority,Xc=t.unstable_LowPriority,Zr=t.unstable_IdlePriority,Zc=t.log,Qc=t.unstable_setDisableYieldValue,yr=null,Ht=null;function Hn(e){if(typeof Zc=="function"&&Qc(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(yr,e)}catch{}}var zt=Math.clz32?Math.clz32:eu,Wc=Math.log,Jc=Math.LN2;function eu(e){return e>>>=0,e===0?32:31-(Wc(e)/Jc|0)|0}var Qr=256,Wr=262144,Jr=4194304;function Qn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var h=0,y=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var V=l&134217727;return V!==0?(l=V&~y,l!==0?h=Qn(l):(C&=V,C!==0?h=Qn(C):r||(r=V&~e,r!==0&&(h=Qn(r))))):(V=l&~y,V!==0?h=Qn(V):C!==0?h=Qn(C):r||(r=l&~e,r!==0&&(h=Qn(r)))),h===0?0:n!==0&&n!==h&&(n&y)===0&&(y=h&-h,r=n&-n,y>=r||y===32&&(r&4194048)!==0)?n:h}function xr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function tu(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ns(){var e=Jr;return Jr<<=1,(Jr&62914560)===0&&(Jr=4194304),e}function eo(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function br(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nu(e,n,r,l,h,y){var C=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var V=e.entanglements,$=e.expirationTimes,ae=e.hiddenUpdates;for(r=C&~r;0<r;){var le=31-zt(r),ue=1<<le;V[le]=0,$[le]=-1;var re=ae[le];if(re!==null)for(ae[le]=null,le=0;le<re.length;le++){var se=re[le];se!==null&&(se.lane&=-536870913)}r&=~ue}l!==0&&Ts(e,l,0),y!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=y&~(C&~n))}function Ts(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-zt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function _s(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-zt(r),h=1<<l;h&n|e[l]&n&&(e[l]|=n),r&=~h}}function As(e,n){var r=n&-n;return r=(r&42)!==0?1:to(r),(r&(e.suspendedLanes|n))!==0?0:r}function to(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function no(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ms(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:ig(e.type))}function js(e,n){var r=P.p;try{return P.p=e,n()}finally{P.p=r}}var zn=Math.random().toString(36).slice(2),wt="__reactFiber$"+zn,Rt="__reactProps$"+zn,Wn="__reactContainer$"+zn,ti="__reactEvents$"+zn,Rs="__reactListeners$"+zn,au="__reactHandles$"+zn,Ds="__reactResources$"+zn,wr="__reactMarker$"+zn;function ao(e){delete e[wt],delete e[Rt],delete e[ti],delete e[Rs],delete e[au]}function Ta(e){var n=e[wt];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Wn]||r[wt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Vp(e);e!==null;){if(r=e[wt])return r;e=Vp(e)}return n}e=r,r=e.parentNode}return null}function _a(e){if(e=e[wt]||e[Wn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Aa(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function Ma(e){var n=e[Ds];return n||(n=e[Ds]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ht(e){e[wr]=!0}var Ls=new Set,Os={};function Jn(e,n){ja(e,n),ja(e+"Capture",n)}function ja(e,n){for(Os[e]=n,e=0;e<n.length;e++)Ls.add(n[e])}var ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ro={},Hs={};function iu(e){return Zt.call(Hs,e)?!0:Zt.call(ro,e)?!1:ru.test(e)?Hs[e]=!0:(ro[e]=!0,!1)}function ni(e,n,r){if(iu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function ai(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function vn(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function Pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ou(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,y=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(C){r=""+C,y.call(this,C)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(C){r=""+C},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ri(e){if(!e._valueTracker){var n=zs(e)?"checked":"value";e._valueTracker=ou(e,n,""+e[n])}}function Us(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=zs(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function vr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var su=/[\n"\\]/g;function It(e){return e.replace(su,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function kr(e,n,r,l,h,y,C,V){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),n!=null?C==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Pt(n)):e.value!==""+Pt(n)&&(e.value=""+Pt(n)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),n!=null?io(e,C,Pt(n)):r!=null?io(e,C,Pt(r)):l!=null&&e.removeAttribute("value"),h==null&&y!=null&&(e.defaultChecked=!!y),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?e.name=""+Pt(V):e.removeAttribute("name")}function Ps(e,n,r,l,h,y,C,V){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),n!=null||r!=null){if(!(y!=="submit"&&y!=="reset"||n!=null)){ri(e);return}r=r!=null?""+Pt(r):"",n=n!=null?""+Pt(n):r,V||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=V?e.checked:!!l,e.defaultChecked=!!l,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C),ri(e)}function io(e,n,r){n==="number"&&vr(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ea(e,n,r,l){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Pt(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function M0(e,n,r){if(n!=null&&(n=""+Pt(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Pt(r):""}function j0(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(o(92));if(j(l)){if(1<l.length)throw Error(o(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Pt(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),ri(e)}function ii(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var rb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function R0(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||rb.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function D0(e,n,r){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&R0(e,h,l)}else for(var y in n)n.hasOwnProperty(y)&&R0(e,y,n[y])}function lu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ib=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ob=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Is(e){return ob.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ta(){}var cu=null;function uu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oi=null,si=null;function L0(e){var n=_a(e);if(n&&(e=n.stateNode)){var r=e[Rt]||null;e:switch(e=n.stateNode,n.type){case"input":if(kr(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+It(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var h=l[Rt]||null;if(!h)throw Error(o(90));kr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&Us(l)}break e;case"textarea":M0(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ea(e,!!r.multiple,n,!1)}}}var du=!1;function O0(e,n,r){if(du)return e(n,r);du=!0;try{var l=e(n);return l}finally{if(du=!1,(oi!==null||si!==null)&&(Tl(),oi&&(n=oi,e=si,si=oi=null,L0(n),e)))for(n=0;n<e.length;n++)L0(e[n])}}function oo(e,n){var r=e.stateNode;if(r===null)return null;var l=r[Rt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(o(231,n,typeof r));return r}var na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fu=!1;if(na)try{var so={};Object.defineProperty(so,"passive",{get:function(){fu=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{fu=!1}var Ra=null,hu=null,Bs=null;function H0(){if(Bs)return Bs;var e,n=hu,r=n.length,l,h="value"in Ra?Ra.value:Ra.textContent,y=h.length;for(e=0;e<r&&n[e]===h[e];e++);var C=r-e;for(l=1;l<=C&&n[r-l]===h[y-l];l++);return Bs=h.slice(e,1<l?1-l:void 0)}function Gs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Vs(){return!0}function z0(){return!1}function Bt(e){function n(r,l,h,y,C){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var V in e)e.hasOwnProperty(V)&&(r=e[V],this[V]=r?r(y):y[V]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Vs:z0,this.isPropagationStopped=z0,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),n}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=Bt(Cr),lo=x({},Cr,{view:0,detail:0}),sb=Bt(lo),mu,pu,co,qs=x({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==co&&(co&&e.type==="mousemove"?(mu=e.screenX-co.screenX,pu=e.screenY-co.screenY):pu=mu=0,co=e),mu)},movementY:function(e){return"movementY"in e?e.movementY:pu}}),U0=Bt(qs),lb=x({},qs,{dataTransfer:0}),cb=Bt(lb),ub=x({},lo,{relatedTarget:0}),gu=Bt(ub),db=x({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),fb=Bt(db),hb=x({},Cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mb=Bt(hb),pb=x({},Cr,{data:0}),P0=Bt(pb),gb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bb(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=xb[e])?!!n[e]:!1}function yu(){return bb}var wb=x({},lo,{key:function(e){if(e.key){var n=gb[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Gs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(e){return e.type==="keypress"?Gs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vb=Bt(wb),kb=x({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I0=Bt(kb),Cb=x({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),Sb=Bt(Cb),Eb=x({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nb=Bt(Eb),Tb=x({},qs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_b=Bt(Tb),Ab=x({},Cr,{newState:0,oldState:0}),Mb=Bt(Ab),jb=[9,13,27,32],xu=na&&"CompositionEvent"in window,uo=null;na&&"documentMode"in document&&(uo=document.documentMode);var Rb=na&&"TextEvent"in window&&!uo,B0=na&&(!xu||uo&&8<uo&&11>=uo),G0=" ",V0=!1;function Y0(e,n){switch(e){case"keyup":return jb.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var li=!1;function Db(e,n){switch(e){case"compositionend":return q0(n);case"keypress":return n.which!==32?null:(V0=!0,G0);case"textInput":return e=n.data,e===G0&&V0?null:e;default:return null}}function Lb(e,n){if(li)return e==="compositionend"||!xu&&Y0(e,n)?(e=H0(),Bs=hu=Ra=null,li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return B0&&n.locale!=="ko"?null:n.data;default:return null}}var Ob={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K0(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ob[e.type]:n==="textarea"}function F0(e,n,r,l){oi?si?si.push(l):si=[l]:oi=l,n=Ll(n,"onChange"),0<n.length&&(r=new Ys("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var fo=null,ho=null;function Hb(e){Ap(e,0)}function Ks(e){var n=Aa(e);if(Us(n))return e}function $0(e,n){if(e==="change")return n}var X0=!1;if(na){var bu;if(na){var wu="oninput"in document;if(!wu){var Z0=document.createElement("div");Z0.setAttribute("oninput","return;"),wu=typeof Z0.oninput=="function"}bu=wu}else bu=!1;X0=bu&&(!document.documentMode||9<document.documentMode)}function Q0(){fo&&(fo.detachEvent("onpropertychange",W0),ho=fo=null)}function W0(e){if(e.propertyName==="value"&&Ks(ho)){var n=[];F0(n,ho,e,uu(e)),O0(Hb,n)}}function zb(e,n,r){e==="focusin"?(Q0(),fo=n,ho=r,fo.attachEvent("onpropertychange",W0)):e==="focusout"&&Q0()}function Ub(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ks(ho)}function Pb(e,n){if(e==="click")return Ks(n)}function Ib(e,n){if(e==="input"||e==="change")return Ks(n)}function Bb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Qt=typeof Object.is=="function"?Object.is:Bb;function mo(e,n){if(Qt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Zt.call(n,h)||!Qt(e[h],n[h]))return!1}return!0}function J0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eh(e,n){var r=J0(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=J0(r)}}function th(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?th(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function nh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=vr(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=vr(e.document)}return n}function vu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Gb=na&&"documentMode"in document&&11>=document.documentMode,ci=null,ku=null,po=null,Cu=!1;function ah(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Cu||ci==null||ci!==vr(l)||(l=ci,"selectionStart"in l&&vu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),po&&mo(po,l)||(po=l,l=Ll(ku,"onSelect"),0<l.length&&(n=new Ys("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=ci)))}function Sr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ui={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},Su={},rh={};na&&(rh=document.createElement("div").style,"AnimationEvent"in window||(delete ui.animationend.animation,delete ui.animationiteration.animation,delete ui.animationstart.animation),"TransitionEvent"in window||delete ui.transitionend.transition);function Er(e){if(Su[e])return Su[e];if(!ui[e])return e;var n=ui[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in rh)return Su[e]=n[r];return e}var ih=Er("animationend"),oh=Er("animationiteration"),sh=Er("animationstart"),Vb=Er("transitionrun"),Yb=Er("transitionstart"),qb=Er("transitioncancel"),lh=Er("transitionend"),ch=new Map,Eu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eu.push("scrollEnd");function kn(e,n){ch.set(e,n),Jn(n,[e])}var Fs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},sn=[],di=0,Nu=0;function $s(){for(var e=di,n=Nu=di=0;n<e;){var r=sn[n];sn[n++]=null;var l=sn[n];sn[n++]=null;var h=sn[n];sn[n++]=null;var y=sn[n];if(sn[n++]=null,l!==null&&h!==null){var C=l.pending;C===null?h.next=h:(h.next=C.next,C.next=h),l.pending=h}y!==0&&uh(r,h,y)}}function Xs(e,n,r,l){sn[di++]=e,sn[di++]=n,sn[di++]=r,sn[di++]=l,Nu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Tu(e,n,r,l){return Xs(e,n,r,l),Zs(e)}function Nr(e,n){return Xs(e,null,null,n),Zs(e)}function uh(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var h=!1,y=e.return;y!==null;)y.childLanes|=r,l=y.alternate,l!==null&&(l.childLanes|=r),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(h=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,h&&n!==null&&(h=31-zt(r),e=y.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=r|536870912),y):null}function Zs(e){if(50<zo)throw zo=0,Hd=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fi={};function Kb(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,n,r,l){return new Kb(e,n,r,l)}function _u(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aa(e,n){var r=e.alternate;return r===null?(r=Wt(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function dh(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Qs(e,n,r,l,h,y){var C=0;if(l=e,typeof e=="function")_u(e)&&(C=1);else if(typeof e=="string")C=Qw(e,r,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case N:return e=Wt(31,r,n,h),e.elementType=N,e.lanes=y,e;case k:return Tr(r.children,h,y,n);case O:C=8,h|=24;break;case z:return e=Wt(12,r,n,h|2),e.elementType=z,e.lanes=y,e;case q:return e=Wt(13,r,n,h),e.elementType=q,e.lanes=y,e;case I:return e=Wt(19,r,n,h),e.elementType=I,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _:C=10;break e;case M:C=9;break e;case R:C=11;break e;case Y:C=14;break e;case v:C=16,l=null;break e}C=29,r=Error(o(130,e===null?"null":typeof e,"")),l=null}return n=Wt(C,r,n,h),n.elementType=e,n.type=l,n.lanes=y,n}function Tr(e,n,r,l){return e=Wt(7,e,l,n),e.lanes=r,e}function Au(e,n,r){return e=Wt(6,e,null,n),e.lanes=r,e}function fh(e){var n=Wt(18,null,null,0);return n.stateNode=e,n}function Mu(e,n,r){return n=Wt(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var hh=new WeakMap;function ln(e,n){if(typeof e=="object"&&e!==null){var r=hh.get(e);return r!==void 0?r:(n={value:e,source:n,stack:bn(n)},hh.set(e,n),n)}return{value:e,source:n,stack:bn(n)}}var hi=[],mi=0,Ws=null,go=0,cn=[],un=0,Da=null,Un=1,Pn="";function ra(e,n){hi[mi++]=go,hi[mi++]=Ws,Ws=e,go=n}function mh(e,n,r){cn[un++]=Un,cn[un++]=Pn,cn[un++]=Da,Da=e;var l=Un;e=Pn;var h=32-zt(l)-1;l&=~(1<<h),r+=1;var y=32-zt(n)+h;if(30<y){var C=h-h%5;y=(l&(1<<C)-1).toString(32),l>>=C,h-=C,Un=1<<32-zt(n)+h|r<<h|l,Pn=y+e}else Un=1<<y|r<<h|l,Pn=e}function ju(e){e.return!==null&&(ra(e,1),mh(e,1,0))}function Ru(e){for(;e===Ws;)Ws=hi[--mi],hi[mi]=null,go=hi[--mi],hi[mi]=null;for(;e===Da;)Da=cn[--un],cn[un]=null,Pn=cn[--un],cn[un]=null,Un=cn[--un],cn[un]=null}function ph(e,n){cn[un++]=Un,cn[un++]=Pn,cn[un++]=Da,Un=n.id,Pn=n.overflow,Da=e}var Tt=null,tt=null,Ie=!1,La=null,dn=!1,Du=Error(o(519));function Oa(e){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yo(ln(n,e)),Du}function gh(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[wt]=e,n[Rt]=l,r){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(r=0;r<Po.length;r++)He(Po[r],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":He("invalid",n),Ps(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":He("invalid",n);break;case"textarea":He("invalid",n),j0(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Dp(n.textContent,r)?(l.popover!=null&&(He("beforetoggle",n),He("toggle",n)),l.onScroll!=null&&He("scroll",n),l.onScrollEnd!=null&&He("scrollend",n),l.onClick!=null&&(n.onclick=ta),n=!0):n=!1,n||Oa(e,!0)}function yh(e){for(Tt=e.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:dn=!1;return;case 27:case 3:dn=!0;return;default:Tt=Tt.return}}function pi(e){if(e!==Tt)return!1;if(!Ie)return yh(e),Ie=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Qd(e.type,e.memoizedProps)),r=!r),r&&tt&&Oa(e),yh(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));tt=Gp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));tt=Gp(e)}else n===27?(n=tt,Xa(e.type)?(e=nf,nf=null,tt=e):tt=n):tt=Tt?hn(e.stateNode.nextSibling):null;return!0}function _r(){tt=Tt=null,Ie=!1}function Lu(){var e=La;return e!==null&&(qt===null?qt=e:qt.push.apply(qt,e),La=null),e}function yo(e){La===null?La=[e]:La.push(e)}var Ou=G(null),Ar=null,ia=null;function Ha(e,n,r){Z(Ou,n._currentValue),n._currentValue=r}function oa(e){e._currentValue=Ou.current,L(Ou)}function Hu(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function zu(e,n,r,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var y=h.dependencies;if(y!==null){var C=h.child;y=y.firstContext;e:for(;y!==null;){var V=y;y=h;for(var $=0;$<n.length;$++)if(V.context===n[$]){y.lanes|=r,V=y.alternate,V!==null&&(V.lanes|=r),Hu(y.return,r,e),l||(C=null);break e}y=V.next}}else if(h.tag===18){if(C=h.return,C===null)throw Error(o(341));C.lanes|=r,y=C.alternate,y!==null&&(y.lanes|=r),Hu(C,r,e),C=null}else C=h.child;if(C!==null)C.return=h;else for(C=h;C!==null;){if(C===e){C=null;break}if(h=C.sibling,h!==null){h.return=C.return,C=h;break}C=C.return}h=C}}function gi(e,n,r,l){e=null;for(var h=n,y=!1;h!==null;){if(!y){if((h.flags&524288)!==0)y=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var C=h.alternate;if(C===null)throw Error(o(387));if(C=C.memoizedProps,C!==null){var V=h.type;Qt(h.pendingProps.value,C.value)||(e!==null?e.push(V):e=[V])}}else if(h===oe.current){if(C=h.alternate,C===null)throw Error(o(387));C.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Yo):e=[Yo])}h=h.return}e!==null&&zu(n,e,r,l),n.flags|=262144}function Js(e){for(e=e.firstContext;e!==null;){if(!Qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){Ar=e,ia=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function _t(e){return xh(Ar,e)}function el(e,n){return Ar===null&&Mr(e),xh(e,n)}function xh(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ia===null){if(e===null)throw Error(o(308));ia=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ia=ia.next=n;return r}var Fb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},$b=t.unstable_scheduleCallback,Xb=t.unstable_NormalPriority,mt={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uu(){return{controller:new Fb,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&$b(Xb,function(){e.controller.abort()})}var bo=null,Pu=0,yi=0,xi=null;function Zb(e,n){if(bo===null){var r=bo=[];Pu=0,yi=Gd(),xi={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Pu++,n.then(bh,bh),n}function bh(){if(--Pu===0&&bo!==null){xi!==null&&(xi.status="fulfilled");var e=bo;bo=null,yi=0,xi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Qb(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var wh=S.S;S.S=function(e,n){ap=Nt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Zb(e,n),wh!==null&&wh(e,n)};var jr=G(null);function Iu(){var e=jr.current;return e!==null?e:Je.pooledCache}function tl(e,n){n===null?Z(jr,jr.current):Z(jr,n.pool)}function vh(){var e=Iu();return e===null?null:{parent:mt._currentValue,pool:e}}var bi=Error(o(460)),Bu=Error(o(474)),nl=Error(o(542)),al={then:function(){}};function kh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ch(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(ta,ta),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Eh(e),e;default:if(typeof n.status=="string")n.then(ta,ta);else{if(e=Je,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Eh(e),e}throw Dr=n,bi}}function Rr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Dr=r,bi):r}}var Dr=null;function Sh(){if(Dr===null)throw Error(o(459));var e=Dr;return Dr=null,e}function Eh(e){if(e===bi||e===nl)throw Error(o(483))}var wi=null,wo=0;function rl(e){var n=wo;return wo+=1,wi===null&&(wi=[]),Ch(wi,e,n)}function vo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function il(e,n){throw n.$$typeof===w?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Nh(e){function n(ee,W){if(e){var ne=ee.deletions;ne===null?(ee.deletions=[W],ee.flags|=16):ne.push(W)}}function r(ee,W){if(!e)return null;for(;W!==null;)n(ee,W),W=W.sibling;return null}function l(ee){for(var W=new Map;ee!==null;)ee.key!==null?W.set(ee.key,ee):W.set(ee.index,ee),ee=ee.sibling;return W}function h(ee,W){return ee=aa(ee,W),ee.index=0,ee.sibling=null,ee}function y(ee,W,ne){return ee.index=ne,e?(ne=ee.alternate,ne!==null?(ne=ne.index,ne<W?(ee.flags|=67108866,W):ne):(ee.flags|=67108866,W)):(ee.flags|=1048576,W)}function C(ee){return e&&ee.alternate===null&&(ee.flags|=67108866),ee}function V(ee,W,ne,ce){return W===null||W.tag!==6?(W=Au(ne,ee.mode,ce),W.return=ee,W):(W=h(W,ne),W.return=ee,W)}function $(ee,W,ne,ce){var Se=ne.type;return Se===k?le(ee,W,ne.props.children,ce,ne.key):W!==null&&(W.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===v&&Rr(Se)===W.type)?(W=h(W,ne.props),vo(W,ne),W.return=ee,W):(W=Qs(ne.type,ne.key,ne.props,null,ee.mode,ce),vo(W,ne),W.return=ee,W)}function ae(ee,W,ne,ce){return W===null||W.tag!==4||W.stateNode.containerInfo!==ne.containerInfo||W.stateNode.implementation!==ne.implementation?(W=Mu(ne,ee.mode,ce),W.return=ee,W):(W=h(W,ne.children||[]),W.return=ee,W)}function le(ee,W,ne,ce,Se){return W===null||W.tag!==7?(W=Tr(ne,ee.mode,ce,Se),W.return=ee,W):(W=h(W,ne),W.return=ee,W)}function ue(ee,W,ne){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Au(""+W,ee.mode,ne),W.return=ee,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case E:return ne=Qs(W.type,W.key,W.props,null,ee.mode,ne),vo(ne,W),ne.return=ee,ne;case T:return W=Mu(W,ee.mode,ne),W.return=ee,W;case v:return W=Rr(W),ue(ee,W,ne)}if(j(W)||U(W))return W=Tr(W,ee.mode,ne,null),W.return=ee,W;if(typeof W.then=="function")return ue(ee,rl(W),ne);if(W.$$typeof===_)return ue(ee,el(ee,W),ne);il(ee,W)}return null}function re(ee,W,ne,ce){var Se=W!==null?W.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Se!==null?null:V(ee,W,""+ne,ce);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case E:return ne.key===Se?$(ee,W,ne,ce):null;case T:return ne.key===Se?ae(ee,W,ne,ce):null;case v:return ne=Rr(ne),re(ee,W,ne,ce)}if(j(ne)||U(ne))return Se!==null?null:le(ee,W,ne,ce,null);if(typeof ne.then=="function")return re(ee,W,rl(ne),ce);if(ne.$$typeof===_)return re(ee,W,el(ee,ne),ce);il(ee,ne)}return null}function se(ee,W,ne,ce,Se){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return ee=ee.get(ne)||null,V(W,ee,""+ce,Se);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case E:return ee=ee.get(ce.key===null?ne:ce.key)||null,$(W,ee,ce,Se);case T:return ee=ee.get(ce.key===null?ne:ce.key)||null,ae(W,ee,ce,Se);case v:return ce=Rr(ce),se(ee,W,ne,ce,Se)}if(j(ce)||U(ce))return ee=ee.get(ne)||null,le(W,ee,ce,Se,null);if(typeof ce.then=="function")return se(ee,W,ne,rl(ce),Se);if(ce.$$typeof===_)return se(ee,W,ne,el(W,ce),Se);il(W,ce)}return null}function ye(ee,W,ne,ce){for(var Se=null,Ge=null,be=W,Le=W=0,Ue=null;be!==null&&Le<ne.length;Le++){be.index>Le?(Ue=be,be=null):Ue=be.sibling;var Ve=re(ee,be,ne[Le],ce);if(Ve===null){be===null&&(be=Ue);break}e&&be&&Ve.alternate===null&&n(ee,be),W=y(Ve,W,Le),Ge===null?Se=Ve:Ge.sibling=Ve,Ge=Ve,be=Ue}if(Le===ne.length)return r(ee,be),Ie&&ra(ee,Le),Se;if(be===null){for(;Le<ne.length;Le++)be=ue(ee,ne[Le],ce),be!==null&&(W=y(be,W,Le),Ge===null?Se=be:Ge.sibling=be,Ge=be);return Ie&&ra(ee,Le),Se}for(be=l(be);Le<ne.length;Le++)Ue=se(be,ee,Le,ne[Le],ce),Ue!==null&&(e&&Ue.alternate!==null&&be.delete(Ue.key===null?Le:Ue.key),W=y(Ue,W,Le),Ge===null?Se=Ue:Ge.sibling=Ue,Ge=Ue);return e&&be.forEach(function(er){return n(ee,er)}),Ie&&ra(ee,Le),Se}function _e(ee,W,ne,ce){if(ne==null)throw Error(o(151));for(var Se=null,Ge=null,be=W,Le=W=0,Ue=null,Ve=ne.next();be!==null&&!Ve.done;Le++,Ve=ne.next()){be.index>Le?(Ue=be,be=null):Ue=be.sibling;var er=re(ee,be,Ve.value,ce);if(er===null){be===null&&(be=Ue);break}e&&be&&er.alternate===null&&n(ee,be),W=y(er,W,Le),Ge===null?Se=er:Ge.sibling=er,Ge=er,be=Ue}if(Ve.done)return r(ee,be),Ie&&ra(ee,Le),Se;if(be===null){for(;!Ve.done;Le++,Ve=ne.next())Ve=ue(ee,Ve.value,ce),Ve!==null&&(W=y(Ve,W,Le),Ge===null?Se=Ve:Ge.sibling=Ve,Ge=Ve);return Ie&&ra(ee,Le),Se}for(be=l(be);!Ve.done;Le++,Ve=ne.next())Ve=se(be,ee,Le,Ve.value,ce),Ve!==null&&(e&&Ve.alternate!==null&&be.delete(Ve.key===null?Le:Ve.key),W=y(Ve,W,Le),Ge===null?Se=Ve:Ge.sibling=Ve,Ge=Ve);return e&&be.forEach(function(lv){return n(ee,lv)}),Ie&&ra(ee,Le),Se}function Qe(ee,W,ne,ce){if(typeof ne=="object"&&ne!==null&&ne.type===k&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case E:e:{for(var Se=ne.key;W!==null;){if(W.key===Se){if(Se=ne.type,Se===k){if(W.tag===7){r(ee,W.sibling),ce=h(W,ne.props.children),ce.return=ee,ee=ce;break e}}else if(W.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===v&&Rr(Se)===W.type){r(ee,W.sibling),ce=h(W,ne.props),vo(ce,ne),ce.return=ee,ee=ce;break e}r(ee,W);break}else n(ee,W);W=W.sibling}ne.type===k?(ce=Tr(ne.props.children,ee.mode,ce,ne.key),ce.return=ee,ee=ce):(ce=Qs(ne.type,ne.key,ne.props,null,ee.mode,ce),vo(ce,ne),ce.return=ee,ee=ce)}return C(ee);case T:e:{for(Se=ne.key;W!==null;){if(W.key===Se)if(W.tag===4&&W.stateNode.containerInfo===ne.containerInfo&&W.stateNode.implementation===ne.implementation){r(ee,W.sibling),ce=h(W,ne.children||[]),ce.return=ee,ee=ce;break e}else{r(ee,W);break}else n(ee,W);W=W.sibling}ce=Mu(ne,ee.mode,ce),ce.return=ee,ee=ce}return C(ee);case v:return ne=Rr(ne),Qe(ee,W,ne,ce)}if(j(ne))return ye(ee,W,ne,ce);if(U(ne)){if(Se=U(ne),typeof Se!="function")throw Error(o(150));return ne=Se.call(ne),_e(ee,W,ne,ce)}if(typeof ne.then=="function")return Qe(ee,W,rl(ne),ce);if(ne.$$typeof===_)return Qe(ee,W,el(ee,ne),ce);il(ee,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,W!==null&&W.tag===6?(r(ee,W.sibling),ce=h(W,ne),ce.return=ee,ee=ce):(r(ee,W),ce=Au(ne,ee.mode,ce),ce.return=ee,ee=ce),C(ee)):r(ee,W)}return function(ee,W,ne,ce){try{wo=0;var Se=Qe(ee,W,ne,ce);return wi=null,Se}catch(be){if(be===bi||be===nl)throw be;var Ge=Wt(29,be,null,ee.mode);return Ge.lanes=ce,Ge.return=ee,Ge}}}var Lr=Nh(!0),Th=Nh(!1),za=!1;function Gu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ua(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pa(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Zs(e),uh(e,null,r),n}return Xs(e,l,n,r),Zs(e)}function ko(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,_s(e,r)}}function Yu(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,y=null;if(r=r.firstBaseUpdate,r!==null){do{var C={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};y===null?h=y=C:y=y.next=C,r=r.next}while(r!==null);y===null?h=y=n:y=y.next=n}else h=y=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var qu=!1;function Co(){if(qu){var e=xi;if(e!==null)throw e}}function So(e,n,r,l){qu=!1;var h=e.updateQueue;za=!1;var y=h.firstBaseUpdate,C=h.lastBaseUpdate,V=h.shared.pending;if(V!==null){h.shared.pending=null;var $=V,ae=$.next;$.next=null,C===null?y=ae:C.next=ae,C=$;var le=e.alternate;le!==null&&(le=le.updateQueue,V=le.lastBaseUpdate,V!==C&&(V===null?le.firstBaseUpdate=ae:V.next=ae,le.lastBaseUpdate=$))}if(y!==null){var ue=h.baseState;C=0,le=ae=$=null,V=y;do{var re=V.lane&-536870913,se=re!==V.lane;if(se?(ze&re)===re:(l&re)===re){re!==0&&re===yi&&(qu=!0),le!==null&&(le=le.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var ye=e,_e=V;re=n;var Qe=r;switch(_e.tag){case 1:if(ye=_e.payload,typeof ye=="function"){ue=ye.call(Qe,ue,re);break e}ue=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=_e.payload,re=typeof ye=="function"?ye.call(Qe,ue,re):ye,re==null)break e;ue=x({},ue,re);break e;case 2:za=!0}}re=V.callback,re!==null&&(e.flags|=64,se&&(e.flags|=8192),se=h.callbacks,se===null?h.callbacks=[re]:se.push(re))}else se={lane:re,tag:V.tag,payload:V.payload,callback:V.callback,next:null},le===null?(ae=le=se,$=ue):le=le.next=se,C|=re;if(V=V.next,V===null){if(V=h.shared.pending,V===null)break;se=V,V=se.next,se.next=null,h.lastBaseUpdate=se,h.shared.pending=null}}while(!0);le===null&&($=ue),h.baseState=$,h.firstBaseUpdate=ae,h.lastBaseUpdate=le,y===null&&(h.shared.lanes=0),Ya|=C,e.lanes=C,e.memoizedState=ue}}function _h(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function Ah(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)_h(r[e],n)}var vi=G(null),ol=G(0);function Mh(e,n){e=pa,Z(ol,e),Z(vi,n),pa=e|n.baseLanes}function Ku(){Z(ol,pa),Z(vi,vi.current)}function Fu(){pa=ol.current,L(vi),L(ol)}var Jt=G(null),fn=null;function Ia(e){var n=e.alternate;Z(dt,dt.current&1),Z(Jt,e),fn===null&&(n===null||vi.current!==null||n.memoizedState!==null)&&(fn=e)}function $u(e){Z(dt,dt.current),Z(Jt,e),fn===null&&(fn=e)}function jh(e){e.tag===22?(Z(dt,dt.current),Z(Jt,e),fn===null&&(fn=e)):Ba()}function Ba(){Z(dt,dt.current),Z(Jt,Jt.current)}function en(e){L(Jt),fn===e&&(fn=null),L(dt)}var dt=G(0);function sl(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ef(r)||tf(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var sa=0,De=null,Xe=null,pt=null,ll=!1,ki=!1,Or=!1,cl=0,Eo=0,Ci=null,Wb=0;function ct(){throw Error(o(321))}function Xu(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Qt(e[r],n[r]))return!1;return!0}function Zu(e,n,r,l,h,y){return sa=y,De=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=e===null||e.memoizedState===null?mm:dd,Or=!1,y=r(l,h),Or=!1,ki&&(y=Dh(n,r,l,h)),Rh(e),y}function Rh(e){S.H=_o;var n=Xe!==null&&Xe.next!==null;if(sa=0,pt=Xe=De=null,ll=!1,Eo=0,Ci=null,n)throw Error(o(300));e===null||gt||(e=e.dependencies,e!==null&&Js(e)&&(gt=!0))}function Dh(e,n,r,l){De=e;var h=0;do{if(ki&&(Ci=null),Eo=0,ki=!1,25<=h)throw Error(o(301));if(h+=1,pt=Xe=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}S.H=pm,y=n(r,l)}while(ki);return y}function Jb(){var e=S.H,n=e.useState()[0];return n=typeof n.then=="function"?No(n):n,e=e.useState()[0],(Xe!==null?Xe.memoizedState:null)!==e&&(De.flags|=1024),n}function Qu(){var e=cl!==0;return cl=0,e}function Wu(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Ju(e){if(ll){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ll=!1}sa=0,pt=Xe=De=null,ki=!1,Eo=cl=0,Ci=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?De.memoizedState=pt=e:pt=pt.next=e,pt}function ft(){if(Xe===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var n=pt===null?De.memoizedState:pt.next;if(n!==null)pt=n,Xe=e;else{if(e===null)throw De.alternate===null?Error(o(467)):Error(o(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},pt===null?De.memoizedState=pt=e:pt=pt.next=e}return pt}function ul(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function No(e){var n=Eo;return Eo+=1,Ci===null&&(Ci=[]),e=Ch(Ci,e,n),n=De,(pt===null?n.memoizedState:pt.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?mm:dd),e}function dl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return No(e);if(e.$$typeof===_)return _t(e)}throw Error(o(438,String(e)))}function ed(e){var n=null,r=De.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ul(),De.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=B;return n.index++,r}function la(e,n){return typeof n=="function"?n(e):n}function fl(e){var n=ft();return td(n,Xe,e)}function td(e,n,r){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=r;var h=e.baseQueue,y=l.pending;if(y!==null){if(h!==null){var C=h.next;h.next=y.next,y.next=C}n.baseQueue=h=y,l.pending=null}if(y=e.baseState,h===null)e.memoizedState=y;else{n=h.next;var V=C=null,$=null,ae=n,le=!1;do{var ue=ae.lane&-536870913;if(ue!==ae.lane?(ze&ue)===ue:(sa&ue)===ue){var re=ae.revertLane;if(re===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),ue===yi&&(le=!0);else if((sa&re)===re){ae=ae.next,re===yi&&(le=!0);continue}else ue={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},$===null?(V=$=ue,C=y):$=$.next=ue,De.lanes|=re,Ya|=re;ue=ae.action,Or&&r(y,ue),y=ae.hasEagerState?ae.eagerState:r(y,ue)}else re={lane:ue,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},$===null?(V=$=re,C=y):$=$.next=re,De.lanes|=ue,Ya|=ue;ae=ae.next}while(ae!==null&&ae!==n);if($===null?C=y:$.next=V,!Qt(y,e.memoizedState)&&(gt=!0,le&&(r=xi,r!==null)))throw r;e.memoizedState=y,e.baseState=C,e.baseQueue=$,l.lastRenderedState=y}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function nd(e){var n=ft(),r=n.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var l=r.dispatch,h=r.pending,y=n.memoizedState;if(h!==null){r.pending=null;var C=h=h.next;do y=e(y,C.action),C=C.next;while(C!==h);Qt(y,n.memoizedState)||(gt=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),r.lastRenderedState=y}return[y,l]}function Lh(e,n,r){var l=De,h=ft(),y=Ie;if(y){if(r===void 0)throw Error(o(407));r=r()}else r=n();var C=!Qt((Xe||h).memoizedState,r);if(C&&(h.memoizedState=r,gt=!0),h=h.queue,id(zh.bind(null,l,h,e),[e]),h.getSnapshot!==n||C||pt!==null&&pt.memoizedState.tag&1){if(l.flags|=2048,Si(9,{destroy:void 0},Hh.bind(null,l,h,r,n),null),Je===null)throw Error(o(349));y||(sa&127)!==0||Oh(l,n,r)}return r}function Oh(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=De.updateQueue,n===null?(n=ul(),De.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Hh(e,n,r,l){n.value=r,n.getSnapshot=l,Uh(n)&&Ph(e)}function zh(e,n,r){return r(function(){Uh(n)&&Ph(e)})}function Uh(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Qt(e,r)}catch{return!0}}function Ph(e){var n=Nr(e,2);n!==null&&Kt(n,e,2)}function ad(e){var n=Ut();if(typeof e=="function"){var r=e;if(e=r(),Or){Hn(!0);try{r()}finally{Hn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},n}function Ih(e,n,r,l){return e.baseState=r,td(e,Xe,typeof l=="function"?l:la)}function ew(e,n,r,l,h){if(pl(e))throw Error(o(485));if(e=n.action,e!==null){var y={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){y.listeners.push(C)}};S.T!==null?r(!0):y.isTransition=!1,l(y),r=n.pending,r===null?(y.next=n.pending=y,Bh(n,y)):(y.next=r.next,n.pending=r.next=y)}}function Bh(e,n){var r=n.action,l=n.payload,h=e.state;if(n.isTransition){var y=S.T,C={};S.T=C;try{var V=r(h,l),$=S.S;$!==null&&$(C,V),Gh(e,n,V)}catch(ae){rd(e,n,ae)}finally{y!==null&&C.types!==null&&(y.types=C.types),S.T=y}}else try{y=r(h,l),Gh(e,n,y)}catch(ae){rd(e,n,ae)}}function Gh(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Vh(e,n,l)},function(l){return rd(e,n,l)}):Vh(e,n,r)}function Vh(e,n,r){n.status="fulfilled",n.value=r,Yh(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Bh(e,r)))}function rd(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Yh(n),n=n.next;while(n!==l)}e.action=null}function Yh(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function qh(e,n){return n}function Kh(e,n){if(Ie){var r=Je.formState;if(r!==null){e:{var l=De;if(Ie){if(tt){t:{for(var h=tt,y=dn;h.nodeType!==8;){if(!y){h=null;break t}if(h=hn(h.nextSibling),h===null){h=null;break t}}y=h.data,h=y==="F!"||y==="F"?h:null}if(h){tt=hn(h.nextSibling),l=h.data==="F!";break e}}Oa(l)}l=!1}l&&(n=r[0])}}return r=Ut(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qh,lastRenderedState:n},r.queue=l,r=dm.bind(null,De,l),l.dispatch=r,l=ad(!1),y=ud.bind(null,De,!1,l.queue),l=Ut(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,r=ew.bind(null,De,h,y,r),h.dispatch=r,l.memoizedState=e,[n,r,!1]}function Fh(e){var n=ft();return $h(n,Xe,e)}function $h(e,n,r){if(n=td(e,n,qh)[0],e=fl(la)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=No(n)}catch(C){throw C===bi?nl:C}else l=n;n=ft();var h=n.queue,y=h.dispatch;return r!==n.memoizedState&&(De.flags|=2048,Si(9,{destroy:void 0},tw.bind(null,h,r),null)),[l,y,e]}function tw(e,n){e.action=n}function Xh(e){var n=ft(),r=Xe;if(r!==null)return $h(n,r,e);ft(),n=n.memoizedState,r=ft();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Si(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=De.updateQueue,n===null&&(n=ul(),De.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function Zh(){return ft().memoizedState}function hl(e,n,r,l){var h=Ut();De.flags|=e,h.memoizedState=Si(1|n,{destroy:void 0},r,l===void 0?null:l)}function ml(e,n,r,l){var h=ft();l=l===void 0?null:l;var y=h.memoizedState.inst;Xe!==null&&l!==null&&Xu(l,Xe.memoizedState.deps)?h.memoizedState=Si(n,y,r,l):(De.flags|=e,h.memoizedState=Si(1|n,y,r,l))}function Qh(e,n){hl(8390656,8,e,n)}function id(e,n){ml(2048,8,e,n)}function nw(e){De.flags|=4;var n=De.updateQueue;if(n===null)n=ul(),De.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Wh(e){var n=ft().memoizedState;return nw({ref:n,nextImpl:e}),function(){if((Ye&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function Jh(e,n){return ml(4,2,e,n)}function em(e,n){return ml(4,4,e,n)}function tm(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function nm(e,n,r){r=r!=null?r.concat([e]):null,ml(4,4,tm.bind(null,n,e),r)}function od(){}function am(e,n){var r=ft();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Xu(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function rm(e,n){var r=ft();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Xu(n,l[1]))return l[0];if(l=e(),Or){Hn(!0);try{e()}finally{Hn(!1)}}return r.memoizedState=[l,n],l}function sd(e,n,r){return r===void 0||(sa&1073741824)!==0&&(ze&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=ip(),De.lanes|=e,Ya|=e,r)}function im(e,n,r,l){return Qt(r,n)?r:vi.current!==null?(e=sd(e,r,l),Qt(e,n)||(gt=!0),e):(sa&42)===0||(sa&1073741824)!==0&&(ze&261930)===0?(gt=!0,e.memoizedState=r):(e=ip(),De.lanes|=e,Ya|=e,n)}function om(e,n,r,l,h){var y=P.p;P.p=y!==0&&8>y?y:8;var C=S.T,V={};S.T=V,ud(e,!1,n,r);try{var $=h(),ae=S.S;if(ae!==null&&ae(V,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var le=Qb($,l);To(e,n,le,an(e))}else To(e,n,l,an(e))}catch(ue){To(e,n,{then:function(){},status:"rejected",reason:ue},an())}finally{P.p=y,C!==null&&V.types!==null&&(C.types=V.types),S.T=C}}function aw(){}function ld(e,n,r,l){if(e.tag!==5)throw Error(o(476));var h=sm(e).queue;om(e,h,n,A,r===null?aw:function(){return lm(e),r(l)})}function sm(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:A,baseState:A,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:A},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function lm(e){var n=sm(e);n.next===null&&(n=e.alternate.memoizedState),To(e,n.next.queue,{},an())}function cd(){return _t(Yo)}function cm(){return ft().memoizedState}function um(){return ft().memoizedState}function rw(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=an();e=Ua(r);var l=Pa(n,e,r);l!==null&&(Kt(l,n,r),ko(l,n,r)),n={cache:Uu()},e.payload=n;return}n=n.return}}function iw(e,n,r){var l=an();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},pl(e)?fm(n,r):(r=Tu(e,n,r,l),r!==null&&(Kt(r,e,l),hm(r,n,l)))}function dm(e,n,r){var l=an();To(e,n,r,l)}function To(e,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(pl(e))fm(n,h);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var C=n.lastRenderedState,V=y(C,r);if(h.hasEagerState=!0,h.eagerState=V,Qt(V,C))return Xs(e,n,h,0),Je===null&&$s(),!1}catch{}if(r=Tu(e,n,h,l),r!==null)return Kt(r,e,l),hm(r,n,l),!0}return!1}function ud(e,n,r,l){if(l={lane:2,revertLane:Gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pl(e)){if(n)throw Error(o(479))}else n=Tu(e,r,l,2),n!==null&&Kt(n,e,2)}function pl(e){var n=e.alternate;return e===De||n!==null&&n===De}function fm(e,n){ki=ll=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function hm(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,_s(e,r)}}var _o={readContext:_t,use:dl,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};_o.useEffectEvent=ct;var mm={readContext:_t,use:dl,useCallback:function(e,n){return Ut().memoizedState=[e,n===void 0?null:n],e},useContext:_t,useEffect:Qh,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,hl(4194308,4,tm.bind(null,n,e),r)},useLayoutEffect:function(e,n){return hl(4194308,4,e,n)},useInsertionEffect:function(e,n){hl(4,2,e,n)},useMemo:function(e,n){var r=Ut();n=n===void 0?null:n;var l=e();if(Or){Hn(!0);try{e()}finally{Hn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=Ut();if(r!==void 0){var h=r(n);if(Or){Hn(!0);try{r(n)}finally{Hn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=iw.bind(null,De,e),[l.memoizedState,e]},useRef:function(e){var n=Ut();return e={current:e},n.memoizedState=e},useState:function(e){e=ad(e);var n=e.queue,r=dm.bind(null,De,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:od,useDeferredValue:function(e,n){var r=Ut();return sd(r,e,n)},useTransition:function(){var e=ad(!1);return e=om.bind(null,De,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=De,h=Ut();if(Ie){if(r===void 0)throw Error(o(407));r=r()}else{if(r=n(),Je===null)throw Error(o(349));(ze&127)!==0||Oh(l,n,r)}h.memoizedState=r;var y={value:r,getSnapshot:n};return h.queue=y,Qh(zh.bind(null,l,y,e),[e]),l.flags|=2048,Si(9,{destroy:void 0},Hh.bind(null,l,y,r,n),null),r},useId:function(){var e=Ut(),n=Je.identifierPrefix;if(Ie){var r=Pn,l=Un;r=(l&~(1<<32-zt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=cl++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=Wb++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:cd,useFormState:Kh,useActionState:Kh,useOptimistic:function(e){var n=Ut();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=ud.bind(null,De,!0,r),r.dispatch=n,[e,n]},useMemoCache:ed,useCacheRefresh:function(){return Ut().memoizedState=rw.bind(null,De)},useEffectEvent:function(e){var n=Ut(),r={impl:e};return n.memoizedState=r,function(){if((Ye&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}},dd={readContext:_t,use:dl,useCallback:am,useContext:_t,useEffect:id,useImperativeHandle:nm,useInsertionEffect:Jh,useLayoutEffect:em,useMemo:rm,useReducer:fl,useRef:Zh,useState:function(){return fl(la)},useDebugValue:od,useDeferredValue:function(e,n){var r=ft();return im(r,Xe.memoizedState,e,n)},useTransition:function(){var e=fl(la)[0],n=ft().memoizedState;return[typeof e=="boolean"?e:No(e),n]},useSyncExternalStore:Lh,useId:cm,useHostTransitionStatus:cd,useFormState:Fh,useActionState:Fh,useOptimistic:function(e,n){var r=ft();return Ih(r,Xe,e,n)},useMemoCache:ed,useCacheRefresh:um};dd.useEffectEvent=Wh;var pm={readContext:_t,use:dl,useCallback:am,useContext:_t,useEffect:id,useImperativeHandle:nm,useInsertionEffect:Jh,useLayoutEffect:em,useMemo:rm,useReducer:nd,useRef:Zh,useState:function(){return nd(la)},useDebugValue:od,useDeferredValue:function(e,n){var r=ft();return Xe===null?sd(r,e,n):im(r,Xe.memoizedState,e,n)},useTransition:function(){var e=nd(la)[0],n=ft().memoizedState;return[typeof e=="boolean"?e:No(e),n]},useSyncExternalStore:Lh,useId:cm,useHostTransitionStatus:cd,useFormState:Xh,useActionState:Xh,useOptimistic:function(e,n){var r=ft();return Xe!==null?Ih(r,Xe,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ed,useCacheRefresh:um};pm.useEffectEvent=Wh;function fd(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:x({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var hd={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=an(),h=Ua(l);h.payload=n,r!=null&&(h.callback=r),n=Pa(e,h,l),n!==null&&(Kt(n,e,l),ko(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=an(),h=Ua(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Pa(e,h,l),n!==null&&(Kt(n,e,l),ko(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=an(),l=Ua(r);l.tag=2,n!=null&&(l.callback=n),n=Pa(e,l,r),n!==null&&(Kt(n,e,r),ko(n,e,r))}};function gm(e,n,r,l,h,y,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,y,C):n.prototype&&n.prototype.isPureReactComponent?!mo(r,l)||!mo(h,y):!0}function ym(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&hd.enqueueReplaceState(n,n.state,null)}function Hr(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=x({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function xm(e){Fs(e)}function bm(e){console.error(e)}function wm(e){Fs(e)}function gl(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function vm(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function md(e,n,r){return r=Ua(r),r.tag=3,r.payload={element:null},r.callback=function(){gl(e,n)},r}function km(e){return e=Ua(e),e.tag=3,e}function Cm(e,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var y=l.value;e.payload=function(){return h(y)},e.callback=function(){vm(n,r,l)}}var C=r.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){vm(n,r,l),typeof h!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var V=l.stack;this.componentDidCatch(l.value,{componentStack:V!==null?V:""})})}function ow(e,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&gi(n,r,h,!0),r=Jt.current,r!==null){switch(r.tag){case 31:case 13:return fn===null?_l():r.alternate===null&&ut===0&&(ut=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===al?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Pd(e,l,h)),!1;case 22:return r.flags|=65536,l===al?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Pd(e,l,h)),!1}throw Error(o(435,r.tag))}return Pd(e,l,h),_l(),!1}if(Ie)return n=Jt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Du&&(e=Error(o(422),{cause:l}),yo(ln(e,r)))):(l!==Du&&(n=Error(o(423),{cause:l}),yo(ln(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=ln(l,r),h=md(e.stateNode,l,h),Yu(e,h),ut!==4&&(ut=2)),!1;var y=Error(o(520),{cause:l});if(y=ln(y,r),Ho===null?Ho=[y]:Ho.push(y),ut!==4&&(ut=2),n===null)return!0;l=ln(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=md(r.stateNode,l,e),Yu(r,e),!1;case 1:if(n=r.type,y=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(qa===null||!qa.has(y))))return r.flags|=65536,h&=-h,r.lanes|=h,h=km(h),Cm(h,e,r,l),Yu(r,h),!1}r=r.return}while(r!==null);return!1}var pd=Error(o(461)),gt=!1;function At(e,n,r,l){n.child=e===null?Th(n,null,r,l):Lr(n,e.child,r,l)}function Sm(e,n,r,l,h){r=r.render;var y=n.ref;if("ref"in l){var C={};for(var V in l)V!=="ref"&&(C[V]=l[V])}else C=l;return Mr(n),l=Zu(e,n,r,C,y,h),V=Qu(),e!==null&&!gt?(Wu(e,n,h),ca(e,n,h)):(Ie&&V&&ju(n),n.flags|=1,At(e,n,l,h),n.child)}function Em(e,n,r,l,h){if(e===null){var y=r.type;return typeof y=="function"&&!_u(y)&&y.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=y,Nm(e,n,y,l,h)):(e=Qs(r.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(y=e.child,!Cd(e,h)){var C=y.memoizedProps;if(r=r.compare,r=r!==null?r:mo,r(C,l)&&e.ref===n.ref)return ca(e,n,h)}return n.flags|=1,e=aa(y,l),e.ref=n.ref,e.return=n,n.child=e}function Nm(e,n,r,l,h){if(e!==null){var y=e.memoizedProps;if(mo(y,l)&&e.ref===n.ref)if(gt=!1,n.pendingProps=l=y,Cd(e,h))(e.flags&131072)!==0&&(gt=!0);else return n.lanes=e.lanes,ca(e,n,h)}return gd(e,n,r,l,h)}function Tm(e,n,r,l){var h=l.children,y=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(y=y!==null?y.baseLanes|r:r,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~y}else l=0,n.child=null;return _m(e,n,y,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&tl(n,y!==null?y.cachePool:null),y!==null?Mh(n,y):Ku(),jh(n);else return l=n.lanes=536870912,_m(e,n,y!==null?y.baseLanes|r:r,r,l)}else y!==null?(tl(n,y.cachePool),Mh(n,y),Ba(),n.memoizedState=null):(e!==null&&tl(n,null),Ku(),Ba());return At(e,n,h,r),n.child}function Ao(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function _m(e,n,r,l,h){var y=Iu();return y=y===null?null:{parent:mt._currentValue,pool:y},n.memoizedState={baseLanes:r,cachePool:y},e!==null&&tl(n,null),Ku(),jh(n),e!==null&&gi(e,n,l,!0),n.childLanes=h,null}function yl(e,n){return n=bl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Am(e,n,r){return Lr(n,e.child,null,r),e=yl(n,n.pendingProps),e.flags|=2,en(n),n.memoizedState=null,e}function sw(e,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ie){if(l.mode==="hidden")return e=yl(n,l),n.lanes=536870912,Ao(null,e);if($u(n),(e=tt)?(e=Bp(e,dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Da!==null?{id:Un,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},r=fh(e),r.return=n,n.child=r,Tt=n,tt=null)):e=null,e===null)throw Oa(n);return n.lanes=536870912,null}return yl(n,l)}var y=e.memoizedState;if(y!==null){var C=y.dehydrated;if($u(n),h)if(n.flags&256)n.flags&=-257,n=Am(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(o(558));else if(gt||gi(e,n,r,!1),h=(r&e.childLanes)!==0,gt||h){if(l=Je,l!==null&&(C=As(l,r),C!==0&&C!==y.retryLane))throw y.retryLane=C,Nr(e,C),Kt(l,e,C),pd;_l(),n=Am(e,n,r)}else e=y.treeContext,tt=hn(C.nextSibling),Tt=n,Ie=!0,La=null,dn=!1,e!==null&&ph(n,e),n=yl(n,l),n.flags|=4096;return n}return e=aa(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function xl(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function gd(e,n,r,l,h){return Mr(n),r=Zu(e,n,r,l,void 0,h),l=Qu(),e!==null&&!gt?(Wu(e,n,h),ca(e,n,h)):(Ie&&l&&ju(n),n.flags|=1,At(e,n,r,h),n.child)}function Mm(e,n,r,l,h,y){return Mr(n),n.updateQueue=null,r=Dh(n,l,r,h),Rh(e),l=Qu(),e!==null&&!gt?(Wu(e,n,y),ca(e,n,y)):(Ie&&l&&ju(n),n.flags|=1,At(e,n,r,y),n.child)}function jm(e,n,r,l,h){if(Mr(n),n.stateNode===null){var y=fi,C=r.contextType;typeof C=="object"&&C!==null&&(y=_t(C)),y=new r(l,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=hd,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=l,y.state=n.memoizedState,y.refs={},Gu(n),C=r.contextType,y.context=typeof C=="object"&&C!==null?_t(C):fi,y.state=n.memoizedState,C=r.getDerivedStateFromProps,typeof C=="function"&&(fd(n,r,C,l),y.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(C=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),C!==y.state&&hd.enqueueReplaceState(y,y.state,null),So(n,l,y,h),Co(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){y=n.stateNode;var V=n.memoizedProps,$=Hr(r,V);y.props=$;var ae=y.context,le=r.contextType;C=fi,typeof le=="object"&&le!==null&&(C=_t(le));var ue=r.getDerivedStateFromProps;le=typeof ue=="function"||typeof y.getSnapshotBeforeUpdate=="function",V=n.pendingProps!==V,le||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(V||ae!==C)&&ym(n,y,l,C),za=!1;var re=n.memoizedState;y.state=re,So(n,l,y,h),Co(),ae=n.memoizedState,V||re!==ae||za?(typeof ue=="function"&&(fd(n,r,ue,l),ae=n.memoizedState),($=za||gm(n,r,$,l,re,ae,C))?(le||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=ae),y.props=l,y.state=ae,y.context=C,l=$):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{y=n.stateNode,Vu(e,n),C=n.memoizedProps,le=Hr(r,C),y.props=le,ue=n.pendingProps,re=y.context,ae=r.contextType,$=fi,typeof ae=="object"&&ae!==null&&($=_t(ae)),V=r.getDerivedStateFromProps,(ae=typeof V=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==ue||re!==$)&&ym(n,y,l,$),za=!1,re=n.memoizedState,y.state=re,So(n,l,y,h),Co();var se=n.memoizedState;C!==ue||re!==se||za||e!==null&&e.dependencies!==null&&Js(e.dependencies)?(typeof V=="function"&&(fd(n,r,V,l),se=n.memoizedState),(le=za||gm(n,r,le,l,re,se,$)||e!==null&&e.dependencies!==null&&Js(e.dependencies))?(ae||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,se,$),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,se,$)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===e.memoizedProps&&re===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&re===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=se),y.props=l,y.state=se,y.context=$,l=le):(typeof y.componentDidUpdate!="function"||C===e.memoizedProps&&re===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&re===e.memoizedState||(n.flags|=1024),l=!1)}return y=l,xl(e,n),l=(n.flags&128)!==0,y||l?(y=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,e!==null&&l?(n.child=Lr(n,e.child,null,h),n.child=Lr(n,null,r,h)):At(e,n,r,h),n.memoizedState=y.state,e=n.child):e=ca(e,n,h),e}function Rm(e,n,r,l){return _r(),n.flags|=256,At(e,n,r,l),n.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xd(e){return{baseLanes:e,cachePool:vh()}}function bd(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=nn),e}function Dm(e,n,r){var l=n.pendingProps,h=!1,y=(n.flags&128)!==0,C;if((C=y)||(C=e!==null&&e.memoizedState===null?!1:(dt.current&2)!==0),C&&(h=!0,n.flags&=-129),C=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ie){if(h?Ia(n):Ba(),(e=tt)?(e=Bp(e,dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Da!==null?{id:Un,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},r=fh(e),r.return=n,n.child=r,Tt=n,tt=null)):e=null,e===null)throw Oa(n);return tf(e)?n.lanes=32:n.lanes=536870912,null}var V=l.children;return l=l.fallback,h?(Ba(),h=n.mode,V=bl({mode:"hidden",children:V},h),l=Tr(l,h,r,null),V.return=n,l.return=n,V.sibling=l,n.child=V,l=n.child,l.memoizedState=xd(r),l.childLanes=bd(e,C,r),n.memoizedState=yd,Ao(null,l)):(Ia(n),wd(n,V))}var $=e.memoizedState;if($!==null&&(V=$.dehydrated,V!==null)){if(y)n.flags&256?(Ia(n),n.flags&=-257,n=vd(e,n,r)):n.memoizedState!==null?(Ba(),n.child=e.child,n.flags|=128,n=null):(Ba(),V=l.fallback,h=n.mode,l=bl({mode:"visible",children:l.children},h),V=Tr(V,h,r,null),V.flags|=2,l.return=n,V.return=n,l.sibling=V,n.child=l,Lr(n,e.child,null,r),l=n.child,l.memoizedState=xd(r),l.childLanes=bd(e,C,r),n.memoizedState=yd,n=Ao(null,l));else if(Ia(n),tf(V)){if(C=V.nextSibling&&V.nextSibling.dataset,C)var ae=C.dgst;C=ae,l=Error(o(419)),l.stack="",l.digest=C,yo({value:l,source:null,stack:null}),n=vd(e,n,r)}else if(gt||gi(e,n,r,!1),C=(r&e.childLanes)!==0,gt||C){if(C=Je,C!==null&&(l=As(C,r),l!==0&&l!==$.retryLane))throw $.retryLane=l,Nr(e,l),Kt(C,e,l),pd;ef(V)||_l(),n=vd(e,n,r)}else ef(V)?(n.flags|=192,n.child=e.child,n=null):(e=$.treeContext,tt=hn(V.nextSibling),Tt=n,Ie=!0,La=null,dn=!1,e!==null&&ph(n,e),n=wd(n,l.children),n.flags|=4096);return n}return h?(Ba(),V=l.fallback,h=n.mode,$=e.child,ae=$.sibling,l=aa($,{mode:"hidden",children:l.children}),l.subtreeFlags=$.subtreeFlags&65011712,ae!==null?V=aa(ae,V):(V=Tr(V,h,r,null),V.flags|=2),V.return=n,l.return=n,l.sibling=V,n.child=l,Ao(null,l),l=n.child,V=e.child.memoizedState,V===null?V=xd(r):(h=V.cachePool,h!==null?($=mt._currentValue,h=h.parent!==$?{parent:$,pool:$}:h):h=vh(),V={baseLanes:V.baseLanes|r,cachePool:h}),l.memoizedState=V,l.childLanes=bd(e,C,r),n.memoizedState=yd,Ao(e.child,l)):(Ia(n),r=e.child,e=r.sibling,r=aa(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(C=n.deletions,C===null?(n.deletions=[e],n.flags|=16):C.push(e)),n.child=r,n.memoizedState=null,r)}function wd(e,n){return n=bl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function bl(e,n){return e=Wt(22,e,null,n),e.lanes=0,e}function vd(e,n,r){return Lr(n,e.child,null,r),e=wd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Lm(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Hu(e.return,n,r)}function kd(e,n,r,l,h,y){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:y}:(C.isBackwards=n,C.rendering=null,C.renderingStartTime=0,C.last=l,C.tail=r,C.tailMode=h,C.treeForkCount=y)}function Om(e,n,r){var l=n.pendingProps,h=l.revealOrder,y=l.tail;l=l.children;var C=dt.current,V=(C&2)!==0;if(V?(C=C&1|2,n.flags|=128):C&=1,Z(dt,C),At(e,n,l,r),l=Ie?go:0,!V&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lm(e,r,n);else if(e.tag===19)Lm(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&sl(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),kd(n,!1,h,r,y,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&sl(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}kd(n,!0,r,null,y,l);break;case"together":kd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ca(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Ya|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(gi(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,r=aa(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=aa(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Cd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Js(e)))}function lw(e,n,r){switch(n.tag){case 3:de(n,n.stateNode.containerInfo),Ha(n,mt,e.memoizedState.cache),_r();break;case 27:case 5:Ee(n);break;case 4:de(n,n.stateNode.containerInfo);break;case 10:Ha(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,$u(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ia(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Dm(e,n,r):(Ia(n),e=ca(e,n,r),e!==null?e.sibling:null);Ia(n);break;case 19:var h=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(gi(e,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return Om(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Z(dt,dt.current),l)break;return null;case 22:return n.lanes=0,Tm(e,n,r,n.pendingProps);case 24:Ha(n,mt,e.memoizedState.cache)}return ca(e,n,r)}function Hm(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)gt=!0;else{if(!Cd(e,r)&&(n.flags&128)===0)return gt=!1,lw(e,n,r);gt=(e.flags&131072)!==0}else gt=!1,Ie&&(n.flags&1048576)!==0&&mh(n,go,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=Rr(n.elementType),n.type=e,typeof e=="function")_u(e)?(l=Hr(e,l),n.tag=1,n=jm(null,n,e,l,r)):(n.tag=0,n=gd(null,n,e,l,r));else{if(e!=null){var h=e.$$typeof;if(h===R){n.tag=11,n=Sm(null,n,e,l,r);break e}else if(h===Y){n.tag=14,n=Em(null,n,e,l,r);break e}}throw n=D(e)||e,Error(o(306,n,""))}}return n;case 0:return gd(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Hr(l,n.pendingProps),jm(e,n,l,h,r);case 3:e:{if(de(n,n.stateNode.containerInfo),e===null)throw Error(o(387));l=n.pendingProps;var y=n.memoizedState;h=y.element,Vu(e,n),So(n,l,null,r);var C=n.memoizedState;if(l=C.cache,Ha(n,mt,l),l!==y.cache&&zu(n,[mt],r,!0),Co(),l=C.element,y.isDehydrated)if(y={element:l,isDehydrated:!1,cache:C.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=Rm(e,n,l,r);break e}else if(l!==h){h=ln(Error(o(424)),n),yo(h),n=Rm(e,n,l,r);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,tt=hn(e.firstChild),Tt=n,Ie=!0,La=null,dn=!0,r=Th(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_r(),l===h){n=ca(e,n,r);break e}At(e,n,l,r)}n=n.child}return n;case 26:return xl(e,n),e===null?(r=Fp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ie||(r=n.type,e=n.pendingProps,l=Ol(ie.current).createElement(r),l[wt]=n,l[Rt]=e,Mt(l,r,e),ht(l),n.stateNode=l):n.memoizedState=Fp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ee(n),e===null&&Ie&&(l=n.stateNode=Yp(n.type,n.pendingProps,ie.current),Tt=n,dn=!0,h=tt,Xa(n.type)?(nf=h,tt=hn(l.firstChild)):tt=h),At(e,n,n.pendingProps.children,r),xl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ie&&((h=l=tt)&&(l=Uw(l,n.type,n.pendingProps,dn),l!==null?(n.stateNode=l,Tt=n,tt=hn(l.firstChild),dn=!1,h=!0):h=!1),h||Oa(n)),Ee(n),h=n.type,y=n.pendingProps,C=e!==null?e.memoizedProps:null,l=y.children,Qd(h,y)?l=null:C!==null&&Qd(h,C)&&(n.flags|=32),n.memoizedState!==null&&(h=Zu(e,n,Jb,null,null,r),Yo._currentValue=h),xl(e,n),At(e,n,l,r),n.child;case 6:return e===null&&Ie&&((e=r=tt)&&(r=Pw(r,n.pendingProps,dn),r!==null?(n.stateNode=r,Tt=n,tt=null,e=!0):e=!1),e||Oa(n)),null;case 13:return Dm(e,n,r);case 4:return de(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Lr(n,null,l,r):At(e,n,l,r),n.child;case 11:return Sm(e,n,n.type,n.pendingProps,r);case 7:return At(e,n,n.pendingProps,r),n.child;case 8:return At(e,n,n.pendingProps.children,r),n.child;case 12:return At(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ha(n,n.type,l.value),At(e,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Mr(n),h=_t(h),l=l(h),n.flags|=1,At(e,n,l,r),n.child;case 14:return Em(e,n,n.type,n.pendingProps,r);case 15:return Nm(e,n,n.type,n.pendingProps,r);case 19:return Om(e,n,r);case 31:return sw(e,n,r);case 22:return Tm(e,n,r,n.pendingProps);case 24:return Mr(n),l=_t(mt),e===null?(h=Iu(),h===null&&(h=Je,y=Uu(),h.pooledCache=y,y.refCount++,y!==null&&(h.pooledCacheLanes|=r),h=y),n.memoizedState={parent:l,cache:h},Gu(n),Ha(n,mt,h)):((e.lanes&r)!==0&&(Vu(e,n),So(n,null,null,r),Co()),h=e.memoizedState,y=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ha(n,mt,l)):(l=y.cache,Ha(n,mt,l),l!==h.cache&&zu(n,[mt],r,!0))),At(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function ua(e){e.flags|=4}function Sd(e,n,r,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(cp())e.flags|=8192;else throw Dr=al,Bu}else e.flags&=-16777217}function zm(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wp(n))if(cp())e.flags|=8192;else throw Dr=al,Bu}function wl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ns():536870912,e.lanes|=n,_i|=n)}function Mo(e,n){if(!Ie)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function nt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function cw(e,n,r){var l=n.pendingProps;switch(Ru(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(n),null;case 1:return nt(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),oa(mt),pe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pi(n)?ua(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Lu())),nt(n),null;case 26:var h=n.type,y=n.memoizedState;return e===null?(ua(n),y!==null?(nt(n),zm(n,y)):(nt(n),Sd(n,h,null,l,r))):y?y!==e.memoizedState?(ua(n),nt(n),zm(n,y)):(nt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&ua(n),nt(n),Sd(n,h,e,l,r)),null;case 27:if(ke(n),r=ie.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ua(n);else{if(!l){if(n.stateNode===null)throw Error(o(166));return nt(n),null}e=Q.current,pi(n)?gh(n):(e=Yp(h,l,r),n.stateNode=e,ua(n))}return nt(n),null;case 5:if(ke(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ua(n);else{if(!l){if(n.stateNode===null)throw Error(o(166));return nt(n),null}if(y=Q.current,pi(n))gh(n);else{var C=Ol(ie.current);switch(y){case 1:y=C.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:y=C.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":y=C.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":y=C.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":y=C.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof l.is=="string"?C.createElement("select",{is:l.is}):C.createElement("select"),l.multiple?y.multiple=!0:l.size&&(y.size=l.size);break;default:y=typeof l.is=="string"?C.createElement(h,{is:l.is}):C.createElement(h)}}y[wt]=n,y[Rt]=l;e:for(C=n.child;C!==null;){if(C.tag===5||C.tag===6)y.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===n)break e;for(;C.sibling===null;){if(C.return===null||C.return===n)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}n.stateNode=y;e:switch(Mt(y,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ua(n)}}return nt(n),Sd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&ua(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(o(166));if(e=ie.current,pi(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,h=Tt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[wt]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Dp(e.nodeValue,r)),e||Oa(n,!0)}else e=Ol(e).createTextNode(l),e[wt]=n,n.stateNode=e}return nt(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=pi(n),r!==null){if(e===null){if(!l)throw Error(o(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[wt]=n}else _r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),e=!1}else r=Lu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(en(n),n):(en(n),null);if((n.flags&128)!==0)throw Error(o(558))}return nt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=pi(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(o(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));h[wt]=n}else _r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),h=!1}else h=Lu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(en(n),n):(en(n),null)}return en(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),y=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==h&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),wl(n,n.updateQueue),nt(n),null);case 4:return pe(),e===null&&Kd(n.stateNode.containerInfo),nt(n),null;case 10:return oa(n.type),nt(n),null;case 19:if(L(dt),l=n.memoizedState,l===null)return nt(n),null;if(h=(n.flags&128)!==0,y=l.rendering,y===null)if(h)Mo(l,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(y=sl(e),y!==null){for(n.flags|=128,Mo(l,!1),e=y.updateQueue,n.updateQueue=e,wl(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)dh(r,e),r=r.sibling;return Z(dt,dt.current&1|2),Ie&&ra(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Nt()>El&&(n.flags|=128,h=!0,Mo(l,!1),n.lanes=4194304)}else{if(!h)if(e=sl(y),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,wl(n,e),Mo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!y.alternate&&!Ie)return nt(n),null}else 2*Nt()-l.renderingStartTime>El&&r!==536870912&&(n.flags|=128,h=!0,Mo(l,!1),n.lanes=4194304);l.isBackwards?(y.sibling=n.child,n.child=y):(e=l.last,e!==null?e.sibling=y:n.child=y,l.last=y)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Nt(),e.sibling=null,r=dt.current,Z(dt,h?r&1|2:r&1),Ie&&ra(n,l.treeForkCount),e):(nt(n),null);case 22:case 23:return en(n),Fu(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(nt(n),n.subtreeFlags&6&&(n.flags|=8192)):nt(n),r=n.updateQueue,r!==null&&wl(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&L(jr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),oa(mt),nt(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function uw(e,n){switch(Ru(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return oa(mt),pe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ke(n),null;case 31:if(n.memoizedState!==null){if(en(n),n.alternate===null)throw Error(o(340));_r()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(en(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));_r()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return L(dt),null;case 4:return pe(),null;case 10:return oa(n.type),null;case 22:case 23:return en(n),Fu(),e!==null&&L(jr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return oa(mt),null;case 25:return null;default:return null}}function Um(e,n){switch(Ru(n),n.tag){case 3:oa(mt),pe();break;case 26:case 27:case 5:ke(n);break;case 4:pe();break;case 31:n.memoizedState!==null&&en(n);break;case 13:en(n);break;case 19:L(dt);break;case 10:oa(n.type);break;case 22:case 23:en(n),Fu(),e!==null&&L(jr);break;case 24:oa(mt)}}function jo(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&e)===e){l=void 0;var y=r.create,C=r.inst;l=y(),C.destroy=l}r=r.next}while(r!==h)}}catch(V){$e(n,n.return,V)}}function Ga(e,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var y=h.next;l=y;do{if((l.tag&e)===e){var C=l.inst,V=C.destroy;if(V!==void 0){C.destroy=void 0,h=n;var $=r,ae=V;try{ae()}catch(le){$e(h,$,le)}}}l=l.next}while(l!==y)}}catch(le){$e(n,n.return,le)}}function Pm(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Ah(n,r)}catch(l){$e(e,e.return,l)}}}function Im(e,n,r){r.props=Hr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){$e(e,n,l)}}function Ro(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(h){$e(e,n,h)}}function In(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){$e(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){$e(e,n,h)}else r.current=null}function Bm(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){$e(e,e.return,h)}}function Ed(e,n,r){try{var l=e.stateNode;Rw(l,e.type,r,n),l[Rt]=n}catch(h){$e(e,e.return,h)}}function Gm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xa(e.type)||e.tag===4}function Nd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Td(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ta));else if(l!==4&&(l===27&&Xa(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Td(e,n,r),e=e.sibling;e!==null;)Td(e,n,r),e=e.sibling}function vl(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&Xa(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(vl(e,n,r),e=e.sibling;e!==null;)vl(e,n,r),e=e.sibling}function Vm(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Mt(n,l,r),n[wt]=e,n[Rt]=r}catch(y){$e(e,e.return,y)}}var da=!1,yt=!1,_d=!1,Ym=typeof WeakSet=="function"?WeakSet:Set,St=null;function dw(e,n){if(e=e.containerInfo,Xd=Gl,e=nh(e),vu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,y=l.focusNode;l=l.focusOffset;try{r.nodeType,y.nodeType}catch{r=null;break e}var C=0,V=-1,$=-1,ae=0,le=0,ue=e,re=null;t:for(;;){for(var se;ue!==r||h!==0&&ue.nodeType!==3||(V=C+h),ue!==y||l!==0&&ue.nodeType!==3||($=C+l),ue.nodeType===3&&(C+=ue.nodeValue.length),(se=ue.firstChild)!==null;)re=ue,ue=se;for(;;){if(ue===e)break t;if(re===r&&++ae===h&&(V=C),re===y&&++le===l&&($=C),(se=ue.nextSibling)!==null)break;ue=re,re=ue.parentNode}ue=se}r=V===-1||$===-1?null:{start:V,end:$}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zd={focusedElem:e,selectionRange:r},Gl=!1,St=n;St!==null;)if(n=St,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,St=e;else for(;St!==null;){switch(n=St,y=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,r=n,h=y.memoizedProps,y=y.memoizedState,l=r.stateNode;try{var ye=Hr(r.type,h);e=l.getSnapshotBeforeUpdate(ye,y),l.__reactInternalSnapshotBeforeUpdate=e}catch(_e){$e(r,r.return,_e)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Jd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Jd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,St=e;break}St=n.return}}function qm(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ha(e,r),l&4&&jo(5,r);break;case 1:if(ha(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(C){$e(r,r.return,C)}else{var h=Hr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(C){$e(r,r.return,C)}}l&64&&Pm(r),l&512&&Ro(r,r.return);break;case 3:if(ha(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Ah(e,n)}catch(C){$e(r,r.return,C)}}break;case 27:n===null&&l&4&&Vm(r);case 26:case 5:ha(e,r),n===null&&l&4&&Bm(r),l&512&&Ro(r,r.return);break;case 12:ha(e,r);break;case 31:ha(e,r),l&4&&$m(e,r);break;case 13:ha(e,r),l&4&&Xm(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=ww.bind(null,r),Iw(e,r))));break;case 22:if(l=r.memoizedState!==null||da,!l){n=n!==null&&n.memoizedState!==null||yt,h=da;var y=yt;da=l,(yt=n)&&!y?ma(e,r,(r.subtreeFlags&8772)!==0):ha(e,r),da=h,yt=y}break;case 30:break;default:ha(e,r)}}function Km(e){var n=e.alternate;n!==null&&(e.alternate=null,Km(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ao(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,Gt=!1;function fa(e,n,r){for(r=r.child;r!==null;)Fm(e,n,r),r=r.sibling}function Fm(e,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(yr,r)}catch{}switch(r.tag){case 26:yt||In(r,n),fa(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:yt||In(r,n);var l=rt,h=Gt;Xa(r.type)&&(rt=r.stateNode,Gt=!1),fa(e,n,r),Bo(r.stateNode),rt=l,Gt=h;break;case 5:yt||In(r,n);case 6:if(l=rt,h=Gt,rt=null,fa(e,n,r),rt=l,Gt=h,rt!==null)if(Gt)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(r.stateNode)}catch(y){$e(r,n,y)}else try{rt.removeChild(r.stateNode)}catch(y){$e(r,n,y)}break;case 18:rt!==null&&(Gt?(e=rt,Pp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Hi(e)):Pp(rt,r.stateNode));break;case 4:l=rt,h=Gt,rt=r.stateNode.containerInfo,Gt=!0,fa(e,n,r),rt=l,Gt=h;break;case 0:case 11:case 14:case 15:Ga(2,r,n),yt||Ga(4,r,n),fa(e,n,r);break;case 1:yt||(In(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Im(r,n,l)),fa(e,n,r);break;case 21:fa(e,n,r);break;case 22:yt=(l=yt)||r.memoizedState!==null,fa(e,n,r),yt=l;break;default:fa(e,n,r)}}function $m(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Hi(e)}catch(r){$e(n,n.return,r)}}}function Xm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hi(e)}catch(r){$e(n,n.return,r)}}function fw(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ym),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ym),n;default:throw Error(o(435,e.tag))}}function kl(e,n){var r=fw(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=vw.bind(null,e,l);l.then(h,h)}})}function Vt(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],y=e,C=n,V=C;e:for(;V!==null;){switch(V.tag){case 27:if(Xa(V.type)){rt=V.stateNode,Gt=!1;break e}break;case 5:rt=V.stateNode,Gt=!1;break e;case 3:case 4:rt=V.stateNode.containerInfo,Gt=!0;break e}V=V.return}if(rt===null)throw Error(o(160));Fm(y,C,h),rt=null,Gt=!1,y=h.alternate,y!==null&&(y.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Zm(n,e),n=n.sibling}var Cn=null;function Zm(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vt(n,e),Yt(e),l&4&&(Ga(3,e,e.return),jo(3,e),Ga(5,e,e.return));break;case 1:Vt(n,e),Yt(e),l&512&&(yt||r===null||In(r,r.return)),l&64&&da&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Cn;if(Vt(n,e),Yt(e),l&512&&(yt||r===null||In(r,r.return)),l&4){var y=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":y=h.getElementsByTagName("title")[0],(!y||y[wr]||y[wt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=h.createElement(l),h.head.insertBefore(y,h.querySelector("head > title"))),Mt(y,l,r),y[wt]=e,ht(y),l=y;break e;case"link":var C=Zp("link","href",h).get(l+(r.href||""));if(C){for(var V=0;V<C.length;V++)if(y=C[V],y.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&y.getAttribute("rel")===(r.rel==null?null:r.rel)&&y.getAttribute("title")===(r.title==null?null:r.title)&&y.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){C.splice(V,1);break t}}y=h.createElement(l),Mt(y,l,r),h.head.appendChild(y);break;case"meta":if(C=Zp("meta","content",h).get(l+(r.content||""))){for(V=0;V<C.length;V++)if(y=C[V],y.getAttribute("content")===(r.content==null?null:""+r.content)&&y.getAttribute("name")===(r.name==null?null:r.name)&&y.getAttribute("property")===(r.property==null?null:r.property)&&y.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&y.getAttribute("charset")===(r.charSet==null?null:r.charSet)){C.splice(V,1);break t}}y=h.createElement(l),Mt(y,l,r),h.head.appendChild(y);break;default:throw Error(o(468,l))}y[wt]=e,ht(y),l=y}e.stateNode=l}else Qp(h,e.type,e.stateNode);else e.stateNode=Xp(h,l,e.memoizedProps);else y!==l?(y===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):y.count--,l===null?Qp(h,e.type,e.stateNode):Xp(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ed(e,e.memoizedProps,r.memoizedProps)}break;case 27:Vt(n,e),Yt(e),l&512&&(yt||r===null||In(r,r.return)),r!==null&&l&4&&Ed(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Vt(n,e),Yt(e),l&512&&(yt||r===null||In(r,r.return)),e.flags&32){h=e.stateNode;try{ii(h,"")}catch(ye){$e(e,e.return,ye)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Ed(e,h,r!==null?r.memoizedProps:h)),l&1024&&(_d=!0);break;case 6:if(Vt(n,e),Yt(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(ye){$e(e,e.return,ye)}}break;case 3:if(Ul=null,h=Cn,Cn=Hl(n.containerInfo),Vt(n,e),Cn=h,Yt(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Hi(n.containerInfo)}catch(ye){$e(e,e.return,ye)}_d&&(_d=!1,Qm(e));break;case 4:l=Cn,Cn=Hl(e.stateNode.containerInfo),Vt(n,e),Yt(e),Cn=l;break;case 12:Vt(n,e),Yt(e);break;case 31:Vt(n,e),Yt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,kl(e,l)));break;case 13:Vt(n,e),Yt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Sl=Nt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,kl(e,l)));break;case 22:h=e.memoizedState!==null;var $=r!==null&&r.memoizedState!==null,ae=da,le=yt;if(da=ae||h,yt=le||$,Vt(n,e),yt=le,da=ae,Yt(e),l&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||$||da||yt||zr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){$=r=n;try{if(y=$.stateNode,h)C=y.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{V=$.stateNode;var ue=$.memoizedProps.style,re=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;V.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ye){$e($,$.return,ye)}}}else if(n.tag===6){if(r===null){$=n;try{$.stateNode.nodeValue=h?"":$.memoizedProps}catch(ye){$e($,$.return,ye)}}}else if(n.tag===18){if(r===null){$=n;try{var se=$.stateNode;h?Ip(se,!0):Ip($.stateNode,!1)}catch(ye){$e($,$.return,ye)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,kl(e,r))));break;case 19:Vt(n,e),Yt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,kl(e,l)));break;case 30:break;case 21:break;default:Vt(n,e),Yt(e)}}function Yt(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(Gm(l)){r=l;break}l=l.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var h=r.stateNode,y=Nd(e);vl(e,y,h);break;case 5:var C=r.stateNode;r.flags&32&&(ii(C,""),r.flags&=-33);var V=Nd(e);vl(e,V,C);break;case 3:case 4:var $=r.stateNode.containerInfo,ae=Nd(e);Td(e,ae,$);break;default:throw Error(o(161))}}catch(le){$e(e,e.return,le)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Qm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Qm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ha(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)qm(e,n.alternate,n),n=n.sibling}function zr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ga(4,n,n.return),zr(n);break;case 1:In(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Im(n,n.return,r),zr(n);break;case 27:Bo(n.stateNode);case 26:case 5:In(n,n.return),zr(n);break;case 22:n.memoizedState===null&&zr(n);break;case 30:zr(n);break;default:zr(n)}e=e.sibling}}function ma(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,y=n,C=y.flags;switch(y.tag){case 0:case 11:case 15:ma(h,y,r),jo(4,y);break;case 1:if(ma(h,y,r),l=y,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(ae){$e(l,l.return,ae)}if(l=y,h=l.updateQueue,h!==null){var V=l.stateNode;try{var $=h.shared.hiddenCallbacks;if($!==null)for(h.shared.hiddenCallbacks=null,h=0;h<$.length;h++)_h($[h],V)}catch(ae){$e(l,l.return,ae)}}r&&C&64&&Pm(y),Ro(y,y.return);break;case 27:Vm(y);case 26:case 5:ma(h,y,r),r&&l===null&&C&4&&Bm(y),Ro(y,y.return);break;case 12:ma(h,y,r);break;case 31:ma(h,y,r),r&&C&4&&$m(h,y);break;case 13:ma(h,y,r),r&&C&4&&Xm(h,y);break;case 22:y.memoizedState===null&&ma(h,y,r),Ro(y,y.return);break;case 30:break;default:ma(h,y,r)}n=n.sibling}}function Ad(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&xo(r))}function Md(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e))}function Sn(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wm(e,n,r,l),n=n.sibling}function Wm(e,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Sn(e,n,r,l),h&2048&&jo(9,n);break;case 1:Sn(e,n,r,l);break;case 3:Sn(e,n,r,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e)));break;case 12:if(h&2048){Sn(e,n,r,l),e=n.stateNode;try{var y=n.memoizedProps,C=y.id,V=y.onPostCommit;typeof V=="function"&&V(C,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch($){$e(n,n.return,$)}}else Sn(e,n,r,l);break;case 31:Sn(e,n,r,l);break;case 13:Sn(e,n,r,l);break;case 23:break;case 22:y=n.stateNode,C=n.alternate,n.memoizedState!==null?y._visibility&2?Sn(e,n,r,l):Do(e,n):y._visibility&2?Sn(e,n,r,l):(y._visibility|=2,Ei(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ad(C,n);break;case 24:Sn(e,n,r,l),h&2048&&Md(n.alternate,n);break;default:Sn(e,n,r,l)}}function Ei(e,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var y=e,C=n,V=r,$=l,ae=C.flags;switch(C.tag){case 0:case 11:case 15:Ei(y,C,V,$,h),jo(8,C);break;case 23:break;case 22:var le=C.stateNode;C.memoizedState!==null?le._visibility&2?Ei(y,C,V,$,h):Do(y,C):(le._visibility|=2,Ei(y,C,V,$,h)),h&&ae&2048&&Ad(C.alternate,C);break;case 24:Ei(y,C,V,$,h),h&&ae&2048&&Md(C.alternate,C);break;default:Ei(y,C,V,$,h)}n=n.sibling}}function Do(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,h=l.flags;switch(l.tag){case 22:Do(r,l),h&2048&&Ad(l.alternate,l);break;case 24:Do(r,l),h&2048&&Md(l.alternate,l);break;default:Do(r,l)}n=n.sibling}}var Lo=8192;function Ni(e,n,r){if(e.subtreeFlags&Lo)for(e=e.child;e!==null;)Jm(e,n,r),e=e.sibling}function Jm(e,n,r){switch(e.tag){case 26:Ni(e,n,r),e.flags&Lo&&e.memoizedState!==null&&Ww(r,Cn,e.memoizedState,e.memoizedProps);break;case 5:Ni(e,n,r);break;case 3:case 4:var l=Cn;Cn=Hl(e.stateNode.containerInfo),Ni(e,n,r),Cn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Lo,Lo=16777216,Ni(e,n,r),Lo=l):Ni(e,n,r));break;default:Ni(e,n,r)}}function ep(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Oo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];St=l,np(l,e)}ep(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)tp(e),e=e.sibling}function tp(e){switch(e.tag){case 0:case 11:case 15:Oo(e),e.flags&2048&&Ga(9,e,e.return);break;case 3:Oo(e);break;case 12:Oo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Cl(e)):Oo(e);break;default:Oo(e)}}function Cl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];St=l,np(l,e)}ep(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ga(8,n,n.return),Cl(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Cl(n));break;default:Cl(n)}e=e.sibling}}function np(e,n){for(;St!==null;){var r=St;switch(r.tag){case 0:case 11:case 15:Ga(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xo(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,St=l;else e:for(r=e;St!==null;){l=St;var h=l.sibling,y=l.return;if(Km(l),l===r){St=null;break e}if(h!==null){h.return=y,St=h;break e}St=y}}}var hw={getCacheForType:function(e){var n=_t(mt),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return _t(mt).controller.signal}},mw=typeof WeakMap=="function"?WeakMap:Map,Ye=0,Je=null,Oe=null,ze=0,Fe=0,tn=null,Va=!1,Ti=!1,jd=!1,pa=0,ut=0,Ya=0,Ur=0,Rd=0,nn=0,_i=0,Ho=null,qt=null,Dd=!1,Sl=0,ap=0,El=1/0,Nl=null,qa=null,vt=0,Ka=null,Ai=null,ga=0,Ld=0,Od=null,rp=null,zo=0,Hd=null;function an(){return(Ye&2)!==0&&ze!==0?ze&-ze:S.T!==null?Gd():Ms()}function ip(){if(nn===0)if((ze&536870912)===0||Ie){var e=Wr;Wr<<=1,(Wr&3932160)===0&&(Wr=262144),nn=e}else nn=536870912;return e=Jt.current,e!==null&&(e.flags|=32),nn}function Kt(e,n,r){(e===Je&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&(Mi(e,0),Fa(e,ze,nn,!1)),br(e,r),((Ye&2)===0||e!==Je)&&(e===Je&&((Ye&2)===0&&(Ur|=r),ut===4&&Fa(e,ze,nn,!1)),Bn(e))}function op(e,n,r){if((Ye&6)!==0)throw Error(o(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||xr(e,n),h=l?yw(e,n):Ud(e,n,!0),y=l;do{if(h===0){Ti&&!l&&Fa(e,n,0,!1);break}else{if(r=e.current.alternate,y&&!pw(r)){h=Ud(e,n,!1),y=!1;continue}if(h===2){if(y=n,e.errorRecoveryDisabledLanes&y)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){n=C;e:{var V=e;h=Ho;var $=V.current.memoizedState.isDehydrated;if($&&(Mi(V,C).flags|=256),C=Ud(V,C,!1),C!==2){if(jd&&!$){V.errorRecoveryDisabledLanes|=y,Ur|=y,h=4;break e}y=qt,qt=h,y!==null&&(qt===null?qt=y:qt.push.apply(qt,y))}h=C}if(y=!1,h!==2)continue}}if(h===1){Mi(e,0),Fa(e,n,0,!0);break}e:{switch(l=e,y=h,y){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:Fa(l,n,nn,!Va);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(h=Sl+300-Nt(),10<h)){if(Fa(l,n,nn,!Va),ei(l,0,!0)!==0)break e;ga=n,l.timeoutHandle=zp(sp.bind(null,l,r,qt,Nl,Dd,n,nn,Ur,_i,Va,y,"Throttled",-0,0),h);break e}sp(l,r,qt,Nl,Dd,n,nn,Ur,_i,Va,y,null,-0,0)}}break}while(!0);Bn(e)}function sp(e,n,r,l,h,y,C,V,$,ae,le,ue,re,se){if(e.timeoutHandle=-1,ue=n.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ta},Jm(n,y,ue);var ye=(y&62914560)===y?Sl-Nt():(y&4194048)===y?ap-Nt():0;if(ye=Jw(ue,ye),ye!==null){ga=y,e.cancelPendingCommit=ye(pp.bind(null,e,n,y,r,l,h,C,V,$,le,ue,null,re,se)),Fa(e,y,C,!ae);return}}pp(e,n,y,r,l,h,C,V,$)}function pw(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],y=h.getSnapshot;h=h.value;try{if(!Qt(y(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fa(e,n,r,l){n&=~Rd,n&=~Ur,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var y=31-zt(h),C=1<<y;l[y]=-1,h&=~C}r!==0&&Ts(e,r,n)}function Tl(){return(Ye&6)===0?(Uo(0),!1):!0}function zd(){if(Oe!==null){if(Fe===0)var e=Oe.return;else e=Oe,ia=Ar=null,Ju(e),wi=null,wo=0,e=Oe;for(;e!==null;)Um(e.alternate,e),e=e.return;Oe=null}}function Mi(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Ow(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ga=0,zd(),Je=e,Oe=r=aa(e.current,null),ze=n,Fe=0,tn=null,Va=!1,Ti=xr(e,n),jd=!1,_i=nn=Rd=Ur=Ya=ut=0,qt=Ho=null,Dd=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-zt(l),y=1<<h;n|=e[h],l&=~y}return pa=n,$s(),r}function lp(e,n){De=null,S.H=_o,n===bi||n===nl?(n=Sh(),Fe=3):n===Bu?(n=Sh(),Fe=4):Fe=n===pd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,tn=n,Oe===null&&(ut=1,gl(e,ln(n,e.current)))}function cp(){var e=Jt.current;return e===null?!0:(ze&4194048)===ze?fn===null:(ze&62914560)===ze||(ze&536870912)!==0?e===fn:!1}function up(){var e=S.H;return S.H=_o,e===null?_o:e}function dp(){var e=S.A;return S.A=hw,e}function _l(){ut=4,Va||(ze&4194048)!==ze&&Jt.current!==null||(Ti=!0),(Ya&134217727)===0&&(Ur&134217727)===0||Je===null||Fa(Je,ze,nn,!1)}function Ud(e,n,r){var l=Ye;Ye|=2;var h=up(),y=dp();(Je!==e||ze!==n)&&(Nl=null,Mi(e,n)),n=!1;var C=ut;e:do try{if(Fe!==0&&Oe!==null){var V=Oe,$=tn;switch(Fe){case 8:zd(),C=6;break e;case 3:case 2:case 9:case 6:Jt.current===null&&(n=!0);var ae=Fe;if(Fe=0,tn=null,ji(e,V,$,ae),r&&Ti){C=0;break e}break;default:ae=Fe,Fe=0,tn=null,ji(e,V,$,ae)}}gw(),C=ut;break}catch(le){lp(e,le)}while(!0);return n&&e.shellSuspendCounter++,ia=Ar=null,Ye=l,S.H=h,S.A=y,Oe===null&&(Je=null,ze=0,$s()),C}function gw(){for(;Oe!==null;)fp(Oe)}function yw(e,n){var r=Ye;Ye|=2;var l=up(),h=dp();Je!==e||ze!==n?(Nl=null,El=Nt()+500,Mi(e,n)):Ti=xr(e,n);e:do try{if(Fe!==0&&Oe!==null){n=Oe;var y=tn;t:switch(Fe){case 1:Fe=0,tn=null,ji(e,n,y,1);break;case 2:case 9:if(kh(y)){Fe=0,tn=null,hp(n);break}n=function(){Fe!==2&&Fe!==9||Je!==e||(Fe=7),Bn(e)},y.then(n,n);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:kh(y)?(Fe=0,tn=null,hp(n)):(Fe=0,tn=null,ji(e,n,y,7));break;case 5:var C=null;switch(Oe.tag){case 26:C=Oe.memoizedState;case 5:case 27:var V=Oe;if(C?Wp(C):V.stateNode.complete){Fe=0,tn=null;var $=V.sibling;if($!==null)Oe=$;else{var ae=V.return;ae!==null?(Oe=ae,Al(ae)):Oe=null}break t}}Fe=0,tn=null,ji(e,n,y,5);break;case 6:Fe=0,tn=null,ji(e,n,y,6);break;case 8:zd(),ut=6;break e;default:throw Error(o(462))}}xw();break}catch(le){lp(e,le)}while(!0);return ia=Ar=null,S.H=l,S.A=h,Ye=r,Oe!==null?0:(Je=null,ze=0,$s(),ut)}function xw(){for(;Oe!==null&&!mr();)fp(Oe)}function fp(e){var n=Hm(e.alternate,e,pa);e.memoizedProps=e.pendingProps,n===null?Al(e):Oe=n}function hp(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Mm(r,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=Mm(r,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:Ju(n);default:Um(r,n),n=Oe=dh(n,pa),n=Hm(r,n,pa)}e.memoizedProps=e.pendingProps,n===null?Al(e):Oe=n}function ji(e,n,r,l){ia=Ar=null,Ju(n),wi=null,wo=0;var h=n.return;try{if(ow(e,h,n,r,ze)){ut=1,gl(e,ln(r,e.current)),Oe=null;return}}catch(y){if(h!==null)throw Oe=h,y;ut=1,gl(e,ln(r,e.current)),Oe=null;return}n.flags&32768?(Ie||l===1?e=!0:Ti||(ze&536870912)!==0?e=!1:(Va=e=!0,(l===2||l===9||l===3||l===6)&&(l=Jt.current,l!==null&&l.tag===13&&(l.flags|=16384))),mp(n,e)):Al(n)}function Al(e){var n=e;do{if((n.flags&32768)!==0){mp(n,Va);return}e=n.return;var r=cw(n.alternate,n,pa);if(r!==null){Oe=r;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=e}while(n!==null);ut===0&&(ut=5)}function mp(e,n){do{var r=uw(e.alternate,e);if(r!==null){r.flags&=32767,Oe=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=r}while(e!==null);ut=6,Oe=null}function pp(e,n,r,l,h,y,C,V,$){e.cancelPendingCommit=null;do Ml();while(vt!==0);if((Ye&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(y=n.lanes|n.childLanes,y|=Nu,nu(e,r,y,C,V,$),e===Je&&(Oe=Je=null,ze=0),Ai=n,Ka=e,ga=r,Ld=y,Od=h,rp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kw(gr,function(){return wp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=S.T,S.T=null,h=P.p,P.p=2,C=Ye,Ye|=4;try{dw(e,n,r)}finally{Ye=C,P.p=h,S.T=l}}vt=1,gp(),yp(),xp()}}function gp(){if(vt===1){vt=0;var e=Ka,n=Ai,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=S.T,S.T=null;var l=P.p;P.p=2;var h=Ye;Ye|=4;try{Zm(n,e);var y=Zd,C=nh(e.containerInfo),V=y.focusedElem,$=y.selectionRange;if(C!==V&&V&&V.ownerDocument&&th(V.ownerDocument.documentElement,V)){if($!==null&&vu(V)){var ae=$.start,le=$.end;if(le===void 0&&(le=ae),"selectionStart"in V)V.selectionStart=ae,V.selectionEnd=Math.min(le,V.value.length);else{var ue=V.ownerDocument||document,re=ue&&ue.defaultView||window;if(re.getSelection){var se=re.getSelection(),ye=V.textContent.length,_e=Math.min($.start,ye),Qe=$.end===void 0?_e:Math.min($.end,ye);!se.extend&&_e>Qe&&(C=Qe,Qe=_e,_e=C);var ee=eh(V,_e),W=eh(V,Qe);if(ee&&W&&(se.rangeCount!==1||se.anchorNode!==ee.node||se.anchorOffset!==ee.offset||se.focusNode!==W.node||se.focusOffset!==W.offset)){var ne=ue.createRange();ne.setStart(ee.node,ee.offset),se.removeAllRanges(),_e>Qe?(se.addRange(ne),se.extend(W.node,W.offset)):(ne.setEnd(W.node,W.offset),se.addRange(ne))}}}}for(ue=[],se=V;se=se.parentNode;)se.nodeType===1&&ue.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<ue.length;V++){var ce=ue[V];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Gl=!!Xd,Zd=Xd=null}finally{Ye=h,P.p=l,S.T=r}}e.current=n,vt=2}}function yp(){if(vt===2){vt=0;var e=Ka,n=Ai,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=S.T,S.T=null;var l=P.p;P.p=2;var h=Ye;Ye|=4;try{qm(e,n.alternate,n)}finally{Ye=h,P.p=l,S.T=r}}vt=3}}function xp(){if(vt===4||vt===3){vt=0,pr();var e=Ka,n=Ai,r=ga,l=rp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?vt=5:(vt=0,Ai=Ka=null,bp(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(qa=null),no(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(yr,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=S.T,h=P.p,P.p=2,S.T=null;try{for(var y=e.onRecoverableError,C=0;C<l.length;C++){var V=l[C];y(V.value,{componentStack:V.stack})}}finally{S.T=n,P.p=h}}(ga&3)!==0&&Ml(),Bn(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Hd?zo++:(zo=0,Hd=e):zo=0,Uo(0)}}function bp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xo(n)))}function Ml(){return gp(),yp(),xp(),wp()}function wp(){if(vt!==5)return!1;var e=Ka,n=Ld;Ld=0;var r=no(ga),l=S.T,h=P.p;try{P.p=32>r?32:r,S.T=null,r=Od,Od=null;var y=Ka,C=ga;if(vt=0,Ai=Ka=null,ga=0,(Ye&6)!==0)throw Error(o(331));var V=Ye;if(Ye|=4,tp(y.current),Wm(y,y.current,C,r),Ye=V,Uo(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(yr,y)}catch{}return!0}finally{P.p=h,S.T=l,bp(e,n)}}function vp(e,n,r){n=ln(r,n),n=md(e.stateNode,n,2),e=Pa(e,n,2),e!==null&&(br(e,2),Bn(e))}function $e(e,n,r){if(e.tag===3)vp(e,e,r);else for(;n!==null;){if(n.tag===3){vp(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qa===null||!qa.has(l))){e=ln(r,e),r=km(2),l=Pa(n,r,2),l!==null&&(Cm(r,l,n,e),br(l,2),Bn(l));break}}n=n.return}}function Pd(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new mw;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(jd=!0,h.add(r),e=bw.bind(null,e,n,r),n.then(e,e))}function bw(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Je===e&&(ze&r)===r&&(ut===4||ut===3&&(ze&62914560)===ze&&300>Nt()-Sl?(Ye&2)===0&&Mi(e,0):Rd|=r,_i===ze&&(_i=0)),Bn(e)}function kp(e,n){n===0&&(n=Ns()),e=Nr(e,n),e!==null&&(br(e,n),Bn(e))}function ww(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),kp(e,r)}function vw(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(n),kp(e,r)}function kw(e,n){return wn(e,n)}var jl=null,Ri=null,Id=!1,Rl=!1,Bd=!1,$a=0;function Bn(e){e!==Ri&&e.next===null&&(Ri===null?jl=Ri=e:Ri=Ri.next=e),Rl=!0,Id||(Id=!0,Sw())}function Uo(e,n){if(!Bd&&Rl){Bd=!0;do for(var r=!1,l=jl;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var y=0;else{var C=l.suspendedLanes,V=l.pingedLanes;y=(1<<31-zt(42|e)+1)-1,y&=h&~(C&~V),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(r=!0,Np(l,y))}else y=ze,y=ei(l,l===Je?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(y&3)===0||xr(l,y)||(r=!0,Np(l,y));l=l.next}while(r);Bd=!1}}function Cw(){Cp()}function Cp(){Rl=Id=!1;var e=0;$a!==0&&Lw()&&(e=$a);for(var n=Nt(),r=null,l=jl;l!==null;){var h=l.next,y=Sp(l,n);y===0?(l.next=null,r===null?jl=h:r.next=h,h===null&&(Ri=r)):(r=l,(e!==0||(y&3)!==0)&&(Rl=!0)),l=h}vt!==0&&vt!==5||Uo(e),$a!==0&&($a=0)}function Sp(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var C=31-zt(y),V=1<<C,$=h[C];$===-1?((V&r)===0||(V&l)!==0)&&(h[C]=tu(V,n)):$<=n&&(e.expiredLanes|=V),y&=~V}if(n=Je,r=ze,r=ei(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Xn(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||xr(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&Xn(l),no(r)){case 2:case 8:r=Na;break;case 32:r=gr;break;case 268435456:r=Zr;break;default:r=gr}return l=Ep.bind(null,e),r=wn(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&Xn(l),e.callbackPriority=2,e.callbackNode=null,2}function Ep(e,n){if(vt!==0&&vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Ml()&&e.callbackNode!==r)return null;var l=ze;return l=ei(e,e===Je?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(op(e,l,n),Sp(e,Nt()),e.callbackNode!=null&&e.callbackNode===r?Ep.bind(null,e):null)}function Np(e,n){if(Ml())return null;op(e,n,!0)}function Sw(){Hw(function(){(Ye&6)!==0?wn(Zn,Cw):Cp()})}function Gd(){if($a===0){var e=yi;e===0&&(e=Qr,Qr<<=1,(Qr&261888)===0&&(Qr=256)),$a=e}return $a}function Tp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Is(""+e)}function _p(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function Ew(e,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var y=Tp((h[Rt]||null).action),C=l.submitter;C&&(n=(n=C[Rt]||null)?Tp(n.formAction):C.getAttribute("formAction"),n!==null&&(y=n,C=null));var V=new Ys("action","action",null,l,h);e.push({event:V,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($a!==0){var $=C?_p(h,C):new FormData(h);ld(r,{pending:!0,data:$,method:h.method,action:y},null,$)}}else typeof y=="function"&&(V.preventDefault(),$=C?_p(h,C):new FormData(h),ld(r,{pending:!0,data:$,method:h.method,action:y},y,$))},currentTarget:h}]})}}for(var Vd=0;Vd<Eu.length;Vd++){var Yd=Eu[Vd],Nw=Yd.toLowerCase(),Tw=Yd[0].toUpperCase()+Yd.slice(1);kn(Nw,"on"+Tw)}kn(ih,"onAnimationEnd"),kn(oh,"onAnimationIteration"),kn(sh,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(Vb,"onTransitionRun"),kn(Yb,"onTransitionStart"),kn(qb,"onTransitionCancel"),kn(lh,"onTransitionEnd"),ja("onMouseEnter",["mouseout","mouseover"]),ja("onMouseLeave",["mouseout","mouseover"]),ja("onPointerEnter",["pointerout","pointerover"]),ja("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_w=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Po));function Ap(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],h=l.event;l=l.listeners;e:{var y=void 0;if(n)for(var C=l.length-1;0<=C;C--){var V=l[C],$=V.instance,ae=V.currentTarget;if(V=V.listener,$!==y&&h.isPropagationStopped())break e;y=V,h.currentTarget=ae;try{y(h)}catch(le){Fs(le)}h.currentTarget=null,y=$}else for(C=0;C<l.length;C++){if(V=l[C],$=V.instance,ae=V.currentTarget,V=V.listener,$!==y&&h.isPropagationStopped())break e;y=V,h.currentTarget=ae;try{y(h)}catch(le){Fs(le)}h.currentTarget=null,y=$}}}}function He(e,n){var r=n[ti];r===void 0&&(r=n[ti]=new Set);var l=e+"__bubble";r.has(l)||(Mp(n,e,2,!1),r.add(l))}function qd(e,n,r){var l=0;n&&(l|=4),Mp(r,e,l,n)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function Kd(e){if(!e[Dl]){e[Dl]=!0,Ls.forEach(function(r){r!=="selectionchange"&&(_w.has(r)||qd(r,!1,e),qd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Dl]||(n[Dl]=!0,qd("selectionchange",!1,n))}}function Mp(e,n,r,l){switch(ig(n)){case 2:var h=nv;break;case 8:h=av;break;default:h=lf}r=h.bind(null,n,r,e),h=void 0,!fu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function Fd(e,n,r,l,h){var y=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var C=l.tag;if(C===3||C===4){var V=l.stateNode.containerInfo;if(V===h)break;if(C===4)for(C=l.return;C!==null;){var $=C.tag;if(($===3||$===4)&&C.stateNode.containerInfo===h)return;C=C.return}for(;V!==null;){if(C=Ta(V),C===null)return;if($=C.tag,$===5||$===6||$===26||$===27){l=y=C;continue e}V=V.parentNode}}l=l.return}O0(function(){var ae=y,le=uu(r),ue=[];e:{var re=ch.get(e);if(re!==void 0){var se=Ys,ye=e;switch(e){case"keypress":if(Gs(r)===0)break e;case"keydown":case"keyup":se=vb;break;case"focusin":ye="focus",se=gu;break;case"focusout":ye="blur",se=gu;break;case"beforeblur":case"afterblur":se=gu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=U0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=cb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Sb;break;case ih:case oh:case sh:se=fb;break;case lh:se=Nb;break;case"scroll":case"scrollend":se=sb;break;case"wheel":se=_b;break;case"copy":case"cut":case"paste":se=mb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=I0;break;case"toggle":case"beforetoggle":se=Mb}var _e=(n&4)!==0,Qe=!_e&&(e==="scroll"||e==="scrollend"),ee=_e?re!==null?re+"Capture":null:re;_e=[];for(var W=ae,ne;W!==null;){var ce=W;if(ne=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||ne===null||ee===null||(ce=oo(W,ee),ce!=null&&_e.push(Io(W,ce,ne))),Qe)break;W=W.return}0<_e.length&&(re=new se(re,ye,null,r,le),ue.push({event:re,listeners:_e}))}}if((n&7)===0){e:{if(re=e==="mouseover"||e==="pointerover",se=e==="mouseout"||e==="pointerout",re&&r!==cu&&(ye=r.relatedTarget||r.fromElement)&&(Ta(ye)||ye[Wn]))break e;if((se||re)&&(re=le.window===le?le:(re=le.ownerDocument)?re.defaultView||re.parentWindow:window,se?(ye=r.relatedTarget||r.toElement,se=ae,ye=ye?Ta(ye):null,ye!==null&&(Qe=c(ye),_e=ye.tag,ye!==Qe||_e!==5&&_e!==27&&_e!==6)&&(ye=null)):(se=null,ye=ae),se!==ye)){if(_e=U0,ce="onMouseLeave",ee="onMouseEnter",W="mouse",(e==="pointerout"||e==="pointerover")&&(_e=I0,ce="onPointerLeave",ee="onPointerEnter",W="pointer"),Qe=se==null?re:Aa(se),ne=ye==null?re:Aa(ye),re=new _e(ce,W+"leave",se,r,le),re.target=Qe,re.relatedTarget=ne,ce=null,Ta(le)===ae&&(_e=new _e(ee,W+"enter",ye,r,le),_e.target=ne,_e.relatedTarget=Qe,ce=_e),Qe=ce,se&&ye)t:{for(_e=Aw,ee=se,W=ye,ne=0,ce=ee;ce;ce=_e(ce))ne++;ce=0;for(var Se=W;Se;Se=_e(Se))ce++;for(;0<ne-ce;)ee=_e(ee),ne--;for(;0<ce-ne;)W=_e(W),ce--;for(;ne--;){if(ee===W||W!==null&&ee===W.alternate){_e=ee;break t}ee=_e(ee),W=_e(W)}_e=null}else _e=null;se!==null&&jp(ue,re,se,_e,!1),ye!==null&&Qe!==null&&jp(ue,Qe,ye,_e,!0)}}e:{if(re=ae?Aa(ae):window,se=re.nodeName&&re.nodeName.toLowerCase(),se==="select"||se==="input"&&re.type==="file")var Ge=$0;else if(K0(re))if(X0)Ge=Ib;else{Ge=Ub;var be=zb}else se=re.nodeName,!se||se.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ae&&lu(ae.elementType)&&(Ge=$0):Ge=Pb;if(Ge&&(Ge=Ge(e,ae))){F0(ue,Ge,r,le);break e}be&&be(e,re,ae),e==="focusout"&&ae&&re.type==="number"&&ae.memoizedProps.value!=null&&io(re,"number",re.value)}switch(be=ae?Aa(ae):window,e){case"focusin":(K0(be)||be.contentEditable==="true")&&(ci=be,ku=ae,po=null);break;case"focusout":po=ku=ci=null;break;case"mousedown":Cu=!0;break;case"contextmenu":case"mouseup":case"dragend":Cu=!1,ah(ue,r,le);break;case"selectionchange":if(Gb)break;case"keydown":case"keyup":ah(ue,r,le)}var Le;if(xu)e:{switch(e){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else li?Y0(e,r)&&(Ue="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ue="onCompositionStart");Ue&&(B0&&r.locale!=="ko"&&(li||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&li&&(Le=H0()):(Ra=le,hu="value"in Ra?Ra.value:Ra.textContent,li=!0)),be=Ll(ae,Ue),0<be.length&&(Ue=new P0(Ue,e,null,r,le),ue.push({event:Ue,listeners:be}),Le?Ue.data=Le:(Le=q0(r),Le!==null&&(Ue.data=Le)))),(Le=Rb?Db(e,r):Lb(e,r))&&(Ue=Ll(ae,"onBeforeInput"),0<Ue.length&&(be=new P0("onBeforeInput","beforeinput",null,r,le),ue.push({event:be,listeners:Ue}),be.data=Le)),Ew(ue,e,ae,r,le)}Ap(ue,n)})}function Io(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Ll(e,n){for(var r=n+"Capture",l=[];e!==null;){var h=e,y=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||y===null||(h=oo(e,r),h!=null&&l.unshift(Io(e,h,y)),h=oo(e,n),h!=null&&l.push(Io(e,h,y))),e.tag===3)return l;e=e.return}return[]}function Aw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jp(e,n,r,l,h){for(var y=n._reactName,C=[];r!==null&&r!==l;){var V=r,$=V.alternate,ae=V.stateNode;if(V=V.tag,$!==null&&$===l)break;V!==5&&V!==26&&V!==27||ae===null||($=ae,h?(ae=oo(r,y),ae!=null&&C.unshift(Io(r,ae,$))):h||(ae=oo(r,y),ae!=null&&C.push(Io(r,ae,$)))),r=r.return}C.length!==0&&e.push({event:n,listeners:C})}var Mw=/\r\n?/g,jw=/\u0000|\uFFFD/g;function Rp(e){return(typeof e=="string"?e:""+e).replace(Mw,`
`).replace(jw,"")}function Dp(e,n){return n=Rp(n),Rp(e)===n}function Ze(e,n,r,l,h,y){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ii(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ii(e,""+l);break;case"className":ai(e,"class",l);break;case"tabIndex":ai(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(e,r,l);break;case"style":D0(e,l,y);break;case"data":if(n!=="object"){ai(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Is(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(r==="formAction"?(n!=="input"&&Ze(e,n,"name",h.name,h,null),Ze(e,n,"formEncType",h.formEncType,h,null),Ze(e,n,"formMethod",h.formMethod,h,null),Ze(e,n,"formTarget",h.formTarget,h,null)):(Ze(e,n,"encType",h.encType,h,null),Ze(e,n,"method",h.method,h,null),Ze(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Is(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=ta);break;case"onScroll":l!=null&&He("scroll",e);break;case"onScrollEnd":l!=null&&He("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=Is(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":He("beforetoggle",e),He("toggle",e),ni(e,"popover",l);break;case"xlinkActuate":vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":vn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":vn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":vn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":vn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ni(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=ib.get(r)||r,ni(e,r,l))}}function $d(e,n,r,l,h,y){switch(r){case"style":D0(e,l,y);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"children":typeof l=="string"?ii(e,l):(typeof l=="number"||typeof l=="bigint")&&ii(e,""+l);break;case"onScroll":l!=null&&He("scroll",e);break;case"onScrollEnd":l!=null&&He("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Os.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),y=e[Rt]||null,y=y!=null?y[r]:null,typeof y=="function"&&e.removeEventListener(n,y,h),typeof l=="function")){typeof y!="function"&&y!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,h);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):ni(e,r,l)}}}function Mt(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",e),He("load",e);var l=!1,h=!1,y;for(y in r)if(r.hasOwnProperty(y)){var C=r[y];if(C!=null)switch(y){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Ze(e,n,y,C,r,null)}}h&&Ze(e,n,"srcSet",r.srcSet,r,null),l&&Ze(e,n,"src",r.src,r,null);return;case"input":He("invalid",e);var V=y=C=h=null,$=null,ae=null;for(l in r)if(r.hasOwnProperty(l)){var le=r[l];if(le!=null)switch(l){case"name":h=le;break;case"type":C=le;break;case"checked":$=le;break;case"defaultChecked":ae=le;break;case"value":y=le;break;case"defaultValue":V=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(o(137,n));break;default:Ze(e,n,l,le,r,null)}}Ps(e,y,V,$,ae,C,h,!1);return;case"select":He("invalid",e),l=C=y=null;for(h in r)if(r.hasOwnProperty(h)&&(V=r[h],V!=null))switch(h){case"value":y=V;break;case"defaultValue":C=V;break;case"multiple":l=V;default:Ze(e,n,h,V,r,null)}n=y,r=C,e.multiple=!!l,n!=null?ea(e,!!l,n,!1):r!=null&&ea(e,!!l,r,!0);return;case"textarea":He("invalid",e),y=h=l=null;for(C in r)if(r.hasOwnProperty(C)&&(V=r[C],V!=null))switch(C){case"value":l=V;break;case"defaultValue":h=V;break;case"children":y=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(91));break;default:Ze(e,n,C,V,r,null)}j0(e,l,h,y);return;case"option":for($ in r)r.hasOwnProperty($)&&(l=r[$],l!=null)&&($==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Ze(e,n,$,l,r,null));return;case"dialog":He("beforetoggle",e),He("toggle",e),He("cancel",e),He("close",e);break;case"iframe":case"object":He("load",e);break;case"video":case"audio":for(l=0;l<Po.length;l++)He(Po[l],e);break;case"image":He("error",e),He("load",e);break;case"details":He("toggle",e);break;case"embed":case"source":case"link":He("error",e),He("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in r)if(r.hasOwnProperty(ae)&&(l=r[ae],l!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Ze(e,n,ae,l,r,null)}return;default:if(lu(n)){for(le in r)r.hasOwnProperty(le)&&(l=r[le],l!==void 0&&$d(e,n,le,l,r,void 0));return}}for(V in r)r.hasOwnProperty(V)&&(l=r[V],l!=null&&Ze(e,n,V,l,r,null))}function Rw(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,y=null,C=null,V=null,$=null,ae=null,le=null;for(se in r){var ue=r[se];if(r.hasOwnProperty(se)&&ue!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":$=ue;default:l.hasOwnProperty(se)||Ze(e,n,se,null,l,ue)}}for(var re in l){var se=l[re];if(ue=r[re],l.hasOwnProperty(re)&&(se!=null||ue!=null))switch(re){case"type":y=se;break;case"name":h=se;break;case"checked":ae=se;break;case"defaultChecked":le=se;break;case"value":C=se;break;case"defaultValue":V=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(o(137,n));break;default:se!==ue&&Ze(e,n,re,se,l,ue)}}kr(e,C,V,$,ae,le,y,h);return;case"select":se=C=V=re=null;for(y in r)if($=r[y],r.hasOwnProperty(y)&&$!=null)switch(y){case"value":break;case"multiple":se=$;default:l.hasOwnProperty(y)||Ze(e,n,y,null,l,$)}for(h in l)if(y=l[h],$=r[h],l.hasOwnProperty(h)&&(y!=null||$!=null))switch(h){case"value":re=y;break;case"defaultValue":V=y;break;case"multiple":C=y;default:y!==$&&Ze(e,n,h,y,l,$)}n=V,r=C,l=se,re!=null?ea(e,!!r,re,!1):!!l!=!!r&&(n!=null?ea(e,!!r,n,!0):ea(e,!!r,r?[]:"",!1));return;case"textarea":se=re=null;for(V in r)if(h=r[V],r.hasOwnProperty(V)&&h!=null&&!l.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Ze(e,n,V,null,l,h)}for(C in l)if(h=l[C],y=r[C],l.hasOwnProperty(C)&&(h!=null||y!=null))switch(C){case"value":re=h;break;case"defaultValue":se=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(o(91));break;default:h!==y&&Ze(e,n,C,h,l,y)}M0(e,re,se);return;case"option":for(var ye in r)re=r[ye],r.hasOwnProperty(ye)&&re!=null&&!l.hasOwnProperty(ye)&&(ye==="selected"?e.selected=!1:Ze(e,n,ye,null,l,re));for($ in l)re=l[$],se=r[$],l.hasOwnProperty($)&&re!==se&&(re!=null||se!=null)&&($==="selected"?e.selected=re&&typeof re!="function"&&typeof re!="symbol":Ze(e,n,$,re,l,se));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in r)re=r[_e],r.hasOwnProperty(_e)&&re!=null&&!l.hasOwnProperty(_e)&&Ze(e,n,_e,null,l,re);for(ae in l)if(re=l[ae],se=r[ae],l.hasOwnProperty(ae)&&re!==se&&(re!=null||se!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(o(137,n));break;default:Ze(e,n,ae,re,l,se)}return;default:if(lu(n)){for(var Qe in r)re=r[Qe],r.hasOwnProperty(Qe)&&re!==void 0&&!l.hasOwnProperty(Qe)&&$d(e,n,Qe,void 0,l,re);for(le in l)re=l[le],se=r[le],!l.hasOwnProperty(le)||re===se||re===void 0&&se===void 0||$d(e,n,le,re,l,se);return}}for(var ee in r)re=r[ee],r.hasOwnProperty(ee)&&re!=null&&!l.hasOwnProperty(ee)&&Ze(e,n,ee,null,l,re);for(ue in l)re=l[ue],se=r[ue],!l.hasOwnProperty(ue)||re===se||re==null&&se==null||Ze(e,n,ue,re,l,se)}function Lp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],y=h.transferSize,C=h.initiatorType,V=h.duration;if(y&&V&&Lp(C)){for(C=0,V=h.responseEnd,l+=1;l<r.length;l++){var $=r[l],ae=$.startTime;if(ae>V)break;var le=$.transferSize,ue=$.initiatorType;le&&Lp(ue)&&($=$.responseEnd,C+=le*($<V?1:(V-ae)/($-ae)))}if(--l,n+=8*(y+C)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xd=null,Zd=null;function Ol(e){return e.nodeType===9?e:e.ownerDocument}function Op(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Qd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wd=null;function Lw(){var e=window.event;return e&&e.type==="popstate"?e===Wd?!1:(Wd=e,!0):(Wd=null,!1)}var zp=typeof setTimeout=="function"?setTimeout:void 0,Ow=typeof clearTimeout=="function"?clearTimeout:void 0,Up=typeof Promise=="function"?Promise:void 0,Hw=typeof queueMicrotask=="function"?queueMicrotask:typeof Up<"u"?function(e){return Up.resolve(null).then(e).catch(zw)}:zp;function zw(e){setTimeout(function(){throw e})}function Xa(e){return e==="head"}function Pp(e,n){var r=n,l=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(h),Hi(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Bo(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Bo(r);for(var y=r.firstChild;y;){var C=y.nextSibling,V=y.nodeName;y[wr]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=C}}else r==="body"&&Bo(e.ownerDocument.body);r=h}while(r);Hi(n)}function Ip(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function Jd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Jd(r),ao(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Uw(e,n,r,l){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[wr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var y=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=hn(e.nextSibling),e===null)break}return null}function Pw(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=hn(e.nextSibling),e===null))return null;return e}function Bp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=hn(e.nextSibling),e===null))return null;return e}function ef(e){return e.data==="$?"||e.data==="$~"}function tf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Iw(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function hn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var nf=null;function Gp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return hn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Vp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Yp(e,n,r){switch(n=Ol(r),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Bo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ao(e)}var mn=new Map,qp=new Set;function Hl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ya=P.d;P.d={f:Bw,r:Gw,D:Vw,C:Yw,L:qw,m:Kw,X:$w,S:Fw,M:Xw};function Bw(){var e=ya.f(),n=Tl();return e||n}function Gw(e){var n=_a(e);n!==null&&n.tag===5&&n.type==="form"?lm(n):ya.r(e)}var Di=typeof document>"u"?null:document;function Kp(e,n,r){var l=Di;if(l&&typeof n=="string"&&n){var h=It(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),qp.has(h)||(qp.add(h),e={rel:e,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Mt(n,"link",e),ht(n),l.head.appendChild(n)))}}function Vw(e){ya.D(e),Kp("dns-prefetch",e,null)}function Yw(e,n){ya.C(e,n),Kp("preconnect",e,n)}function qw(e,n,r){ya.L(e,n,r);var l=Di;if(l&&e&&n){var h='link[rel="preload"][as="'+It(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+It(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+It(r.imageSizes)+'"]')):h+='[href="'+It(e)+'"]';var y=h;switch(n){case"style":y=Li(e);break;case"script":y=Oi(e)}mn.has(y)||(e=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),mn.set(y,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(Go(y))||n==="script"&&l.querySelector(Vo(y))||(n=l.createElement("link"),Mt(n,"link",e),ht(n),l.head.appendChild(n)))}}function Kw(e,n){ya.m(e,n);var r=Di;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+It(l)+'"][href="'+It(e)+'"]',y=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Oi(e)}if(!mn.has(y)&&(e=x({rel:"modulepreload",href:e},n),mn.set(y,e),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Vo(y)))return}l=r.createElement("link"),Mt(l,"link",e),ht(l),r.head.appendChild(l)}}}function Fw(e,n,r){ya.S(e,n,r);var l=Di;if(l&&e){var h=Ma(l).hoistableStyles,y=Li(e);n=n||"default";var C=h.get(y);if(!C){var V={loading:0,preload:null};if(C=l.querySelector(Go(y)))V.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},r),(r=mn.get(y))&&af(e,r);var $=C=l.createElement("link");ht($),Mt($,"link",e),$._p=new Promise(function(ae,le){$.onload=ae,$.onerror=le}),$.addEventListener("load",function(){V.loading|=1}),$.addEventListener("error",function(){V.loading|=2}),V.loading|=4,zl(C,n,l)}C={type:"stylesheet",instance:C,count:1,state:V},h.set(y,C)}}}function $w(e,n){ya.X(e,n);var r=Di;if(r&&e){var l=Ma(r).hoistableScripts,h=Oi(e),y=l.get(h);y||(y=r.querySelector(Vo(h)),y||(e=x({src:e,async:!0},n),(n=mn.get(h))&&rf(e,n),y=r.createElement("script"),ht(y),Mt(y,"link",e),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(h,y))}}function Xw(e,n){ya.M(e,n);var r=Di;if(r&&e){var l=Ma(r).hoistableScripts,h=Oi(e),y=l.get(h);y||(y=r.querySelector(Vo(h)),y||(e=x({src:e,async:!0,type:"module"},n),(n=mn.get(h))&&rf(e,n),y=r.createElement("script"),ht(y),Mt(y,"link",e),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(h,y))}}function Fp(e,n,r,l){var h=(h=ie.current)?Hl(h):null;if(!h)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Li(r.href),r=Ma(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Li(r.href);var y=Ma(h).hoistableStyles,C=y.get(e);if(C||(h=h.ownerDocument||h,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,C),(y=h.querySelector(Go(e)))&&!y._p&&(C.instance=y,C.state.loading=5),mn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},mn.set(e,r),y||Zw(h,e,r,C.state))),n&&l===null)throw Error(o(528,""));return C}if(n&&l!==null)throw Error(o(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Oi(r),r=Ma(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Li(e){return'href="'+It(e)+'"'}function Go(e){return'link[rel="stylesheet"]['+e+"]"}function $p(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Zw(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Mt(n,"link",r),ht(n),e.head.appendChild(n))}function Oi(e){return'[src="'+It(e)+'"]'}function Vo(e){return"script[async]"+e}function Xp(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+It(r.href)+'"]');if(l)return n.instance=l,ht(l),l;var h=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ht(l),Mt(l,"style",h),zl(l,r.precedence,e),n.instance=l;case"stylesheet":h=Li(r.href);var y=e.querySelector(Go(h));if(y)return n.state.loading|=4,n.instance=y,ht(y),y;l=$p(r),(h=mn.get(h))&&af(l,h),y=(e.ownerDocument||e).createElement("link"),ht(y);var C=y;return C._p=new Promise(function(V,$){C.onload=V,C.onerror=$}),Mt(y,"link",l),n.state.loading|=4,zl(y,r.precedence,e),n.instance=y;case"script":return y=Oi(r.src),(h=e.querySelector(Vo(y)))?(n.instance=h,ht(h),h):(l=r,(h=mn.get(y))&&(l=x({},r),rf(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ht(h),Mt(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,zl(l,r.precedence,e));return n.instance}function zl(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,y=h,C=0;C<l.length;C++){var V=l[C];if(V.dataset.precedence===n)y=V;else if(y!==h)break}y?y.parentNode.insertBefore(e,y.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function af(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function rf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ul=null;function Zp(e,n,r){if(Ul===null){var l=new Map,h=Ul=new Map;h.set(r,l)}else h=Ul,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var y=r[h];if(!(y[wr]||y[wt]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var C=y.getAttribute(n)||"";C=e+C;var V=l.get(C);V?V.push(y):l.set(C,[y])}}return l}function Qp(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function Qw(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ww(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Li(l.href),y=n.querySelector(Go(h));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Pl.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=y,ht(y);return}y=n.ownerDocument||n,l=$p(l),(h=mn.get(h))&&af(l,h),y=y.createElement("link"),ht(y);var C=y;C._p=new Promise(function(V,$){C.onload=V,C.onerror=$}),Mt(y,"link",l),r.instance=y}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Pl.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var of=0;function Jw(e,n){return e.stylesheets&&e.count===0&&Bl(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&Bl(e,e.stylesheets),e.unsuspend){var y=e.unsuspend;e.unsuspend=null,y()}},6e4+n);0<e.imgBytes&&of===0&&(of=62500*Dw());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Bl(e,e.stylesheets),e.unsuspend)){var y=e.unsuspend;e.unsuspend=null,y()}},(e.imgBytes>of?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Pl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Il=null;function Bl(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Il=new Map,n.forEach(ev,e),Il=null,Pl.call(e))}function ev(e,n){if(!(n.state.loading&4)){var r=Il.get(e);if(r)var l=r.get(null);else{r=new Map,Il.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<h.length;y++){var C=h[y];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(r.set(C.dataset.precedence,C),l=C)}l&&r.set(null,l)}h=n.instance,C=h.getAttribute("data-precedence"),y=r.get(C)||l,y===l&&r.set(null,h),r.set(C,h),this.count++,l=Pl.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),y?y.parentNode.insertBefore(h,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Yo={$$typeof:_,Provider:null,Consumer:null,_currentValue:A,_currentValue2:A,_threadCount:0};function tv(e,n,r,l,h,y,C,V,$){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.hiddenUpdates=eo(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=y,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function Jp(e,n,r,l,h,y,C,V,$,ae,le,ue){return e=new tv(e,n,r,C,$,ae,le,ue,V),n=1,y===!0&&(n|=24),y=Wt(3,null,null,n),e.current=y,y.stateNode=e,n=Uu(),n.refCount++,e.pooledCache=n,n.refCount++,y.memoizedState={element:l,isDehydrated:r,cache:n},Gu(y),e}function eg(e){return e?(e=fi,e):fi}function tg(e,n,r,l,h,y){h=eg(h),l.context===null?l.context=h:l.pendingContext=h,l=Ua(n),l.payload={element:r},y=y===void 0?null:y,y!==null&&(l.callback=y),r=Pa(e,l,n),r!==null&&(Kt(r,e,n),ko(r,e,n))}function ng(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function sf(e,n){ng(e,n),(e=e.alternate)&&ng(e,n)}function ag(e){if(e.tag===13||e.tag===31){var n=Nr(e,67108864);n!==null&&Kt(n,e,67108864),sf(e,67108864)}}function rg(e){if(e.tag===13||e.tag===31){var n=an();n=to(n);var r=Nr(e,n);r!==null&&Kt(r,e,n),sf(e,n)}}var Gl=!0;function nv(e,n,r,l){var h=S.T;S.T=null;var y=P.p;try{P.p=2,lf(e,n,r,l)}finally{P.p=y,S.T=h}}function av(e,n,r,l){var h=S.T;S.T=null;var y=P.p;try{P.p=8,lf(e,n,r,l)}finally{P.p=y,S.T=h}}function lf(e,n,r,l){if(Gl){var h=cf(l);if(h===null)Fd(e,n,l,Vl,r),og(e,l);else if(iv(h,e,n,r,l))l.stopPropagation();else if(og(e,l),n&4&&-1<rv.indexOf(e)){for(;h!==null;){var y=_a(h);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var C=Qn(y.pendingLanes);if(C!==0){var V=y;for(V.pendingLanes|=2,V.entangledLanes|=2;C;){var $=1<<31-zt(C);V.entanglements[1]|=$,C&=~$}Bn(y),(Ye&6)===0&&(El=Nt()+500,Uo(0))}}break;case 31:case 13:V=Nr(y,2),V!==null&&Kt(V,y,2),Tl(),sf(y,2)}if(y=cf(l),y===null&&Fd(e,n,l,Vl,r),y===h)break;h=y}h!==null&&l.stopPropagation()}else Fd(e,n,l,null,r)}}function cf(e){return e=uu(e),uf(e)}var Vl=null;function uf(e){if(Vl=null,e=Ta(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=u(n),e!==null)return e;e=null}else if(r===31){if(e=m(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Vl=e,null}function ig(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xr()){case Zn:return 2;case Na:return 8;case gr:case Xc:return 32;case Zr:return 268435456;default:return 32}default:return 32}}var df=!1,Za=null,Qa=null,Wa=null,qo=new Map,Ko=new Map,Ja=[],rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function og(e,n){switch(e){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":qo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(n.pointerId)}}function Fo(e,n,r,l,h,y){return e===null||e.nativeEvent!==y?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:y,targetContainers:[h]},n!==null&&(n=_a(n),n!==null&&ag(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function iv(e,n,r,l,h){switch(n){case"focusin":return Za=Fo(Za,e,n,r,l,h),!0;case"dragenter":return Qa=Fo(Qa,e,n,r,l,h),!0;case"mouseover":return Wa=Fo(Wa,e,n,r,l,h),!0;case"pointerover":var y=h.pointerId;return qo.set(y,Fo(qo.get(y)||null,e,n,r,l,h)),!0;case"gotpointercapture":return y=h.pointerId,Ko.set(y,Fo(Ko.get(y)||null,e,n,r,l,h)),!0}return!1}function sg(e){var n=Ta(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=u(r),n!==null){e.blockedOn=n,js(e.priority,function(){rg(r)});return}}else if(n===31){if(n=m(r),n!==null){e.blockedOn=n,js(e.priority,function(){rg(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=cf(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);cu=l,r.target.dispatchEvent(l),cu=null}else return n=_a(r),n!==null&&ag(n),e.blockedOn=r,!1;n.shift()}return!0}function lg(e,n,r){Yl(e)&&r.delete(n)}function ov(){df=!1,Za!==null&&Yl(Za)&&(Za=null),Qa!==null&&Yl(Qa)&&(Qa=null),Wa!==null&&Yl(Wa)&&(Wa=null),qo.forEach(lg),Ko.forEach(lg)}function ql(e,n){e.blockedOn===n&&(e.blockedOn=null,df||(df=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ov)))}var Kl=null;function cg(e){Kl!==e&&(Kl=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Kl===e&&(Kl=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(uf(l||r)===null)continue;break}var y=_a(r);y!==null&&(e.splice(n,3),n-=3,ld(y,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Hi(e){function n($){return ql($,e)}Za!==null&&ql(Za,e),Qa!==null&&ql(Qa,e),Wa!==null&&ql(Wa,e),qo.forEach(n),Ko.forEach(n);for(var r=0;r<Ja.length;r++){var l=Ja[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ja.length&&(r=Ja[0],r.blockedOn===null);)sg(r),r.blockedOn===null&&Ja.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],y=r[l+1],C=h[Rt]||null;if(typeof y=="function")C||cg(r);else if(C){var V=null;if(y&&y.hasAttribute("formAction")){if(h=y,C=y[Rt]||null)V=C.formAction;else if(uf(h)!==null)continue}else V=C.action;typeof V=="function"?r[l+1]=V:(r.splice(l,3),l-=3),cg(r)}}}function ug(){function e(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(C){return h=C})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function ff(e){this._internalRoot=e}Fl.prototype.render=ff.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var r=n.current,l=an();tg(r,l,e,n,null,null)},Fl.prototype.unmount=ff.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;tg(e.current,2,null,e,null,null),Tl(),n[Wn]=null}};function Fl(e){this._internalRoot=e}Fl.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ms();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Ja.length&&n!==0&&n<Ja[r].priority;r++);Ja.splice(r,0,e),r===0&&sg(e)}};var dg=a.version;if(dg!=="19.2.4")throw Error(o(527,dg,"19.2.4"));P.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=p(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var sv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{yr=$l.inject(sv),Ht=$l}catch{}}return Xo.createRoot=function(e,n){if(!s(e))throw Error(o(299));var r=!1,l="",h=xm,y=bm,C=wm;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError)),n=Jp(e,1,!1,null,null,r,l,null,h,y,C,ug),e[Wn]=n.current,Kd(e),new ff(n)},Xo.hydrateRoot=function(e,n,r){if(!s(e))throw Error(o(299));var l=!1,h="",y=xm,C=bm,V=wm,$=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(C=r.onCaughtError),r.onRecoverableError!==void 0&&(V=r.onRecoverableError),r.formState!==void 0&&($=r.formState)),n=Jp(e,1,!0,n,r??null,l,h,$,y,C,V,ug),n.context=eg(null),r=n.current,l=an(),l=to(l),h=Ua(l),h.callback=null,Pa(r,h,l),r=l,n.current.lanes=r,br(n,r),Bn(n),e[Wn]=n.current,Kd(e),new Fl(n)},Xo.version="19.2.4",Xo}var vg;function gv(){if(vg)return mf.exports;vg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),mf.exports=pv(),mf.exports}var yv=gv(),J=ys();const Ui=Xy(J),kg=t=>Symbol.iterator in t,Cg=t=>"entries"in t,Sg=(t,a)=>{const i=t instanceof Map?t:new Map(t.entries()),o=a instanceof Map?a:new Map(a.entries());if(i.size!==o.size)return!1;for(const[s,c]of i)if(!o.has(s)||!Object.is(c,o.get(s)))return!1;return!0},xv=(t,a)=>{const i=t[Symbol.iterator](),o=a[Symbol.iterator]();let s=i.next(),c=o.next();for(;!s.done&&!c.done;){if(!Object.is(s.value,c.value))return!1;s=i.next(),c=o.next()}return!!s.done&&!!c.done};function bv(t,a){return Object.is(t,a)?!0:typeof t!="object"||t===null||typeof a!="object"||a===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(a)?!1:kg(t)&&kg(a)?Cg(t)&&Cg(a)?Sg(t,a):xv(t,a):Sg({entries:()=>Object.entries(t)},{entries:()=>Object.entries(a)})}function xt(t){const a=Ui.useRef(void 0);return i=>{const o=t(i);return bv(a.current,o)?a.current:a.current=o}}const Eg=t=>{let a;const i=new Set,o=(p,b)=>{const x=typeof p=="function"?p(a):p;if(!Object.is(x,a)){const w=a;a=b??(typeof x!="object"||x===null)?x:Object.assign({},a,x),i.forEach(E=>E(a,w))}},s=()=>a,m={setState:o,getState:s,getInitialState:()=>g,subscribe:p=>(i.add(p),()=>i.delete(p))},g=a=t(o,s,m);return m},wv=(t=>t?Eg(t):Eg),vv=t=>t;function kv(t,a=vv){const i=Ui.useSyncExternalStore(t.subscribe,Ui.useCallback(()=>a(t.getState()),[t,a]),Ui.useCallback(()=>a(t.getInitialState()),[t,a]));return Ui.useDebugValue(i),i}const Cv=t=>{const a=wv(t),i=o=>kv(a,o);return Object.assign(i,a),i},Sv=(t=>Cv);function Ev(t,a){let i;try{i=t()}catch{return}return{getItem:s=>{var c;const u=g=>g===null?null:JSON.parse(g,void 0),m=(c=i.getItem(s))!=null?c:null;return m instanceof Promise?m.then(u):u(m)},setItem:(s,c)=>i.setItem(s,JSON.stringify(c,void 0)),removeItem:s=>i.removeItem(s)}}const zf=t=>a=>{try{const i=t(a);return i instanceof Promise?i:{then(o){return zf(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return zf(o)(i)}}}},Nv=(t,a)=>(i,o,s)=>{let c={storage:Ev(()=>localStorage),partialize:O=>O,version:0,merge:(O,z)=>({...z,...O}),...a},u=!1,m=0;const g=new Set,p=new Set;let b=c.storage;if(!b)return t((...O)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),i(...O)},o,s);const x=()=>{const O=c.partialize({...o()});return b.setItem(c.name,{state:O,version:c.version})},w=s.setState;s.setState=(O,z)=>(w(O,z),x());const E=t((...O)=>(i(...O),x()),o,s);s.getInitialState=()=>E;let T;const k=()=>{var O,z;if(!b)return;const M=++m;u=!1,g.forEach(R=>{var q;return R((q=o())!=null?q:E)});const _=((z=c.onRehydrateStorage)==null?void 0:z.call(c,(O=o())!=null?O:E))||void 0;return zf(b.getItem.bind(b))(c.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==c.version){if(c.migrate){const q=c.migrate(R.state,R.version);return q instanceof Promise?q.then(I=>[!0,I]):[!0,q]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var q;if(M!==m)return;const[I,Y]=R;if(T=c.merge(Y,(q=o())!=null?q:E),i(T,!0),I)return x()}).then(()=>{M===m&&(_?.(T,void 0),T=o(),u=!0,p.forEach(R=>R(T)))}).catch(R=>{M===m&&_?.(void 0,R)})};return s.persist={setOptions:O=>{c={...c,...O},O.storage&&(b=O.storage)},clearStorage:()=>{b?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>k(),hasHydrated:()=>u,onHydrate:O=>(g.add(O),()=>{g.delete(O)}),onFinishHydration:O=>(p.add(O),()=>{p.delete(O)})},c.skipHydration||k(),T||E},Tv=Nv;var _v=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,bf=Math.ceil,gn=Math.floor,Ft="[BigNumber Error] ",Ng=Ft+"Number primitive has more than 15 significant digits: ",En=1e14,Re=14,wf=9007199254740991,vf=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],tr=1e7,Et=1e9;function Qy(t){var a,i,o,s=M.prototype={constructor:M,toString:null,valueOf:null},c=new M(1),u=20,m=4,g=-7,p=21,b=-1e7,x=1e7,w=!1,E=1,T=0,k={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},O="0123456789abcdefghijklmnopqrstuvwxyz",z=!0;function M(v,N){var B,H,U,F,D,j,S,P,A=this;if(!(A instanceof M))return new M(v,N);if(N==null){if(v&&v._isBigNumber===!0){A.s=v.s,!v.c||v.e>x?A.c=A.e=null:v.e<b?A.c=[A.e=0]:(A.e=v.e,A.c=v.c.slice());return}if((j=typeof v=="number")&&v*0==0){if(A.s=1/v<0?(v=-v,-1):1,v===~~v){for(F=0,D=v;D>=10;D/=10,F++);F>x?A.c=A.e=null:(A.e=F,A.c=[v]);return}P=String(v)}else{if(!_v.test(P=String(v)))return o(A,P,j);A.s=P.charCodeAt(0)==45?(P=P.slice(1),-1):1}(F=P.indexOf("."))>-1&&(P=P.replace(".","")),(D=P.search(/e/i))>0?(F<0&&(F=D),F+=+P.slice(D+1),P=P.substring(0,D)):F<0&&(F=P.length)}else{if(st(N,2,O.length,"Base"),N==10&&z)return A=new M(v),I(A,u+A.e+1,m);if(P=String(v),j=typeof v=="number"){if(v*0!=0)return o(A,P,j,N);if(A.s=1/v<0?(P=P.slice(1),-1):1,M.DEBUG&&P.replace(/^0\.0*|\./,"").length>15)throw Error(Ng+v)}else A.s=P.charCodeAt(0)===45?(P=P.slice(1),-1):1;for(B=O.slice(0,N),F=D=0,S=P.length;D<S;D++)if(B.indexOf(H=P.charAt(D))<0){if(H=="."){if(D>F){F=S;continue}}else if(!U&&(P==P.toUpperCase()&&(P=P.toLowerCase())||P==P.toLowerCase()&&(P=P.toUpperCase()))){U=!0,D=-1,F=0;continue}return o(A,String(v),j,N)}j=!1,P=i(P,N,10,A.s),(F=P.indexOf("."))>-1?P=P.replace(".",""):F=P.length}for(D=0;P.charCodeAt(D)===48;D++);for(S=P.length;P.charCodeAt(--S)===48;);if(P=P.slice(D,++S)){if(S-=D,j&&M.DEBUG&&S>15&&(v>wf||v!==gn(v)))throw Error(Ng+A.s*v);if((F=F-D-1)>x)A.c=A.e=null;else if(F<b)A.c=[A.e=0];else{if(A.e=F,A.c=[],D=(F+1)%Re,F<0&&(D+=Re),D<S){for(D&&A.c.push(+P.slice(0,D)),S-=Re;D<S;)A.c.push(+P.slice(D,D+=Re));D=Re-(P=P.slice(D)).length}else D-=S;for(;D--;P+="0");A.c.push(+P)}}else A.c=[A.e=0]}M.clone=Qy,M.ROUND_UP=0,M.ROUND_DOWN=1,M.ROUND_CEIL=2,M.ROUND_FLOOR=3,M.ROUND_HALF_UP=4,M.ROUND_HALF_DOWN=5,M.ROUND_HALF_EVEN=6,M.ROUND_HALF_CEIL=7,M.ROUND_HALF_FLOOR=8,M.EUCLID=9,M.config=M.set=function(v){var N,B;if(v!=null)if(typeof v=="object"){if(v.hasOwnProperty(N="DECIMAL_PLACES")&&(B=v[N],st(B,0,Et,N),u=B),v.hasOwnProperty(N="ROUNDING_MODE")&&(B=v[N],st(B,0,8,N),m=B),v.hasOwnProperty(N="EXPONENTIAL_AT")&&(B=v[N],B&&B.pop?(st(B[0],-Et,0,N),st(B[1],0,Et,N),g=B[0],p=B[1]):(st(B,-Et,Et,N),g=-(p=B<0?-B:B))),v.hasOwnProperty(N="RANGE"))if(B=v[N],B&&B.pop)st(B[0],-Et,-1,N),st(B[1],1,Et,N),b=B[0],x=B[1];else if(st(B,-Et,Et,N),B)b=-(x=B<0?-B:B);else throw Error(Ft+N+" cannot be zero: "+B);if(v.hasOwnProperty(N="CRYPTO"))if(B=v[N],B===!!B)if(B)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))w=B;else throw w=!B,Error(Ft+"crypto unavailable");else w=B;else throw Error(Ft+N+" not true or false: "+B);if(v.hasOwnProperty(N="MODULO_MODE")&&(B=v[N],st(B,0,9,N),E=B),v.hasOwnProperty(N="POW_PRECISION")&&(B=v[N],st(B,0,Et,N),T=B),v.hasOwnProperty(N="FORMAT"))if(B=v[N],typeof B=="object")k=B;else throw Error(Ft+N+" not an object: "+B);if(v.hasOwnProperty(N="ALPHABET"))if(B=v[N],typeof B=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(B))z=B.slice(0,10)=="0123456789",O=B;else throw Error(Ft+N+" invalid: "+B)}else throw Error(Ft+"Object expected: "+v);return{DECIMAL_PLACES:u,ROUNDING_MODE:m,EXPONENTIAL_AT:[g,p],RANGE:[b,x],CRYPTO:w,MODULO_MODE:E,POW_PRECISION:T,FORMAT:k,ALPHABET:O}},M.isBigNumber=function(v){if(!v||v._isBigNumber!==!0)return!1;if(!M.DEBUG)return!0;var N,B,H=v.c,U=v.e,F=v.s;e:if({}.toString.call(H)=="[object Array]"){if((F===1||F===-1)&&U>=-Et&&U<=Et&&U===gn(U)){if(H[0]===0){if(U===0&&H.length===1)return!0;break e}if(N=(U+1)%Re,N<1&&(N+=Re),String(H[0]).length==N){for(N=0;N<H.length;N++)if(B=H[N],B<0||B>=En||B!==gn(B))break e;if(B!==0)return!0}}}else if(H===null&&U===null&&(F===null||F===1||F===-1))return!0;throw Error(Ft+"Invalid BigNumber: "+v)},M.maximum=M.max=function(){return R(arguments,-1)},M.minimum=M.min=function(){return R(arguments,1)},M.random=(function(){var v=9007199254740992,N=Math.random()*v&2097151?function(){return gn(Math.random()*v)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(B){var H,U,F,D,j,S=0,P=[],A=new M(c);if(B==null?B=u:st(B,0,Et),D=bf(B/Re),w)if(crypto.getRandomValues){for(H=crypto.getRandomValues(new Uint32Array(D*=2));S<D;)j=H[S]*131072+(H[S+1]>>>11),j>=9e15?(U=crypto.getRandomValues(new Uint32Array(2)),H[S]=U[0],H[S+1]=U[1]):(P.push(j%1e14),S+=2);S=D/2}else if(crypto.randomBytes){for(H=crypto.randomBytes(D*=7);S<D;)j=(H[S]&31)*281474976710656+H[S+1]*1099511627776+H[S+2]*4294967296+H[S+3]*16777216+(H[S+4]<<16)+(H[S+5]<<8)+H[S+6],j>=9e15?crypto.randomBytes(7).copy(H,S):(P.push(j%1e14),S+=7);S=D/7}else throw w=!1,Error(Ft+"crypto unavailable");if(!w)for(;S<D;)j=N(),j<9e15&&(P[S++]=j%1e14);for(D=P[--S],B%=Re,D&&B&&(j=vf[Re-B],P[S]=gn(D/j)*j);P[S]===0;P.pop(),S--);if(S<0)P=[F=0];else{for(F=-1;P[0]===0;P.splice(0,1),F-=Re);for(S=1,j=P[0];j>=10;j/=10,S++);S<Re&&(F-=Re-S)}return A.e=F,A.c=P,A}})(),M.sum=function(){for(var v=1,N=arguments,B=new M(N[0]);v<N.length;)B=B.plus(N[v++]);return B},i=(function(){var v="0123456789";function N(B,H,U,F){for(var D,j=[0],S,P=0,A=B.length;P<A;){for(S=j.length;S--;j[S]*=H);for(j[0]+=F.indexOf(B.charAt(P++)),D=0;D<j.length;D++)j[D]>U-1&&(j[D+1]==null&&(j[D+1]=0),j[D+1]+=j[D]/U|0,j[D]%=U)}return j.reverse()}return function(B,H,U,F,D){var j,S,P,A,K,X,G,L,Z=B.indexOf("."),Q=u,te=m;for(Z>=0&&(A=T,T=0,B=B.replace(".",""),L=new M(H),X=L.pow(B.length-Z),T=A,L.c=N(xa(pn(X.c),X.e,"0"),10,U,v),L.e=L.c.length),G=N(B,H,U,D?(j=O,v):(j=v,O)),P=A=G.length;G[--A]==0;G.pop());if(!G[0])return j.charAt(0);if(Z<0?--P:(X.c=G,X.e=P,X.s=F,X=a(X,L,Q,te,U),G=X.c,K=X.r,P=X.e),S=P+Q+1,Z=G[S],A=U/2,K=K||S<0||G[S+1]!=null,K=te<4?(Z!=null||K)&&(te==0||te==(X.s<0?3:2)):Z>A||Z==A&&(te==4||K||te==6&&G[S-1]&1||te==(X.s<0?8:7)),S<1||!G[0])B=K?xa(j.charAt(1),-Q,j.charAt(0)):j.charAt(0);else{if(G.length=S,K)for(--U;++G[--S]>U;)G[S]=0,S||(++P,G=[1].concat(G));for(A=G.length;!G[--A];);for(Z=0,B="";Z<=A;B+=j.charAt(G[Z++]));B=xa(B,P,j.charAt(0))}return B}})(),a=(function(){function v(H,U,F){var D,j,S,P,A=0,K=H.length,X=U%tr,G=U/tr|0;for(H=H.slice();K--;)S=H[K]%tr,P=H[K]/tr|0,D=G*S+P*X,j=X*S+D%tr*tr+A,A=(j/F|0)+(D/tr|0)+G*P,H[K]=j%F;return A&&(H=[A].concat(H)),H}function N(H,U,F,D){var j,S;if(F!=D)S=F>D?1:-1;else for(j=S=0;j<F;j++)if(H[j]!=U[j]){S=H[j]>U[j]?1:-1;break}return S}function B(H,U,F,D){for(var j=0;F--;)H[F]-=j,j=H[F]<U[F]?1:0,H[F]=j*D+H[F]-U[F];for(;!H[0]&&H.length>1;H.splice(0,1));}return function(H,U,F,D,j){var S,P,A,K,X,G,L,Z,Q,te,ie,oe,de,pe,Ee,ke,xe,we=H.s==U.s?1:-1,Ne=H.c,Te=U.c;if(!Ne||!Ne[0]||!Te||!Te[0])return new M(!H.s||!U.s||(Ne?Te&&Ne[0]==Te[0]:!Te)?NaN:Ne&&Ne[0]==0||!Te?we*0:we/0);for(Z=new M(we),Q=Z.c=[],P=H.e-U.e,we=F+P+1,j||(j=En,P=yn(H.e/Re)-yn(U.e/Re),we=we/Re|0),A=0;Te[A]==(Ne[A]||0);A++);if(Te[A]>(Ne[A]||0)&&P--,we<0)Q.push(1),K=!0;else{for(pe=Ne.length,ke=Te.length,A=0,we+=2,X=gn(j/(Te[0]+1)),X>1&&(Te=v(Te,X,j),Ne=v(Ne,X,j),ke=Te.length,pe=Ne.length),de=ke,te=Ne.slice(0,ke),ie=te.length;ie<ke;te[ie++]=0);xe=Te.slice(),xe=[0].concat(xe),Ee=Te[0],Te[1]>=j/2&&Ee++;do{if(X=0,S=N(Te,te,ke,ie),S<0){if(oe=te[0],ke!=ie&&(oe=oe*j+(te[1]||0)),X=gn(oe/Ee),X>1)for(X>=j&&(X=j-1),G=v(Te,X,j),L=G.length,ie=te.length;N(G,te,L,ie)==1;)X--,B(G,ke<L?xe:Te,L,j),L=G.length,S=1;else X==0&&(S=X=1),G=Te.slice(),L=G.length;if(L<ie&&(G=[0].concat(G)),B(te,G,ie,j),ie=te.length,S==-1)for(;N(Te,te,ke,ie)<1;)X++,B(te,ke<ie?xe:Te,ie,j),ie=te.length}else S===0&&(X++,te=[0]);Q[A++]=X,te[0]?te[ie++]=Ne[de]||0:(te=[Ne[de]],ie=1)}while((de++<pe||te[0]!=null)&&we--);K=te[0]!=null,Q[0]||Q.splice(0,1)}if(j==En){for(A=1,we=Q[0];we>=10;we/=10,A++);I(Z,F+(Z.e=A+P*Re-1)+1,D,K)}else Z.e=P,Z.r=+K;return Z}})();function _(v,N,B,H){var U,F,D,j,S;if(B==null?B=m:st(B,0,8),!v.c)return v.toString();if(U=v.c[0],D=v.e,N==null)S=pn(v.c),S=H==1||H==2&&(D<=g||D>=p)?Zl(S,D):xa(S,D,"0");else if(v=I(new M(v),N,B),F=v.e,S=pn(v.c),j=S.length,H==1||H==2&&(N<=F||F<=g)){for(;j<N;S+="0",j++);S=Zl(S,F)}else if(N-=D+(H===2&&F>D),S=xa(S,F,"0"),F+1>j){if(--N>0)for(S+=".";N--;S+="0");}else if(N+=F-j,N>0)for(F+1==j&&(S+=".");N--;S+="0");return v.s<0&&U?"-"+S:S}function R(v,N){for(var B,H,U=1,F=new M(v[0]);U<v.length;U++)H=new M(v[U]),(!H.s||(B=Pr(F,H))===N||B===0&&F.s===N)&&(F=H);return F}function q(v,N,B){for(var H=1,U=N.length;!N[--U];N.pop());for(U=N[0];U>=10;U/=10,H++);return(B=H+B*Re-1)>x?v.c=v.e=null:B<b?v.c=[v.e=0]:(v.e=B,v.c=N),v}o=(function(){var v=/^(-?)0([xbo])(?=\w[\w.]*$)/i,N=/^([^.]+)\.$/,B=/^\.([^.]+)$/,H=/^-?(Infinity|NaN)$/,U=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(F,D,j,S){var P,A=j?D:D.replace(U,"");if(H.test(A))F.s=isNaN(A)?null:A<0?-1:1;else{if(!j&&(A=A.replace(v,function(K,X,G){return P=(G=G.toLowerCase())=="x"?16:G=="b"?2:8,!S||S==P?X:K}),S&&(P=S,A=A.replace(N,"$1").replace(B,"0.$1")),D!=A))return new M(A,P);if(M.DEBUG)throw Error(Ft+"Not a"+(S?" base "+S:"")+" number: "+D);F.s=null}F.c=F.e=null}})();function I(v,N,B,H){var U,F,D,j,S,P,A,K=v.c,X=vf;if(K){e:{for(U=1,j=K[0];j>=10;j/=10,U++);if(F=N-U,F<0)F+=Re,D=N,S=K[P=0],A=gn(S/X[U-D-1]%10);else if(P=bf((F+1)/Re),P>=K.length)if(H){for(;K.length<=P;K.push(0));S=A=0,U=1,F%=Re,D=F-Re+1}else break e;else{for(S=j=K[P],U=1;j>=10;j/=10,U++);F%=Re,D=F-Re+U,A=D<0?0:gn(S/X[U-D-1]%10)}if(H=H||N<0||K[P+1]!=null||(D<0?S:S%X[U-D-1]),H=B<4?(A||H)&&(B==0||B==(v.s<0?3:2)):A>5||A==5&&(B==4||H||B==6&&(F>0?D>0?S/X[U-D]:0:K[P-1])%10&1||B==(v.s<0?8:7)),N<1||!K[0])return K.length=0,H?(N-=v.e+1,K[0]=X[(Re-N%Re)%Re],v.e=-N||0):K[0]=v.e=0,v;if(F==0?(K.length=P,j=1,P--):(K.length=P+1,j=X[Re-F],K[P]=D>0?gn(S/X[U-D]%X[D])*j:0),H)for(;;)if(P==0){for(F=1,D=K[0];D>=10;D/=10,F++);for(D=K[0]+=j,j=1;D>=10;D/=10,j++);F!=j&&(v.e++,K[0]==En&&(K[0]=1));break}else{if(K[P]+=j,K[P]!=En)break;K[P--]=0,j=1}for(F=K.length;K[--F]===0;K.pop());}v.e>x?v.c=v.e=null:v.e<b&&(v.c=[v.e=0])}return v}function Y(v){var N,B=v.e;return B===null?v.toString():(N=pn(v.c),N=B<=g||B>=p?Zl(N,B):xa(N,B,"0"),v.s<0?"-"+N:N)}return s.absoluteValue=s.abs=function(){var v=new M(this);return v.s<0&&(v.s=1),v},s.comparedTo=function(v,N){return Pr(this,new M(v,N))},s.decimalPlaces=s.dp=function(v,N){var B,H,U,F=this;if(v!=null)return st(v,0,Et),N==null?N=m:st(N,0,8),I(new M(F),v+F.e+1,N);if(!(B=F.c))return null;if(H=((U=B.length-1)-yn(this.e/Re))*Re,U=B[U])for(;U%10==0;U/=10,H--);return H<0&&(H=0),H},s.dividedBy=s.div=function(v,N){return a(this,new M(v,N),u,m)},s.dividedToIntegerBy=s.idiv=function(v,N){return a(this,new M(v,N),0,1)},s.exponentiatedBy=s.pow=function(v,N){var B,H,U,F,D,j,S,P,A,K=this;if(v=new M(v),v.c&&!v.isInteger())throw Error(Ft+"Exponent not an integer: "+Y(v));if(N!=null&&(N=new M(N)),j=v.e>14,!K.c||!K.c[0]||K.c[0]==1&&!K.e&&K.c.length==1||!v.c||!v.c[0])return A=new M(Math.pow(+Y(K),j?v.s*(2-Xl(v)):+Y(v))),N?A.mod(N):A;if(S=v.s<0,N){if(N.c?!N.c[0]:!N.s)return new M(NaN);H=!S&&K.isInteger()&&N.isInteger(),H&&(K=K.mod(N))}else{if(v.e>9&&(K.e>0||K.e<-1||(K.e==0?K.c[0]>1||j&&K.c[1]>=24e7:K.c[0]<8e13||j&&K.c[0]<=9999975e7)))return F=K.s<0&&Xl(v)?-0:0,K.e>-1&&(F=1/F),new M(S?1/F:F);T&&(F=bf(T/Re+2))}for(j?(B=new M(.5),S&&(v.s=1),P=Xl(v)):(U=Math.abs(+Y(v)),P=U%2),A=new M(c);;){if(P){if(A=A.times(K),!A.c)break;F?A.c.length>F&&(A.c.length=F):H&&(A=A.mod(N))}if(U){if(U=gn(U/2),U===0)break;P=U%2}else if(v=v.times(B),I(v,v.e+1,1),v.e>14)P=Xl(v);else{if(U=+Y(v),U===0)break;P=U%2}K=K.times(K),F?K.c&&K.c.length>F&&(K.c.length=F):H&&(K=K.mod(N))}return H?A:(S&&(A=c.div(A)),N?A.mod(N):F?I(A,T,m,D):A)},s.integerValue=function(v){var N=new M(this);return v==null?v=m:st(v,0,8),I(N,N.e+1,v)},s.isEqualTo=s.eq=function(v,N){return Pr(this,new M(v,N))===0},s.isFinite=function(){return!!this.c},s.isGreaterThan=s.gt=function(v,N){return Pr(this,new M(v,N))>0},s.isGreaterThanOrEqualTo=s.gte=function(v,N){return(N=Pr(this,new M(v,N)))===1||N===0},s.isInteger=function(){return!!this.c&&yn(this.e/Re)>this.c.length-2},s.isLessThan=s.lt=function(v,N){return Pr(this,new M(v,N))<0},s.isLessThanOrEqualTo=s.lte=function(v,N){return(N=Pr(this,new M(v,N)))===-1||N===0},s.isNaN=function(){return!this.s},s.isNegative=function(){return this.s<0},s.isPositive=function(){return this.s>0},s.isZero=function(){return!!this.c&&this.c[0]==0},s.minus=function(v,N){var B,H,U,F,D=this,j=D.s;if(v=new M(v,N),N=v.s,!j||!N)return new M(NaN);if(j!=N)return v.s=-N,D.plus(v);var S=D.e/Re,P=v.e/Re,A=D.c,K=v.c;if(!S||!P){if(!A||!K)return A?(v.s=-N,v):new M(K?D:NaN);if(!A[0]||!K[0])return K[0]?(v.s=-N,v):new M(A[0]?D:m==3?-0:0)}if(S=yn(S),P=yn(P),A=A.slice(),j=S-P){for((F=j<0)?(j=-j,U=A):(P=S,U=K),U.reverse(),N=j;N--;U.push(0));U.reverse()}else for(H=(F=(j=A.length)<(N=K.length))?j:N,j=N=0;N<H;N++)if(A[N]!=K[N]){F=A[N]<K[N];break}if(F&&(U=A,A=K,K=U,v.s=-v.s),N=(H=K.length)-(B=A.length),N>0)for(;N--;A[B++]=0);for(N=En-1;H>j;){if(A[--H]<K[H]){for(B=H;B&&!A[--B];A[B]=N);--A[B],A[H]+=En}A[H]-=K[H]}for(;A[0]==0;A.splice(0,1),--P);return A[0]?q(v,A,P):(v.s=m==3?-1:1,v.c=[v.e=0],v)},s.modulo=s.mod=function(v,N){var B,H,U=this;return v=new M(v,N),!U.c||!v.s||v.c&&!v.c[0]?new M(NaN):!v.c||U.c&&!U.c[0]?new M(U):(E==9?(H=v.s,v.s=1,B=a(U,v,0,3),v.s=H,B.s*=H):B=a(U,v,0,E),v=U.minus(B.times(v)),!v.c[0]&&E==1&&(v.s=U.s),v)},s.multipliedBy=s.times=function(v,N){var B,H,U,F,D,j,S,P,A,K,X,G,L,Z,Q,te=this,ie=te.c,oe=(v=new M(v,N)).c;if(!ie||!oe||!ie[0]||!oe[0])return!te.s||!v.s||ie&&!ie[0]&&!oe||oe&&!oe[0]&&!ie?v.c=v.e=v.s=null:(v.s*=te.s,!ie||!oe?v.c=v.e=null:(v.c=[0],v.e=0)),v;for(H=yn(te.e/Re)+yn(v.e/Re),v.s*=te.s,S=ie.length,K=oe.length,S<K&&(L=ie,ie=oe,oe=L,U=S,S=K,K=U),U=S+K,L=[];U--;L.push(0));for(Z=En,Q=tr,U=K;--U>=0;){for(B=0,X=oe[U]%Q,G=oe[U]/Q|0,D=S,F=U+D;F>U;)P=ie[--D]%Q,A=ie[D]/Q|0,j=G*P+A*X,P=X*P+j%Q*Q+L[F]+B,B=(P/Z|0)+(j/Q|0)+G*A,L[F--]=P%Z;L[F]=B}return B?++H:L.splice(0,1),q(v,L,H)},s.negated=function(){var v=new M(this);return v.s=-v.s||null,v},s.plus=function(v,N){var B,H=this,U=H.s;if(v=new M(v,N),N=v.s,!U||!N)return new M(NaN);if(U!=N)return v.s=-N,H.minus(v);var F=H.e/Re,D=v.e/Re,j=H.c,S=v.c;if(!F||!D){if(!j||!S)return new M(U/0);if(!j[0]||!S[0])return S[0]?v:new M(j[0]?H:U*0)}if(F=yn(F),D=yn(D),j=j.slice(),U=F-D){for(U>0?(D=F,B=S):(U=-U,B=j),B.reverse();U--;B.push(0));B.reverse()}for(U=j.length,N=S.length,U-N<0&&(B=S,S=j,j=B,N=U),U=0;N;)U=(j[--N]=j[N]+S[N]+U)/En|0,j[N]=En===j[N]?0:j[N]%En;return U&&(j=[U].concat(j),++D),q(v,j,D)},s.precision=s.sd=function(v,N){var B,H,U,F=this;if(v!=null&&v!==!!v)return st(v,1,Et),N==null?N=m:st(N,0,8),I(new M(F),v,N);if(!(B=F.c))return null;if(U=B.length-1,H=U*Re+1,U=B[U]){for(;U%10==0;U/=10,H--);for(U=B[0];U>=10;U/=10,H++);}return v&&F.e+1>H&&(H=F.e+1),H},s.shiftedBy=function(v){return st(v,-wf,wf),this.times("1e"+v)},s.squareRoot=s.sqrt=function(){var v,N,B,H,U,F=this,D=F.c,j=F.s,S=F.e,P=u+4,A=new M("0.5");if(j!==1||!D||!D[0])return new M(!j||j<0&&(!D||D[0])?NaN:D?F:1/0);if(j=Math.sqrt(+Y(F)),j==0||j==1/0?(N=pn(D),(N.length+S)%2==0&&(N+="0"),j=Math.sqrt(+N),S=yn((S+1)/2)-(S<0||S%2),j==1/0?N="5e"+S:(N=j.toExponential(),N=N.slice(0,N.indexOf("e")+1)+S),B=new M(N)):B=new M(j+""),B.c[0]){for(S=B.e,j=S+P,j<3&&(j=0);;)if(U=B,B=A.times(U.plus(a(F,U,P,1))),pn(U.c).slice(0,j)===(N=pn(B.c)).slice(0,j))if(B.e<S&&--j,N=N.slice(j-3,j+1),N=="9999"||!H&&N=="4999"){if(!H&&(I(U,U.e+u+2,0),U.times(U).eq(F))){B=U;break}P+=4,j+=4,H=1}else{(!+N||!+N.slice(1)&&N.charAt(0)=="5")&&(I(B,B.e+u+2,1),v=!B.times(B).eq(F));break}}return I(B,B.e+u+1,m,v)},s.toExponential=function(v,N){return v!=null&&(st(v,0,Et),v++),_(this,v,N,1)},s.toFixed=function(v,N){return v!=null&&(st(v,0,Et),v=v+this.e+1),_(this,v,N)},s.toFormat=function(v,N,B){var H,U=this;if(B==null)v!=null&&N&&typeof N=="object"?(B=N,N=null):v&&typeof v=="object"?(B=v,v=N=null):B=k;else if(typeof B!="object")throw Error(Ft+"Argument not an object: "+B);if(H=U.toFixed(v,N),U.c){var F,D=H.split("."),j=+B.groupSize,S=+B.secondaryGroupSize,P=B.groupSeparator||"",A=D[0],K=D[1],X=U.s<0,G=X?A.slice(1):A,L=G.length;if(S&&(F=j,j=S,S=F,L-=F),j>0&&L>0){for(F=L%j||j,A=G.substr(0,F);F<L;F+=j)A+=P+G.substr(F,j);S>0&&(A+=P+G.slice(F)),X&&(A="-"+A)}H=K?A+(B.decimalSeparator||"")+((S=+B.fractionGroupSize)?K.replace(new RegExp("\\d{"+S+"}\\B","g"),"$&"+(B.fractionGroupSeparator||"")):K):A}return(B.prefix||"")+H+(B.suffix||"")},s.toFraction=function(v){var N,B,H,U,F,D,j,S,P,A,K,X,G=this,L=G.c;if(v!=null&&(j=new M(v),!j.isInteger()&&(j.c||j.s!==1)||j.lt(c)))throw Error(Ft+"Argument "+(j.isInteger()?"out of range: ":"not an integer: ")+Y(j));if(!L)return new M(G);for(N=new M(c),P=B=new M(c),H=S=new M(c),X=pn(L),F=N.e=X.length-G.e-1,N.c[0]=vf[(D=F%Re)<0?Re+D:D],v=!v||j.comparedTo(N)>0?F>0?N:P:j,D=x,x=1/0,j=new M(X),S.c[0]=0;A=a(j,N,0,1),U=B.plus(A.times(H)),U.comparedTo(v)!=1;)B=H,H=U,P=S.plus(A.times(U=P)),S=U,N=j.minus(A.times(U=N)),j=U;return U=a(v.minus(B),H,0,1),S=S.plus(U.times(P)),B=B.plus(U.times(H)),S.s=P.s=G.s,F=F*2,K=a(P,H,F,m).minus(G).abs().comparedTo(a(S,B,F,m).minus(G).abs())<1?[P,H]:[S,B],x=D,K},s.toNumber=function(){return+Y(this)},s.toPrecision=function(v,N){return v!=null&&st(v,1,Et),_(this,v,N,2)},s.toString=function(v){var N,B=this,H=B.s,U=B.e;return U===null?H?(N="Infinity",H<0&&(N="-"+N)):N="NaN":(v==null?N=U<=g||U>=p?Zl(pn(B.c),U):xa(pn(B.c),U,"0"):v===10&&z?(B=I(new M(B),u+U+1,m),N=xa(pn(B.c),B.e,"0")):(st(v,2,O.length,"Base"),N=i(xa(pn(B.c),U,"0"),10,v,H,!0)),H<0&&B.c[0]&&(N="-"+N)),N},s.valueOf=s.toJSON=function(){return Y(this)},s._isBigNumber=!0,s[Symbol.toStringTag]="BigNumber",s[Symbol.for("nodejs.util.inspect.custom")]=s.valueOf,t!=null&&M.set(t),M}function yn(t){var a=t|0;return t>0||t===a?a:a-1}function pn(t){for(var a,i,o=1,s=t.length,c=t[0]+"";o<s;){for(a=t[o++]+"",i=Re-a.length;i--;a="0"+a);c+=a}for(s=c.length;c.charCodeAt(--s)===48;);return c.slice(0,s+1||1)}function Pr(t,a){var i,o,s=t.c,c=a.c,u=t.s,m=a.s,g=t.e,p=a.e;if(!u||!m)return null;if(i=s&&!s[0],o=c&&!c[0],i||o)return i?o?0:-m:u;if(u!=m)return u;if(i=u<0,o=g==p,!s||!c)return o?0:!s^i?1:-1;if(!o)return g>p^i?1:-1;for(m=(g=s.length)<(p=c.length)?g:p,u=0;u<m;u++)if(s[u]!=c[u])return s[u]>c[u]^i?1:-1;return g==p?0:g>p^i?1:-1}function st(t,a,i,o){if(t<a||t>i||t!==gn(t))throw Error(Ft+(o||"Argument")+(typeof t=="number"?t<a||t>i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function Xl(t){var a=t.c.length-1;return yn(t.e/Re)==a&&t.c[a]%2!=0}function Zl(t,a){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(a<0?"e":"e+")+a}function xa(t,a,i){var o,s;if(a<0){for(s=i+".";++a;s+=i);t=s+t}else if(o=t.length,++a>o){for(s=i,a-=o;--a;s+=i);t+=s}else a<o&&(t=t.slice(0,a)+"."+t.slice(a));return t}var f=Qy();const lt=[{id:"stick man",name:"Stick Man",flavorText:"Anxiety with legs.",rarity:"scrap",imagePath:"assets/sketches/stickman.jpg",stats:{maxHp:new f(5),attack:new f(1),attackSpeed:2e3},rewards:[{statName:"ATK",amount:new f(.5)}],currencyRewards:[{name:"Graphite",amount:new f(1)}]},{id:"smudge",name:"Smudge",flavorText:"You missed a spot.",rarity:"scrap",imagePath:"assets/sketches/smudge.jpg",stats:{maxHp:new f(12),attack:new f(1.5),attackSpeed:2800},rewards:[{statName:"HP",amount:new f(2)}],currencyRewards:[{name:"Graphite",amount:new f(3)}]},{id:"clockwork_heart",name:"Clockwork Heart",flavorText:"Ticking in 2B pencil.",rarity:"rough",imagePath:"assets/sketches/clockwork_heart.jpg",stats:{maxHp:new f(25),attack:new f(5),attackSpeed:1750,regen:new f(1)},rewards:[{statName:"HP",amount:new f(5)},{statName:"Regen",amount:new f(.01)}],currencyRewards:[{name:"Graphite",amount:new f(77)}]},{id:"perspective_block",name:"Perspective Block",flavorText:"Euclid is crying.",rarity:"scrap",imagePath:"assets/sketches/perspective_block.jpg",stats:{maxHp:new f(18),attack:new f(4),attackSpeed:1800},rewards:[{statName:"HP",amount:new f(5)}],currencyRewards:[{name:"Graphite",amount:new f(2)}]},{id:"narudo",name:"Narudo (*)",flavorText:"Believe in the brushwork!",rarity:"framed",imagePath:"assets/sketches/narudo.jpg",stats:{maxHp:new f(80),attack:new f(.8),attackSpeed:800},rewards:[{statName:"ATK",amount:new f(8)}],currencyRewards:[{name:"Coffee",amount:new f(8)}]},{id:"v-wing_bat",name:"V-Wing Bat",flavorText:'A lazy "M" shape.',rarity:"scrap",imagePath:"assets/sketches/v-wing_bat.jpg",stats:{maxHp:new f(22),attack:new f(.3),attackSpeed:400},rewards:[{statName:"ATK",amount:new f(.1)},{statName:"SPD",amount:new f(-2)}],currencyRewards:[{name:"Graphite",amount:new f(10)}]},{id:"stick_knight",name:"Stick Knight",flavorText:"He found a triangle.",rarity:"scrap",imagePath:"assets/sketches/stick_knight.jpg",stats:{maxHp:new f(25),attack:new f(2.5),attackSpeed:2e3,armor:new f(5)},rewards:[{statName:"ATK",amount:new f(.2)},{statName:"Armor",amount:new f(.2)}],currencyRewards:[{name:"Graphite",amount:new f(3)}]},{id:"miramba",name:"Miramba (*)",flavorText:"Shoot arrow, hit canvas.",rarity:"framed",imagePath:"assets/sketches/miramba.jpg",stats:{maxHp:new f(65e8),attack:new f(19e5),attackSpeed:700},rewards:[]},{id:"deep_diver",name:"Deep Diver",flavorText:"Pressure crushing the graphite.",rarity:"rough",imagePath:"assets/sketches/deep_diver.jpg",stats:{maxHp:new f(500),attack:new f(10),attackSpeed:2500,armor:new f(10),execute:new f(1e3)},rewards:[{statName:"Armor",amount:new f(.1)}],currencyRewards:[{name:"Coffee",amount:new f(10)},{name:"Ink",amount:new f(10)}]},{id:"guide-line_snake",name:"Guide-Line Snake",flavorText:"Smooth, deadly curves.",rarity:"scrap",imagePath:"assets/sketches/guide-line_snake.jpg",stats:{maxHp:new f(40),attack:new f(2.5),attackSpeed:1200,critChance:new f(20),critDmg:new f(250)},rewards:[{statName:"CritChance",amount:new f(.01)},{statName:"CritDmg",amount:new f(.5)}],currencyRewards:[{name:"Wax",amount:new f(1.2)}]},{id:"ishinn",name:"Ishinn (*)",flavorText:"Hesitation is defeat.",rarity:"framed",imagePath:"assets/sketches/ishinn.jpg",stats:{maxHp:new f(8e9),attack:new f(25e5),attackSpeed:400},rewards:[]},{id:"scribble",name:"Scribble",flavorText:"Manic energy.",rarity:"scrap",imagePath:"assets/sketches/scribble.jpg",stats:{maxHp:new f(50),attack:new f(2.25),attackSpeed:1e3,regen:new f(1.5)},rewards:[{statName:"Regen",amount:new f(.1)}],currencyRewards:[{name:"Graphite",amount:new f(15)}]},{id:"scorpion_mech",name:"Scorpion Mech",flavorText:"Sting is spring-loaded.",rarity:"rough",imagePath:"assets/sketches/scorpion_mech.jpg",stats:{maxHp:new f(1e3),attack:new f(25),attackSpeed:900,armor:new f(50),poisonChance:new f(500)},rewards:[{statName:"Armor",amount:new f(.5)},{statName:"ATK",amount:new f(.5)}],currencyRewards:[{name:"Wax",amount:new f(50)},{name:"Charcoal",amount:new f(10)}]},{id:"magnum_opus",name:"Magnum opus (*)",flavorText:"Too ambitious to finish.",rarity:"opus",imagePath:"assets/sketches/magnum_opus.jpg",stats:{maxHp:new f(2e9),attack:new f(1e6),attackSpeed:1500},rewards:[]},{id:"magnum_opus_2",name:"Magnum opus 2 (*)",flavorText:"Still ambitious.",rarity:"opus",imagePath:"assets/sketches/magnum_opus_2.jpg",stats:{maxHp:new f(2e9),attack:new f(1e6),attackSpeed:1500},rewards:[]},{id:"broccoli_grove",name:"Broccoli Grove",flavorText:"Vegetables posing as trees.",rarity:"scrap",imagePath:"assets/sketches/broccoli_grove.jpg",stats:{maxHp:new f(50),attack:new f(5),attackSpeed:1500},rewards:[{statName:"ATK",amount:new f(.3)},{statName:"HP",amount:new f(.3)}],currencyRewards:[{name:"Graphite",amount:new f(10)}]},{id:"plague_doctor",name:"Plague Doctor",flavorText:"Cures nothing, looks cool.",rarity:"rough",imagePath:"assets/sketches/plague_doctor.jpg",stats:{maxHp:new f(1500),attack:new f(5),attackSpeed:1e3,plagueChance:new f(100),regen:new f(10)},rewards:[{statName:"PlagueChance",amount:new f(.01)}],currencyRewards:[{name:"Wax",amount:new f(10)}]},{id:"girl_with_balloon",name:"Girl with Balloon (*)",flavorText:"Going, going, gone.",rarity:"masterpiece",imagePath:"assets/sketches/girl_with_balloon.jpg",stats:{maxHp:new f(12e9),attack:new f(4e6),attackSpeed:1e3,dodge:new f(50)},rewards:[],currencyRewards:[]},{id:"agent_smiff",name:"Agent Smiff",flavorText:"Mr. Anderson... welcome to the gallery.",rarity:"framed",imagePath:"assets/sketches/agent_smiff.jpg",stats:{maxHp:new f(300),attack:new f(30),attackSpeed:300,dodge:new f(90),critChance:new f(90),critDmg:new f(900)},rewards:[{statName:"GlancingBlow",amount:new f(.01)},{statName:"Accuracy",amount:new f(.01)}],currencyRewards:[{name:"Coffee",amount:new f(100)}]},{id:"ghost_line",name:"Ghost Line",flavorText:"Hard to pin down.",rarity:"scrap",imagePath:"assets/sketches/ghost_line.jpg",stats:{maxHp:new f(55),attack:new f(3.3),attackSpeed:1600,dodge:new f(33)},rewards:[{statName:"Dodge",amount:new f(.003)},{statName:"ATK",amount:new f(.15)}],currencyRewards:[{name:"Wax",amount:new f(1)}]},{id:"cyber_skull",name:"Cyber Skull",flavorText:"Bone meets chrome.",rarity:"rough",imagePath:"assets/sketches/cyber_skull.jpg",stats:{maxHp:new f(1e4),attack:new f(100),attackSpeed:1e3,hasteChance:new f(400)},rewards:[{statName:"HasteChance",amount:new f(.01)},{statName:"ATK",amount:new f(.5)}],currencyRewards:[{name:"Graphite",amount:new f(200)},{name:"Coffee",amount:new f(15)}]},{id:"campbells_soup",name:"Campbell's Soup (*)",flavorText:"Mass-produced perfection.",rarity:"masterpiece",imagePath:"assets/sketches/campbells_soup.jpg",stats:{maxHp:new f(15e9),attack:new f(35e5),attackSpeed:2e3,regen:new f(1e5)},rewards:[],currencyRewards:[]},{id:"bikachu",name:"Bikachu",flavorText:"Electric mouse of some sort.",rarity:"framed",imagePath:"assets/sketches/bikachu.jpg",stats:{maxHp:new f(3e4),attack:new f(300),attackSpeed:300,critChance:new f(30),critDmg:new f(300),electrocuteChance:new f(3e3)},rewards:[{statName:"ElectrocuteChance",amount:new f(.01)},{statName:"SPD",amount:new f(-1)}],currencyRewards:[{name:"Coffee",amount:new f(300)},{name:"Ink",amount:new f(30)}]},{id:"tangled_spider",name:"Tangled Spider",flavorText:"A knot with legs.",rarity:"scrap",imagePath:"assets/sketches/tangled_spider.jpg",stats:{maxHp:new f(150),attack:new f(5),attackSpeed:2300,regen:new f(1)},rewards:[{statName:"Regen",amount:new f(.05)},{statName:"ATK",amount:new f(1)}],currencyRewards:[{name:"Wax",amount:new f(3)}]},{id:"storm_lantern",name:"Storm Lantern",flavorText:"Captured thunder.",rarity:"rough",imagePath:"assets/sketches/storm_lantern.jpg",stats:{maxHp:new f(444),attack:new f(44),attackSpeed:444,critChance:new f(44),critDmg:new f(444)},rewards:[{statName:"ATK",amount:new f(.44)},{statName:"CritDmg",amount:new f(.44)}],currencyRewards:[{name:"Graphite",amount:new f(444)},{name:"Charcoal",amount:new f(4.4)}]},{id:"froyd",name:"Froyd (*)",flavorText:"Analyzing my brushstrokes.",rarity:"opus",imagePath:"assets/sketches/froyd.jpg",stats:{maxHp:new f(15e9),attack:new f(4e6),attackSpeed:2e3},rewards:[]},{id:"wandering_ronin",name:"Wandering Ronin",flavorText:"A blade drawn in silence.",rarity:"rough",imagePath:"assets/sketches/wandering_ronin.jpg",stats:{maxHp:new f(1e3),attack:new f(75),attackSpeed:600,parry:new f(75),parryDmg:new f(100),dodge:new f(50)},rewards:[{statName:"ParryDmg",amount:new f(.1)},{statName:"ATK",amount:new f(.75)}],currencyRewards:[{name:"Ink",amount:new f(10)}]},{id:"contrast_crusher",name:"Contrast Crusher",flavorText:"Only black and white exist.",rarity:"scrap",imagePath:"assets/sketches/contrast_crusher.jpg",stats:{maxHp:new f(250),attack:new f(10),attackSpeed:4e3},rewards:[{statName:"ATK",amount:new f(.5)}],currencyRewards:[{name:"Charcoal",amount:new f(2.5)}]},{id:"eyezen",name:"Eyezen",flavorText:"Implying this is just a drawing?",rarity:"framed",imagePath:"assets/sketches/eyezen.jpg",stats:{maxHp:new f(5e4),attack:new f(3500),attackSpeed:1300,hypnotizeChance:new f(13),multiStrikeChance:new f(130)},rewards:[{statName:"ATK",amount:new f(5)}],currencyRewards:[{name:"Ink",amount:new f(50)},{name:"Marker",amount:new f(1.5)}]},{id:"the_son_of_man",name:"The Son of Man (*)",flavorText:"An apple a day hides the face.",rarity:"masterpiece",imagePath:"assets/sketches/the_son_of_man.jpg",stats:{maxHp:new f(18e9),attack:new f(5e6),attackSpeed:1500,accuracy:new f(-50),dodge:new f(50)},rewards:[],currencyRewards:[]},{id:"stick_ribs",name:"Stick Ribs",flavorText:"Bare bones.",rarity:"scrap",imagePath:"assets/sketches/stick_ribs.jpg",stats:{maxHp:new f(350),attack:new f(12),attackSpeed:3500},rewards:[{statName:"HP",amount:new f(25)}],currencyRewards:[{name:"Wax",amount:new f(10)}]},{id:"rusty_mech",name:"Rusty Mech",flavorText:"Heavy metal shading practice.",rarity:"rough",imagePath:"assets/sketches/rusty_mech.jpg",stats:{maxHp:new f(1500),attack:new f(80),attackSpeed:800,armor:new f(100),armorPen:new f(50)},rewards:[{statName:"ATK",amount:new f(2)},{statName:"ArmorPen",amount:new f(1)}],currencyRewards:[{name:"Wax",amount:new f(10)}]},{id:"kenpatchy",name:"Kenpatchy",flavorText:"Spiritual pressure broke the pencil.",rarity:"framed",imagePath:"assets/sketches/kenpatchy.jpg",stats:{maxHp:new f(2e6),attack:new f(25e3),attackSpeed:2e3,blockChance:new f(25),blockAmount:new f(25e4)},rewards:[{statName:"ATK",amount:new f(10)},{statName:"BlockAmount",amount:new f(25)}],currencyRewards:[{name:"Wax",amount:new f(50)},{name:"Coffee",amount:new f(50)}]},{id:"ink_blot",name:"Ink Blot",flavorText:"An accident that stained.",rarity:"scrap",imagePath:"assets/sketches/ink_blot.jpg",stats:{maxHp:new f(330),attack:new f(10),attackSpeed:2525},rewards:[{statName:"ATK",amount:new f(.3)}],currencyRewards:[{name:"Graphite",amount:new f(50)}]},{id:"bludseeker",name:"Bludseeker (*)",flavorText:"I sense low ink.",rarity:"framed",imagePath:"assets/sketches/bludseeker.jpg",stats:{maxHp:new f(7e9),attack:new f(28e5),attackSpeed:300},rewards:[]},{id:"gargoyle_sentinel",name:"Gargoyle Sentinel",flavorText:"Watcher in the rain.",rarity:"rough",imagePath:"assets/sketches/gargoyle_sentinel.jpg",stats:{maxHp:new f(2e3),attack:new f(350),attackSpeed:2e3,armor:new f(200),remedy:new f(120),regen:new f(25)},rewards:[{statName:"Regen",amount:new f(3.5)},{statName:"Remedy",amount:new f(.01)}],currencyRewards:[{name:"Ink",amount:new f(12)},{name:"Marker",amount:new f(1.2)}]},{id:"top_heavy_brute",name:"Top-Heavy Brute",flavorText:"Soft, puffy, and structureless.",rarity:"scrap",imagePath:"assets/sketches/top-heavy_brute.jpg",stats:{maxHp:new f(600),attack:new f(10),attackSpeed:2625,regen:new f(1),armor:new f(2),maxDamage:new f(175)},rewards:[{statName:"Armor",amount:new f(.25)},{statName:"MaxDamage",amount:new f(.25)}],currencyRewards:[{name:"Graphite",amount:new f(25)}]},{id:"franklyn",name:"Franklyn (*)",flavorText:"Waiting for lightning to strike.",rarity:"opus",imagePath:"assets/sketches/franklyn.jpg",stats:{maxHp:new f(16e9),attack:new f(42e5),attackSpeed:1500},rewards:[]},{id:"rotten_fruit",name:"Rotten Fruit",flavorText:"Shaded until it spoiled.",rarity:"scrap",imagePath:"assets/sketches/rotten_fruit.jpg",stats:{maxHp:new f(350),attack:new f(7.5),attackSpeed:2250,regen:new f(7.5)},rewards:[{statName:"Regen",amount:new f(.05)}],currencyRewards:[{name:"Graphite",amount:new f(25)},{name:"Wax",amount:new f(25)}]},{id:"aztiri",name:"Aztiri (*)",flavorText:"Four arms, four brushes.",rarity:"framed",imagePath:"assets/sketches/aztiri.jpg",stats:{maxHp:new f(95e8),attack:new f(32e5),attackSpeed:800},rewards:[]},{id:"guernica",name:"Guernica (*)",flavorText:"War in monochrome.",rarity:"masterpiece",imagePath:"assets/sketches/guernica.jpg",stats:{maxHp:new f(35e9),attack:new f(15e6),attackSpeed:2500,multiStrikeChance:new f(100)},rewards:[],currencyRewards:[]},{id:"gothic_spire",name:"Gothic Spire",flavorText:"Too many details to finish.",rarity:"rough",imagePath:"assets/sketches/gothic_spire.jpg",stats:{maxHp:new f(6666),attack:new f(66),attackSpeed:666,armorPen:new f(666),execute:new f(6666)},rewards:[{statName:"ArmorPen",amount:new f(6)},{statName:"Execute",amount:new f(.6)}],currencyRewards:[{name:"Graphite",amount:new f(666)},{name:"Charcoal",amount:new f(6.6)}]},{id:"kingg",name:"Kingg (*)",flavorText:"A dream rendered in charcoal.",rarity:"opus",imagePath:"assets/sketches/kingg.jpg",stats:{maxHp:new f(18e9),attack:new f(45e5),attackSpeed:1e3},rewards:[]},{id:"viscous_blob",name:"Viscous Blob",flavorText:"It hasn't dried yet.",rarity:"scrap",imagePath:"assets/sketches/viscous_blob.jpg",stats:{maxHp:new f(600),attack:new f(10),attackSpeed:3600,minDamage:new f(100),maxDamage:new f(200),regen:new f(8)},rewards:[{statName:"HP",amount:new f(40)},{statName:"MinDamage",amount:new f(.2)}],currencyRewards:[{name:"Wax",amount:new f(45)}]},{id:"static_steed",name:"Static Steed",flavorText:"Frozen line with zero soul.",rarity:"scrap",imagePath:"assets/sketches/static_steed.jpg",stats:{maxHp:new f(300),attack:new f(50),attackSpeed:2400},rewards:[{statName:"ATK",amount:new f(1.25)}],currencyRewards:[{name:"Graphite",amount:new f(40)}]},{id:"ancestral_tree",name:"Ancestral Tree",flavorText:"Roots deep in graphite.",rarity:"rough",imagePath:"assets/sketches/ancestral_tree.jpg",stats:{maxHp:new f(2500),attack:new f(500),attackSpeed:5e3,regen:new f(10),armor:new f(500)},rewards:[{statName:"HP",amount:new f(10)},{statName:"Armor",amount:new f(.1)}],currencyRewards:[{name:"Graphite",amount:new f(5e3)}]},{id:"chunk_norris",name:"Chunk Norris (*)",flavorText:"He drew the artist.",rarity:"framed",imagePath:"assets/sketches/chunk_norris.jpg",stats:{maxHp:new f(12e9),attack:new f(5e6),attackSpeed:2e3},rewards:[]},{id:"margin_goblin",name:"Margin Goblin",flavorText:"Born in the margins.",rarity:"scrap",imagePath:"assets/sketches/margin_goblin.jpg",stats:{maxHp:new f(700),attack:new f(15),attackSpeed:700,dodge:new f(25)},rewards:[{statName:"SPD",amount:new f(-2)},{statName:"Dodge",amount:new f(.002)}],currencyRewards:[{name:"Graphite",amount:new f(60)},{name:"Wax",amount:new f(10)}]},{id:"griffin_head",name:"Griffin Head",flavorText:"Feathers are hard to draw.",rarity:"rough",imagePath:"assets/sketches/griffin_head.jpg",stats:{maxHp:new f(9e3),attack:new f(360),attackSpeed:900,accuracy:new f(100),armorPen:new f(50),bleedChance:new f(300)},rewards:[{statName:"ATK",amount:new f(10)},{statName:"Accuracy",amount:new f(.005)}],currencyRewards:[{name:"Graphite",amount:new f(3e3)},{name:"Wax",amount:new f(300)}]},{id:"shakes",name:"Shakes (*)",flavorText:"To draw, or not to draw.",rarity:"opus",imagePath:"assets/sketches/shakes.jpg",stats:{maxHp:new f(17e9),attack:new f(43e5),attackSpeed:1200},rewards:[]},{id:"coffee_stain",name:"Coffee Stain",flavorText:"Caffeine that fights back.",rarity:"scrap",imagePath:"assets/sketches/coffee_stain.jpg",stats:{maxHp:new f(900),attack:new f(100),attackSpeed:2500,counter:new f(50),regen:new f(5)},rewards:[{statName:"Counter",amount:new f(.005)}],currencyRewards:[{name:"Coffee",amount:new f(10)}]},{id:"tockies",name:"Tockies (*)",flavorText:"Explosive creative potential.",rarity:"framed",imagePath:"assets/sketches/tockies.jpg",stats:{maxHp:new f(6e9),attack:new f(25e5),attackSpeed:1500},rewards:[]},{id:"mannequin",name:"Mannequin",flavorText:"Stiff, wooden judgment.",rarity:"scrap",imagePath:"assets/sketches/mannequin.jpg",stats:{maxHp:new f(1200),attack:new f(120),attackSpeed:1500,execute:new f(75)},rewards:[{statName:"Execute",amount:new f(.2)},{statName:"ATK",amount:new f(2.4)}],currencyRewards:[{name:"Wax",amount:new f(100)}]},{id:"black_knight_helmet",name:"Black Knight Helmet",flavorText:"Reflections on dark armor.",rarity:"rough",imagePath:"assets/sketches/black_knight_helmet.jpg",stats:{maxHp:new f(8e3),attack:new f(1500),attackSpeed:1500,blockChance:new f(50),blockAmount:new f(1500),lifesteal:new f(50)},rewards:[{statName:"BlockChance",amount:new f(1e-4)},{statName:"BlockAmount",amount:new f(25)}],currencyRewards:[{name:"Coffee",amount:new f(50)},{name:"Ink",amount:new f(15)}]},{id:"scrapped_rat",name:"Scrapped Rat",flavorText:"Gnaws at your confidence.",rarity:"scrap",imagePath:"assets/sketches/scrapped_rat.jpg",stats:{maxHp:new f(1250),attack:new f(175),attackSpeed:1750,critChance:new f(20),critDmg:new f(250),plagueChance:new f(25)},rewards:[{statName:"CritDmg",amount:new f(.5)},{statName:"PlagueChance",amount:new f(.01)}],currencyRewards:[{name:"Graphite",amount:new f(150)},{name:"Charcoal",amount:new f(15)}]},{id:"bama",name:"Bama (*)",flavorText:"Yes we scan.",rarity:"opus",imagePath:"assets/sketches/bama.jpg",stats:{maxHp:new f(2e10),attack:new f(5e6),attackSpeed:900},rewards:[]},{id:"six_shooter",name:"Six Shooter",flavorText:"Drawn quickly.",rarity:"rough",imagePath:"assets/sketches/six_shooter.jpg",stats:{maxHp:new f(6e3),attack:new f(600),attackSpeed:1200,multiStrikeChance:new f(450)},rewards:[{statName:"MultiStrikeChance",amount:new f(.06)},{statName:"ATK",amount:new f(3)}],currencyRewards:[{name:"Graphite",amount:new f(6e3)},{name:"Marker",amount:new f(.6)}]},{id:"squirtel",name:"Squirtel (*)",flavorText:"Shell is too small.",rarity:"framed",imagePath:"assets/sketches/squirtel.jpg",stats:{maxHp:new f(6e9),attack:new f(15e5),attackSpeed:1500},rewards:[]},{id:"floating_eye",name:"Floating Eye",flavorText:"Anatomy that stares back.",rarity:"scrap",imagePath:"assets/sketches/floating_eye.jpg",stats:{maxHp:new f(1e3),attack:new f(300),attackSpeed:4200,accuracy:new f(100),glancingBlow:new f(100)},rewards:[{statName:"CritChance",amount:new f(.01)},{statName:"GlancingBlow",amount:new f(.005)}],currencyRewards:[{name:"Ink",amount:new f(2)}]},{id:"kakushi",name:"Kakushi",flavorText:"Copied this technique perfectly.",rarity:"framed",imagePath:"assets/sketches/kakushi.jpg",stats:{maxHp:new f(7e4),attack:new f(1800),attackSpeed:500,dodge:new f(75),hypnotizeChance:new f(75)},rewards:[{statName:"ATK",amount:new f(7.5)},{statName:"Dodge",amount:new f(.003)}],currencyRewards:[{name:"Ink",amount:new f(75)},{name:"Marker",amount:new f(7.5)}]},{id:"spaghetti_medusa",name:"Spaghetti Medusa",flavorText:"Too many lines, no volume.",rarity:"scrap",imagePath:"assets/sketches/spaghetti_medusa.jpg",stats:{maxHp:new f(3e3),attack:new f(100),attackSpeed:400,armorPen:new f(30)},rewards:[{statName:"ArmorPen",amount:new f(1)},{statName:"ATK",amount:new f(3)}],currencyRewards:[{name:"Wax",amount:new f(300)},{name:"Coffee",amount:new f(30)}]},{id:"great_wave_of_kanagawa",name:"Great Wave of Kanagawa (*)",flavorText:"Jiu Jitsu Logo?",rarity:"masterpiece",imagePath:"assets/sketches/great_wave_of_kanagawa.jpg",stats:{maxHp:new f(3e10),attack:new f(25e6),attackSpeed:4500},rewards:[]},{id:"crumpled_golem",name:"Crumpled Golem",flavorText:"Crushed and hardened.",rarity:"scrap",imagePath:"assets/sketches/crumpled_golem.jpg",stats:{maxHp:new f(5e3),attack:new f(175),attackSpeed:3e3,armor:new f(250)},rewards:[{statName:"Armor",amount:new f(1)},{statName:"HP",amount:new f(100)}],currencyRewards:[{name:"Graphite",amount:new f(500)},{name:"Charcoal",amount:new f(25)}]},{id:"viking_longship",name:"Viking Longship",flavorText:"Carved for conquest.",rarity:"rough",imagePath:"assets/sketches/viking_longship.jpg",stats:{maxHp:new f(15e3),attack:new f(4e3),attackSpeed:3400,minDamage:new f(150),maxDamage:new f(400)},rewards:[{statName:"MinDamage",amount:new f(.4)},{statName:"MaxDamage",amount:new f(.4)}],currencyRewards:[{name:"Graphite",amount:new f(4e3)},{name:"Charcoal",amount:new f(400)}]},{id:"tronp",name:"Tronp (*)",flavorText:"Tremendous shading. The best.",rarity:"opus",imagePath:"assets/sketches/tronp.jpg",stats:{maxHp:new f(2e10),attack:new f(55e5),attackSpeed:1100},rewards:[]},{id:"hatch_wolf",name:"Hatch-Wolf",flavorText:"Hungry lines.",rarity:"scrap",imagePath:"assets/sketches/hatch_wolf.jpg",stats:{maxHp:new f(2500),attack:new f(500),attackSpeed:1500,lifesteal:new f(50)},rewards:[{statName:"Lifesteal",amount:new f(.01)},{statName:"CritDmg",amount:new f(1)}],currencyRewards:[{name:"Charcoal",amount:new f(200)},{name:"Ink",amount:new f(5)}]},{id:"eldritch_tentacles",name:"Eldritch Tentacles",flavorText:"Shading non-Euclidean geometry.",rarity:"rough",imagePath:"assets/sketches/eldritch_tentacles.jpg",stats:{maxHp:new f(8e3),attack:new f(800),attackSpeed:800,regen:new f(800)},rewards:[{statName:"Regen",amount:new f(8)}],currencyRewards:[{name:"Ink",amount:new f(80)}]},{id:"crustal_maiden",name:"Crustal Maiden",flavorText:"Swift as the wolves of Icewrack.",rarity:"framed",imagePath:"assets/sketches/crustal_maiden.jpg",stats:{maxHp:new f(1e5),attack:new f(200),attackSpeed:500,frailtyChance:new f(100),freezeChance:new f(100),slowChance:new f(100)},rewards:[{statName:"FreezeChance",amount:new f(.01)},{statName:"FrailtyChance",amount:new f(.01)}],currencyRewards:[{name:"Ink",amount:new f(150)},{name:"Marker",amount:new f(3)}]},{id:"rhinoceros_beetle",name:"Rhinoceros Beetle",flavorText:"Bulletproof ink.",rarity:"scrap",imagePath:"assets/sketches/rhinoceros_beetle.jpg",stats:{maxHp:new f(5e3),attack:new f(1e3),attackSpeed:2750,armor:new f(500),parry:new f(40),parryDmg:new f(40)},rewards:[{statName:"Parry",amount:new f(.01)},{statName:"ParryDmg",amount:new f(.01)}],currencyRewards:[{name:"Graphite",amount:new f(1e3)},{name:"Charcoal",amount:new f(25)}]},{id:"motz",name:"Motz (*)",flavorText:"Composed without erasing.",rarity:"opus",imagePath:"assets/sketches/motz.jpg",stats:{maxHp:new f(22e9),attack:new f(6e6),attackSpeed:800},rewards:[]},{id:"six-fingered_hand",name:"Six-Fingered Hand",flavorText:"Counting is hard.",rarity:"scrap",imagePath:"assets/sketches/six-fingered_hand.jpg",stats:{maxHp:new f(6e3),attack:new f(6e3),attackSpeed:6e3,minDamage:new f(0),maxDamage:new f(6e3)},rewards:[{statName:"ATK",amount:new f(.6)},{statName:"MaxDamage",amount:new f(.6)}],currencyRewards:[{name:"Graphite",amount:new f(6e3)},{name:"Coffee",amount:new f(60)}]},{id:"kagya",name:"Kagya (*)",flavorText:"The progenitor of all sketches.",rarity:"framed",imagePath:"assets/sketches/kagya.jpg",stats:{maxHp:new f(1e10),attack:new f(3e6),attackSpeed:1e3},rewards:[]},{id:"tattered_scarecrow",name:"Tattered Scarecrow",flavorText:"Stuffed with nightmares.",rarity:"rough",imagePath:"assets/sketches/tattered_scarecrow.jpg",stats:{maxHp:new f(1e4),attack:new f(1e4),attackSpeed:1e3,frailtyChance:new f(200)},rewards:[{statName:"FrailtyChance",amount:new f(.01)},{statName:"ATK",amount:new f(2)}],currencyRewards:[{name:"Wax",amount:new f(1e3)},{name:"Marker",amount:new f(1)}]},{id:"tangent_hydra",name:"Tangent Hydra",flavorText:"Lines touch awkwardly.",rarity:"scrap",imagePath:"assets/sketches/tangent_hydra.jpg",stats:{maxHp:new f(16e3),attack:new f(80),attackSpeed:400,bleedChance:new f(100),regen:new f(400)},rewards:[{statName:"BleedChance",amount:new f(.08)},{statName:"Regen",amount:new f(.8)}],currencyRewards:[{name:"Marker",amount:new f(1.6)}]},{id:"night_watch",name:"Night Watch (*)",flavorText:"Now my watch begins.",rarity:"masterpiece",imagePath:"assets/sketches/night_watch.jpg",stats:{maxHp:new f(25e9),attack:new f(2e7),attackSpeed:3500},rewards:[]},{id:"katava",name:"Katava",flavorText:"Insatiable hunger for graphite.",rarity:"framed",imagePath:"assets/sketches/katava.jpg",stats:{maxHp:new f(1e6),attack:new f(2e3),attackSpeed:1e3,bleedChance:new f(90),burnChance:new f(20),burnDamage:new f(2e5),plagueChance:new f(200),hasteChance:new f(20)},rewards:[{statName:"BurnDamage",amount:new f(2)},{statName:"PlagueChance",amount:new f(.02)}],currencyRewards:[{name:"Marker",amount:new f(2e3)}]},{id:"off-center_portrait",name:"Off-Center Portrait",flavorText:"Features don't align.",rarity:"scrap",imagePath:"assets/sketches/off-center_portrait.jpg",stats:{maxHp:new f(13404),attack:new f(512),attackSpeed:451,hinderChance:new f(172)},rewards:[{statName:"ATK",amount:new f(1.72)},{statName:"HinderChance",amount:new f(.01)}],currencyRewards:[{name:"Graphite",amount:new f(5e3)},{name:"Ink",amount:new f(17.2)}]},{id:"flayed_study",name:"Flayed Study",flavorText:"Muscles in wrong spots.",rarity:"scrap",imagePath:"assets/sketches/flayed_study.jpg",stats:{maxHp:new f(1e4),attack:new f(15e3),attackSpeed:3e3,critChance:new f(25),critDmg:new f(200)},rewards:[{statName:"ATK",amount:new f(5)}],currencyRewards:[{name:"Wax",amount:new f(900)},{name:"Marker",amount:new f(1)}]},{id:"the_creation",name:"The Creation (*)",flavorText:"E.T. phone home.",rarity:"masterpiece",imagePath:"assets/sketches/the_creation.jpg",stats:{maxHp:new f(225e8),attack:new f(175e5),attackSpeed:3e3},rewards:[]},{id:"phantom_armor",name:"Phantom Armor",flavorText:"Shading the void inside.",rarity:"rough",imagePath:"assets/sketches/phantom_armor.jpg",stats:{maxHp:new f(2e4),attack:new f(1e3),attackSpeed:2e3,armor:new f(2e3),blockChance:new f(50),blockAmount:new f(2e3)},rewards:[{statName:"BlockChance",amount:new f(.02)},{statName:"BlockAmount",amount:new f(10)}],currencyRewards:[{name:"Coffee",amount:new f(100)},{name:"Ink",amount:new f(80)}]},{id:"podge",name:"Podge (*)",flavorText:"Fresh meat for the portfolio!",rarity:"framed",imagePath:"assets/sketches/podge.jpg",stats:{maxHp:new f(9e9),attack:new f(15e5),attackSpeed:1200},rewards:[]},{id:"the_last_supper",name:"The Last Supper (*)",flavorText:"Judas is late.",rarity:"masterpiece",imagePath:"assets/sketches/the_last_supper.jpg",stats:{maxHp:new f(15e9),attack:new f(1e7),attackSpeed:1500},rewards:[]},{id:"guillotine",name:"Guillotine",flavorText:"The final edit.",rarity:"rough",imagePath:"assets/sketches/guillotine.jpg",stats:{maxHp:new f(1e6),attack:new f(5e4),attackSpeed:5e3,execute:new f(5e4)},rewards:[{statName:"ATK",amount:new f(2)},{statName:"Execute",amount:new f(2)}],currencyRewards:[{name:"Graphite",amount:new f(1e4)},{name:"Ink",amount:new f(150)}]},{id:"vanishing_pointless",name:"Vanishing Pointless",flavorText:"Geometry that hurts.",rarity:"scrap",imagePath:"assets/sketches/vanishing_pointless.jpg",stats:{maxHp:new f(7e4),attack:new f(700),attackSpeed:700,hypnotizeChance:new f(700),execute:new f(7e3),hasteChance:new f(700)},rewards:[{statName:"HP",amount:new f(300)},{statName:"HypnotizeChance",amount:new f(.007)}],currencyRewards:[{name:"Charcoal",amount:new f(700)}]},{id:"itchygo",name:"Itchygo (*)",flavorText:"Bankai requires a wider canvas.",rarity:"framed",imagePath:"assets/sketches/itchygo.jpg",stats:{maxHp:new f(7e9),attack:new f(23e5),attackSpeed:900},rewards:[]},{id:"pocket_poser",name:"Pocket Poser",flavorText:"Hands are hard to draw.",rarity:"scrap",imagePath:"assets/sketches/pocket_poser.jpg",stats:{maxHp:new f(5e4),attack:new f(3e3),attackSpeed:1e3,multiStrikeChance:new f(50)},rewards:[{statName:"ATK",amount:new f(5)},{statName:"MultiStrikeChance",amount:new f(.05)}],currencyRewards:[{name:"Graphite",amount:new f(500)},{name:"Coffee",amount:new f(50)}]},{id:"kahn",name:"Kahn (*)",flavorText:"Scourge of the sketchbook.",rarity:"opus",imagePath:"assets/sketches/kahn.jpg",stats:{maxHp:new f(25e9),attack:new f(7e6),attackSpeed:700},rewards:[]},{id:"birth_of_venus",name:"Birth of Venus (*)",flavorText:"She's nude, but make it art.",rarity:"masterpiece",imagePath:"assets/sketches/birth_of_venus.jpg",stats:{maxHp:new f(1e10),attack:new f(5e6),attackSpeed:1200},rewards:[]},{id:"rigid_drake",name:"Rigid Drake",flavorText:"Forgot the line of action.",rarity:"scrap",imagePath:"assets/sketches/rigid_drake.jpg",stats:{maxHp:new f(3e4),attack:new f(12e3),attackSpeed:2e3,armor:new f(5e3),armorPen:new f(200),hinderChance:new f(200)},rewards:[{statName:"ArmorPen",amount:new f(3)},{statName:"HinderChance",amount:new f(.01)}],currencyRewards:[{name:"Wax",amount:new f(1500)},{name:"Ink",amount:new f(75)}]},{id:"vintage_biplane",name:"Vintage Biplane",flavorText:"Flight without feathers.",rarity:"rough",imagePath:"assets/sketches/vintage_biplane.jpg",stats:{maxHp:new f(190300),attack:new f(1903),attackSpeed:1903,maxDamage:new f(1903),slowChance:new f(1903),hasteChance:new f(1903)},rewards:[{statName:"SlowChance",amount:new f(.01)},{statName:"HasteChance",amount:new f(.01)}],currencyRewards:[{name:"Graphite",amount:new f(19030)},{name:"Marker",amount:new f(190.3)}]},{id:"charzard",name:"Charzard (*)",flavorText:"Not a dragon, just a lizard.",rarity:"framed",imagePath:"assets/sketches/charzard.jpg",stats:{maxHp:new f(45e8),attack:new f(25e5),attackSpeed:2e3},rewards:[]},{id:"concrete_wraith",name:"Concrete Wraith",flavorText:"Fabric as hard as rock.",rarity:"scrap",imagePath:"assets/sketches/concrete_wraith.jpg",stats:{maxHp:new f(5e4),attack:new f(1e3),attackSpeed:300,dodge:new f(60),blockChance:new f(50),blockAmount:new f(1e4)},rewards:[{statName:"SPD",amount:new f(-2)}],currencyRewards:[{name:"Graphite",amount:new f(3e3)},{name:"Marker",amount:new f(20)}]},{id:"crystal_dragon",name:"Crystal Dragon",flavorText:"Every facet needs a highlight.",rarity:"rough",imagePath:"assets/sketches/crystal_dragon.jpg",stats:{maxHp:new f(19e5),attack:new f(4500),attackSpeed:190,armor:new f(1900),freezeChance:new f(1900),slowChance:new f(190)},rewards:[{statName:"FreezeChance",amount:new f(.01)},{statName:"Armor",amount:new f(1.9)}],currencyRewards:[{name:"Graphite",amount:new f(19e3)},{name:"Marker",amount:new f(190)}]},{id:"sauske",name:"Sauske (*)",flavorText:"Dark shading suits him best.",rarity:"framed",imagePath:"assets/sketches/sauske.jpg",stats:{maxHp:new f(65e8),attack:new f(22e5),attackSpeed:600},rewards:[]},{id:"the_scream",name:"The Scream (*)",flavorText:"Existential dread.",rarity:"masterpiece",imagePath:"assets/sketches/the_scream.jpg",stats:{maxHp:new f(125e8),attack:new f(75e5),attackSpeed:1e3},rewards:[]},{id:"stubby_brawler",name:"Stubby Brawler",flavorText:"Depth calculation failed.",rarity:"scrap",imagePath:"assets/sketches/stubby_brawler.jpg",stats:{maxHp:new f(1e6),attack:new f(5e3),attackSpeed:500,absorb:new f(50)},rewards:[{statName:"ATK",amount:new f(15)},{statName:"SPD",amount:new f(-1.5)}],currencyRewards:[{name:"Graphite",amount:new f(2e4)}]},{id:"teslah",name:"Teslah (*)",flavorText:"Alternating Current... of creativity.",rarity:"opus",imagePath:"assets/sketches/teslah.jpg",stats:{maxHp:new f(16e9),attack:new f(7e6),attackSpeed:900,multiStrikeChance:new f(50)},rewards:[],currencyRewards:[]},{id:"trebuchet",name:"Trebuchet",flavorText:"The superior siege engine.",rarity:"rough",imagePath:"assets/sketches/trebuchet.jpg",stats:{maxHp:new f(15e5),attack:new f(5e4),attackSpeed:1e4,armor:new f(5e4),minDamage:new f(2e3),maxDamage:new f(2e4),armorPen:new f(50)},rewards:[{statName:"ATK",amount:new f(25)}],currencyRewards:[{name:"Charcoal",amount:new f(5e3)},{name:"Marker",amount:new f(200)}]},{id:"muddy_elemental",name:"Muddy Elemental",flavorText:"Over-blended into grey slop.",rarity:"scrap",imagePath:"assets/sketches/muddy_elemental.jpg",stats:{maxHp:new f(1e4),attack:new f(25e3),attackSpeed:2e3,absorb:new f(99.99),slowChance:new f(250)},rewards:[{statName:"SlowChance",amount:new f(.01)},{statName:"Absorb",amount:new f(.001)}],currencyRewards:[{name:"Wax",amount:new f(1e4)},{name:"Marker",amount:new f(100)}]},{id:"napo",name:"Napo (*)",flavorText:"Exiled to the portfolio.",rarity:"opus",imagePath:"assets/sketches/napo.jpg",stats:{maxHp:new f(24e9),attack:new f(65e5),attackSpeed:1300},rewards:[]},{id:"charred_bust",name:"Charred Bust",flavorText:"Shading burned the marble.",rarity:"scrap",imagePath:"assets/sketches/charred_bust.jpg",stats:{maxHp:new f(75e4),attack:new f(1750),attackSpeed:750,burnChance:new f(175),burnDamage:new f(2500),opacity:new f(75)},rewards:[{statName:"Opacity",amount:new f(.01)}],currencyRewards:[{name:"Graphite",amount:new f(1e4)},{name:"Wax",amount:new f(1e4)}]},{id:"injoker",name:"Injoker (*)",flavorText:"So much ego in one sketch.",rarity:"framed",imagePath:"assets/sketches/injoker.jpg",stats:{maxHp:new f(75e8),attack:new f(3e6),attackSpeed:1e3},rewards:[]},{id:"the_kiss",name:"The Kiss (*)",flavorText:"So much gold.",rarity:"masterpiece",imagePath:"assets/sketches/the_kiss.jpg",stats:{maxHp:new f(275e8),attack:new f(225e5),attackSpeed:4e3},rewards:[]},{id:"broken_astronaut",name:"Broken Astronaut",flavorText:"In space, no one can see you smudge.",rarity:"rough",imagePath:"assets/sketches/broken_astronaut.jpg",stats:{maxHp:new f(11e5),attack:new f(11e3),attackSpeed:800,armor:new f(14e4),lifesteal:new f(44),curseChance:new f(110)},rewards:[{statName:"Lifesteal",amount:new f(.01)},{statName:"Armor",amount:new f(11)}],currencyRewards:[{name:"Wax",amount:new f(11e4)},{name:"Ink",amount:new f(110)}]},{id:"lead_goblet",name:"Lead Goblet",flavorText:"Glass shouldn't cast a shadow.",rarity:"scrap",imagePath:"assets/sketches/lead_goblet.jpg",stats:{maxHp:new f(35e5),attack:new f(3500),attackSpeed:750,frailtyChance:new f(750),armorPen:new f(350),armor:new f(3500)},rewards:[{statName:"FrailtyChance",amount:new f(.01)},{statName:"ArmorPen",amount:new f(15)}],currencyRewards:[{name:"Charcoal",amount:new f(3500)},{name:"Acrylic",amount:new f(3.5)}]},{id:"el_viz",name:"El Viz (*)",flavorText:"A little less conversation, a little more action lines.",rarity:"opus",imagePath:"assets/sketches/el_viz.jpg",stats:{maxHp:new f(15e9),attack:new f(8e6),attackSpeed:1200},rewards:[],currencyRewards:[]},{id:"tiny_head_titan",name:"Tiny-Head Titan",flavorText:"All brawn, 1% brain.",rarity:"scrap",imagePath:"assets/sketches/tiny-head_titan.jpg",stats:{maxHp:new f(5e6),attack:new f(1e5),attackSpeed:3e3,execute:new f(300)},rewards:[{statName:"Execute",amount:new f(3)},{statName:"ATK",amount:new f(30)}],currencyRewards:[{name:"Wax",amount:new f(3e4)},{name:"Ink",amount:new f(300)}]},{id:"negative_void",name:"Negative Void",flavorText:"Defined by what isn't there.",rarity:"rough",imagePath:"assets/sketches/negative_void.jpg",stats:{maxHp:new f(8e6),attack:new f(8e4),attackSpeed:800,dodge:new f(80),freezeChance:new f(800),hinderChance:new f(800)},rewards:[]},{id:"accessory_assassin",name:"Accessory Assassin",flavorText:"Pouches hiding poor anatomy.",rarity:"scrap",imagePath:"assets/sketches/accessory_assassin.jpg",stats:{maxHp:new f(25e5),attack:new f(2500),attackSpeed:250,dodge:new f(25),critChance:new f(25),critDmg:new f(250),bleedChance:new f(50),poisonChance:new f(25),remedy:new f(25)},rewards:[{statName:"ATK",amount:new f(10)},{statName:"Remedy",amount:new f(.01)}],currencyRewards:[{name:"Coffee",amount:new f(250)},{name:"Marker",amount:new f(150)}]},{id:"hyper_focus_eye",name:"Hyper-Focus Eye",flavorText:"Spent 10 hours on the pupil.",rarity:"scrap",imagePath:"assets/sketches/hyper_focus_eye.jpg",stats:{maxHp:new f(999e3),attack:new f(999),attackSpeed:900,hypnotizeChance:new f(900),glancingBlow:new f(90),regen:new f(9999)},rewards:[{statName:"Regen",amount:new f(90)},{statName:"GlancingBlow",amount:new f(.09)}],currencyRewards:[{name:"Marker",amount:new f(900)},{name:"Acrylic",amount:new f(9)}]},{id:"girl_with_a_pearl_earring",name:"Girl with a Pearl Earring (*)",flavorText:"She's looking at you.",rarity:"masterpiece",imagePath:"assets/sketches/girl_with_a_pearl_earring.jpg",stats:{maxHp:new f(175e8),attack:new f(125e5),attackSpeed:2e3},rewards:[]},{id:"mismatched_reflection",name:"Mismatched Reflection",flavorText:"Physics left the room.",rarity:"scrap",imagePath:"assets/sketches/mismatched_reflection.jpg",stats:{maxHp:new f(5e6),attack:new f(5e4),attackSpeed:5e3,parry:new f(50),parryDmg:new f(50),counter:new f(100)},rewards:[{statName:"Parry",amount:new f(.01)},{statName:"ParryDmg",amount:new f(.1)}],currencyRewards:[{name:"Graphite",amount:new f(25e3)},{name:"Coffee",amount:new f(500)}]},{id:"steam_locomotive",name:"Steam Locomotive (*)",flavorText:"Unstoppable momentum.",rarity:"rough",imagePath:"assets/sketches/steam_locomotive.jpg",stats:{maxHp:new f(5e6),attack:new f(5e3),attackSpeed:1500,armor:new f(5e6),burnChance:new f(500),burnDamage:new f(500)},rewards:[{statName:"BurnDamage",amount:new f(2)},{statName:"Armor",amount:new f(15)}],currencyRewards:[{name:"Wax",amount:new f(5e4)},{name:"Charcoal",amount:new f(1e4)}]},{id:"cracked_egg",name:"Cracked Egg",flavorText:"Not quite ready to hatch.",rarity:"scrap",imagePath:"assets/sketches/cracked_egg.jpg",stats:{maxHp:new f(25e5),attack:new f(25e3),attackSpeed:2e3,armor:new f(5e4),regen:new f(5e4),poisonChance:new f(500)},rewards:[{statName:"PoisonChance",amount:new f(.001)}],currencyRewards:[{name:"Wax",amount:new f(25e3)},{name:"Ink",amount:new f(500)}]},{id:"paper_airplane",name:"Paper Airplane",flavorText:"Aerodynamics are overrated.",rarity:"scrap",imagePath:"assets/sketches/paper_airplane.jpg",stats:{maxHp:new f(35e5),attack:new f(35e3),attackSpeed:350,dodge:new f(35),accuracy:new f(35),hasteChance:new f(35)},rewards:[{statName:"Accuracy",amount:new f(.01)},{statName:"HasteChance",amount:new f(.01)}],currencyRewards:[{name:"Charcoal",amount:new f(3500)},{name:"Marker",amount:new f(350)}]},{id:"abe_linkin",name:"Abe Linkin (*)",flavorText:"Four scores and seven sketches ago.",rarity:"opus",imagePath:"assets/sketches/abe_linkin.jpg",stats:{maxHp:new f(25e9),attack:new f(55e5),attackSpeed:1500},rewards:[],currencyRewards:[]},{id:"soda_tab",name:"Soda Tab",flavorText:"Armor for a mouse.",rarity:"scrap",imagePath:"assets/sketches/soda_tab.jpg",stats:{maxHp:new f(2e6),attack:new f(2e5),attackSpeed:2e3,armor:new f(2e5),counter:new f(80),absorb:new f(20)},rewards:[{statName:"Armor",amount:new f(20)}],currencyRewards:[{name:"Charcoal",amount:new f(5e3)},{name:"Ink",amount:new f(800)}]},{id:"cool_s",name:"Cool S",flavorText:"Universal language of boredom.",rarity:"scrap",imagePath:"assets/sketches/cool_s.jpg",stats:{maxHp:new f(75e4),attack:new f(75e3),attackSpeed:750,critChance:new f(75),critDmg:new f(750),freezeChance:new f(750),multiStrikeChance:new f(75)},rewards:[{statName:"CritChance",amount:new f(.01)},{statName:"CritDmg",amount:new f(.75)}],currencyRewards:[{name:"Wax",amount:new f(75e3)},{name:"Marker",amount:new f(750)}]},{id:"iron_anvil",name:"Iron Anvil (*)",flavorText:"Forged in heavy lines.",rarity:"rough",imagePath:"assets/sketches/iron_anvil.jpg",stats:{maxHp:new f(2e4),attack:new f(6e3),attackSpeed:3500,armorPen:new f(100)},rewards:[],currencyRewards:[]},{id:"cleopattern",name:"Cleopattern (*)",flavorText:"Queen of the Lines.",rarity:"opus",imagePath:"assets/sketches/cleopattern.jpg",stats:{maxHp:new f(18e9),attack:new f(45e5),attackSpeed:800,hypnotizeChance:new f(100)},rewards:[],currencyRewards:[]},{id:"dark_shader",name:"Dark Shader (*)",flavorText:"I find your lack of contrast disturbing.",rarity:"framed",imagePath:"assets/sketches/dark_shader.jpg",stats:{maxHp:new f(85e8),attack:new f(3e6),attackSpeed:1200,hinderChance:new f(200)},rewards:[],currencyRewards:[]},{id:"wobbly_stool",name:"Wobbly Stool",flavorText:"Unstable foundation.",rarity:"scrap",imagePath:"assets/sketches/wobbly_stool.jpg",stats:{maxHp:new f(3e6),attack:new f(3e5),attackSpeed:3e3,hinderChance:new f(300),multiStrikeChance:new f(200),slowChance:new f(300)},rewards:[{statName:"MultiStrikeChance",amount:new f(.03)},{statName:"SlowChance",amount:new f(.015)}],currencyRewards:[{name:"Charcoal",amount:new f(3e3)},{name:"Acrylic",amount:new f(15)}]},{id:"loading_bar",name:"Loading Bar",flavorText:"Stuck at 99%.",rarity:"scrap",imagePath:"assets/sketches/loading_bar.jpg",stats:{maxHp:new f(9999e3),attack:new f(99990),attackSpeed:999,hinderChance:new f(99),opacity:new f(99),slowChance:new f(999)},rewards:[{statName:"HinderChance",amount:new f(.009)},{statName:"Opacity",amount:new f(.009)}],currencyRewards:[{name:"Wax",amount:new f(99999)},{name:"Ink",amount:new f(999)}]},{id:"goukuh",name:"Goukuh (*)",flavorText:"Power level over 9000 strokes.",rarity:"framed",imagePath:"assets/sketches/goukuh.jpg",stats:{maxHp:new f(75e8),attack:new f(25e5),attackSpeed:400,critChance:new f(50),critDmg:new f(500)},rewards:[],currencyRewards:[]},{id:"melted_candle",name:"Melted Candle",flavorText:"Burning at both ends.",rarity:"scrap",imagePath:"assets/sketches/melted_candle.jpg",stats:{maxHp:new f(7e6),attack:new f(7e4),absorb:new f(95),attackSpeed:1400,burnChance:new f(70),burnDamage:new f(7e4)},rewards:[{statName:"BurnChance",amount:new f(.007)},{statName:"BurnDamage",amount:new f(7)}],currencyRewards:[{name:"Charcoal",amount:new f(7e3)},{name:"Acrylic",amount:new f(7)}]},{id:"petrified_heart",name:"Petrified Heart (*)",flavorText:"No blood, only dust.",rarity:"rough",imagePath:"assets/sketches/petrified_heart.jpg",stats:{maxHp:new f(25e3),attack:new f(500),attackSpeed:3e3,armor:new f(300)},rewards:[],currencyRewards:[]},{id:"bent_nail",name:"Bent Nail",flavorText:"Hammered wrong.",rarity:"scrap",imagePath:"assets/sketches/bent_nail.jpg",stats:{maxHp:new f(7e6),attack:new f(12e4),attackSpeed:1200,dodge:new f(80),bleedChance:new f(120)},rewards:[{statName:"HP",amount:new f(250)},{statName:"ATK",amount:new f(25)}],currencyRewards:[{name:"Coffee",amount:new f(700)},{name:"Acrylic",amount:new f(12)}]},{id:"torn_page",name:"Torn Page",flavorText:"Half the story is missing.",rarity:"scrap",imagePath:"assets/sketches/torn_page.jpg",stats:{maxHp:new f(2e6),attack:new f(5e5),attackSpeed:1500,dodge:new f(60),multiStrikeChance:new f(175),remedy:new f(100)},rewards:[{statName:"Remedy",amount:new f(.01)},{statName:"MultiStrikeChance",amount:new f(.02)}],currencyRewards:[{name:"Graphite",amount:new f(1e5)},{name:"Wax",amount:new f(1e5)}]},{id:"leaking_pen",name:"Leaking Pen",flavorText:"A messy casualty.",rarity:"scrap",imagePath:"assets/sketches/leaking_pen.jpg",stats:{maxHp:new f(12e6),attack:new f(30),attackSpeed:600,armor:new f(6e5),poisonChance:new f(300),plagueChance:new f(12e3)},rewards:[{statName:"PlagueChance",amount:new f(.03)}],currencyRewards:[{name:"Ink",amount:new f(1200)}]},{id:"the_thinker",name:"The Thinker (*)",flavorText:"I sketch, therefore I am.",rarity:"masterpiece",imagePath:"assets/sketches/the_thinker.jpg",stats:{maxHp:new f(3e10),attack:new f(8e6),attackSpeed:3e3,critChance:new f(100),critDmg:new f(500)},rewards:[],currencyRewards:[]},{id:"loose_button",name:"Loose Button",flavorText:"Holding it all together.",rarity:"scrap",imagePath:"assets/sketches/loose_button.jpg",stats:{maxHp:new f(1e8),attack:new f(1e6),attackSpeed:2500,blockChance:new f(98),blockAmount:new f(1e10)},rewards:[{statName:"BlockAmount",amount:new f(100)}],currencyRewards:[{name:"Charcoal",amount:new f(2e4)},{name:"Acrylic",amount:new f(20)}]},{id:"lonk",name:"Lonk (*)",flavorText:"It's dangerous to draw alone.",rarity:"framed",imagePath:"assets/sketches/lonk.jpg",stats:{maxHp:new f(8e9),attack:new f(28e5),attackSpeed:1e3,blockChance:new f(40),blockAmount:new f(1e6)},rewards:[],currencyRewards:[]},{id:"broken_spectacles",name:"Broken Spectacles",flavorText:"Blurry vision.",rarity:"scrap",imagePath:"assets/sketches/broken_spectacles.jpg",stats:{maxHp:new f(25e6),attack:new f(25e4),attackSpeed:1e3,critChance:new f(15),critDmg:new f(1500),hinderChance:new f(150),frailtyChance:new f(1500)},rewards:[{statName:"HinderChance",amount:new f(.002)},{statName:"FrailtyChance",amount:new f(.02)}],currencyRewards:[{name:"Graphite",amount:new f(1e5)},{name:"Marker",amount:new f(1e3)}]},{id:"ceezar",name:"Ceezar (*)",flavorText:"Et tu, Brushte?",rarity:"opus",imagePath:"assets/sketches/ceezar.jpg",stats:{maxHp:new f(22e9),attack:new f(6e6),attackSpeed:1e3},rewards:[],currencyRewards:[]},{id:"spiked_shield",name:"Spiked Shield (*)",flavorText:"Defense is the best offense.",rarity:"rough",imagePath:"assets/sketches/spiked_shield.jpg",stats:{maxHp:new f(15e3),attack:new f(1e3),attackSpeed:2e3,blockChance:new f(60),blockAmount:new f(5e3),counter:new f(100)},rewards:[],currencyRewards:[]},{id:"tangled_earbuds",name:"Tangled Earbuds",flavorText:"The pocket dimension knot.",rarity:"scrap",imagePath:"assets/sketches/tangled_earbuds.jpg",stats:{maxHp:new f(9e7),attack:new f(13e4),attackSpeed:500,hinderChance:new f(300),slowChance:new f(500),hypnotizeChance:new f(300)},rewards:[{statName:"HinderChance",amount:new f(.003)},{statName:"HypnotizeChance",amount:new f(.003)}],currencyRewards:[{name:"Charcoal",amount:new f(3e4)},{name:"Marker",amount:new f(1300)}]},{id:"wolly",name:"Wolly (*)",flavorText:"Compacting the wastebasket.",rarity:"framed",imagePath:"assets/sketches/wolly.jpg",stats:{maxHp:new f(1e10),attack:new f(15e5),attackSpeed:2e3,regen:new f(5e4),armor:new f(1e3)},rewards:[],currencyRewards:[]},{id:"burnt_match",name:"Burnt Match (*)",flavorText:"One hit wonder.",rarity:"scrap",imagePath:"assets/sketches/burnt_match.jpg",stats:{maxHp:new f(100),attack:new f(200),attackSpeed:500,burnChance:new f(100),burnDamage:new f(500),execute:new f(50)},rewards:[],currencyRewards:[]},{id:"mimic_chest",name:"Mimic Chest (*)",flavorText:"The loot bites back.",rarity:"rough",imagePath:"assets/sketches/mimic_chest.jpg",stats:{maxHp:new f(12e3),attack:new f(4500),attackSpeed:1e3,lifesteal:new f(50)},rewards:[],currencyRewards:[]},{id:"eraser_dust_bunny",name:"Eraser Dust Bunny (*)",flavorText:"Made of mistakes.",rarity:"scrap",imagePath:"assets/sketches/eraser_dust_bunny.jpg",stats:{maxHp:new f(1500),attack:new f(10),attackSpeed:3e3,regen:new f(5),glancingBlow:new f(50)},rewards:[],currencyRewards:[]},{id:"railgun_turret",name:"Railgun Turret (*)",flavorText:"Heavy industrial perspective.",rarity:"rough",imagePath:"assets/sketches/railgun_turret.jpg",stats:{maxHp:new f(22e9),attack:new f(5e6),attackSpeed:2500},rewards:[]},{id:"grid_locked_face",name:"Grid-Locked Face (*)",flavorText:"Trapped by construction lines.",rarity:"scrap",imagePath:"assets/sketches/grid-locked_face.jpg",stats:{maxHp:new f(25e7),attack:new f(25e4),attackSpeed:1500},rewards:[]},{id:"alburt",name:"Alburt (*)",flavorText:"Relatively difficult to draw.",rarity:"opus",imagePath:"assets/sketches/alburt.jpg",stats:{maxHp:new f(28e9),attack:new f(75e5),attackSpeed:1600},rewards:[]},{id:"haunted_metronome",name:"Haunted Metronome (*)",flavorText:"Keeping time for the dead.",rarity:"rough",imagePath:"assets/sketches/haunted_metronome.jpg",stats:{maxHp:new f(8e3),attack:new f(2e3),attackSpeed:400,hasteChance:new f(200)},rewards:[],currencyRewards:[]},{id:"scratch_plate_sentinel",name:"Scratch-Plate Sentinel (*)",flavorText:"Armor forged from scribbles.",rarity:"scrap",imagePath:"assets/sketches/scratch-plate_sentinel.jpg",stats:{maxHp:new f(3e8),attack:new f(15e4),attackSpeed:600},rewards:[]},{id:"demon_hand",name:"Demon Hand (*)",flavorText:"Contrast between claw and glass.",rarity:"rough",imagePath:"assets/sketches/demon_hand.jpg",stats:{maxHp:new f(175e8),attack:new f(4e6),attackSpeed:1300},rewards:[]},{id:"mirror_twin",name:"Mirror Twin (*)",flavorText:"Nature isn't this perfect.",rarity:"scrap",imagePath:"assets/sketches/mirror_twin.jpg",stats:{maxHp:new f(7e8),attack:new f(45e4),attackSpeed:1800},rewards:[],currencyRewards:[{name:"Spray",amount:new f(1)}]},{id:"payne",name:"Payne (*)",flavorText:"This world shall know Art.",rarity:"framed",imagePath:"assets/sketches/payne.jpg",stats:{maxHp:new f(8e9),attack:new f(25e5),attackSpeed:1200},rewards:[]},{id:"burnished_wyvern",name:"Burnished Wyvern (*)",flavorText:"Scales on scales on scales.",rarity:"rough",imagePath:"assets/sketches/burnished_wyvern.jpg",stats:{maxHp:new f(12e8),attack:new f(6e5),attackSpeed:3e3},rewards:[]},{id:"lash_bug_eye",name:"Lash-Bug Eye (*)",flavorText:"Spiders on the eyelids.",rarity:"scrap",imagePath:"assets/sketches/lash-bug_eye.jpg",stats:{maxHp:new f(2e8),attack:new f(2e5),attackSpeed:1e3},rewards:[]},{id:"starry_night",name:"Starry Night (*)",flavorText:"The sky is moving.",rarity:"masterpiece",imagePath:"assets/sketches/starry_night.jpg",stats:{maxHp:new f(75e8),attack:new f(3e6),attackSpeed:800},rewards:[]},{id:"cursed_marionette",name:"Cursed Marionette (*)",flavorText:"Who is pulling the strings?",rarity:"rough",imagePath:"assets/sketches/cursed_marionette.jpg",stats:{maxHp:new f(13e9),attack:new f(35e5),attackSpeed:900,dodge:new f(15)},rewards:[]},{id:"graphite_glare",name:"Graphite Glare (*)",flavorText:"Pressed so hard it reflects light.",rarity:"scrap",imagePath:"assets/sketches/graphite_glare.jpg",stats:{maxHp:new f(12e8),attack:new f(6e5),attackSpeed:3e3},rewards:[]},{id:"sharper",name:"Sharper (*)",flavorText:"Reshaping the Atlas.",rarity:"framed",imagePath:"assets/sketches/sharper.jpg",stats:{maxHp:new f(12e9),attack:new f(38e5),attackSpeed:1400},rewards:[]},{id:"persistence_of_memory",name:"Persistence of Memory (*)",flavorText:"Time is melting.",rarity:"masterpiece",imagePath:"assets/sketches/persistence_of_memory.jpg",stats:{maxHp:new f(2e10),attack:new f(15e6),attackSpeed:2500},rewards:[]},{id:"vinchy",name:"Vinchy (*)",flavorText:"The original sketch artist.",rarity:"opus",imagePath:"assets/sketches/vinchy.jpg",stats:{maxHp:new f(3e10),attack:new f(8e6),attackSpeed:1400},rewards:[]},{id:"mona_lisa",name:"Mona Lisa (*)",flavorText:"Her smile is unsettling.",rarity:"masterpiece",imagePath:"assets/sketches/mona_lisa.jpg",stats:{maxHp:new f(5e9),attack:new f(1e6),attackSpeed:3e3},rewards:[]}],va=lt.reduce((t,a)=>(t[a.id]=a,t),{}),a0={diminishingReturns:new f(.9),deathRecovery:10,fleePenalty:5,timeAcceleration:1,lookahead:3,maxVictories:500,generatorMultiplier:1,autoStartOnRedraw:0,overkillMultiplier:0,roughRarity:0,framedRarity:0,opusRarity:0,masterpieceRarity:0,roughSketches:0,framedSketches:0,opusSketches:0,masterpieceSketches:0,attackIncrease:0,hpIncrease:0,regenIncrease:0,armorIncrease:0,dodgeIncrease:0,minDamageIncrease:0,maxDamageIncrease:0,armorPenIncrease:0,lifestealIncrease:0,executeIncrease:0,blockChanceIncrease:0,blockAmountIncrease:0,accuracyIncrease:0,bleedChanceIncrease:0,plagueChanceIncrease:0,burnChanceIncrease:0,burnDamageIncrease:0,electrocuteChanceIncrease:0,curseChanceIncrease:0,speedCap:500,quintessenceGain:0,graphiteUpgradeCost:0,waxUpgradeCost:0,charcoalUpgradeCost:0,coffeeUpgradeCost:0,inkUpgradeCost:0,markerUpgradeCost:0,acrylicUpgradeCost:0,sprayUpgradeCost:0,photonUpgradeCost:0,goldLeafUpgradeCost:0,freeTools:0,autoEnableTools:0,attackDelay:0,graphiteRewardMultiplier:0,waxRewardMultiplier:0,charcoalRewardMultiplier:0,coffeeRewardMultiplier:0,inkRewardMultiplier:0,markerRewardMultiplier:0,acrylicRewardMultiplier:0,sprayRewardMultiplier:0,photonRewardMultiplier:0,goldLeafRewardMultiplier:0,graphiteRewardExponent:0,waxRewardExponent:0,charcoalRewardExponent:0,coffeeRewardExponent:0,inkRewardExponent:0,markerRewardExponent:0,acrylicRewardExponent:0,sprayRewardExponent:0,photonRewardExponent:0,goldLeafRewardExponent:0,graphiteGeneratorMultiplier:1,waxGeneratorMultiplier:1,charcoalGeneratorMultiplier:1,coffeeGeneratorMultiplier:1,inkGeneratorMultiplier:1,markerGeneratorMultiplier:1,acrylicGeneratorMultiplier:1,sprayGeneratorMultiplier:1,photonGeneratorMultiplier:1,goldLeafGeneratorMultiplier:1},Av=[{key:"diminishingReturns",label:"Diminishing Returns",description:"Rewards decrease per victory over same sketch.",format:"multiplier",category:"Core"},{key:"deathRecovery",label:"Death Recovery",description:"Wait time after defeat.",format:"seconds",category:"Core"},{key:"fleePenalty",label:"Flee Penalty",description:"Wait time after fleeing.",format:"seconds",category:"Core"},{key:"timeAcceleration",label:"Time Acceleration",description:"Global speed multiplier.",format:"multiplier",category:"Core"},{key:"lookahead",label:"Lookahead",description:"Visible sketches ahead of progress.",format:"count",category:"Core"},{key:"maxVictories",label:"Max Victories",description:"Victory limit per sketch.",format:"count",category:"Core"},{key:"generatorMultiplier",label:"Generator Power",description:"Multiplier for all generators.",format:"multiplier",category:"Core"},{key:"overkillMultiplier",label:"Overkill",description:"Excess damage can auto-victory next sketch.",format:"percent",category:"Stats"},{key:"freeTools",label:"Free Tools",description:"Tools unlocked on redraw.",format:"count",category:"Core"},{key:"autoEnableTools",label:"Auto-Enable Tools",description:"Tools auto-enabled on redraw.",format:"count",category:"Core"},{key:"roughRarity",label:"Rough Rarity",description:"Chance for Rough sketches.",format:"percent",category:"Rarity"},{key:"framedRarity",label:"Framed Rarity",description:"Chance for Framed sketches.",format:"percent",category:"Rarity"},{key:"opusRarity",label:"Opus Rarity",description:"Chance for Opus sketches.",format:"percent",category:"Rarity"},{key:"masterpieceRarity",label:"Masterpiece Rarity",description:"Chance for Masterpiece sketches.",format:"percent",category:"Rarity"},{key:"roughSketches",label:"Guaranteed Rough",description:"Minimum Rough sketches per Redraw.",format:"count",category:"Rarity"},{key:"framedSketches",label:"Guaranteed Framed",description:"Minimum Framed sketches per Redraw.",format:"count",category:"Rarity"},{key:"opusSketches",label:"Guaranteed Opus",description:"Minimum Opus sketches per Redraw.",format:"count",category:"Rarity"},{key:"masterpieceSketches",label:"Guaranteed Masterpiece",description:"Minimum Masterpiece sketches per Redraw.",format:"count",category:"Rarity"},{key:"attackIncrease",label:"Attack Increase",description:"Bonus ATK percentage.",format:"percent",category:"Stats"},{key:"hpIncrease",label:"HP Increase",description:"Bonus HP percentage.",format:"percent",category:"Stats"},{key:"regenIncrease",label:"Regen Increase",description:"Bonus Regen percentage.",format:"percent",category:"Stats"},{key:"armorIncrease",label:"Armor Increase",description:"Bonus Armor percentage.",format:"percent",category:"Stats"},{key:"dodgeIncrease",label:"Dodge Increase",description:"Bonus Dodge percentage.",format:"percent",category:"Stats"},{key:"minDamageIncrease",label:"Min Damage Increase",description:"Bonus Min Damage percentage.",format:"percent",category:"Stats"},{key:"maxDamageIncrease",label:"Max Damage Increase",description:"Bonus Max Damage percentage.",format:"percent",category:"Stats"},{key:"armorPenIncrease",label:"Armor Pen Increase",description:"Bonus Armor Penetration percentage.",format:"percent",category:"Stats"},{key:"lifestealIncrease",label:"Lifesteal Increase",description:"Bonus Lifesteal percentage.",format:"percent",category:"Stats"},{key:"executeIncrease",label:"Execute Increase",description:"Bonus Execute percentage.",format:"percent",category:"Stats"},{key:"blockChanceIncrease",label:"Block Chance Increase",description:"Bonus Block Chance percentage.",format:"percent",category:"Stats"},{key:"blockAmountIncrease",label:"Block Amount Increase",description:"Bonus Block Amount percentage.",format:"percent",category:"Stats"},{key:"accuracyIncrease",label:"Accuracy Increase",description:"Bonus Accuracy percentage.",format:"percent",category:"Stats"},{key:"bleedChanceIncrease",label:"Bleed Increase",description:"Bonus Bleed Chance percentage.",format:"percent",category:"Stats"},{key:"plagueChanceIncrease",label:"Plague Increase",description:"Bonus Plague Chance percentage.",format:"percent",category:"Stats"},{key:"burnChanceIncrease",label:"Burn Chance Increase",description:"Bonus Burn Chance percentage.",format:"percent",category:"Stats"},{key:"burnDamageIncrease",label:"Burn Damage Increase",description:"Bonus Burn Damage percentage.",format:"percent",category:"Stats"},{key:"electrocuteChanceIncrease",label:"Electrocute Increase",description:"Bonus Electrocute Chance percentage.",format:"percent",category:"Stats"},{key:"curseChanceIncrease",label:"Curse Increase",description:"Bonus Curse Chance percentage.",format:"percent",category:"Stats"},{key:"attackDelay",label:"Attack Speed Bonus",description:"Attack delay reduction.",format:"percent",category:"Stats"},{key:"speedCap",label:"Speed Cap",description:"Minimum attack delay (ms).",format:"count",category:"Stats"},{key:"quintessenceGain",label:"Quintessence Gain",description:"Bonus QE on redraw.",format:"percent",category:"Economy"},{key:"graphiteUpgradeCost",label:"Graphite Cost",description:"Graphite upgrade cost reduction.",format:"percent",category:"Economy"},{key:"waxUpgradeCost",label:"Wax Cost",description:"Wax upgrade cost reduction.",format:"percent",category:"Economy"},{key:"charcoalUpgradeCost",label:"Charcoal Cost",description:"Charcoal upgrade cost reduction.",format:"percent",category:"Economy"},{key:"coffeeUpgradeCost",label:"Coffee Cost",description:"Coffee upgrade cost reduction.",format:"percent",category:"Economy"},{key:"inkUpgradeCost",label:"Ink Cost",description:"Ink upgrade cost reduction.",format:"percent",category:"Economy"},{key:"markerUpgradeCost",label:"Marker Cost",description:"Marker upgrade cost reduction.",format:"percent",category:"Economy"},{key:"acrylicUpgradeCost",label:"Acrylic Cost",description:"Acrylic upgrade cost reduction.",format:"percent",category:"Economy"},{key:"sprayUpgradeCost",label:"Spray Cost",description:"Spray upgrade cost reduction.",format:"percent",category:"Economy"},{key:"photonUpgradeCost",label:"Photon Cost",description:"Photon upgrade cost reduction.",format:"percent",category:"Economy"},{key:"goldLeafUpgradeCost",label:"Gold Leaf Cost",description:"Gold Leaf upgrade cost reduction.",format:"percent",category:"Economy"},{key:"graphiteRewardMultiplier",label:"Graphite Reward",description:"Graphite reward multiplier.",format:"multiplier",category:"Economy"},{key:"waxRewardMultiplier",label:"Wax Reward",description:"Wax reward multiplier.",format:"multiplier",category:"Economy"},{key:"charcoalRewardMultiplier",label:"Charcoal Reward",description:"Charcoal reward multiplier.",format:"multiplier",category:"Economy"},{key:"coffeeRewardMultiplier",label:"Coffee Reward",description:"Coffee reward multiplier.",format:"multiplier",category:"Economy"},{key:"inkRewardMultiplier",label:"Ink Reward",description:"Ink reward multiplier.",format:"multiplier",category:"Economy"},{key:"markerRewardMultiplier",label:"Marker Reward",description:"Marker reward multiplier.",format:"multiplier",category:"Economy"},{key:"acrylicRewardMultiplier",label:"Acrylic Reward",description:"Acrylic reward multiplier.",format:"multiplier",category:"Economy"},{key:"sprayRewardMultiplier",label:"Spray Reward",description:"Spray reward multiplier.",format:"multiplier",category:"Economy"},{key:"photonRewardMultiplier",label:"Photon Reward",description:"Photon reward multiplier.",format:"multiplier",category:"Economy"},{key:"goldLeafRewardMultiplier",label:"Gold Leaf Reward",description:"Gold Leaf reward multiplier.",format:"multiplier",category:"Economy"},{key:"graphiteGeneratorMultiplier",label:"Graphite Overclock",description:"Multiplier for Graphite production.",format:"multiplier",category:"Economy"},{key:"waxGeneratorMultiplier",label:"Wax Overclock",description:"Multiplier for Wax production.",format:"multiplier",category:"Economy"},{key:"charcoalGeneratorMultiplier",label:"Charcoal Overclock",description:"Multiplier for Charcoal production.",format:"multiplier",category:"Economy"},{key:"coffeeGeneratorMultiplier",label:"Coffee Overclock",description:"Multiplier for Coffee production.",format:"multiplier",category:"Economy"},{key:"inkGeneratorMultiplier",label:"Ink Overclock",description:"Multiplier for Ink production.",format:"multiplier",category:"Economy"},{key:"markerGeneratorMultiplier",label:"Marker Overclock",description:"Multiplier for Marker production.",format:"multiplier",category:"Economy"},{key:"acrylicGeneratorMultiplier",label:"Acrylic Overclock",description:"Multiplier for Acrylic production.",format:"multiplier",category:"Economy"},{key:"sprayGeneratorMultiplier",label:"Spray Overclock",description:"Multiplier for Spray production.",format:"multiplier",category:"Economy"},{key:"photonGeneratorMultiplier",label:"Photon Overclock",description:"Multiplier for Photon production.",format:"multiplier",category:"Economy"},{key:"goldLeafGeneratorMultiplier",label:"Gold Leaf Overclock",description:"Multiplier for Gold Leaf production.",format:"multiplier",category:"Economy"}],Wy={rarities:{bg:"bg-amber-50 dark:bg-amber-950/20",border:"border-amber-400 dark:border-amber-800",accent:"text-amber-600 dark:text-amber-400"},stats:{bg:"bg-red-50 dark:bg-red-950/20",border:"border-red-400 dark:border-red-800",accent:"text-red-600 dark:text-red-400"},shop:{bg:"bg-teal-50 dark:bg-teal-950/20",border:"border-teal-500 dark:border-teal-800",accent:"text-teal-700 dark:text-teal-400"},archive:{bg:"bg-purple-50 dark:bg-purple-950/20",border:"border-purple-400 dark:border-purple-800",accent:"text-purple-600 dark:text-purple-400"},fundamentals:{bg:"bg-blue-50 dark:bg-blue-950/20",border:"border-blue-400 dark:border-blue-800",accent:"text-blue-600 dark:text-blue-400"}},Yr=[{id:"root",name:"Rough Beginnings",description:"+1% Rough rarity chance",maxLevel:90,effectPerLevel:1,effectType:"ROUGH_CHANCE",displayFormat:{sign:"+",suffix:"%"},baseCost:10,costMultiplier:10,parentId:null,category:"rarities",position:{x:0,y:0}},{id:"stats-1",name:"Thick Canvas",description:"+1% HP",maxLevel:1e3,effectPerLevel:1,effectType:"HP_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:2,costMultiplier:1.2,parentId:"root",category:"stats",position:{x:0,y:-200}},{id:"stats-2",name:"Bold Strokes",description:"+1% ATK",maxLevel:1e3,effectPerLevel:1,effectType:"ATK_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:3,costMultiplier:1.3,parentId:"stats-1",category:"stats",position:{x:0,y:-400}},{id:"stats-3",name:"Rapid Execution",description:"-0.05% Attack Delay",maxLevel:100,effectPerLevel:.05,effectType:"ATK_SPEED",displayFormat:{sign:"-",suffix:"%"},baseCost:5,costMultiplier:2,parentId:"stats-2",category:"stats",position:{x:-250,y:-400}},{id:"stats-bolder",name:"Bolder Strokes",description:"+2% ATK",maxLevel:1e3,effectPerLevel:2,effectType:"ATK_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:100,costMultiplier:2,parentId:"stats-2",category:"stats",rarityLock:{rarity:"rough",count:10},position:{x:0,y:-600}},{id:"stats-min-dmg",name:"Precision Handling",description:"+1% Min Damage",maxLevel:100,effectPerLevel:1,effectType:"MIN_DAMAGE_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:1e4,costMultiplier:6,parentId:"stats-bolder",category:"stats",rarityLock:{rarity:"framed",count:2},position:{x:-250,y:-600}},{id:"stats-max-dmg",name:"Heavy Hand",description:"+1% Max Damage",maxLevel:200,effectPerLevel:1,effectType:"MAX_DAMAGE_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:1e4,costMultiplier:5,parentId:"stats-bolder",category:"stats",rarityLock:{rarity:"framed",count:1},position:{x:250,y:-600}},{id:"stats-regen",name:"Steady Hand",description:"+0.1% Regen",maxLevel:500,effectPerLevel:.1,effectType:"REGEN_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:5,costMultiplier:2,parentId:"stats-1",category:"stats",rarityLock:{rarity:"rough",count:3},position:{x:-250,y:-200}},{id:"stats-armor",name:"Layering",description:"+0.1% Armor",maxLevel:500,effectPerLevel:.1,effectType:"ARMOR_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:5,costMultiplier:3,parentId:"stats-regen",category:"stats",position:{x:-500,y:-200}},{id:"stats-dodge",name:"Negative Space",description:"+0.1% Dodge",maxLevel:250,effectPerLevel:.1,effectType:"DODGE_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:10,costMultiplier:4,parentId:"stats-armor",category:"stats",rarityLock:{rarity:"framed",count:1},position:{x:-500,y:-400}},{id:"stats-armor-pen",name:"Pierce",description:"+0.1% Armor Pen",maxLevel:500,effectPerLevel:.1,effectType:"ARMOR_PEN_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:10,costMultiplier:4,parentId:"stats-armor",category:"stats",rarityLock:{rarity:"rough",count:12},position:{x:-750,y:-200}},{id:"stats-lifesteal",name:"Siphon",description:"+0.1% Lifesteal",maxLevel:500,effectPerLevel:.1,effectType:"LIFESTEAL_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:25,costMultiplier:5,parentId:"stats-2",category:"stats",rarityLock:{rarity:"rough",count:16},position:{x:250,y:-400}},{id:"stats-execute",name:"Cull",description:"+0.1% Execute",maxLevel:500,effectPerLevel:.1,effectType:"EXECUTE_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:50,costMultiplier:7,parentId:"stats-max-dmg",category:"stats",rarityLock:{rarity:"framed",count:4},position:{x:250,y:-800}},{id:"stats-block-chance",name:"Guard",description:"+0.1% Block Chance",maxLevel:100,effectPerLevel:.1,effectType:"BLOCK_CHANCE_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:100,costMultiplier:7,parentId:"stats-dodge",category:"stats",rarityLock:{rarity:"framed",count:5},position:{x:-750,y:-400}},{id:"stats-block-amount",name:"Fortify",description:"+0.1% Block Amount",maxLevel:500,effectPerLevel:.1,effectType:"BLOCK_AMOUNT_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:100,costMultiplier:7,parentId:"stats-block-chance",category:"stats",position:{x:-1e3,y:-400}},{id:"stats-accuracy",name:"Accuracy Focus",description:"+0.1% Accuracy",maxLevel:100,effectPerLevel:.1,effectType:"ACCURACY_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:1e25,costMultiplier:9,parentId:"stats-execute",category:"stats",rarityLock:{rarity:"framed",count:8},position:{x:250,y:-1e3}},{id:"stats-bleed-chance",name:"Bleed Infusion",description:"+0.1% Bleed Chance",maxLevel:50,effectPerLevel:.1,effectType:"BLEED_CHANCE_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:1e20,costMultiplier:8,parentId:"stats-min-dmg",category:"stats",rarityLock:{rarity:"framed",count:6},position:{x:-250,y:-800}},{id:"stats-plague-chance",name:"Plague Infusion",description:"+0.1% Plague Chance",maxLevel:250,effectPerLevel:.1,effectType:"PLAGUE_CHANCE_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:1e22,costMultiplier:8,parentId:"stats-bleed-chance",category:"stats",position:{x:-250,y:-1e3}},{id:"stats-burn-chance",name:"Burn Infusion",description:"+0.1% Burn Chance",maxLevel:50,effectPerLevel:.1,effectType:"BURN_CHANCE_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:1e24,costMultiplier:8,parentId:"stats-plague-chance",category:"stats",rarityLock:{rarity:"framed",count:7},position:{x:0,y:-1e3}},{id:"stats-burn-dmg",name:"Burn Searing",description:"+0.1% Burn Damage",maxLevel:500,effectPerLevel:.1,effectType:"BURN_DAMAGE_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:1e25,costMultiplier:9,parentId:"stats-burn-chance",category:"stats",position:{x:0,y:-800}},{id:"stats-electro-chance",name:"Electrocute Infusion",description:"+0.1% Electrocute Chance",maxLevel:50,effectPerLevel:.1,effectType:"ELECTROCUTE_CHANCE_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:1e35,costMultiplier:9,parentId:"stats-plague-chance",category:"stats",rarityLock:{rarity:"framed",count:9},position:{x:-250,y:-1200}},{id:"stats-curse-chance",name:"Curse Infusion",description:"+0.1% Curse Chance",maxLevel:50,effectPerLevel:.1,effectType:"CURSE_CHANCE_PERCENT",displayFormat:{sign:"+",suffix:"%"},baseCost:1e36,costMultiplier:11,parentId:"stats-electro-chance",category:"stats",position:{x:0,y:-1200}},{id:"archive-1",name:"Essence Refinement",description:"+0.1% Quintessence gain",maxLevel:1e3,effectPerLevel:.1,effectType:"QUINTESSENCE_GAIN",displayFormat:{sign:"+",suffix:"%"},baseCost:3,costMultiplier:3,parentId:"root",category:"archive",position:{x:-250,y:0}},{id:"rarity-1",name:"Refined Lines",description:"+0.1% Framed chance",maxLevel:750,effectPerLevel:.1,effectType:"FRAMED_CHANCE",displayFormat:{sign:"+",suffix:"%"},baseCost:1e3,costMultiplier:100,parentId:"archive-1",category:"rarities",rarityLock:{rarity:"rough",count:1},position:{x:-500,y:0}},{id:"rarity-rough-q",name:"Rough Abundance",description:"+1 Guaranteed Rough Sketch",maxLevel:10,effectPerLevel:1,effectType:"ROUGH_SKETCHES",displayFormat:{sign:"+",suffix:""},baseCost:1e20,costMultiplier:1e20,parentId:"rarity-1",category:"rarities",rarityLock:{rarity:"rough",count:20},position:{x:-500,y:200}},{id:"rarity-framed-q",name:"Framed Focus",description:"+1 Guaranteed Framed Sketch",maxLevel:7,effectPerLevel:1,effectType:"FRAMED_SKETCHES",displayFormat:{sign:"+",suffix:""},baseCost:1e30,costMultiplier:1e30,parentId:"rarity-rough-q",category:"rarities",rarityLock:{rarity:"framed",count:10},position:{x:-750,y:200}},{id:"rarity-opus-q",name:"Opus Vision",description:"+1 Guaranteed Opus Sketch",maxLevel:5,effectPerLevel:1,effectType:"OPUS_SKETCHES",displayFormat:{sign:"+",suffix:""},baseCost:1e50,costMultiplier:1e50,parentId:"rarity-framed-q",category:"rarities",rarityLock:{rarity:"opus",count:5},position:{x:-1e3,y:200}},{id:"rarity-master-q",name:"Masterpiece Order",description:"+1 Guaranteed Masterpiece Sketch",maxLevel:3,effectPerLevel:1,effectType:"MASTERPIECE_SKETCHES",displayFormat:{sign:"+",suffix:""},baseCost:1e100,costMultiplier:1e100,parentId:"rarity-opus-q",category:"rarities",rarityLock:{rarity:"masterpiece",count:3},position:{x:-1250,y:200}},{id:"rarity-2",name:"Divine Inspiration",description:"+0.025% Opus chance",maxLevel:1e3,effectPerLevel:.025,effectType:"OPUS_CHANCE",displayFormat:{sign:"+",suffix:"%"},baseCost:1e8,costMultiplier:1e3,parentId:"rarity-1",category:"rarities",rarityLock:{rarity:"framed",count:1},position:{x:-750,y:0}},{id:"rarity-3",name:"Masterful Strokes",description:"+0.01% Masterpiece chance",maxLevel:1e3,effectPerLevel:.01,effectType:"MASTERPIECE_CHANCE",displayFormat:{sign:"+",suffix:"%"},baseCost:1618e9,costMultiplier:16180,parentId:"rarity-2",category:"rarities",rarityLock:{rarity:"opus",count:1},position:{x:-1e3,y:0}},{id:"fund-overkill",name:"Divine Retribution",description:"+10% Overkill",maxLevel:10,effectPerLevel:.1,effectType:"OVERKILL_BONUS",displayFormat:{sign:"+",suffix:""},baseCost:1e11,costMultiplier:25,parentId:"fund-4",category:"fundamentals",rarityLock:{rarity:"rough",count:7},position:{x:-250,y:400}},{id:"shop-1",name:"Efficient Shading",description:"-0.1% Graphite cost",maxLevel:500,effectPerLevel:.1,effectType:"GRAPHITE_UPGRADE_COST",displayFormat:{sign:"-",suffix:"%"},baseCost:5,costMultiplier:1.5,parentId:"root",category:"shop",position:{x:250,y:0}},{id:"shop-3",name:"Soft Touch",description:"-0.1% Wax cost",maxLevel:500,effectPerLevel:.1,effectType:"WAX_UPGRADE_COST",displayFormat:{sign:"-",suffix:"%"},baseCost:50,costMultiplier:1.6,parentId:"shop-1",category:"shop",position:{x:250,y:200}},{id:"shop-5",name:"Charcoal Efficiency",description:"-0.1% Charcoal cost",maxLevel:500,effectPerLevel:.1,effectType:"CHARCOAL_UPGRADE_COST",displayFormat:{sign:"-",suffix:"%"},baseCost:500,costMultiplier:1.7,parentId:"shop-3",category:"shop",position:{x:250,y:400}},{id:"shop-8",name:"Caffeine Economy",description:"-0.1% Coffee cost",maxLevel:500,effectPerLevel:.1,effectType:"COFFEE_UPGRADE_COST",displayFormat:{sign:"-",suffix:"%"},baseCost:5e3,costMultiplier:1.8,parentId:"shop-5",category:"shop",rarityLock:{rarity:"rough",count:1},position:{x:250,y:600}},{id:"shop-11",name:"Ink Thrift",description:"-0.1% Ink cost",maxLevel:500,effectPerLevel:.1,effectType:"INK_UPGRADE_COST",displayFormat:{sign:"-",suffix:"%"},baseCost:5e4,costMultiplier:1.9,parentId:"shop-8",category:"shop",rarityLock:{rarity:"rough",count:2},position:{x:250,y:800}},{id:"shop-13",name:"Marker Savings",description:"-0.1% Marker cost",maxLevel:500,effectPerLevel:.1,effectType:"MARKER_UPGRADE_COST",displayFormat:{sign:"-",suffix:"%"},baseCost:5e5,costMultiplier:2,parentId:"shop-11",category:"shop",rarityLock:{rarity:"rough",count:3},position:{x:250,y:1e3}},{id:"shop-15",name:"Acrylic Efficiency",description:"-0.1% Acrylic cost",maxLevel:500,effectPerLevel:.1,effectType:"ACRYLIC_UPGRADE_COST",displayFormat:{sign:"-",suffix:"%"},baseCost:5e6,costMultiplier:2.1,parentId:"shop-13",category:"shop",rarityLock:{rarity:"framed",count:4},position:{x:250,y:1200}},{id:"shop-17",name:"Spray Control",description:"-0.1% Spray cost",maxLevel:500,effectPerLevel:.1,effectType:"SPRAY_UPGRADE_COST",displayFormat:{sign:"-",suffix:"%"},baseCost:5e7,costMultiplier:2.2,parentId:"shop-15",category:"shop",rarityLock:{rarity:"framed",count:9},position:{x:250,y:1400}},{id:"shop-19",name:"Photon Refraction",description:"-0.1% Photon cost",maxLevel:500,effectPerLevel:.1,effectType:"PHOTON_UPGRADE_COST",displayFormat:{sign:"-",suffix:"%"},baseCost:5e8,costMultiplier:2.3,parentId:"shop-17",category:"shop",rarityLock:{rarity:"framed",count:14},position:{x:250,y:1600}},{id:"shop-21",name:"Gold Leaf Gilding",description:"-0.1% Gold Leaf cost",maxLevel:500,effectPerLevel:.1,effectType:"GOLD_LEAF_UPGRADE_COST",displayFormat:{sign:"-",suffix:"%"},baseCost:5e9,costMultiplier:2.5,parentId:"shop-19",category:"shop",rarityLock:{rarity:"opus",count:7},position:{x:250,y:1800}},{id:"shop-6",name:"Graphite Mastery",description:"+1% Graphite rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"GRAPHITE_REWARD",displayFormat:{sign:"+",suffix:"%"},baseCost:150,costMultiplier:2,parentId:"shop-1",category:"shop",position:{x:500,y:0}},{id:"shop-7",name:"Wax Mastery",description:"+1% Wax rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"WAX_REWARD",displayFormat:{sign:"+",suffix:"%"},baseCost:1500,costMultiplier:2.2,parentId:"shop-3",category:"shop",position:{x:500,y:200}},{id:"shop-10",name:"Charcoal Mastery",description:"+1% Charcoal rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"CHARCOAL_REWARD",displayFormat:{sign:"+",suffix:"%"},baseCost:15e3,costMultiplier:2.4,parentId:"shop-5",category:"shop",position:{x:500,y:400}},{id:"shop-9",name:"Coffee Mastery",description:"+1% Coffee rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"COFFEE_REWARD",displayFormat:{sign:"+",suffix:"%"},baseCost:15e4,costMultiplier:2.6,parentId:"shop-8",category:"shop",position:{x:500,y:600}},{id:"shop-12",name:"Ink Mastery",description:"+1% Ink rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"INK_REWARD",displayFormat:{sign:"+",suffix:"%"},baseCost:15e5,costMultiplier:2.8,parentId:"shop-11",category:"shop",position:{x:500,y:800}},{id:"shop-14",name:"Marker Mastery",description:"+1% Marker rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"MARKER_REWARD",displayFormat:{sign:"+",suffix:"%"},baseCost:15e6,costMultiplier:3,parentId:"shop-13",category:"shop",position:{x:500,y:1e3}},{id:"shop-16",name:"Acrylic Mastery",description:"+1% Acrylic rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"ACRYLIC_REWARD",displayFormat:{sign:"+",suffix:"%"},baseCost:15e7,costMultiplier:3.2,parentId:"shop-15",category:"shop",position:{x:500,y:1200}},{id:"shop-18",name:"Spray Mastery",description:"+1% Spray rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"SPRAY_REWARD",displayFormat:{sign:"+",suffix:"%"},baseCost:15e8,costMultiplier:3.4,parentId:"shop-17",category:"shop",position:{x:500,y:1400}},{id:"shop-20",name:"Photon Mastery",description:"+1% Photon rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"PHOTON_REWARD",displayFormat:{sign:"+",suffix:"%"},baseCost:15e9,costMultiplier:3.6,parentId:"shop-19",category:"shop",position:{x:500,y:1600}},{id:"shop-22",name:"Gold Leaf Mastery",description:"+1% Gold Leaf rewards",maxLevel:1e3,effectPerLevel:.01,effectType:"GOLD_LEAF_REWARD",displayFormat:{sign:"+",suffix:"%"},baseCost:15e10,costMultiplier:4,parentId:"shop-21",category:"shop",position:{x:500,y:1800}},{id:"shop-6-exp",name:"Graphite Resonance",description:"+0.01 Graphite rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"GRAPHITE_REWARD_EXPONENT",displayFormat:{sign:"+",suffix:"",type:"exponent"},baseCost:300,costMultiplier:3,parentId:"shop-6",category:"shop",rarityLock:{rarity:"rough",count:1},position:{x:750,y:0}},{id:"shop-7-exp",name:"Wax Resonance",description:"+0.01 Wax rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"WAX_REWARD_EXPONENT",displayFormat:{sign:"+",suffix:"",type:"exponent"},baseCost:3e4,costMultiplier:3.3,parentId:"shop-7",category:"shop",rarityLock:{rarity:"rough",count:2},position:{x:750,y:200}},{id:"shop-10-exp",name:"Charcoal Resonance",description:"+0.01 Charcoal rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"CHARCOAL_REWARD_EXPONENT",displayFormat:{sign:"+",suffix:"",type:"exponent"},baseCost:3e6,costMultiplier:3.6,parentId:"shop-10",category:"shop",rarityLock:{rarity:"rough",count:3},position:{x:750,y:400}},{id:"shop-9-exp",name:"Coffee Resonance",description:"+0.01 Coffee rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"COFFEE_REWARD_EXPONENT",displayFormat:{sign:"+",suffix:"",type:"exponent"},baseCost:3e8,costMultiplier:3.9,parentId:"shop-9",category:"shop",rarityLock:{rarity:"rough",count:4},position:{x:750,y:600}},{id:"shop-12-exp",name:"Ink Resonance",description:"+0.01 Ink rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"INK_REWARD_EXPONENT",displayFormat:{sign:"+",suffix:"",type:"exponent"},baseCost:3e10,costMultiplier:4.2,parentId:"shop-12",category:"shop",rarityLock:{rarity:"rough",count:5},position:{x:750,y:800}},{id:"shop-14-exp",name:"Marker Resonance",description:"+0.01 Marker rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"MARKER_REWARD_EXPONENT",displayFormat:{sign:"+",suffix:"",type:"exponent"},baseCost:3e12,costMultiplier:4.5,parentId:"shop-14",category:"shop",rarityLock:{rarity:"rough",count:6},position:{x:750,y:1e3}},{id:"shop-16-exp",name:"Acrylic Resonance",description:"+0.01 Acrylic rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"ACRYLIC_REWARD_EXPONENT",displayFormat:{sign:"+",suffix:"",type:"exponent"},baseCost:3e14,costMultiplier:4.8,parentId:"shop-16",category:"shop",rarityLock:{rarity:"rough",count:7},position:{x:750,y:1200}},{id:"shop-18-exp",name:"Spray Resonance",description:"+0.01 Spray rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"SPRAY_REWARD_EXPONENT",displayFormat:{sign:"+",suffix:"",type:"exponent"},baseCost:3e16,costMultiplier:5.1,parentId:"shop-18",category:"shop",rarityLock:{rarity:"rough",count:8},position:{x:750,y:1400}},{id:"shop-20-exp",name:"Photon Resonance",description:"+0.01 Photon rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"PHOTON_REWARD_EXPONENT",displayFormat:{sign:"+",suffix:"",type:"exponent"},baseCost:3e18,costMultiplier:5.4,parentId:"shop-20",category:"shop",rarityLock:{rarity:"rough",count:9},position:{x:750,y:1600}},{id:"shop-22-exp",name:"Gold Leaf Resonance",description:"+0.01 Gold Leaf rewards exp.",maxLevel:400,effectPerLevel:.01,effectType:"GOLD_LEAF_REWARD_EXPONENT",displayFormat:{sign:"+",suffix:"",type:"exponent"},baseCost:3e20,costMultiplier:5.7,parentId:"shop-22",category:"shop",rarityLock:{rarity:"rough",count:10},position:{x:750,y:1800}},{id:"shop-2",name:"Prepared Studio",description:"Start with free tools",maxLevel:10,effectPerLevel:1,effectType:"FREE_TOOLS",displayFormat:{sign:"+",suffix:""},baseCost:777,costMultiplier:77777,parentId:"shop-1",category:"shop",position:{x:250,y:-200}},{id:"shop-4",name:"Automated Workflow",description:"Auto-enable active protocols",maxLevel:5,effectPerLevel:1,effectType:"AUTO_ENABLE_TOOLS",displayFormat:{sign:"+",suffix:""},baseCost:999999,costMultiplier:9e19,parentId:"shop-2",category:"shop",position:{x:500,y:-200}},{id:"fund-1",name:"Lasting Impressions",description:"+0.0001x diminishing returns",maxLevel:500,effectPerLevel:1e-4,effectType:"DIMINISHING_RETURNS",displayFormat:{sign:"+",suffix:"x"},baseCost:15e3,costMultiplier:25,parentId:"root",category:"fundamentals",position:{x:0,y:200}},{id:"fund-4",name:"Perspective Shift",description:"+1 Lookahead",maxLevel:7,effectPerLevel:1,effectType:"LOOKAHEAD_BONUS",displayFormat:{sign:"+",suffix:""},baseCost:1e6,costMultiplier:1e35,parentId:"fund-1",category:"fundamentals",position:{x:-250,y:200}},{id:"fund-buy-max",name:"Iterative Refinement",description:"Unlock Buy Max for Skill Tree",maxLevel:1,effectPerLevel:1,effectType:"BUY_MAX_SKILL_TREE",displayFormat:{sign:"+",suffix:""},baseCost:1e12,costMultiplier:2,parentId:"shop-4",category:"fundamentals",position:{x:750,y:-200}},{id:"fund-2",name:"Quick Escape",description:"-0.1s flee penalty",maxLevel:30,effectPerLevel:.1,effectType:"FLEE_PENALTY",displayFormat:{sign:"-",suffix:"s"},baseCost:8e3,costMultiplier:8,parentId:"fund-1",category:"fundamentals",position:{x:0,y:400}},{id:"fund-3",name:"Swift Recovery",description:"-0.1s death penalty",maxLevel:50,effectPerLevel:.1,effectType:"DEATH_PENALTY",displayFormat:{sign:"-",suffix:"s"},baseCost:9e3,costMultiplier:9,parentId:"fund-2",category:"fundamentals",position:{x:0,y:600}},{id:"fund-time-accel",name:"Temporal Flow",description:"+0.01 Time Acceleration",maxLevel:200,effectPerLevel:.01,effectType:"TIME_ACCELERATION_BONUS",displayFormat:{sign:"+",suffix:""},baseCost:1e13,costMultiplier:12e6,parentId:"fund-overkill",category:"fundamentals",rarityLock:{rarity:"framed",count:3},position:{x:-500,y:400}},{id:"shop-auto-start",name:"Persistent Momentum",description:"Battle Stick Man on Redraw",maxLevel:1,effectPerLevel:1,effectType:"AUTO_START_ON_REDRAW",displayFormat:{sign:"+",suffix:""},baseCost:1e14,costMultiplier:100,parentId:"shop-4",category:"shop",rarityLock:{rarity:"rough",count:10},position:{x:500,y:-400}},{id:"fund-gen-double",name:"Industrial Overclock",description:"Double all generators",maxLevel:15,effectPerLevel:1,effectType:"GENERATOR_MULTIPLIER_EXPONENT",displayFormat:{sign:"+",suffix:"",type:"generator_exp"},baseCost:25e12,costMultiplier:25e3,parentId:"fund-3",category:"archive",rarityLock:{rarity:"rough",count:15},position:{x:-250,y:600}},{id:"gen-over-1",name:"Graphite Overclock",description:"10x Graphite generator.",maxLevel:15,effectPerLevel:1,effectType:"GRAPHITE_GENERATOR_MULTIPLIER",displayFormat:{sign:"+",suffix:"",type:"generator_mult"},baseCost:1e24,costMultiplier:1e5,parentId:"fund-gen-double",category:"archive",rarityLock:{rarity:"scrap",count:33},position:{x:-250,y:800}},{id:"gen-over-2",name:"Wax Overclock",description:"10x Wax generator.",maxLevel:15,effectPerLevel:1,effectType:"WAX_GENERATOR_MULTIPLIER",displayFormat:{sign:"+",suffix:"",type:"generator_mult"},baseCost:1e28,costMultiplier:1e6,parentId:"gen-over-1",category:"archive",rarityLock:{rarity:"scrap",count:39},position:{x:-450,y:800}},{id:"gen-over-3",name:"Charcoal Overclock",description:"10x Charcoal generator.",maxLevel:15,effectPerLevel:1,effectType:"CHARCOAL_GENERATOR_MULTIPLIER",displayFormat:{sign:"+",suffix:"",type:"generator_mult"},baseCost:1e33,costMultiplier:1e7,parentId:"gen-over-2",category:"archive",rarityLock:{rarity:"rough",count:20},position:{x:-450,y:1e3}},{id:"gen-over-4",name:"Coffee Overclock",description:"10x Coffee generator.",maxLevel:15,effectPerLevel:1,effectType:"COFFEE_GENERATOR_MULTIPLIER",displayFormat:{sign:"+",suffix:"",type:"generator_mult"},baseCost:1e39,costMultiplier:1e8,parentId:"gen-over-3",category:"archive",rarityLock:{rarity:"rough",count:25},position:{x:-250,y:1e3}},{id:"gen-over-5",name:"Ink Overclock",description:"10x Ink generator.",maxLevel:15,effectPerLevel:1,effectType:"INK_GENERATOR_MULTIPLIER",displayFormat:{sign:"+",suffix:"",type:"generator_mult"},baseCost:1e46,costMultiplier:1e11,parentId:"gen-over-4",category:"archive",rarityLock:{rarity:"framed",count:8},position:{x:-250,y:1200}},{id:"gen-over-6",name:"Marker Overclock",description:"10x Marker generator.",maxLevel:15,effectPerLevel:1,effectType:"MARKER_GENERATOR_MULTIPLIER",displayFormat:{sign:"+",suffix:"",type:"generator_mult"},baseCost:1e55,costMultiplier:1e15,parentId:"gen-over-5",category:"archive",rarityLock:{rarity:"framed",count:15},position:{x:-450,y:1200}},{id:"gen-over-7",name:"Acrylic Overclock",description:"10x Acrylic generator.",maxLevel:15,effectPerLevel:1,effectType:"ACRYLIC_GENERATOR_MULTIPLIER",displayFormat:{sign:"+",suffix:"",type:"generator_mult"},baseCost:1e66,costMultiplier:1e20,parentId:"gen-over-6",category:"archive",rarityLock:{rarity:"opus",count:5},position:{x:-450,y:1400}},{id:"gen-over-8",name:"Spray Overclock",description:"10x Spray generator.",maxLevel:15,effectPerLevel:1,effectType:"SPRAY_GENERATOR_MULTIPLIER",displayFormat:{sign:"+",suffix:"",type:"generator_mult"},baseCost:1e78,costMultiplier:1e26,parentId:"gen-over-7",category:"archive",rarityLock:{rarity:"opus",count:12},position:{x:-250,y:1400}},{id:"gen-over-9",name:"Photon Overclock",description:"10x Photon generator.",maxLevel:15,effectPerLevel:1,effectType:"PHOTON_GENERATOR_MULTIPLIER",displayFormat:{sign:"+",suffix:"",type:"generator_mult"},baseCost:1e91,costMultiplier:1e33,parentId:"gen-over-8",category:"archive",rarityLock:{rarity:"masterpiece",count:4},position:{x:-250,y:1600}},{id:"gen-over-10",name:"Gold Leaf Overclock",description:"10x Gold Leaf generator.",maxLevel:15,effectPerLevel:1,effectType:"GOLD_LEAF_GENERATOR_MULTIPLIER",displayFormat:{sign:"+",suffix:"",type:"generator_mult"},baseCost:1e105,costMultiplier:1e42,parentId:"gen-over-9",category:"archive",rarityLock:{rarity:"masterpiece",count:8},position:{x:-450,y:1600}}],Tg=(t,a)=>a>=t.maxLevel?new f(1/0):new f(t.baseCost).times(new f(t.costMultiplier).pow(a)),xs=t=>Yr.find(a=>a.id===t),_g=(t,a)=>{const i=xs(t);return i?i.parentId===null?!0:(a[i.parentId]??0)>=1:!1},Ag=(t,a)=>{const i=xs(t);if(!i)return!1;if(i.parentId===null||(a[t]??0)>=1||(a[i.parentId]??0)>=1)return!0;const o=Yr.filter(s=>s.parentId===t);for(const s of o)if((a[s.id]??0)>=1)return!0;return!1},Mv=(t,a)=>{const i=a.position.x-t.position.x,o=a.position.y-t.position.y;return Math.abs(i)>Math.abs(o)?i>0?{sourceHandle:"right",targetHandle:"left"}:{sourceHandle:"left",targetHandle:"right"}:o>0?{sourceHandle:"bottom",targetHandle:"top"}:{sourceHandle:"top",targetHandle:"bottom"}},Zo=t=>{const a={...a0};for(const[i,o]of Object.entries(t)){if(o===0)continue;const s=xs(i);if(!s)continue;const c=s.effectPerLevel*o;switch(s.effectType){case"ROUGH_CHANCE":a.roughRarity+=c;break;case"FRAMED_CHANCE":a.framedRarity+=c;break;case"OPUS_CHANCE":a.opusRarity+=c;break;case"MASTERPIECE_CHANCE":a.masterpieceRarity+=c;break;case"REGEN_PERCENT":a.regenIncrease+=c;break;case"ARMOR_PERCENT":a.armorIncrease+=c;break;case"DODGE_PERCENT":a.dodgeIncrease+=c;break;case"ATK_PERCENT":a.attackIncrease+=c;break;case"HP_PERCENT":a.hpIncrease+=c;break;case"QUINTESSENCE_GAIN":a.quintessenceGain+=c;break;case"GRAPHITE_UPGRADE_COST":a.graphiteUpgradeCost+=c;break;case"WAX_UPGRADE_COST":a.waxUpgradeCost+=c;break;case"FREE_TOOLS":a.freeTools=Math.max(a.freeTools,o);break;case"DIMINISHING_RETURNS":a.diminishingReturns=a.diminishingReturns.plus(c);break;case"FLEE_PENALTY":a.fleePenalty=Math.max(0,a.fleePenalty-c);break;case"DEATH_PENALTY":a.deathRecovery=Math.max(0,a.deathRecovery-c);break;case"LOOKAHEAD_BONUS":a.lookahead+=c;break;case"ATK_SPEED":a.attackDelay+=c;break;case"AUTO_ENABLE_TOOLS":a.autoEnableTools=Math.max(a.autoEnableTools,o);break;case"CHARCOAL_UPGRADE_COST":a.charcoalUpgradeCost+=c;break;case"COFFEE_UPGRADE_COST":a.coffeeUpgradeCost+=c;break;case"INK_UPGRADE_COST":a.inkUpgradeCost+=c;break;case"MARKER_UPGRADE_COST":a.markerUpgradeCost+=c;break;case"ACRYLIC_UPGRADE_COST":a.acrylicUpgradeCost+=c;break;case"SPRAY_UPGRADE_COST":a.sprayUpgradeCost+=c;break;case"PHOTON_UPGRADE_COST":a.photonUpgradeCost+=c;break;case"GOLD_LEAF_UPGRADE_COST":a.goldLeafUpgradeCost+=c;break;case"GRAPHITE_REWARD":a.graphiteRewardMultiplier+=c;break;case"WAX_REWARD":a.waxRewardMultiplier+=c;break;case"CHARCOAL_REWARD":a.charcoalRewardMultiplier+=c;break;case"COFFEE_REWARD":a.coffeeRewardMultiplier+=c;break;case"INK_REWARD":a.inkRewardMultiplier+=c;break;case"MARKER_REWARD":a.markerRewardMultiplier+=c;break;case"ACRYLIC_REWARD":a.acrylicRewardMultiplier+=c;break;case"SPRAY_REWARD":a.sprayRewardMultiplier+=c;break;case"PHOTON_REWARD":a.photonRewardMultiplier+=c;break;case"GOLD_LEAF_REWARD":a.goldLeafRewardMultiplier+=c;break;case"GRAPHITE_REWARD_EXPONENT":a.graphiteRewardExponent+=c;break;case"WAX_REWARD_EXPONENT":a.waxRewardExponent+=c;break;case"CHARCOAL_REWARD_EXPONENT":a.charcoalRewardExponent+=c;break;case"COFFEE_REWARD_EXPONENT":a.coffeeRewardExponent+=c;break;case"INK_REWARD_EXPONENT":a.inkRewardExponent+=c;break;case"MARKER_REWARD_EXPONENT":a.markerRewardExponent+=c;break;case"ACRYLIC_REWARD_EXPONENT":a.acrylicRewardExponent+=c;break;case"SPRAY_REWARD_EXPONENT":a.sprayRewardExponent+=c;break;case"PHOTON_REWARD_EXPONENT":a.photonRewardExponent+=c;break;case"GOLD_LEAF_REWARD_EXPONENT":a.goldLeafRewardExponent+=c;break;case"TIME_ACCELERATION_BONUS":a.timeAcceleration+=c;break;case"AUTO_START_ON_REDRAW":o>0&&(a.autoStartOnRedraw=1);break;case"GENERATOR_MULTIPLIER_EXPONENT":a.generatorMultiplier=Math.pow(2,o);break;case"OVERKILL_BONUS":a.overkillMultiplier+=c;break;case"MIN_DAMAGE_PERCENT":a.minDamageIncrease+=c;break;case"MAX_DAMAGE_PERCENT":a.maxDamageIncrease+=c;break;case"ARMOR_PEN_PERCENT":a.armorPenIncrease+=c;break;case"LIFESTEAL_PERCENT":a.lifestealIncrease+=c;break;case"EXECUTE_PERCENT":a.executeIncrease+=c;break;case"BLOCK_CHANCE_PERCENT":a.blockChanceIncrease+=c;break;case"BLOCK_AMOUNT_PERCENT":a.blockAmountIncrease+=c;break;case"ROUGH_SKETCHES":a.roughSketches+=c;break;case"FRAMED_SKETCHES":a.framedSketches+=c;break;case"OPUS_SKETCHES":a.opusSketches+=c;break;case"MASTERPIECE_SKETCHES":a.masterpieceSketches+=c;break;case"ACCURACY_PERCENT":a.accuracyIncrease+=c;break;case"BLEED_CHANCE_PERCENT":a.bleedChanceIncrease+=c;break;case"PLAGUE_CHANCE_PERCENT":a.plagueChanceIncrease+=c;break;case"BURN_CHANCE_PERCENT":a.burnChanceIncrease+=c;break;case"BURN_DAMAGE_PERCENT":a.burnDamageIncrease+=c;break;case"ELECTROCUTE_CHANCE_PERCENT":a.electrocuteChanceIncrease+=c;break;case"CURSE_CHANCE_PERCENT":a.curseChanceIncrease+=c;break}}return a.roughRarity=Math.min(100,a.roughRarity),a.framedRarity=Math.min(100,a.framedRarity),a.opusRarity=Math.min(100,a.opusRarity),a.masterpieceRarity=Math.min(100,a.masterpieceRarity),a.graphiteUpgradeCost=Math.min(99,a.graphiteUpgradeCost),a.waxUpgradeCost=Math.min(99,a.waxUpgradeCost),a.charcoalUpgradeCost=Math.min(99,a.charcoalUpgradeCost),a.coffeeUpgradeCost=Math.min(99,a.coffeeUpgradeCost),a.inkUpgradeCost=Math.min(99,a.inkUpgradeCost),a.markerUpgradeCost=Math.min(99,a.markerUpgradeCost),a.acrylicUpgradeCost=Math.min(99,a.acrylicUpgradeCost),a.sprayUpgradeCost=Math.min(99,a.sprayUpgradeCost),a.photonUpgradeCost=Math.min(99,a.photonUpgradeCost),a.goldLeafUpgradeCost=Math.min(99,a.goldLeafUpgradeCost),a.attackDelay=Math.min(90,a.attackDelay),a},Mg=["","K","M","B","T","Qa","Qi","Sx","Sp","Oc"],ve=(t,a=2)=>{const i=f.isBigNumber(t)?t:new f(t);if(i.isNaN()||!i.isFinite()||i.isZero())return"0";const o=i.abs();if(o.lt(1e-4))return i.toExponential(a);if(o.lt(1))return i.decimalPlaces(4).toString();if(o.lt(1e4))return i.isInteger()?i.toString():i.decimalPlaces(a).toString();const s=Math.floor(Math.log10(o.toNumber())/3);if(s<Mg.length){const c=Mg[s],u=new f(10).pow(s*3);return i.div(u).decimalPlaces(a,f.ROUND_DOWN).toString()+c}return i.toExponential(a)},sc=t=>{if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(sc);const a=["HP","ATK","SPD","Regen","Dodge","Lifesteal","CritChance","CritDmg","Armor","MinDamage","MaxDamage","Accuracy","ArmorPen","Execute","Parry","ParryDmg","GlancingBlow","Counter","BleedChance","BurnChance","HinderChance","currentPlayerHp","currentEnemyHp","enemyMaxHp","rewardDiminishingMultiplier","ink","quintessence","pendingQuintessence","glossaryMultiplier"],i={};for(const o in t)if(a.includes(o))i[o]=new f(t[o]);else if(o==="currencies"||o==="shopLevels"||o==="battleStats"||o==="playerStats"||o==="totalEarnedCurrencies"||o==="totalBattleEarnedCurrencies"||o==="concepts"){const s={};for(const c in t[o])s[c]=new f(t[o][c]);i[o]=s}else i[o]=sc(t[o]);return i},jv=(t,a)=>{switch(t){case"Graphite":return a.graphiteUpgradeCost;case"Wax":return a.waxUpgradeCost;case"Charcoal":return a.charcoalUpgradeCost;case"Coffee":return a.coffeeUpgradeCost;case"Ink":return a.inkUpgradeCost;case"Marker":return a.markerUpgradeCost;case"Acrylic":return a.acrylicUpgradeCost;case"Spray":return a.sprayUpgradeCost;case"Photon":return a.photonUpgradeCost;case"Gold Leaf":return a.goldLeafUpgradeCost;default:return 0}},An=(t,a,i)=>{const o=jv(a,i);return o>0?t.times(1-o/100):t},Uf=t=>{let a=0;for(let u=0;u<t.length;u++)a=(a<<5)-a+t.charCodeAt(u),a=a&a;const i=()=>(a=a*1103515245+12345&2147483647,a/2147483647),o=t.replace(/[^a-zA-Z]/g,"").split("");for(let u=o.length-1;u>0;u--){const m=Math.floor(i()*(u+1));[o[u],o[m]]=[o[m],o[u]]}let s=0,c="";for(let u=0;u<t.length;u++){const m=t[u];if(/[a-zA-Z]/.test(m)){const g=o[s++];c+=m===m.toUpperCase()?g.toUpperCase():g.toLowerCase()}else c+=m}return c},Gi=(t,a,i)=>{const o=typeof a=="number"?a:a.toNumber();let s=t.cost(o);return i.waxToolUnlocked&&t.currency==="Graphite"&&(s=s.times(.5)),i.charcoalDiscountUnlocked&&t.currency==="Charcoal"&&(s=s.times(.5)),i.waxDiscountUnlocked&&t.currency==="Wax"&&(s=s.times(.5)),i.coffeeDiscountUnlocked&&t.currency==="Coffee"&&(s=s.times(.5)),i.inkDiscountUnlocked&&t.currency==="Ink"&&(s=s.times(.5)),s},Rv=(t,a,i,o,s)=>{if(i.lt(t)||s>=o)return{levelsToBuy:0,totalCost:new f(0)};const c=o-s;if(a===1){const w=i.div(t).integerValue(f.ROUND_FLOOR).toNumber(),E=Math.min(c,w);return{levelsToBuy:E,totalCost:t.times(E)}}const u=new f(a),m=u.minus(1),g=i.times(m).div(t).plus(1),p=Math.log(g.toNumber())/Math.log(a);let b=Math.floor(p);b=Math.min(b,c);let x=t.times(u.pow(b).minus(1)).div(m);return x.gt(i)&&(b--,x=t.times(u.pow(b).minus(1)).div(m)),{levelsToBuy:Math.max(0,b),totalCost:x}},Pe=({children:t,className:a})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:t}),Dv=({className:t})=>d.jsxs(Pe,{className:t,title:"Health",children:[d.jsx("path",{d:"M24 8.5C19 3 10 3 6 10C2 17 8 28 24 44C40 28 46 17 42 10C38 3 29 3 24 8.5",className:"fill-none"}),d.jsx("path",{d:"M12 14C10 12 10 10 12 8",className:"opacity-50"}),d.jsx("path",{d:"M36 14C38 12 38 10 36 8",className:"opacity-50"}),d.jsx("path",{d:"M24 14V26",className:"opacity-30"}),d.jsx("path",{d:"M16 18L32 18",className:"opacity-30"}),d.jsx("path",{d:"M20 32L28 32",className:"opacity-30"}),d.jsx("path",{d:"M30 14L34 12",className:"opacity-50"}),d.jsx("path",{d:"M18 14L14 12",className:"opacity-50"})]}),Jy=({className:t})=>d.jsxs(Pe,{className:t,title:"Attack",children:[d.jsx("path",{d:"M29 9L39 19"})," ",d.jsx("path",{d:"M19 29L9 39"})," ",d.jsx("path",{d:"M37 11L18 30L16 38L8 40L10 32L29 13L37 11Z"})," ",d.jsx("path",{d:"M29 13L35 19"})," ",d.jsx("path",{d:"M15 27L21 33"})," ",d.jsx("circle",{cx:"13",cy:"35",r:"1.5",className:"fill-current"})," ",d.jsx("path",{d:"M38 6L44 10",className:"opacity-50"}),d.jsx("path",{d:"M42 4L46 8",className:"opacity-50"})]}),ts=({className:t})=>d.jsxs(Pe,{className:t,title:"Speed",children:[d.jsx("path",{d:"M18 38 L40 12 L44 16 L22 42 Z",strokeLinejoin:"round",fill:"none",strokeWidth:"2.5"}),d.jsx("path",{d:"M14 34 L26 46",strokeLinecap:"round",strokeWidth:"2.5"}),d.jsx("path",{d:"M12 44 L16 40",strokeLinecap:"round",className:"opacity-50"})," ",d.jsx("path",{d:"M8 12 H36",strokeLinecap:"round",className:"opacity-80",strokeWidth:"2.5"}),d.jsx("path",{d:"M10 22 H24",strokeLinecap:"round",className:"opacity-80",strokeWidth:"2.5"}),d.jsx("path",{d:"M12 32 H18",strokeLinecap:"round",className:"opacity-60",strokeWidth:"2.5"}),d.jsx("path",{d:"M36 30 L36 44",strokeLinecap:"round",strokeWidth:"2"}),d.jsx("path",{d:"M30 36 L36 30 L42 36",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}),Lv=({className:t})=>d.jsxs(Pe,{className:t,title:"HP Regen",children:[d.jsx("path",{d:"M24 12C20 7 12 7 8 13C4 19 10 28 24 40C38 28 44 19 40 13C36 7 28 7 24 12",className:"fill-none"}),d.jsx("path",{d:"M24 18V28",strokeWidth:"3"}),d.jsx("path",{d:"M19 23H29",strokeWidth:"3"}),d.jsx("path",{d:"M16 10L14 6",className:"opacity-50"}),d.jsx("path",{d:"M32 10L34 6",className:"opacity-50"}),d.jsx("path",{d:"M10 18L6 16",className:"opacity-50"}),d.jsx("path",{d:"M38 18L42 16",className:"opacity-50"})]}),Ov=({className:t})=>d.jsxs(Pe,{className:t,title:"Dodge",children:[d.jsx("path",{d:"M8 36h16c8 0 14-6 14-14 0-4-3-8-8-8"}),d.jsx("path",{d:"M12 20h20"}),d.jsx("path",{d:"M6 12h24"}),d.jsx("path",{d:"M36 12l4 4-4 4",className:"opacity-50"})," "]}),Hv=({className:t})=>d.jsxs(Pe,{className:t,title:"Lifesteal",children:[d.jsx("path",{d:"M24 4v16",strokeDasharray:"4 4",className:"opacity-50"}),d.jsx("path",{d:"M14 6 C14 6 10 16 10 22 C10 32 20 42 24 42 C28 42 38 32 38 22 C38 16 34 6 34 6"}),d.jsx("path",{d:"M24 42v-8",className:"opacity-30"}),d.jsx("path",{d:"M18 14h12"})," ",d.jsx("path",{d:"M18 14l3 8l3-8l3 8l3-8",className:"fill-current opacity-30"})]}),zv=({className:t})=>d.jsxs(Pe,{className:t,title:"Crit Chance",children:[d.jsx("circle",{cx:"24",cy:"24",r:"16"}),d.jsx("path",{d:"M24 4v8"}),d.jsx("path",{d:"M24 36v8"}),d.jsx("path",{d:"M4 24h8"}),d.jsx("path",{d:"M36 24h8"}),d.jsx("circle",{cx:"24",cy:"24",r:"4",className:"fill-current opacity-50"})]}),Uv=({className:t})=>d.jsxs(Pe,{className:t,title:"Crit Damage",children:[d.jsx("path",{d:"M24 6l4 10l10 4l-10 4l-4 10l-4-10l-10-4l10-4z",className:"fill-none"}),d.jsx("circle",{cx:"24",cy:"24",r:"2",className:"fill-current"}),d.jsx("path",{d:"M38 10l-6 8",className:"opacity-50"}),d.jsx("path",{d:"M10 38l6-8",className:"opacity-50"}),d.jsx("path",{d:"M38 38l-6-8",className:"opacity-50"}),d.jsx("path",{d:"M10 10l6 8",className:"opacity-50"})]}),Pv=({className:t})=>d.jsxs(Pe,{className:t,title:"Armor",children:[d.jsx("path",{d:"M24 4L8 12v12c0 12 8 18 16 20 8-2 16-8 16-20V12L24 4z",className:"fill-none"}),d.jsx("path",{d:"M24 10L12 16v8c0 8 5 12 12 14 7-2 12-6 12-14v-8L24 10z",className:"opacity-30"}),d.jsx("path",{d:"M24 14v20",className:"opacity-50"}),d.jsx("path",{d:"M16 22h16",className:"opacity-50"})]}),Iv=({className:t})=>d.jsxs(Pe,{className:t,title:"Min Damage",children:[d.jsx("path",{d:"M12 36l24 0",strokeWidth:"4"}),d.jsx("path",{d:"M12 36l6 -6"}),d.jsx("path",{d:"M12 36l6 6"}),d.jsx("path",{d:"M24 12v20",className:"opacity-30"})]}),Bv=({className:t})=>d.jsxs(Pe,{className:t,title:"Max Damage",children:[d.jsx("path",{d:"M12 12l24 0",strokeWidth:"4"}),d.jsx("path",{d:"M36 12l-6 -6"}),d.jsx("path",{d:"M36 12l-6 6"}),d.jsx("path",{d:"M24 16v20",className:"opacity-30"})]}),Gv=({className:t})=>d.jsxs(Pe,{className:t,title:"Accuracy",children:[d.jsx("circle",{cx:"24",cy:"24",r:"12"}),d.jsx("circle",{cx:"24",cy:"24",r:"4",className:"fill-current"}),d.jsx("path",{d:"M24 4v8",className:"opacity-30"}),d.jsx("path",{d:"M24 36v8",className:"opacity-30"}),d.jsx("path",{d:"M4 24h8",className:"opacity-30"}),d.jsx("path",{d:"M36 24h8",className:"opacity-30"})]}),Vv=({className:t})=>d.jsxs(Pe,{className:t,title:"Armor Penetration",children:[d.jsx("path",{d:"M36 12l-24 24",strokeWidth:"3"}),d.jsx("path",{d:"M36 12l-8 0"}),d.jsx("path",{d:"M36 12l0 8"}),d.jsx("path",{d:"M16 32l-4 4",className:"opacity-50"})]}),Yv=({className:t})=>d.jsxs(Pe,{className:t,title:"Execute",children:[d.jsx("path",{d:"M12 12l24 24",strokeWidth:"3",className:"text-red-600"}),d.jsx("path",{d:"M36 12l-24 24",strokeWidth:"3",className:"text-red-600"}),d.jsx("circle",{cx:"24",cy:"24",r:"8",className:"opacity-30"})]}),qv=({className:t})=>d.jsxs(Pe,{className:t,title:"Parry",children:[d.jsx("path",{d:"M14 12l8 8l16 -16",strokeWidth:"3",className:"opacity-50"}),d.jsx("path",{d:"M10 38l14 -14",strokeWidth:"3"}),d.jsx("path",{d:"M24 24l-6 6",className:"opacity-30"})]}),Kv=({className:t})=>d.jsxs(Pe,{className:t,title:"Parry Damage",children:[d.jsx("path",{d:"M10 38l14 -14",strokeWidth:"3"}),d.jsx("path",{d:"M38 10l-14 14",strokeWidth:"2",strokeDasharray:"4 4",className:"text-red-500"}),d.jsx("circle",{cx:"24",cy:"24",r:"2",className:"fill-current"})]}),Fv=({className:t})=>d.jsxs(Pe,{className:t,title:"Glancing Blow",children:[d.jsx("path",{d:"M12 12l24 24",className:"opacity-30"}),d.jsx("circle",{cx:"34",cy:"14",r:"6",strokeWidth:"1"}),d.jsx("path",{d:"M14 34l8 -8"})]}),$v=({className:t})=>d.jsxs(Pe,{className:t,title:"Counter",children:[d.jsx("path",{d:"M8 24h12l4 -4l16 0"}),d.jsx("path",{d:"M40 20l-6 -6"}),d.jsx("path",{d:"M40 20l-6 6"}),d.jsx("path",{d:"M12 32l8 -8",className:"opacity-30"})]}),Xv=({className:t})=>d.jsxs(Pe,{className:t,title:"Bleed Chance",children:[d.jsx("path",{d:"M24 6 C24 6 10 18 10 28 C10 36 16 42 24 42 C32 42 38 36 38 28 C38 18 24 6 24 6 Z",className:"text-red-700"}),d.jsx("path",{d:"M24 16 L24 34",className:"stroke-white opacity-50"}),d.jsx("path",{d:"M20 22 L28 28",className:"stroke-white opacity-50"}),d.jsx("path",{d:"M28 22 L20 28",className:"stroke-white opacity-50"})]}),jg=({className:t})=>d.jsxs(Pe,{className:t,title:"Burn Chance",children:[d.jsx("path",{d:"M24 6C24 6 14 16 14 26C14 34 18 40 24 40C30 40 34 34 34 26C34 16 24 6 24 6Z",className:"text-orange-500 fill-current opacity-20"}),d.jsx("path",{d:"M24 42C12 42 6 30 12 18C16 30 20 32 24 14C28 32 32 30 36 18C42 30 36 42 24 42Z"}),d.jsx("path",{d:"M24 34C22 30 22 26 24 22C26 26 26 30 24 34Z",className:"fill-current opacity-50"})]}),Zv=({className:t})=>d.jsxs(Pe,{className:t,title:"Hinder Chance",children:[d.jsx("circle",{cx:"24",cy:"24",r:"18",className:"opacity-30"}),d.jsx("path",{d:"M12 12 L36 36",strokeWidth:"4"}),d.jsx("path",{d:"M36 12 L12 36",strokeWidth:"4"}),d.jsx("rect",{x:"18",y:"16",width:"12",height:"16",rx:"2",className:"fill-current opacity-20"})]}),Qv=({className:t})=>d.jsxs(Pe,{className:t,title:"Plague Chance",children:[d.jsx("circle",{cx:"24",cy:"24",r:"16",className:"opacity-20 fill-current"}),d.jsx("circle",{cx:"24",cy:"24",r:"6"}),d.jsx("path",{d:"M24 6V18 M6 42L15 27 M42 42L33 27",strokeWidth:"4",strokeLinecap:"round",className:"stroke-current"})]}),Wv=({className:t})=>d.jsxs(Pe,{className:t,title:"Poison Chance",children:[d.jsx("path",{d:"M24 6 V14 L12 40 H36 L24 14",className:"stroke-current fill-current opacity-20",strokeWidth:"4",strokeLinejoin:"round"}),d.jsx("circle",{cx:"24",cy:"28",r:"3",className:"fill-current"}),d.jsx("circle",{cx:"19",cy:"34",r:"2",className:"fill-current opacity-70"}),d.jsx("circle",{cx:"29",cy:"34",r:"2",className:"fill-current opacity-70"})]}),Jv=({className:t})=>d.jsxs(Pe,{className:t,title:"Hypnotize Chance",children:[d.jsx("circle",{cx:"24",cy:"24",r:"16",strokeWidth:"2",className:"stroke-current fill-none opacity-40"}),d.jsx("circle",{cx:"24",cy:"24",r:"10",strokeWidth:"3",className:"stroke-current fill-none opacity-70"}),d.jsx("circle",{cx:"24",cy:"24",r:"4",className:"fill-current"}),d.jsx("path",{d:"M24 8 L24 4 M24 44 L24 40 M8 24 L4 24 M44 24 L40 24",strokeWidth:"3",className:"stroke-current opacity-50"})]}),e2=({className:t})=>d.jsxs(Pe,{className:t,title:"Slow Chance",children:[d.jsx("circle",{cx:"24",cy:"24",r:"16",className:"stroke-current opacity-30",strokeWidth:"2"}),d.jsx("path",{d:"M24 12V24L30 30",strokeWidth:"3",strokeLinecap:"round"}),d.jsx("path",{d:"M12 24H36",strokeWidth:"2",strokeDasharray:"2 4",className:"opacity-50"})]}),t2=({className:t})=>d.jsxs(Pe,{className:t,title:"Frailty Chance",children:[d.jsx("path",{d:"M24 4L8 12v12c0 12 8 18 16 20 8-2 16-8 16-20V12L24 4z",className:"fill-none stroke-current",strokeWidth:"2"}),d.jsx("path",{d:"M24 10 L24 38 M12 20 L36 20",className:"stroke-current opacity-30"}),d.jsx("path",{d:"M18 14 L30 26 M30 14 L18 26",className:"stroke-current",strokeWidth:"2"})]}),n2=({className:t})=>d.jsxs(Pe,{className:t,title:"Freeze Chance",children:[d.jsx("path",{d:"M24 4V44 M4 24H44",strokeWidth:"3",strokeLinecap:"round",className:"stroke-blue-400"}),d.jsx("path",{d:"M10 10L38 38 M38 10L10 38",strokeWidth:"2",className:"stroke-blue-300 opacity-70"}),d.jsx("circle",{cx:"24",cy:"24",r:"4",className:"fill-none stroke-current"})]}),a2=({className:t})=>d.jsxs(Pe,{className:t,title:"Multi Strike Chance",children:[d.jsx("path",{d:"M14 34L34 14",strokeWidth:"3",className:"stroke-current opacity-50"}),d.jsx("path",{d:"M10 38L38 10",strokeWidth:"3",className:"stroke-current"}),d.jsx("path",{d:"M42 6L46 10",className:"opacity-70"}),d.jsx("path",{d:"M38 6L42 10",className:"opacity-70"})]}),r2=({className:t})=>d.jsxs(Pe,{className:t,title:"Block Chance",children:[d.jsx("path",{d:"M24 6C24 6 10 12 10 20C10 30 16 38 24 42C32 38 38 30 38 20C38 12 24 6 24 6Z",className:"stroke-current fill-none",strokeWidth:"2.5"}),d.jsx("path",{d:"M24 16L24 24M20 20L28 20",strokeWidth:"3",className:"stroke-current"}),d.jsx("path",{d:"M21 17L27 23M27 17L21 23",strokeWidth:"2",className:"stroke-current"})]}),i2=({className:t})=>d.jsxs(Pe,{className:t,title:"Block Amount",children:[d.jsx("path",{d:"M12 12H36V24C36 34 24 40 24 40C24 40 12 34 12 24V12Z",className:"stroke-current fill-none",strokeWidth:"3"}),d.jsx("path",{d:"M18 20H30",strokeWidth:"3",className:"opacity-80"}),d.jsx("path",{d:"M24 12V28",strokeWidth:"3",className:"opacity-80"})]}),o2=({className:t})=>d.jsxs(Pe,{className:t,title:"Haste Chance",children:[d.jsx("path",{d:"M10 24 C10 24 14 36 26 36 H38 V30 H26",className:"stroke-current fill-none",strokeWidth:"2.5"}),d.jsx("path",{d:"M38 30 L38 20 L26 22",className:"stroke-current fill-none",strokeWidth:"2.5"}),d.jsx("path",{d:"M18 24 C10 14 20 6 34 14",className:"stroke-current fill-none opacity-80"}),d.jsx("path",{d:"M22 24 C16 16 22 10 32 16",className:"stroke-current fill-none opacity-60"}),d.jsx("path",{d:"M6 30H4",className:"opacity-50"}),d.jsx("path",{d:"M8 36H4",className:"opacity-50"})]}),s2=({className:t})=>d.jsxs(Pe,{className:t,title:"Damage Absorb",children:[d.jsx("path",{d:"M24 6C24 6 10 12 10 24C10 34 16 40 24 44C32 40 38 34 38 24C38 12 24 6 24 6Z",className:"stroke-current fill-none opacity-50",strokeWidth:"2"}),d.jsx("path",{d:"M16 22L22 28M32 18L26 24",className:"stroke-current",strokeWidth:"2.5"}),d.jsx("path",{d:"M24 24L24 24",className:"stroke-current",strokeWidth:"4",strokeLinecap:"round"}),d.jsx("path",{d:"M14 16C14 16 24 8 34 16",className:"stroke-current opacity-80",fill:"none"})]}),l2=({className:t})=>d.jsxs(Pe,{className:t,title:"Debuff Opacity",children:[d.jsx("path",{d:"M12 40V18C12 10 16 6 24 6C32 6 36 10 36 18V40",className:"stroke-current fill-none",strokeWidth:"2"}),d.jsx("path",{d:"M14 40C14 40 16 34 20 40C20 40 24 34 28 40C28 40 32 34 34 40",className:"stroke-current fill-none",strokeWidth:"2"}),d.jsx("path",{d:"M12 24H36",className:"stroke-current opacity-20",strokeWidth:"1"}),d.jsx("path",{d:"M12 30H36",className:"stroke-current opacity-10",strokeWidth:"1"}),d.jsx("path",{d:"M8 12L16 20M8 20L16 12",className:"stroke-current opacity-60",strokeWidth:"2"})]}),c2=({className:t})=>d.jsxs(Pe,{className:t,title:"Condition Remedy",children:[d.jsx("path",{d:"M20 14V8H28V14L34 36C34 40 30 42 24 42C18 42 14 40 14 36L20 14Z",className:"stroke-current fill-none",strokeWidth:"2.5"}),d.jsx("path",{d:"M16 30H32",className:"stroke-current opacity-60"}),d.jsx("path",{d:"M30 6L32 2M32 6L30 2",className:"stroke-current"}),d.jsx("path",{d:"M36 12L38 8M38 12L36 8",className:"stroke-current opacity-80"})]}),u2=({className:t})=>d.jsxs(Pe,{className:t,title:"Electrocute Chance",children:[d.jsx("path",{d:"M28 2L14 26H26L20 46L36 20H24L28 2Z",className:"text-yellow-500 stroke-current fill-current opacity-80",strokeWidth:"2",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 12L8 8",className:"stroke-current opacity-50"}),d.jsx("path",{d:"M40 36L44 40",className:"stroke-current opacity-50"}),d.jsx("path",{d:"M36 4L40 8",className:"stroke-current opacity-30"})]}),d2=({className:t})=>d.jsxs(Pe,{className:t,title:"Curse Chance",children:[d.jsx("path",{d:"M24 8 C16 8 12 14 12 22 C12 30 16 38 24 38 C32 38 36 30 36 22 C36 14 32 8 24 8 Z",className:"text-purple-900 stroke-current fill-none",strokeWidth:"2.5"}),d.jsx("circle",{cx:"20",cy:"20",r:"2",className:"fill-current"}),d.jsx("circle",{cx:"28",cy:"20",r:"2",className:"fill-current"}),d.jsx("path",{d:"M18 30 H30",className:"stroke-current"}),d.jsx("path",{d:"M20 28 V32 M24 28 V32 M28 28 V32",className:"stroke-current"}),d.jsx("path",{d:"M32 10 L36 6 M34 14 L38 10",className:"stroke-current opacity-60"}),d.jsx("path",{d:"M12 10 L8 6",className:"stroke-current opacity-60"})]}),qe=t=>t.gt(0),Lt={HP:{key:"HP",label:"HP",fullName:"Hit Points",description:"Represents health. Felled when it reaches 0.",baseValue:new f(10),icon:Dv,colorClass:"text-red-600",format:{decimals:2,suffix:""},sketchKey:"maxHp",categories:["Defense"],displayCondition:()=>!0},ATK:{key:"ATK",label:"ATK",fullName:"Attack Damage",description:"Damage dealt per attack.",baseValue:new f(1),icon:Jy,colorClass:"text-neutral-900 dark:text-neutral-100",format:{decimals:2,suffix:""},sketchKey:"attack",categories:["Offense"],displayCondition:()=>!0},SPD:{key:"SPD",label:"SPD",fullName:"Attack Speed",description:"Time interval (ms) between attacks (lower is faster).",baseValue:new f(3e3),icon:ts,colorClass:"text-blue-600",format:{decimals:0,suffix:""},sketchKey:"attackSpeed",categories:["Offense","Utility"],displayCondition:()=>!0},Regen:{key:"Regen",label:"RGN",fullName:"Health Regeneration",description:"Amount of Health recovered per second.",baseValue:new f(0),icon:Lv,colorClass:"text-green-600",format:{decimals:2,suffix:"/s"},sketchKey:"regen",categories:["Defense"],displayCondition:qe},Dodge:{key:"Dodge",label:"DDG",fullName:"Dodge Chance",description:"Percent chance to completely evade an attack.",baseValue:new f(0),icon:Ov,colorClass:"text-neutral-500",format:{decimals:1,suffix:"%"},sketchKey:"dodge",categories:["Defense","Chance"],displayCondition:qe,isCapped:!0},Lifesteal:{key:"Lifesteal",label:"LFS",fullName:"Lifesteal",description:"Percentage of damage dealt that heals.",baseValue:new f(0),icon:Hv,colorClass:"text-purple-600",format:{decimals:1,suffix:"%"},sketchKey:"lifesteal",categories:["Offense","Defense","Utility"],displayCondition:qe},CritChance:{key:"CritChance",label:"CRC",fullName:"Critical Chance",description:"Percent chance to land a Critical Hit.",baseValue:new f(0),icon:zv,colorClass:"text-orange-600",format:{decimals:1,suffix:"%"},sketchKey:"critChance",categories:["Offense","Chance"],displayCondition:qe,isCapped:!0},CritDmg:{key:"CritDmg",label:"CRD",fullName:"Critical Damage",description:"Damage multiplier applied when a Critical Hit occurs.",baseValue:new f(100),icon:Uv,colorClass:"text-red-800 dark:text-red-400",format:{decimals:1,suffix:"%"},sketchKey:"critDmg",categories:["Offense"],displayCondition:t=>t.gt(100)},Armor:{key:"Armor",label:"ARM",fullName:"Armor",description:"Flat damage reduction applied to incoming attacks.",baseValue:new f(0),icon:Pv,colorClass:"text-slate-600",format:{decimals:2,suffix:""},sketchKey:"armor",categories:["Defense"],displayCondition:qe},MinDamage:{key:"MinDamage",label:"MND",fullName:"Minimum Damage",description:"Minimum damage multiplier (as %) for the lower range of damage.",baseValue:new f(75),icon:Iv,colorClass:"text-stone-600 dark:text-stone-400",format:{decimals:2,suffix:"%"},sketchKey:"minDamage",categories:["Offense"],displayCondition:()=>!0},MaxDamage:{key:"MaxDamage",label:"MXD",fullName:"Maximum Damage",description:"Maximum damage multiplier (as %) for the upper range of damage.",baseValue:new f(125),icon:Bv,colorClass:"text-stone-600 dark:text-stone-400",format:{decimals:2,suffix:"%"},sketchKey:"maxDamage",categories:["Offense"],displayCondition:()=>!0},Accuracy:{key:"Accuracy",label:"ACC",fullName:"Accuracy",description:"Chance to hit through Dodge or Parry.",baseValue:new f(0),icon:Gv,colorClass:"text-teal-600",format:{decimals:2,suffix:"%"},sketchKey:"accuracy",categories:["Offense","Chance"],displayCondition:qe,isCapped:!0},ArmorPen:{key:"ArmorPen",label:"APN",fullName:"Armor Penetration",description:"Flat amount of Armor ignored on attack.",baseValue:new f(0),icon:Vv,colorClass:"text-zinc-500",format:{decimals:2,suffix:""},sketchKey:"armorPen",categories:["Offense"],displayCondition:qe},Execute:{key:"Execute",label:"EXC",fullName:"Execute",description:"Bonus damage dealt when target is below 30% HP.",baseValue:new f(0),icon:Yv,colorClass:"text-rose-700",format:{decimals:2,suffix:"%"},sketchKey:"execute",categories:["Offense"],displayCondition:qe},Parry:{key:"Parry",label:"PRR",fullName:"Parry Chance",description:"Chance to avoid an attack and reflect damage.",baseValue:new f(0),icon:qv,colorClass:"text-amber-600",format:{decimals:2,suffix:"%"},sketchKey:"parry",categories:["Defense","Chance","Utility"],displayCondition:qe,isCapped:!0},ParryDmg:{key:"ParryDmg",label:"PRD",fullName:"Parry Damage",description:"Percentage of damage reflected when Parrying.",baseValue:new f(0),icon:Kv,colorClass:"text-amber-800",format:{decimals:2,suffix:"%"},sketchKey:"parryDmg",categories:["Offense"],displayCondition:qe},GlancingBlow:{key:"GlancingBlow",label:"GLB",fullName:"Glancing Blow",description:"Chance to convert an incoming Critical Hit to a normal hit.",baseValue:new f(0),icon:Fv,colorClass:"text-indigo-400",format:{decimals:2,suffix:"%"},sketchKey:"glancingBlow",categories:["Defense","Chance"],displayCondition:qe,isCapped:!0},Counter:{key:"Counter",label:"CTR",fullName:"Counter Chance",description:"Chance to launch an immediate counter-attack after being hit.",baseValue:new f(0),icon:$v,colorClass:"text-violet-600",format:{decimals:2,suffix:"%"},sketchKey:"counter",categories:["Defense","Offense","Chance"],displayCondition:qe,isCapped:!0},BleedChance:{key:"BleedChance",label:"BLD",fullName:"Bleed Chance",description:"Chance to apply Bleed. Bleeding targets take damage when they attack.",baseValue:new f(0),icon:Xv,colorClass:"text-red-700",format:{decimals:2,suffix:"%"},sketchKey:"bleedChance",categories:["Debuffs","Chance","Offense"],displayCondition:qe},BurnChance:{key:"BurnChance",label:"BRN",fullName:"Burn Chance",description:"Chance to apply Burn. Burning targets take damage when attacking.",baseValue:new f(0),icon:jg,colorClass:"text-orange-500",format:{decimals:2,suffix:"%"},sketchKey:"burnChance",categories:["Debuffs","Chance","Offense"],displayCondition:qe},BurnDamage:{key:"BurnDamage",label:"BRD",fullName:"Burn Damage",description:"Damage dealt per stack of Burn.",baseValue:new f(1),icon:jg,colorClass:"text-orange-600",format:{suffix:"",decimals:1},sketchKey:"burnDamage",categories:["Debuffs","Offense"],displayCondition:t=>t.gt(1)},HinderChance:{key:"HinderChance",label:"HIN",fullName:"Hinder Chance",description:"Chance to apply Hinder. Hindered targets may fail their attack.",baseValue:new f(0),icon:Zv,colorClass:"text-neutral-500",format:{decimals:2,suffix:"%"},sketchKey:"hinderChance",categories:["Debuffs","Chance","Utility"],displayCondition:qe},PlagueChance:{key:"PlagueChance",label:"PLG",fullName:"Plague Chance",description:"Chance to apply Plague. Plague deals 1 damage per stack/sec and spreads.",baseValue:new f(0),icon:Qv,colorClass:"text-lime-700",format:{decimals:2,suffix:"%"},sketchKey:"plagueChance",categories:["Debuffs","Chance","Offense"],displayCondition:qe},PoisonChance:{key:"PoisonChance",label:"PSN",fullName:"Poison Chance",description:"Chance to apply Poison. Poison deals 0.1% Max HP damage per stack/sec.",baseValue:new f(0),icon:Wv,colorClass:"text-fuchsia-600",format:{decimals:2,suffix:"%"},sketchKey:"poisonChance",categories:["Debuffs","Chance","Offense"],displayCondition:qe},HypnotizeChance:{key:"HypnotizeChance",label:"HYP",fullName:"Hypnotize Chance",description:"Chance to apply Hypnotize. Hypnotized targets may attack themselves.",baseValue:new f(0),icon:Jv,colorClass:"text-pink-500",format:{decimals:2,suffix:"%"},sketchKey:"hypnotizeChance",categories:["Debuffs","Chance","Utility","Offense"],displayCondition:qe},SlowChance:{key:"SlowChance",label:"SLW",fullName:"Slow Chance",description:"Chance to apply Slow. Slow reduces Attack Speed by 1% per stack.",baseValue:new f(0),icon:e2,colorClass:"text-indigo-600",format:{decimals:2,suffix:"%"},sketchKey:"slowChance",categories:["Debuffs","Chance","Utility"],displayCondition:qe},FrailtyChance:{key:"FrailtyChance",label:"FRL",fullName:"Frailty Chance",description:"Chance to apply Frailty. Frailty increases damage taken by 1% per stack.",baseValue:new f(0),icon:t2,colorClass:"text-emerald-800 dark:text-emerald-400",format:{decimals:2,suffix:"%"},sketchKey:"frailtyChance",categories:["Debuffs","Chance","Utility"],displayCondition:qe},FreezeChance:{key:"FreezeChance",label:"FRZ",fullName:"Freeze Chance",description:"Chance to apply Freeze. Freeze reduces Regen by 1% per stack (Inverts > 100%).",baseValue:new f(0),icon:n2,colorClass:"text-cyan-500",format:{decimals:2,suffix:"%"},sketchKey:"freezeChance",categories:["Debuffs","Chance","Utility"],displayCondition:qe},MultiStrikeChance:{key:"MultiStrikeChance",label:"MST",fullName:"Multi Strike Chance",description:"Percent chance to attack more than once. Can exceed 100% for additional strikes.",baseValue:new f(0),icon:a2,colorClass:"text-yellow-600",format:{decimals:1,suffix:"%"},sketchKey:"multiStrikeChance",categories:["Offense","Chance"],displayCondition:qe},BlockChance:{key:"BlockChance",label:"BLK",fullName:"Block Chance",description:"Chance to Block flat damage.",baseValue:new f(0),icon:r2,colorClass:"text-sky-700 dark:text-sky-400",format:{decimals:1,suffix:"%"},sketchKey:"blockChance",categories:["Defense","Chance"],displayCondition:qe,isCapped:!0},BlockAmount:{key:"BlockAmount",label:"BLA",fullName:"Block Amount",description:"Flat damage subtracted when a Block occurs.",baseValue:new f(0),icon:i2,colorClass:"text-sky-900 dark:text-sky-300",format:{decimals:1,suffix:""},sketchKey:"blockAmount",categories:["Defense"],displayCondition:qe},HasteChance:{key:"HasteChance",label:"HST",fullName:"Haste Chance",description:"Chance to gain 1 stack of Haste on attack. Haste increases Attack Speed by 1%.",baseValue:new f(0),icon:o2,colorClass:"text-amber-500",format:{decimals:1,suffix:"%"},sketchKey:"hasteChance",categories:["Buffs","Chance","Utility"],displayCondition:qe},Absorb:{key:"Absorb",label:"ABS",fullName:"Damage Absorb",description:"Percentage of final calculated attack damage that gets ignored.",baseValue:new f(0),icon:s2,colorClass:"text-emerald-500",format:{decimals:2,suffix:"%"},sketchKey:"absorb",categories:["Defense"],displayCondition:qe,isCapped:!0},Opacity:{key:"Opacity",label:"OPC",fullName:"Debuff Opacity",description:"Reduces the chance of receiving debuffs.",baseValue:new f(0),icon:l2,colorClass:"text-slate-400",format:{decimals:2,suffix:"%"},sketchKey:"opacity",categories:["Defense","Utility"],displayCondition:qe,isCapped:!0},Remedy:{key:"Remedy",label:"RMD",fullName:"Condition Remedy",description:"Chance on each attack to remove 1 stack of a random debuff. Exceeding 100% chance removes multiple.",baseValue:new f(0),icon:c2,colorClass:"text-teal-400",format:{decimals:2,suffix:"%"},sketchKey:"remedy",categories:["Utility"],displayCondition:qe},ElectrocuteChance:{key:"ElectrocuteChance",label:"ELC",fullName:"Electrocute Chance",description:"Chance to apply Electrocute. Electrocuted targets take random extra damage when attacked.",baseValue:new f(0),icon:u2,colorClass:"text-yellow-600",format:{decimals:2,suffix:"%"},sketchKey:"electrocuteChance",categories:["Debuffs","Chance","Offense"],displayCondition:qe},CurseChance:{key:"CurseChance",label:"CRS",fullName:"Curse Chance",description:"Chance to apply Curse. Cursed targets take extra damage when attacked.",baseValue:new f(0),icon:d2,colorClass:"text-purple-800 dark:text-purple-400",format:{decimals:2,suffix:"%"},sketchKey:"curseChance",categories:["Debuffs","Chance","Offense"],displayCondition:qe}},lc=Object.values(Lt).reduce((t,a)=>(t[a.key]=a.description,t),{}),ex={Graphite:{label:"Graphite",code:"GRA",desc:"Primary resource from sketches."},Wax:{label:"Wax",code:"WAX",desc:"Waxy residue."},Charcoal:{label:"Charcoal",code:"CHA",desc:"Burnt wood."},Coffee:{label:"Coffee",code:"COF",desc:"Liquid energy."},Ink:{label:"Ink",code:"INK",desc:"Permanent liquid."},Marker:{label:"Marker",code:"MAR",desc:"Bold strokes."},Acrylic:{label:"Acrylic",code:"ACR",desc:"Plastic paint."},Spray:{label:"Spray",code:"SPR",desc:"Aerosol gas."},Photon:{label:"Photon",code:"PHO",desc:"Pure light."},"Gold Leaf":{label:"Gold Leaf",code:"GOL",desc:"Precious metal."}},dr=["Graphite","Wax","Charcoal","Coffee","Ink","Marker","Acrylic","Spray","Photon","Gold Leaf"],qi=[new f("1618"),new f("16777216"),new f("3.2e9"),new f("6.626e34"),new f("1e80"),new f("1e308"),new f("1e1618")],cc=Object.values(Lt).reduce((t,a)=>(t[a.key]=a.fullName,t),{}),r0=Object.values(Lt).reduce((t,a)=>(t[a.key]=a.baseValue,t),{}),Mn=[{id:"AUTO_CHALLENGE",name:"Auto-Challenge",type:"ACTIVE_PROTOCOL",cost:new f(5),currency:"Graphite",description:"Automatically fight the same enemy again if you survive.",icon:"Speed",iconColor:"text-purple-600",unlockKey:"autoChallengeUnlocked"},{id:"SOFT_ERASER",name:"Soft Eraser",type:"MODIFIER",cost:new f(5),currency:"Wax",description:"Reduces the cost of all Graphite upgrades by 50%.",icon:"Graphite",iconColor:"text-amber-500",unlockKey:"waxToolUnlocked"},{id:"GRAPHITE_PUMP",name:"Graphite Pump",type:"GENERATOR",cost:new f(5),currency:"Charcoal",description:"Automatically produces 0.1 Graphite per second.",icon:"Graphite",iconColor:"text-neutral-800",unlockKey:"graphiteGeneratorUnlocked"},{id:"AUTO_RETRY",name:"Auto-Retry",type:"ACTIVE_PROTOCOL",cost:new f(5),currency:"Coffee",description:"After losing battle, automatically challenge same opponent when cooldown finishes.",icon:"Speed",iconColor:"text-blue-500",unlockKey:"autoRetryUnlocked"},{id:"CHARCOAL_DISCOUNT",name:"Burnt Edges",type:"MODIFIER",cost:new f(1e3),currency:"Graphite",description:"Reduces the cost of all Charcoal upgrades by 50%.",icon:"Charcoal",iconColor:"text-neutral-700",unlockKey:"charcoalDiscountUnlocked"},{id:"WAX_GENERATOR",name:"Wax on Wax",type:"GENERATOR",cost:new f(1e3),currency:"Wax",description:"Automatically produces 0.1 Wax per second.",icon:"Wax",iconColor:"text-amber-200",unlockKey:"waxGeneratorUnlocked"},{id:"GRAPHITE_PLUS",name:"Graphite Generator",type:"GENERATOR",cost:new f(1e3),currency:"Charcoal",description:"Automatically produces 0.01% of Graphite you have gotten from Battle Rewards per second.",icon:"Graphite",iconColor:"text-neutral-900",unlockKey:"graphitePlusUnlocked"},{id:"AUTO_ADVANCE",name:"Portfolio Review",type:"ACTIVE_PROTOCOL",cost:new f(1e3),currency:"Coffee",description:"If auto-challenge reaches Max Victories, automatically move on to the next sketch.",icon:"Speed",iconColor:"text-green-600",unlockKey:"autoAdvanceUnlocked"},{id:"BUY_MAX",name:"Bulk Order",type:"SPECIAL",cost:new f(5),currency:"Ink",description:"Unlock the ability to purchase the maximum affordable amount of an upgrade at once.",icon:"Ink",iconColor:"text-neutral-900",unlockKey:"buyMaxUnlocked"},{id:"AUTO_BUY",name:"Standing Order",type:"SPECIAL",cost:new f(1e3),currency:"Ink",description:"Unlock a toggle to automatically purchase upgrades when affordable.",icon:"Speed",iconColor:"text-green-600",unlockKey:"autoBuyUnlocked"},{id:"AUTO_HIDE_MAXED",name:"Curator's Choice",type:"ACTIVE_PROTOCOL",cost:new f(5),currency:"Marker",description:"Automatically hide sketches from the gallery when they reach Max Victories.",icon:"Marker",iconColor:"text-neutral-500",unlockKey:"autoHideMaxedUnlocked"},{id:"WAX_OVERDRIVE",name:"Wax Generator",type:"GENERATOR",cost:new f(1e3),currency:"Marker",description:"Automatically produces 0.01% of Wax you have gotten from Battle Rewards per second.",icon:"Wax",iconColor:"text-yellow-600",unlockKey:"waxOverdriveUnlocked"},{id:"CHARCOAL_OVERDRIVE",name:"Charcoal Generator",type:"GENERATOR",cost:new f(1e6),currency:"Graphite",description:"Automatically produces 0.01% of Charcoal you have gotten from Battle Rewards per second.",icon:"Charcoal",iconColor:"text-neutral-700",unlockKey:"charcoalOverdriveUnlocked"},{id:"COFFEE_GENERATOR",name:"Coffee Generator",type:"GENERATOR",cost:new f(1e6),currency:"Wax",description:"Automatically produces 0.01% of Coffee you have gotten from Battle Rewards per second.",icon:"Coffee",iconColor:"text-amber-800",unlockKey:"coffeeGeneratorUnlocked"},{id:"CONCEPTUAL_BRIDGE",name:"Conceptual Bridge",type:"ACTIVE_PROTOCOL",cost:new f(1e6),currency:"Charcoal",description:"Automatically advances Concept Milestones if you have reached them in a previous Redraw.",icon:"Speed",iconColor:"text-orange-500",unlockKey:"conceptualBridgeUnlocked"},{id:"INK_GENERATOR",name:"Ink Generator",type:"GENERATOR",cost:new f(1e6),currency:"Coffee",description:"Automatically produces 0.01% of Ink you have gotten from Battle Rewards per second.",icon:"Ink",iconColor:"text-purple-600",unlockKey:"inkGeneratorUnlocked"},{id:"MARKER_GENERATOR",name:"Marker Generator",type:"GENERATOR",cost:new f(1e6),currency:"Ink",description:"Automatically produces 0.01% of Marker you have gotten from Battle Rewards per second.",icon:"Marker",iconColor:"text-sky-600",unlockKey:"markerGeneratorUnlocked"},{id:"COFFEE_DISCOUNT",name:"Caffeine Drip",type:"MODIFIER",cost:new f(1e6),currency:"Marker",description:"Reduces the cost of all Coffee upgrades by 50%.",icon:"Coffee",iconColor:"text-amber-800",unlockKey:"coffeeDiscountUnlocked"},{id:"WAX_DISCOUNT",name:"Wax Coating",type:"MODIFIER",cost:new f(1e3),currency:"Acrylic",description:"Reduces the cost of all Wax upgrades by 50%.",icon:"Wax",iconColor:"text-amber-300",unlockKey:"waxDiscountUnlocked"},{id:"INK_DISCOUNT",name:"Ink Thinner",type:"MODIFIER",cost:new f(1e6),currency:"Acrylic",description:"Reduces the cost of all Ink upgrades by 50%.",icon:"Ink",iconColor:"text-amber-300",unlockKey:"inkDiscountUnlocked"}],f2=t=>Mn.find(a=>a.id===t),sr=[{id:"upgrade_hp_graphite",stat:"HP",name:"Thick Paper",description:"+1% HP per level",currency:"Graphite",cost:t=>new f(1).times(new f(1.05).pow(t)),multiplier:t=>new f(1).plus(new f(.01).times(t))},{id:"upgrade_atk_graphite",stat:"ATK",name:"Bold Lines",description:"+1% ATK per level",currency:"Graphite",cost:t=>new f(1).times(new f(1.05).pow(t)),multiplier:t=>new f(1).plus(new f(.01).times(t))},{id:"upgrade_spd_graphite",stat:"SPD",name:"Quick Strokes",description:"*0.999 Delay per level",currency:"Graphite",cost:t=>new f(5).times(new f(2).pow(t)),multiplier:t=>new f(.999).pow(t)},{id:"upgrade_critdmg_wax",stat:"CritDmg",name:"Sharp Edges",description:"+1.5% Crit DMG per level",currency:"Wax",cost:t=>new f(2).times(new f(2).pow(t)),multiplier:t=>new f(1).plus(new f(.015).times(t))},{id:"upgrade_atk_wax",stat:"ATK",name:"Wax Seal",description:"+1% ATK per level",currency:"Wax",cost:t=>new f(1).times(new f(1.1).pow(t)),multiplier:t=>new f(1).plus(new f(.01).times(t))},{id:"upgrade_dodge_wax",stat:"Dodge",name:"Liquid Motion",description:"+0.1% Dodge per level",currency:"Wax",cost:t=>new f(1500).times(new f(2).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_hp_charcoal",stat:"HP",name:"Thick Shading",description:"+1% HP per level",currency:"Charcoal",cost:t=>new f(1).times(new f(1.1).pow(t)),multiplier:t=>new f(1).plus(new f(.01).times(t))},{id:"upgrade_armor_charcoal",stat:"Armor",name:"Compressed Charcoal",description:"+1% Armor per level",currency:"Charcoal",cost:t=>new f(4).times(new f(1.5).pow(t)),multiplier:t=>new f(1).plus(new f(.01).times(t))},{id:"upgrade_glancing_charcoal",stat:"GlancingBlow",name:"Smudged Lines",description:"+0.1% Glancing Blow per level",currency:"Charcoal",cost:t=>new f(2e3).times(new f(2).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_maxdamage_coffee",stat:"MaxDamage",name:"Calculated Risk",description:"+0.1% Max DMG per level",currency:"Coffee",cost:t=>new f(1).times(new f(1.05).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_counter_coffee",stat:"Counter",name:"Reaction Time",description:"+0.1% Counter per level",currency:"Coffee",cost:t=>new f(5).times(new f(2.5).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_parrydmg_coffee",stat:"ParryDmg",name:"Bitter Aftertaste",description:"+0.1% Parry Damage per level",currency:"Coffee",cost:t=>new f(2500).times(new f(2).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_critchance_ink",stat:"CritChance",name:"Precision Work",description:"+0.1% Crit Chance per level",currency:"Ink",cost:t=>new f(5).times(new f(5).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_mindmg_ink",stat:"MinDamage",name:"Steady Hand",description:"+0.1% Min Damage per level",currency:"Ink",cost:t=>new f(1).times(new f(1.1).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_execute_ink",stat:"Execute",name:"Final Touches",description:"+0.1% Execute per level",currency:"Ink",cost:t=>new f(3e3).times(new f(2).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_lifesteal_marker",stat:"Lifesteal",name:"Vampiric Touch",description:"+0.1% Lifesteal per level",currency:"Marker",cost:t=>new f(1).times(new f(1.25).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_armorpen_marker",stat:"ArmorPen",name:"Serrated Edge",description:"+1% Armor Pen per level",currency:"Marker",cost:t=>new f(5).times(new f(1.5).pow(t)),multiplier:t=>new f(1).plus(new f(.01).times(t))},{id:"upgrade_blockamount_marker",stat:"BlockAmount",name:"Solid Fill",description:"+0.1% Block Amount per level",currency:"Marker",cost:t=>new f(3500).times(new f(2).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_bleed_acrylic",stat:"BleedChance",name:"Red Spill",description:"+0.1% Bleed Chance per level",currency:"Acrylic",cost:t=>new f(5).times(new f(2.5).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_plague_acrylic",stat:"PlagueChance",name:"Toxic Pigment",description:"+0.1% Plague Chance per level",currency:"Acrylic",cost:t=>new f(10).times(new f(2).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))},{id:"upgrade_hypnotize_acrylic",stat:"HypnotizeChance",name:"Swirling Colors",description:"+0.1% Hypnotize Chance per level",currency:"Acrylic",cost:t=>new f(4e3).times(new f(3).pow(t)),multiplier:t=>new f(1).plus(new f(.001).times(t))}],he=new f(0),lr=new f(1);new f(10);const Nn=new f(100),h2=new f(75),m2=new f(125),p2=new f(.3),at=(t,a,i,o,s)=>{const c=typeof o=="string"?o:ve(o,2),u={id:Math.random().toString(36).substr(2,9),timestamp:Date.now(),type:a,target:i,value:c,isCrit:s};return[...t,u].slice(-50)},g2=(t,a,i,o,s,c,u,m={})=>{let g=c,p=s;const b=t.MinDamage||t.minDamage||h2,x=t.MaxDamage||t.maxDamage||m2,w=b.div(Nn),E=x.div(Nn),T=Math.random(),k=w.plus(E.minus(w).times(T));p=p.times(k);const z=(o.isZero()?lr:i.div(o)).lte(p2),M=t.Execute||t.execute||he;if(z&&M.gt(he)){const K=M.div(Nn).plus(lr);p=p.times(K)}let _=!1;const R=t.CritChance||t.critChance||he;if(R.gt(he)&&Math.random()*100<R.toNumber()){const K=a.GlancingBlow||a.glancingBlow||he;if(K.gt(he)&&Math.random()*100<K.toNumber())_=!1,g=at(g,"damage",u,"Glancing");else{const G=(t.CritDmg||t.critDmg||Nn).div(Nn);p=p.times(G),_=!0}}const q=a.Dodge||a.dodge||he;if(q.gt(he)&&Math.random()*100<q.toNumber()){const K=t.Accuracy||t.accuracy||he;if(Math.random()*100>=K.toNumber())return g=at(g,"dodge",u,"Dodge"),{damageEvents:g,newHp:i,isHit:!1,isDead:!1,counterTriggered:!1}}const I=a.Parry||a.parry||he;if(I.gt(he)&&Math.random()*100<I.toNumber()){const K=t.Accuracy||t.accuracy||he;if(Math.random()*100>=K.toNumber()){g=at(g,"dodge",u,"Parried!");const X=a.ParryDmg||a.parryDmg||he;let G=he;if(X.gt(he)){const L=X.div(Nn);G=p.times(L)}return{damageEvents:g,newHp:i,isHit:!1,isDead:!1,counterTriggered:!1,reflectedDamage:G}}}const Y=a.BlockChance||a.blockChance||he;if(Y.gt(he)&&Math.random()*100<Y.toNumber()){const K=a.BlockAmount||a.blockAmount||he;if(K.gt(he)){const X=f.min(p,K);p=p.minus(X),g=at(g,"damage",u,"Blocked")}}const v=a.Armor||a.armor||he,N=t.ArmorPen||t.armorPen||he,B=f.max(he,v.minus(N));B.gt(he)&&(p=f.max(he,p.minus(B)));const H=a.Absorb||a.absorb||he;if(H.gt(he)){const K=f.min(H,Nn).div(Nn),X=p.times(K);p=p.minus(X)}const U=m.Electrocute||0;let F=he;U>0&&(F=p.times(U/100).times(Math.random()),F.gt(0)&&(g=at(g,"electrocute",u,F)));const D=m.Curse||0;let j=he;if(D>0){const K=new f(D).times(.01);j=p.times(K),j.gt(0)&&(g=at(g,"curse",u,j))}const S=i.minus(p).minus(F).minus(j);g=at(g,"damage",u,p,_);const P=a.Counter||a.counter||he,A=P.gt(he)&&Math.random()*100<P.toNumber();return{damageEvents:g,newHp:S,isHit:!0,isDead:S.lte(he),counterTriggered:A}},Rg=(t,a,i,o,s,c,u,m,g,p,b)=>{let x=m,w=s,E=i,T={...p},k={...b},O=!1,z=!1;const M=t.Remedy||t.remedy||he;if(M.gt(0)){const B=["Bleed","Burn","Plague","Poison","Hypnotize","Slow","Frailty","Freeze","Hinder"],H=M.toNumber(),U=Math.floor(H/100),F=H%100,D=U+(Math.random()*100<F?1:0);for(let j=0;j<D;j++){const S=Object.keys(T).filter(P=>B.includes(P)&&T[P]>0);if(S.length>0){const P=S[Math.floor(Math.random()*S.length)];T[P]--,T[P]<=0&&delete T[P],x=at(x,"heal",g==="enemy"?"enemy":"player","Cleanse")}else break}}const _=p.Hinder||0;if(_>0){const B=Math.min(100,_)/100;if(Math.random()<B)return x=at(x,"dodge",g==="enemy"?"player":"enemy","Hindered!"),{newDefenderHp:E,newAttackerHp:w,damageEvents:x,counterTriggered:!1,isHit:!1,newAttackerStatuses:T,newDefenderStatuses:k}}const R=t.MultiStrikeChance||t.multiStrikeChance||he;let q=1;if(R.gt(0)){const B=R.toNumber(),H=Math.floor(B/100),U=B%100;q+=H+(Math.random()*100<U?1:0)}const I=t.HasteChance||t.hasteChance||he;for(let B=0;B<q&&!E.lte(0);B++){const H=g2(t,a,E,o,u,x,g,k);if(E=H.newHp,x=H.damageEvents,H.isHit&&(O=!0),H.counterTriggered&&(z=!0),I.gt(0)){const U=I.toNumber(),F=Math.floor(U/100),D=U%100,j=F+(Math.random()*100<D?1:0);j>0&&(T.Haste=(T.Haste||0)+j)}if(H.reflectedDamage&&H.reflectedDamage.gt(he)){const U=H.reflectedDamage;w=f.max(he,w.minus(U)),x=at(x,"damage",g==="enemy"?"player":"enemy",U)}H.isHit&&!H.isDead&&(t.Lifesteal||t.lifesteal||he).gt(he)}if(O){const B=a.Opacity||a.opacity||he,U=1-(B.gt(0)?f.min(B,Nn).div(Nn).toNumber():0),F=t.BleedChance||t.bleedChance||he;if(F.gt(0)&&U>0){const Q=F.toNumber()*U,te=Math.floor(Q/100),ie=Q%100,oe=te+(Math.random()*100<ie?1:0);oe>0&&(k.Bleed=(k.Bleed||0)+oe)}const D=t.BurnChance||t.burnChance||he;if(D.gt(0)&&U>0){const Q=D.toNumber()*U,te=Math.floor(Q/100),ie=Q%100,oe=te+(Math.random()*100<ie?1:0);oe>0&&(k.Burn=(k.Burn||0)+oe)}const j=t.HinderChance||t.hinderChance||he;if(j.gt(0)&&U>0){const Q=j.toNumber()*U,te=Math.floor(Q/100),ie=Q%100,oe=te+(Math.random()*100<ie?1:0);oe>0&&(k.Hinder=Math.min(100,(k.Hinder||0)+oe))}const S=t.PlagueChance||t.plagueChance||he;if(S.gt(0)&&U>0){const Q=S.toNumber()*U,te=Math.floor(Q/100),ie=Q%100,oe=te+(Math.random()*100<ie?1:0);oe>0&&(k.Plague=(k.Plague||0)+oe)}const P=t.PoisonChance||t.poisonChance||he;if(P.gt(0)&&U>0){const Q=P.toNumber()*U,te=Math.floor(Q/100),ie=Q%100,oe=te+(Math.random()*100<ie?1:0);oe>0&&(k.Poison=(k.Poison||0)+oe)}const A=t.HypnotizeChance||t.hypnotizeChance||he;if(A.gt(0)&&U>0){const Q=A.toNumber()*U,te=Math.floor(Q/100),ie=Q%100,oe=te+(Math.random()*100<ie?1:0);oe>0&&(k.Hypnotize=Math.min(100,(k.Hypnotize||0)+oe))}const K=t.SlowChance||t.slowChance||he;if(K.gt(0)&&U>0){const Q=K.toNumber()*U,te=Math.floor(Q/100),ie=Q%100,oe=te+(Math.random()*100<ie?1:0);oe>0&&(k.Slow=(k.Slow||0)+oe)}const X=t.FrailtyChance||t.frailtyChance||he;if(X.gt(0)&&U>0){const Q=X.toNumber()*U,te=Math.floor(Q/100),ie=Q%100,oe=te+(Math.random()*100<ie?1:0);oe>0&&(k.Frailty=(k.Frailty||0)+oe)}const G=t.FreezeChance||t.freezeChance||he;if(G.gt(0)&&U>0){const Q=G.toNumber()*U,te=Math.floor(Q/100),ie=Q%100,oe=te+(Math.random()*100<ie?1:0);oe>0&&(k.Freeze=(k.Freeze||0)+oe)}const L=t.ElectrocuteChance||t.electrocuteChance||he;if(L.gt(0)&&U>0){const Q=L.toNumber()*U,te=Math.floor(Q/100),ie=Q%100,oe=te+(Math.random()*100<ie?1:0);oe>0&&(k.Electrocute=(k.Electrocute||0)+oe)}const Z=t.CurseChance||t.curseChance||he;if(Z.gt(0)&&U>0){const Q=Z.toNumber()*U,te=Math.floor(Q/100),ie=Q%100,oe=te+(Math.random()*100<ie?1:0);oe>0&&(k.Curse=(k.Curse||0)+oe)}}const Y=p.Bleed||0;if(Y>0){const B=i.minus(E);if(B.gt(0)){const H=new f(Y).times(.01),U=B.times(H);U.gt(0)&&(w=f.max(0,w.minus(U)),x=at(x,"bleed",g==="enemy"?"player":"enemy",U))}}const v=p.Burn||0;if(v>0){const B=a.BurnDamage||a.burnDamage||lr,H=new f(v).times(B);H.gt(0)&&(w=f.max(he,w.minus(H)),x=at(x,"burn",g==="enemy"?"player":"enemy",H))}const N=t.Lifesteal||t.lifesteal||he;if(N.gt(he)){const B=i.minus(E);if(B.gt(he)){const H=B.times(N.div(Nn));H.gt(he)&&(w=f.min(c,w.plus(H)),x=at(x,"lifesteal",g==="enemy"?"player":"enemy",H))}}return{newDefenderHp:E,newAttackerHp:w,damageEvents:x,counterTriggered:z,isHit:O,newAttackerStatuses:T,newDefenderStatuses:k}},Dg={scrap:100,rough:0,framed:0,opus:0,masterpiece:0},tx=t=>lt.filter(a=>{const i=t[a.rarity]??0;return Math.random()*100<i}).map(a=>a.id),y2=Object.keys(r0).reduce((t,a)=>(t[a]=he,t),{}),x2=["CritChance","Dodge","Accuracy","Parry","GlancingBlow","Counter","BlockChance","Absorb","Opacity"],b2=(t,a,i,o)=>{const s={},c={};Object.keys(Lt).forEach(p=>{s[p]=lr,c[p]=he}),sr.forEach(p=>{const b=a[p.id]||he,x=p.multiplier(b.toNumber());p.isAdditive?c[p.stat]=c[p.stat].plus(x):s[p.stat]=s[p.stat].times(x)});const u={};Object.keys(Lt).forEach(p=>{const b=p,x=r0[b].plus(t[b]);b==="SPD"?u[b]=f.max(50,x.times(s[b]).plus(c[b])):u[b]=x.times(s[b]).plus(c[b])}),i.attackIncrease>0&&(u.ATK=u.ATK.times(1+i.attackIncrease/100)),i.hpIncrease>0&&(u.HP=u.HP.times(1+i.hpIncrease/100)),i.regenIncrease>0&&(u.Regen=u.Regen.times(1+i.regenIncrease/100)),i.armorIncrease>0&&(u.Armor=u.Armor.times(1+i.armorIncrease/100)),i.armorPenIncrease>0&&(u.ArmorPen=u.ArmorPen.times(1+i.armorPenIncrease/100)),i.dodgeIncrease>0&&(u.Dodge=u.Dodge.times(1+i.dodgeIncrease/100)),i.minDamageIncrease>0&&(u.MinDamage=u.MinDamage.times(1+i.minDamageIncrease/100)),i.maxDamageIncrease>0&&(u.MaxDamage=u.MaxDamage.times(1+i.maxDamageIncrease/100)),i.lifestealIncrease>0&&(u.Lifesteal=u.Lifesteal.times(1+i.lifestealIncrease/100)),i.executeIncrease>0&&(u.Execute=u.Execute.times(1+i.executeIncrease/100)),i.blockChanceIncrease>0&&(u.BlockChance=u.BlockChance.times(1+i.blockChanceIncrease/100)),i.blockAmountIncrease>0&&(u.BlockAmount=u.BlockAmount.times(1+i.blockAmountIncrease/100)),i.accuracyIncrease>0&&(u.Accuracy=u.Accuracy.times(1+i.accuracyIncrease/100)),i.bleedChanceIncrease>0&&(u.BleedChance=u.BleedChance.times(1+i.bleedChanceIncrease/100)),i.plagueChanceIncrease>0&&(u.PlagueChance=u.PlagueChance.times(1+i.plagueChanceIncrease/100)),i.burnChanceIncrease>0&&(u.BurnChance=u.BurnChance.times(1+i.burnChanceIncrease/100)),i.burnDamageIncrease>0&&(u.BurnDamage=u.BurnDamage.times(1+i.burnDamageIncrease/100)),i.electrocuteChanceIncrease>0&&(u.ElectrocuteChance=u.ElectrocuteChance.times(1+i.electrocuteChanceIncrease/100)),i.curseChanceIncrease>0&&(u.CurseChance=u.CurseChance.times(1+i.curseChanceIncrease/100)),i.attackDelay>0&&(u.SPD=u.SPD.times(1-i.attackDelay/100));const m=new f(o);x2.forEach(p=>{u[p].gt(m)&&(u[p]=m)});const g=new f(i.speedCap||500);return u.SPD.lt(g)&&(u.SPD=g),u},kf=t=>{let a=new f(1);return t.forEach(i=>{const o=va[i];if(o)switch(o.rarity){case"scrap":a=a.plus(.01);break;case"rough":a=a.plus(.03);break;case"framed":a=a.plus(.1);break;case"opus":a=a.plus(.25);break;case"masterpiece":a=a.plus(.5);break}}),a},ba=(t,a,i,o,s)=>{const c=b2(t,a,i,s);return c.ATK=c.ATK.times(o),c.HP=c.HP.times(o),c},Lg=()=>({battleStats:y2,shopLevels:{},playerStats:r0,statCap:75,currencies:{Graphite:he,Wax:he,Charcoal:he,Coffee:he,Ink:he,Marker:he,Acrylic:he,Spray:he,Photon:he,"Gold Leaf":he},notificationSettings:{COMBAT_VICTORY:!0,COMBAT_DEFEAT:!0,COMBAT_FLEE:!0,SHOP_ERROR:!0,SHOP_AFFORDABLE:!0,SYSTEM_UNLOCK:!0,GAME_SAVED:!0},autoChallengeUnlocked:!1,autoChallengeActive:!1,graphiteGeneratorUnlocked:!1,waxToolUnlocked:!1,autoRetryUnlocked:!1,autoRetryActive:!1,lastEnemyId:null,charcoalDiscountUnlocked:!1,waxGeneratorUnlocked:!1,waxOverdriveUnlocked:!1,graphitePlusUnlocked:!1,charcoalOverdriveUnlocked:!1,coffeeGeneratorUnlocked:!1,markerGeneratorUnlocked:!1,inkGeneratorUnlocked:!1,autoAdvanceUnlocked:!1,autoAdvanceActive:!1,autoHideMaxedUnlocked:!1,autoHideMaxedActive:!1,buyMaxUnlocked:!1,skillTreeBuyMaxUnlocked:!1,autoBuyUnlocked:!1,autoBuyEnabled:{},conceptualBridgeUnlocked:!1,conceptualBridgeActive:!1,waxDiscountUnlocked:!1,coffeeDiscountUnlocked:!1,inkDiscountUnlocked:!1,maxReachedConceptMilestones:{Graphite:0,Wax:0,Charcoal:0,Coffee:0,Ink:0,Marker:0,Acrylic:0,Spray:0,Photon:0,"Gold Leaf":0},quintessence:he,pendingQuintessence:he,redrawCount:0,glossaryUnlocks:[],glossaryMultiplier:lr,seenGlossaryItems:[],rarityChances:{...Dg},skillLevels:{},lastPurchasedSkill:null,availableSketches:tx(Dg),concepts:{Graphite:he,Wax:he,Charcoal:he,Coffee:he,Ink:he,Marker:he,Acrylic:he,Spray:he,Photon:he,"Gold Leaf":he},conceptMilestones:{Graphite:0,Wax:0,Charcoal:0,Coffee:0,Ink:0,Marker:0,Acrylic:0,Spray:0,Photon:0,"Gold Leaf":0},challengeCooldownUntil:0,unlockedTabs:["Gallery","Shop","Archive","Settings"],activeTab:"Gallery",visibleSketchesLookahead:3,maxVictories:500,totalEarnedCurrencies:{Graphite:he,Wax:he,Charcoal:he,Coffee:he,Ink:he,Marker:he,Acrylic:he,Spray:he,Photon:he,"Gold Leaf":he},totalBattleEarnedCurrencies:{Graphite:he,Wax:he,Charcoal:he,Coffee:he,Ink:he,Marker:he,Acrylic:he,Spray:he,Photon:he,"Gold Leaf":he},hidePurchasedTools:!1,showProtocolSidebar:!1,isProtocolSidebarLocked:!1,hasNotifiedProtocolSidebar:!1,floatingStatusPosition:null,timeAcceleration:1,devSpeedEnabled:!1,combatState:{isFighting:!1,enemyId:null,lastVictory:null,currentEnemyHp:new f(0),currentPlayerHp:new f(100),enemyMaxHp:new f(100),lastPlayerAttackTime:0,lastEnemyAttackTime:0,statuses:{player:{},enemy:{}},pendingCombatEffects:[]},notifications:[],damageEvents:[],lastReward:null,lastAffordableToolIds:[],sketchVictories:{},hiddenSketches:[],rewardDiminishingMultiplier:new f(.9),graphiteCostModifier:0,fundamentals:{...a0},cooldowns:{death:10,flee:5},unlockedStories:["THE_PREMISE"],viewedStories:[],skipRedrawConfirmation:!1,currentProtagonistImage:"assets/protagonist/v1.jpg",lastSaveTime:Date.now(),hasSeenTutorial:!1,tutorialStep:null,archiveActiveSubTab:"synthesis",shopActiveSubTab:"tools",darkMode:!1,themeChosen:!1,tipInterval:30,tipScrollSpeed:9,enabledTipCategories:{TIP:!0,CRITIQUE:!1,LPT:!1,JOKE:!1,FACT:!1}});let Cf=null,Og=null;const me=Sv()(Tv((t,a)=>({...Lg(),resetGame:()=>{localStorage.removeItem("unnamed-battler-save"),window.location.reload()},setLastSaveTime:i=>t({lastSaveTime:i}),toggleProtocolSidebar:()=>t(i=>({showProtocolSidebar:!i.showProtocolSidebar})),setIsProtocolSidebarLocked:i=>t({isProtocolSidebarLocked:i}),setFloatingStatusPosition:i=>t({floatingStatusPosition:i}),toggleDarkMode:()=>t(i=>({darkMode:!i.darkMode})),setDarkMode:i=>t({darkMode:i}),markThemeChosen:()=>{t({themeChosen:!0}),a().hasSeenTutorial||a().startTutorial()},gainStat:(i,o)=>t(s=>{const c=s.battleStats[i]||new f(0),u={...s.battleStats,[i]:c.plus(o)},m=ba(u,s.shopLevels,s.fundamentals,s.glossaryMultiplier,s.statCap);return{battleStats:u,playerStats:m,lastReward:`+${o.toString()} ${i}`}}),gainCurrency:(i,o)=>t(s=>{const u=(s.currencies[i]||new f(0)).plus(o),g=(s.totalEarnedCurrencies[i]||new f(0)).plus(o);return{currencies:{...s.currencies,[i]:u},totalEarnedCurrencies:{...s.totalEarnedCurrencies,[i]:g}}}),gainCurrencies:i=>t(o=>{const s={...o.currencies},c={...o.totalEarnedCurrencies};return Object.entries(i).forEach(([u,m])=>{const g=u,p=s[g]||new f(0),b=c[g]||new f(0);s[g]=p.plus(m),c[g]=b.plus(m)}),{currencies:s,totalEarnedCurrencies:c}}),batchAdvanceMilestones:i=>t(o=>{const s={...o.conceptMilestones},c={...o.maxReachedConceptMilestones};let u={...o.concepts},m=o.unlockedStories,g=!1;return i.forEach(p=>{const b=o.totalEarnedCurrencies[p]||new f(0),x=s[p],w=qi[x];if(w&&b.gte(w)){const E=x+1,T=c[p]||0;s[p]=E,c[p]=Math.max(T,E),x===0&&(u[p]=(u[p]||new f(0)).plus(1)),p==="Graphite"&&(x===0&&!m.includes("THE_GOLDEN_RATIO")&&(m=[...m,"THE_GOLDEN_RATIO"]),x===1&&!m.includes("THE_DIGITAL_CANVAS")&&(m=[...m,"THE_DIGITAL_CANVAS"]),x===2&&!m.includes("THE_CODE_OF_LIFE")&&(m=[...m,"THE_CODE_OF_LIFE"])),g=!0}}),g?{conceptMilestones:s,maxReachedConceptMilestones:c,concepts:u,unlockedStories:m}:o}),recordBattleReward:(i,o)=>{a().gainCurrency(i,o),t(s=>{const c=s.totalBattleEarnedCurrencies[i]||new f(0);return{totalBattleEarnedCurrencies:{...s.totalBattleEarnedCurrencies,[i]:c.plus(o)}}})},fleeBattle:()=>{const{endCombat:i,fundamentals:o}=a();a().addNotification("Fled from battle!","COMBAT_FLEE"),t({lastEnemyId:null}),i(o.fleePenalty)},completeBattle:i=>{a().endCombat(i?0:10)},getRewardMultiplier:i=>{const o=a().sketchVictories[i]||0,s=a().fundamentals.diminishingReturns;return(f.isBigNumber(s)?s:new f(s||.9)).pow(o)},getUnlockedRarityCounts:()=>{const{glossaryUnlocks:i}=a(),o={};return lt.forEach(s=>{o[s.rarity]||(o[s.rarity]={unlocked:0,total:0}),o[s.rarity].total++,i.includes(s.id)&&o[s.rarity].unlocked++}),o},addCurrency:(i,o)=>t(s=>{const c=s.currencies[i]||new f(0),u=s.totalEarnedCurrencies[i]||new f(0);return{currencies:{...s.currencies,[i]:c.plus(o)},totalEarnedCurrencies:{...s.totalEarnedCurrencies,[i]:u.plus(o)}}}),buyUpgrade:i=>t(o=>{const s=sr.find(g=>g.id===i);if(!s)return{};const c=o.shopLevels[i]||he,u=An(Gi(s,c,{waxToolUnlocked:o.waxToolUnlocked,charcoalDiscountUnlocked:o.charcoalDiscountUnlocked,waxDiscountUnlocked:o.waxDiscountUnlocked,coffeeDiscountUnlocked:o.coffeeDiscountUnlocked,inkDiscountUnlocked:o.inkDiscountUnlocked}),s.currency,o.fundamentals),m=o.currencies[s.currency];if(m.gte(u)){const g={...o.currencies};g[s.currency]=m.minus(u);const p={...o.shopLevels};p[i]=c.plus(1);const b=ba(o.battleStats,p,o.fundamentals,o.glossaryMultiplier,o.statCap);return{currencies:g,shopLevels:p,playerStats:b}}return a().addNotification(`Insufficient ${s.currency}!`,"SHOP_ERROR"),o}),toggleAutoBuy:i=>t(o=>({autoBuyEnabled:{...o.autoBuyEnabled,[i]:!o.autoBuyEnabled[i]}})),buyMaxUpgrade:i=>t(o=>{const s=sr.find(z=>z.id===i);if(!s)return{};let c=(o.shopLevels[i]||he).toNumber();const u=s.currency,m=o.currencies[u];let g=new f(0),p=0,b=c,x=m;const w=z=>{const M=Gi(s,new f(z),{waxToolUnlocked:o.waxToolUnlocked,charcoalDiscountUnlocked:o.charcoalDiscountUnlocked,waxDiscountUnlocked:o.waxDiscountUnlocked,coffeeDiscountUnlocked:o.coffeeDiscountUnlocked,inkDiscountUnlocked:o.inkDiscountUnlocked});return An(M,s.currency,o.fundamentals)};let E=1e3;for(;E>0;){const z=w(b);if(x.gte(z))x=x.minus(z),g=g.plus(z),b++,p++,E--;else break}if(p===0)return{};const T=new f(b),k={...o.shopLevels,[i]:T},O=ba(o.battleStats,k,o.fundamentals,o.glossaryMultiplier,o.statCap);return{currencies:{...o.currencies,[u]:m.minus(g)},shopLevels:k,playerStats:O}}),unlockTool:i=>t(o=>{const s=f2(i);if(!s)return o;const c=s.unlockKey;if(o[c])return o;const u=An(s.cost,s.currency,o.fundamentals),m=s.currency,g=o.currencies[m]||new f(0);if(g.lt(u))return a().addNotification(`Insufficient ${m}!`,"SHOP_ERROR"),o;const p=g.minus(u);return{...o,currencies:{...o.currencies,[m]:p},[c]:!0,hasNotifiedProtocolSidebar:i==="AUTO_CHALLENGE"&&!o.hasNotifiedProtocolSidebar?!0:o.hasNotifiedProtocolSidebar,showProtocolSidebar:i==="AUTO_CHALLENGE"&&!o.hasNotifiedProtocolSidebar?!0:o.showProtocolSidebar}}),toggleAutoChallenge:()=>t(i=>({...i,autoChallengeActive:!i.autoChallengeActive})),toggleAutoRetry:()=>t(i=>({...i,autoRetryActive:!i.autoRetryActive})),toggleAutoAdvance:()=>t(i=>({...i,autoAdvanceActive:!i.autoAdvanceActive})),toggleAutoHideMaxed:()=>t(i=>({autoHideMaxedActive:!i.autoHideMaxedActive})),toggleConceptualBridge:()=>t(i=>({conceptualBridgeActive:!i.conceptualBridgeActive})),setHidePurchasedTools:i=>t({hidePurchasedTools:i}),setSkipRedrawConfirmation:i=>t({skipRedrawConfirmation:i}),setTipInterval:i=>t({tipInterval:i}),toggleTipCategory:i=>t(o=>({enabledTipCategories:{...o.enabledTipCategories,[i]:!o.enabledTipCategories[i]}})),advanceMilestone:i=>t(o=>{const s=o.totalEarnedCurrencies[i]||new f(0),c=o.conceptMilestones[i],u=qi[c];if(u&&s.gte(u)){const m=c+1,g=o.maxReachedConceptMilestones[i]||0,p=Math.max(g,m);let b=o.concepts[i];c===0&&(b=b.plus(1));let x=o.unlockedStories;return i==="Graphite"&&(c===0&&!x.includes("THE_GOLDEN_RATIO")&&(x=[...x,"THE_GOLDEN_RATIO"]),c===1&&!x.includes("THE_DIGITAL_CANVAS")&&(x=[...x,"THE_DIGITAL_CANVAS"]),c===2&&!x.includes("THE_CODE_OF_LIFE")&&(x=[...x,"THE_CODE_OF_LIFE"])),x!==o.unlockedStories?{conceptMilestones:{...o.conceptMilestones,[i]:m},maxReachedConceptMilestones:{...o.maxReachedConceptMilestones,[i]:p},concepts:{...o.concepts,[i]:b},unlockedStories:x}:{conceptMilestones:{...o.conceptMilestones,[i]:m},maxReachedConceptMilestones:{...o.maxReachedConceptMilestones,[i]:p},concepts:{...o.concepts,[i]:b}}}return o}),prestige:()=>t(i=>{if(i.pendingQuintessence.lt(10))return a().addNotification("Need at least 10 Quintessence to Redraw!","SHOP_ERROR"),i;const o=i.fundamentals.quintessenceGain,s=i.pendingQuintessence.times(o).div(100),c=i.quintessence.plus(i.pendingQuintessence).plus(s),u=i.redrawCount+1,m={scrap:100,rough:i.fundamentals.roughRarity,framed:i.fundamentals.framedRarity,opus:i.fundamentals.opusRarity,masterpiece:i.fundamentals.masterpieceRarity};let g=tx(m);const p={rough:i.fundamentals.roughSketches,framed:i.fundamentals.framedSketches,opus:i.fundamentals.opusSketches,masterpiece:i.fundamentals.masterpieceSketches};["rough","framed","opus","masterpiece"].forEach(q=>{const I=p[q];if(I<=0)return;const Y=g.filter(v=>{const N=lt.find(B=>B.id===v);return N&&N.rarity===q}).length;if(Y<I){const v=I-Y,N=lt.filter(H=>H.rarity===q&&i.glossaryUnlocks.includes(H.id)&&!g.includes(H.id));for(let H=N.length-1;H>0;H--){const U=Math.floor(Math.random()*(H+1));[N[H],N[U]]=[N[U],N[H]]}const B=N.slice(0,v).map(H=>H.id);g=[...g,...B]}});const x=Lg(),w=i.fundamentals.freeTools,E={AUTO_CHALLENGE:"autoChallengeUnlocked",SOFT_ERASER:"waxToolUnlocked",GRAPHITE_PUMP:"graphiteGeneratorUnlocked",AUTO_RETRY:"autoRetryUnlocked",CHARCOAL_DISCOUNT:"charcoalDiscountUnlocked",WAX_GENERATOR:"waxGeneratorUnlocked",WAX_OVERDRIVE:"waxOverdriveUnlocked",GRAPHITE_PLUS:"graphitePlusUnlocked",AUTO_ADVANCE:"autoAdvanceUnlocked",BUY_MAX:"buyMaxUnlocked",AUTO_BUY:"autoBuyUnlocked",CHARCOAL_OVERDRIVE:"charcoalOverdriveUnlocked",COFFEE_GENERATOR:"coffeeGeneratorUnlocked",INK_GENERATOR:"inkGeneratorUnlocked",MARKER_GENERATOR:"markerGeneratorUnlocked",AUTO_HIDE_MAXED:"autoHideMaxedUnlocked",WAX_DISCOUNT:"waxDiscountUnlocked",COFFEE_DISCOUNT:"coffeeDiscountUnlocked",INK_DISCOUNT:"inkDiscountUnlocked",CONCEPTUAL_BRIDGE:"conceptualBridgeUnlocked"};Mn.forEach((q,I)=>{if(I<w){const Y=E[q.id];Y&&(x[Y]=!0)}});const T=i.fundamentals.autoEnableTools;if(T>0){const q={AUTO_CHALLENGE:"autoChallengeActive",AUTO_RETRY:"autoRetryActive",AUTO_ADVANCE:"autoAdvanceActive",AUTO_HIDE_MAXED:"autoHideMaxedActive",CONCEPTUAL_BRIDGE:"conceptualBridgeActive"};let I=0;Mn.forEach(Y=>{if(Y.type==="ACTIVE_PROTOCOL"&&I<T){const v=Y.unlockKey;if(x[v]){const N=q[Y.id];N&&(x[N]=!0,I++)}}})}const k=Zo(i.skillLevels),O=ba(x.battleStats,x.shopLevels,k,i.glossaryMultiplier,i.statCap),z={death:i.fundamentals.deathRecovery,flee:i.fundamentals.fleePenalty},M=(i.skillLevels["fund-buy-max"]||0)>0;let _="assets/protagonist/v1.jpg";i.unlockedStories.includes("THE_CODE_OF_LIFE")?_="assets/protagonist/v4.jpg":i.unlockedStories.includes("THE_DIGITAL_CANVAS")?_="assets/protagonist/v3.jpg":i.unlockedStories.includes("THE_GOLDEN_RATIO")&&(_="assets/protagonist/v2.jpg"),a().addNotification(`World Redrawn! +${ve(i.pendingQuintessence.plus(s),0)} Quintessence`,"SYSTEM_UNLOCK");const R={...x,quintessence:c,pendingQuintessence:he,glossaryUnlocks:i.glossaryUnlocks,glossaryMultiplier:i.glossaryMultiplier,seenGlossaryItems:i.seenGlossaryItems,redrawCount:u,rarityChances:m,skillLevels:i.skillLevels,lastPurchasedSkill:i.lastPurchasedSkill,fundamentals:k,unlockedStories:i.unlockedStories,maxReachedConceptMilestones:i.maxReachedConceptMilestones,viewedStories:i.viewedStories,notificationSettings:i.notificationSettings,hidePurchasedTools:i.hidePurchasedTools,skipRedrawConfirmation:i.skipRedrawConfirmation,darkMode:i.darkMode,showProtocolSidebar:i.showProtocolSidebar,isProtocolSidebarLocked:i.isProtocolSidebarLocked,hasNotifiedProtocolSidebar:i.hasNotifiedProtocolSidebar,floatingStatusPosition:i.floatingStatusPosition,currentProtagonistImage:_,skillTreeBuyMaxUnlocked:M,availableSketches:g,playerStats:O,cooldowns:z,graphiteCostModifier:0};if(k.autoStartOnRedraw>0){const q=R.availableSketches[0];if(q){const I=lt.find(Y=>Y.id===q);I&&(R.combatState={...R.combatState,isFighting:!0,enemyId:q,lastVictory:null,currentPlayerHp:R.playerStats.HP,currentEnemyHp:I.stats.maxHp,enemyMaxHp:I.stats.maxHp,lastPlayerAttackTime:Date.now(),lastEnemyAttackTime:Date.now(),statuses:{player:{},enemy:{}},pendingCombatEffects:[]},R.lastEnemyId=q,R.activeTab="Ink War")}}return R}),purchaseSkillNode:i=>t(o=>{const s=Yr.find(b=>b.id===i);if(!s)return o;const c=o.skillLevels[i]??0;if(c>=s.maxLevel)return a().addNotification("Node already at max level!","SHOP_ERROR"),o;if(s.parentId!==null&&(o.skillLevels[s.parentId]??0)<1)return a().addNotification("Parent node not yet unlocked!","SHOP_ERROR"),o;const u=new f(s.baseCost).times(new f(s.costMultiplier).pow(c));if(o.quintessence.lt(u))return a().addNotification("Insufficient Quintessence!","SHOP_ERROR"),o;const m={...o.skillLevels,[i]:c+1},g=Zo(m),p=ba(o.battleStats,o.shopLevels,g,o.glossaryMultiplier,o.statCap);return{quintessence:o.quintessence.minus(u),skillLevels:m,fundamentals:g,playerStats:p,lastPurchasedSkill:i,skillTreeBuyMaxUnlocked:o.skillTreeBuyMaxUnlocked||s.effectType==="BUY_MAX_SKILL_TREE"}}),purchaseMaxSkillNode:i=>t(o=>{const s=Yr.find(w=>w.id===i);if(!s)return o;const c=o.skillLevels[i]??0;if(c>=s.maxLevel)return o;if(s.parentId!==null&&(o.skillLevels[s.parentId]??0)<1)return a().addNotification("Parent node not yet unlocked!","SHOP_ERROR"),o;const u=new f(s.baseCost).times(new f(s.costMultiplier).pow(c)),{levelsToBuy:m,totalCost:g}=Rv(u,s.costMultiplier,o.quintessence,s.maxLevel,c);if(m<=0)return a().addNotification("Insufficient Quintessence!","SHOP_ERROR"),o;const p={...o.skillLevels,[i]:c+m},b=Zo(p),x=ba(o.battleStats,o.shopLevels,b,o.glossaryMultiplier,o.statCap);return a().addNotification(`${s.name} upgraded +${m} levels!`,"SYSTEM_UNLOCK"),{quintessence:o.quintessence.minus(g),skillLevels:p,fundamentals:b,playerStats:x,lastPurchasedSkill:i,skillTreeBuyMaxUnlocked:o.skillTreeBuyMaxUnlocked||s.effectType==="BUY_MAX_SKILL_TREE"}}),challengeSketch:(i,o=!1)=>t(s=>{const c=lt.find(b=>b.id===i);if(!c)return s;const u=Date.now();if(s.challengeCooldownUntil>u)return s;if((s.sketchVictories[i]||0)>=s.maxVictories)return a().addNotification("Max Victories reached for this sketch!","SHOP_ERROR"),s.autoChallengeActive&&(a().addNotification("Auto-challenge paused (Max Victories).","COMBAT_FLEE"),s.combatState.isFighting&&a().endCombat(0)),s;let g=s.playerStats.HP,p={};if(o){const b=s.combatState.currentPlayerHp;b.gt(0)&&(g=b,p=s.combatState.statuses.player)}return{combatState:{isFighting:!0,enemyId:i,lastVictory:s.combatState.lastVictory,currentPlayerHp:g,currentEnemyHp:c.stats.maxHp,enemyMaxHp:c.stats.maxHp,lastPlayerAttackTime:Date.now(),lastEnemyAttackTime:Date.now(),statuses:{player:p,enemy:{}},pendingCombatEffects:[]},lastEnemyId:i,activeTab:o?s.activeTab:"Ink War",challengeCooldownUntil:0}}),endCombat:(i=0,o=!1)=>t(s=>{const c=i>0;return{combatState:{...s.combatState,isFighting:!1,enemyId:null,currentEnemyHp:new f(0),currentPlayerHp:s.playerStats.HP,statuses:{player:{},enemy:{}},pendingCombatEffects:[]},damageEvents:[],lastEnemyId:c?s.lastEnemyId:null,cooldowns:{...s.cooldowns,death:c?i:s.cooldowns.death},activeTab:!o&&s.activeTab==="Ink War"?"Gallery":s.activeTab,challengeCooldownUntil:i>0?Date.now()+i*1e3:0}}),setActiveTab:i=>t(o=>i==="Ink War"&&o.combatState.isFighting?{activeTab:i}:o.unlockedTabs.includes(i)?{activeTab:i}:o),addNotification:(i,o)=>{const s=o,c=a().notificationSettings;if(c&&c[s]===!1)return;const u=Math.random().toString(36).substr(2,9);t(m=>({notifications:[...m.notifications,{id:u,message:i,type:s,timestamp:Date.now()}].slice(-5)})),setTimeout(()=>{a().removeNotification(u)},4e3)},setTipScrollSpeed:i=>t({tipScrollSpeed:i}),toggleNotificationSetting:i=>t(o=>({notificationSettings:{...o.notificationSettings,[i]:!o.notificationSettings[i]}})),checkToolAffordability:()=>{const i=a();if(!i.notificationSettings.SHOP_AFFORDABLE)return;const o=[],s=[];Mn.forEach(c=>{const u=c.unlockKey;if(i[u])return;const m=An(c.cost,c.currency,i.fundamentals);(i.currencies[c.currency]||he).gte(m)&&(o.push(c.id),i.lastAffordableToolIds.includes(c.id)||s.push(c.name))}),s.length>0?(s.length>3?a().addNotification(`${s.length} Tools are now affordable!`,"SHOP_AFFORDABLE"):s.forEach(c=>{a().addNotification(`${c} is affordable!`,"SHOP_AFFORDABLE")}),t({lastAffordableToolIds:o})):t({lastAffordableToolIds:o})},removeNotification:i=>t(o=>({notifications:o.notifications.filter(s=>s.id!==i)})),addDamageEvent:i=>t(o=>({damageEvents:[...o.damageEvents,{...i,id:Math.random().toString(36).substr(2,9),timestamp:Date.now()}].slice(-50)})),processCombatEffects:()=>{const i=a();if(!i.combatState.isFighting)return;const o=Date.now(),s=i.combatState.pendingCombatEffects;if(s.length===0)return;const c=s.filter(m=>m.time<=o);if(c.length===0)return;const u=s.filter(m=>m.time>o);t(m=>({combatState:{...m.combatState,pendingCombatEffects:u}})),c.forEach(m=>{m.type==="counter"&&(m.target==="player"?(a().dealDamageToPlayer(m.amount,!0),a().addDamageEvent({type:"dodge",target:"enemy",value:"Counter!",isCrit:!1})):(a().dealDamageToEnemy(m.amount,!0),a().addDamageEvent({type:"dodge",target:"player",value:"Counter!",isCrit:!1})))})},clearDamageEvents:()=>t({damageEvents:[]}),toggleHideSketch:i=>t(o=>o.hiddenSketches.includes(i)?{hiddenSketches:o.hiddenSketches.filter(c=>c!==i)}:{hiddenSketches:[...o.hiddenSketches,i]}),unhideAllSketches:()=>t({hiddenSketches:[]}),hideSketchesAbove:i=>t(o=>{const s=Object.entries(o.sketchVictories).filter(([u,m])=>m>=i).map(([u,m])=>u);return{hiddenSketches:Array.from(new Set([...o.hiddenSketches,...s]))}}),markGlossaryItemAsSeen:i=>t(o=>o.seenGlossaryItems.includes(i)?{}:{seenGlossaryItems:[...o.seenGlossaryItems,i]}),unlockStory:i=>t(o=>o.unlockedStories.includes(i)?o:{unlockedStories:[...o.unlockedStories,i]}),completeStory:i=>{t(o=>o.viewedStories.includes(i)?o:{viewedStories:[...o.viewedStories,i]})},setTutorialStep:i=>t({tutorialStep:i}),startTutorial:()=>t({tutorialStep:1,activeTab:"Gallery",archiveActiveSubTab:"synthesis",shopActiveSubTab:"tools"}),setArchiveActiveSubTab:i=>t({archiveActiveSubTab:i}),setShopActiveSubTab:i=>t({shopActiveSubTab:i}),applyRegen:(i,o)=>t(s=>{if(!s.combatState.isFighting)return s;const{currentPlayerHp:c,currentEnemyHp:u,enemyId:m}=s.combatState,{playerStats:g}=s;let p=c,b=u,x=s.damageEvents;if(i.gt(0)){const w=g.HP,E=s.combatState.statuses.player.Freeze||0;if(E>100){const T=new f(E).times(.01).minus(1),k=i.times(T);k.gt(0)&&(p=f.max(0,c.minus(k)),x=at(x,"freeze","player",k))}else{const T=1-E*.01,k=i.times(f.max(0,T));if(c.lt(w)&&k.gt(0)){const O=f.min(k,w.minus(c));p=c.plus(O),O.gt(0)&&(x=at(x,"heal","player",O))}}}if(o.gt(0)&&m){const w=va[m];if(w){const E=w.stats.maxHp,T=s.combatState.statuses.enemy.Freeze||0;if(T>100){const k=new f(T).times(.01).minus(1),O=o.times(k);O.gt(0)&&(b=f.max(0,u.minus(O)),x=at(x,"freeze","enemy",O))}else{const k=1-T*.01,O=o.times(f.max(0,k));if(u.lt(E)&&O.gt(0)){const z=f.min(O,E.minus(u));b=u.plus(z),z.gt(0)&&(x=at(x,"heal","enemy",z))}}}}return p.eq(c)&&b.eq(u)?s:{combatState:{...s.combatState,currentPlayerHp:p,currentEnemyHp:b},damageEvents:x}}),dealDamageToEnemy:(i,o=!1,s)=>t(c=>{if(!c.combatState.isFighting)return c;const u=va[c.combatState.enemyId];if(!u)return c;const m=u.stats;let g=i;const p=c.combatState.statuses.enemy.Frailty||0;p>0&&(g=g.times(1+p*.01));const b=Rg(c.playerStats,m,c.combatState.currentEnemyHp,m.maxHp,c.combatState.currentPlayerHp,c.playerStats.HP,g,c.damageEvents,"enemy",c.combatState.statuses.player,c.combatState.statuses.enemy),x=c.combatState.statuses.player.Hypnotize||0;if(x>0){const w=Math.min(100,x)/100;if(Math.random()<w){const E=c.combatState.currentEnemyHp.minus(b.newDefenderHp),T=f.max(0,c.combatState.currentPlayerHp.minus(E)),k={...c.combatState.statuses.player};return delete k.Hypnotize,{damageEvents:at(c.damageEvents,"hypnotize","player",E),combatState:{...c.combatState,currentPlayerHp:T,currentEnemyHp:c.combatState.currentEnemyHp,lastPlayerAttackTime:o?c.combatState.lastPlayerAttackTime:s||Date.now(),statuses:{enemy:c.combatState.statuses.enemy,player:k},pendingCombatEffects:c.combatState.pendingCombatEffects}}}}if(b.counterTriggered&&!o){const w=200/(c.fundamentals.timeAcceleration||1),E={id:Math.random().toString(36).substr(2,9),type:"counter",target:"player",time:Date.now()+w,amount:m.attack};return{damageEvents:b.damageEvents,combatState:{...c.combatState,currentEnemyHp:b.newDefenderHp,currentPlayerHp:b.newAttackerHp,lastPlayerAttackTime:o?c.combatState.lastPlayerAttackTime:s||Date.now(),statuses:{player:b.newAttackerStatuses,enemy:b.newDefenderStatuses},pendingCombatEffects:[...c.combatState.pendingCombatEffects,E]}}}return{damageEvents:b.damageEvents,combatState:{...c.combatState,currentEnemyHp:b.newDefenderHp,currentPlayerHp:b.newAttackerHp,lastPlayerAttackTime:o?c.combatState.lastPlayerAttackTime:s||Date.now(),statuses:{player:b.newAttackerStatuses,enemy:b.newDefenderStatuses},pendingCombatEffects:c.combatState.pendingCombatEffects}}}),dealDamageToPlayer:(i,o=!1,s)=>t(c=>{if(!c.combatState.isFighting||c.combatState.currentEnemyHp.lte(he))return c;const u=va[c.combatState.enemyId];if(!u)return c;const m=u.stats;let g=i;const p=c.combatState.statuses.player.Frailty||0;p>0&&(g=g.times(1+p*.01));const b=Rg(m,c.playerStats,c.combatState.currentPlayerHp,c.playerStats.HP,c.combatState.currentEnemyHp,m.maxHp,g,c.damageEvents,"player",c.combatState.statuses.enemy,c.combatState.statuses.player),x=c.combatState.statuses.enemy.Hypnotize||0;if(x>0){const w=Math.min(100,x)/100;if(Math.random()<w){const E=c.combatState.currentPlayerHp.minus(b.newDefenderHp),T=f.max(0,c.combatState.currentEnemyHp.minus(E)),k={...c.combatState.statuses.enemy};return delete k.Hypnotize,{damageEvents:at(c.damageEvents,"hypnotize","enemy",E),combatState:{...c.combatState,currentEnemyHp:T,currentPlayerHp:c.combatState.currentPlayerHp,lastEnemyAttackTime:o?c.combatState.lastEnemyAttackTime:Date.now(),statuses:{player:c.combatState.statuses.player,enemy:k},pendingCombatEffects:c.combatState.pendingCombatEffects}}}}if(b.counterTriggered&&!o){const w=200/(c.fundamentals.timeAcceleration||1),E={id:Math.random().toString(36).substr(2,9),type:"counter",target:"enemy",time:Date.now()+w,amount:c.playerStats.ATK};return{damageEvents:b.damageEvents,combatState:{...c.combatState,currentEnemyHp:b.newDefenderHp,currentPlayerHp:b.newAttackerHp,lastEnemyAttackTime:o?c.combatState.lastEnemyAttackTime:Date.now(),statuses:{player:b.newDefenderStatuses,enemy:b.newAttackerStatuses},pendingCombatEffects:[...c.combatState.pendingCombatEffects,E]}}}return{damageEvents:b.damageEvents,combatState:{...c.combatState,currentPlayerHp:b.newDefenderHp,currentEnemyHp:b.newAttackerHp,lastEnemyAttackTime:o?c.combatState.lastEnemyAttackTime:s||Date.now(),statuses:{player:b.newDefenderStatuses,enemy:b.newAttackerStatuses},pendingCombatEffects:c.combatState.pendingCombatEffects}}}),processStatusTicks:()=>t(i=>{if(!i.combatState.isFighting)return i;const o=Object.keys(i.combatState.statuses.player).length>0,s=Object.keys(i.combatState.statuses.enemy).length>0;if(!o&&!s)return i;const c={...i.combatState.statuses.player},u={...i.combatState.statuses.enemy},{currentPlayerHp:m,currentEnemyHp:g,enemyId:p}=i.combatState;let b=m,x=g,w=i.damageEvents;const E=va[p],T=E?E.stats:{},k=c.Burn||0;if(k>0&&b.gt(0)){const I=(T.BurnDamage||lr).times(k);b=f.max(0,b.minus(I)),w=at(w,"damage","player",I)}const O=u.Burn||0;if(O>0&&x.gt(0)){const I=(i.playerStats.BurnDamage||lr).times(O);x=f.max(0,x.minus(I)),w=at(w,"damage","enemy",I)}const z=c.Plague||0;if(z>0&&b.gt(0)){const q=new f(1).times(z);b=f.max(0,b.minus(q)),w=at(w,"plague","player",q);let I=0;if(z<50)for(let Y=0;Y<z;Y++)Math.random()<.1&&I++;else I=Math.floor(z*.1)+(Math.random()<z*.1%1?1:0);I>0&&(c.Plague=z+I)}const M=u.Plague||0;if(M>0&&x.gt(0)){const q=new f(1).times(M);x=f.max(0,x.minus(q)),w=at(w,"plague","enemy",q);let I=0;if(M<50)for(let Y=0;Y<M;Y++)Math.random()<.1&&I++;else I=Math.floor(M*.1)+(Math.random()<M*.1%1?1:0);I>0&&(u.Plague=M+I)}const _=c.Poison||0;if(_>0&&b.gt(0)){const I=i.playerStats.HP.times(.001).times(_);I.gt(0)&&(b=f.max(0,b.minus(I)),w=at(w,"poison","player",I))}const R=u.Poison||0;if(R>0&&x.gt(0)){const I=(T.maxHp||lr).times(.001).times(R);I.gt(0)&&(x=f.max(0,x.minus(I)),w=at(w,"poison","enemy",I))}return b.eq(m)&&x.eq(g)?i:{damageEvents:w,combatState:{...i.combatState,currentPlayerHp:b,currentEnemyHp:x,statuses:{player:c,enemy:u}}}}),recordVictory:i=>t(o=>{const s=!o.glossaryUnlocks.includes(i);let c=o.playerStats,u=o.glossaryUnlocks,m=o.glossaryMultiplier;if(s){const b=lt.find(w=>w.id===i);b&&a().addNotification(`New Glossary Entry: ${b.name}`,"SYSTEM_UNLOCK"),u=[...o.glossaryUnlocks,i];const x=kf(u);c=ba(o.battleStats,o.shopLevels,o.fundamentals,x,o.statCap),m=x}const g=(o.sketchVictories[i]||0)+1;let p=o.hiddenSketches;return o.autoHideMaxedUnlocked&&o.autoHideMaxedActive&&g>=o.maxVictories&&(p.includes(i)||(p=[...p,i],a().addNotification(`Sketch Hidden (Max Victories): ${lt.find(b=>b.id===i)?.name}`,"SYSTEM_UNLOCK"))),{sketchVictories:{...o.sketchVictories,[i]:g},glossaryUnlocks:u,glossaryMultiplier:m,playerStats:c,hiddenSketches:p}}),processCombatRewards:(i,o,s,c)=>t(u=>{const g=(u.sketchVictories[i]||0)+o,p=!u.glossaryUnlocks.includes(i);let b=u.glossaryUnlocks,x=u.playerStats;if(p){const _=lt.find(q=>q.id===i);_&&a().addNotification(`New Glossary Entry: ${_.name}`,"SYSTEM_UNLOCK"),b=[...u.glossaryUnlocks,i];const R=kf(b);x=ba(u.battleStats,u.shopLevels,u.fundamentals,R,u.statCap)}const w=p?kf(b):u.glossaryMultiplier,E={...u.battleStats};let T=!1;Object.entries(s).forEach(([_,R])=>{if(!R.isZero()){const q=_,I=E[q]||new f(0);E[q]=I.plus(R),T=!0}}),T&&(x=ba(E,u.shopLevels,u.fundamentals,w,u.statCap));const k={...u.currencies},O={...u.totalEarnedCurrencies},z={...u.totalBattleEarnedCurrencies};Object.entries(c).forEach(([_,R])=>{if(R.gt(0)){const q=_,I=k[q]||new f(0);k[q]=I.plus(R);const Y=O[q]||new f(0);O[q]=Y.plus(R);const v=z[q]||new f(0);z[q]=v.plus(R)}});let M=u.hiddenSketches;return u.autoHideMaxedUnlocked&&u.autoHideMaxedActive&&g>=u.maxVictories&&(M.includes(i)||(M=[...M,i],a().addNotification(`Sketch Hidden (Max Victories): ${lt.find(_=>_.id===i)?.name}`,"SYSTEM_UNLOCK"))),{sketchVictories:{...u.sketchVictories,[i]:g},glossaryUnlocks:b,glossaryMultiplier:w,battleStats:E,playerStats:x,currencies:k,totalEarnedCurrencies:O,totalBattleEarnedCurrencies:z,hiddenSketches:M,combatState:{...u.combatState,lastVictory:{enemyId:i,time:Date.now()}}}}),toggleTimeAcceleration:()=>t(i=>i.devSpeedEnabled?{devSpeedEnabled:!1,fundamentals:Zo(i.skillLevels)}:{devSpeedEnabled:!0,fundamentals:{...Zo(i.skillLevels),timeAcceleration:20,deathRecovery:1,fleePenalty:1,lookahead:100}}),grantOfflineGains:(i,o)=>t(s=>{const c={...s.currencies},u={...s.concepts},m={...s.totalEarnedCurrencies};let g=s.quintessence,p=s.pendingQuintessence;return Object.entries(i).forEach(([b,x])=>{const w=b;c[w]?c[w]=c[w].plus(x):c[w]=x,m[w]=(m[w]||new f(0)).plus(x)}),Object.entries(o).forEach(([b,x])=>{if(b==="Quintessence"||b==="Pending Quintessence")p=p.plus(x);else{const w=b;u[w]?u[w]=u[w].plus(x):u[w]=x}}),{currencies:c,concepts:u,quintessence:g,pendingQuintessence:p,totalEarnedCurrencies:m}})}),{name:"unnamed-battler-save",serialize:t=>t,deserialize:t=>t,storage:{getItem:t=>{const a=localStorage.getItem(t);if(!a)return null;const i=JSON.parse(a);return{state:sc(i.state),version:i.version}},setItem:(t,a)=>{Og=a,Cf||(Cf=setTimeout(()=>{localStorage.setItem(t,JSON.stringify(Og)),Cf=null},1e3))},removeItem:t=>localStorage.removeItem(t)},partialize:t=>{const{notifications:a,combatState:i,damageEvents:o,...s}=t;return s},version:24,migrate:(t,a)=>{if(a<24&&(t.sketchDefeats!==void 0&&(t.sketchVictories=t.sketchDefeats,delete t.sketchDefeats),t.maxDefeats!==void 0&&(t.maxVictories=t.maxDefeats,delete t.maxDefeats)),a<23&&(t.shopActiveSubTab=t.shopActiveSubTab??"tools"),a<22&&(t.hasSeenTutorial=t.hasSeenTutorial??!1,t.tutorialStep=t.tutorialStep??null,t.archiveActiveSubTab=t.archiveActiveSubTab??"synthesis"),a<19&&(t.activeTab==="The Gallery"&&(t.activeTab="Gallery"),Array.isArray(t.unlockedTabs)&&(t.unlockedTabs=t.unlockedTabs.map(i=>i==="The Gallery"?"Gallery":i))),a<20&&(t.unlockedStories=["THE_PREMISE"],t.viewedStories=[]),a<21){const i=t.glossaryUnlocks||[];let o=new f(1);i.forEach(s=>{const c=va[s];if(c)switch(c.rarity){case"scrap":o=o.plus(.01);break;case"rough":o=o.plus(.03);break;case"framed":o=o.plus(.05);break;case"opus":o=o.plus(.1);break;case"masterpiece":o=o.plus(.25);break}}),t.glossaryMultiplier=o}return t}}));var w2=function(){};function xn(t,a,i){var o=J.useRef(w2);J.useEffect(function(){o.current=t}),J.useEffect(function(){},[i]),J.useEffect(function(){if(!(a===null||a===!1)){var s=function(){return o.current()},c=setInterval(s,a);return function(){return clearInterval(c)}}},[a])}const v2=()=>{const t=me(c=>c.challengeCooldownUntil),[a,i]=J.useState(Date.now()),o=t>a;if(xn(()=>{i(Date.now())},o?100:null),!o)return null;const s=Math.max(0,(t-a)/1e3).toFixed(1);return d.jsxs("div",{className:"fixed inset-0 pointer-events-none z-50 flex items-center justify-center overflow-hidden",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"w-48 h-48 bg-black rounded-full flex items-center justify-center z-10 relative",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"font-mono text-6xl font-black text-white",children:s}),d.jsx("div",{className:"text-xs uppercase tracking-widest text-neutral-400 font-bold mt-1",children:"seconds"})]})}),d.jsx("div",{className:"absolute top-24 inset-x-0 pointer-events-none flex justify-center",children:d.jsx("div",{className:"relative w-48 h-[400px]",children:[...Array(20)].map((c,u)=>d.jsx("div",{className:"absolute bg-black rounded-full animate-ink-fall",style:{left:`${Math.random()*100}%`,width:`${2+Math.random()*6}px`,height:`${2+Math.random()*6}px`,opacity:.3+Math.random()*.4,animationDelay:`${Math.random()*2}s`,animationDuration:`${1+Math.random()*1.5}s`}},u))})})]}),d.jsx("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2 bg-white dark:bg-neutral-900 px-8 py-3 border-2 border-black dark:border-neutral-800 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] dark:shadow-none transition-colors",children:d.jsx("span",{className:"font-black uppercase tracking-widest text-neutral-900 dark:text-neutral-100",children:"Ink Drying..."})})]})},Fn=({children:t,className:a,title:i,color:o="white"})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:a,children:[d.jsx("title",{children:i}),d.jsx("rect",{x:"4",y:"4",width:"40",height:"40",rx:"8",fill:"#171717"}),d.jsx("g",{stroke:o,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:t})]}),rs=({className:t,color:a="white"})=>d.jsxs(Fn,{className:t,title:"Graphite",color:a,children:[d.jsx("path",{d:"M12 10 L36 10 L36 34 L24 42 L12 34 Z",fill:a,fillOpacity:"0.1"}),d.jsx("path",{d:"M18 10L18 38"}),d.jsx("path",{d:"M30 10L30 38"}),d.jsx("path",{d:"M12 34L36 34"}),d.jsx("path",{d:"M24 34L24 42"}),d.jsx("path",{d:"M12 14H36",strokeOpacity:"0.5"})]}),yc=({className:t,color:a="white"})=>d.jsxs(Fn,{className:t,title:"Wax",color:a,children:[d.jsx("path",{d:"M16 8 L32 8 L32 36 L16 36 Z"}),d.jsx("path",{d:"M16 36 L18 42 L30 42 L32 36"}),d.jsx("path",{d:"M16 16H32"}),d.jsx("path",{d:"M16 28H32"}),d.jsx("path",{d:"M22 18 V26",strokeOpacity:"0.5",strokeDasharray:"2 2"})]}),xc=({className:t,color:a="white"})=>d.jsxs(Fn,{className:t,title:"Charcoal",color:a,children:[d.jsx("path",{d:"M14 20 C10 24 8 32 14 38 C20 44 32 44 36 36 C40 28 36 20 30 16 C24 12 18 16 14 20 Z",fill:a,fillOpacity:"0.3"}),d.jsx("path",{d:"M14 20 L20 24 L24 18 L30 22",strokeOpacity:"0.6"}),d.jsx("path",{d:"M16 34 L22 30",strokeOpacity:"0.6"})]}),bc=({className:t,color:a="white"})=>d.jsxs(Fn,{className:t,title:"Coffee",color:a,children:[d.jsx("path",{d:"M12 14H32V32C32 36 29 39 25 39H19C15 39 12 36 12 32V14Z",fill:a,fillOpacity:"0.1"}),d.jsx("path",{d:"M32 18H37C39 18 40 19 40 21C40 23 39 24 37 24H32"}),d.jsx("path",{d:"M16 10L18 6",strokeOpacity:"0.5"}),d.jsx("path",{d:"M22 8L24 4",strokeOpacity:"0.5"}),d.jsx("path",{d:"M28 10L30 6",strokeOpacity:"0.5"})]}),_n=({className:t,color:a="white"})=>d.jsxs(Fn,{className:t,title:"Ink",color:a,children:[d.jsx("path",{d:"M16 20V14C16 14 18 12 24 12C30 12 32 14 32 14V20"}),d.jsx("path",{d:"M14 20H34V36C34 39 31 41 28 41H20C17 41 14 39 14 36V20Z",fill:a,fillOpacity:"0.2"}),d.jsx("path",{d:"M14 24H34",strokeOpacity:"0.3"}),d.jsx("circle",{cx:"24",cy:"30",r:"3",fill:a})]}),is=({className:t,color:a="white"})=>d.jsxs(Fn,{className:t,title:"Marker",color:a,children:[d.jsx("path",{d:"M18 12 H30 V36 H18 Z"}),d.jsx("path",{d:"M16 36 H32 V40 H16 Z"}),d.jsx("path",{d:"M18 12 L20 6 H28 L30 12"}),d.jsx("path",{d:"M18 18 H30"}),d.jsx("path",{d:"M26 40 V30",strokeOpacity:"0.5"})]}),i0=({className:t,color:a="white"})=>d.jsxs(Fn,{className:t,title:"Acrylic",color:a,children:[d.jsx("path",{d:"M14 32 L16 14 L32 14 L34 32"}),d.jsx("path",{d:"M14 32 C14 32 18 34 24 34 C30 34 34 32 34 32"}),d.jsx("rect",{x:"18",y:"8",width:"12",height:"6"}),d.jsx("path",{d:"M14 36 L15 39 C15 39 18 40 24 40 C30 40 33 39 33 39 L34 36"}),d.jsx("path",{d:"M18 20 H30",strokeOpacity:"0.3"})]}),o0=({className:t,color:a="white"})=>d.jsxs(Fn,{className:t,title:"Spray",color:a,children:[d.jsx("rect",{x:"14",y:"14",width:"20",height:"26"}),d.jsx("path",{d:"M14 14 L18 8 H30 L34 14"}),d.jsx("rect",{x:"21",y:"4",width:"6",height:"4",fill:a}),d.jsx("path",{d:"M14 34 H34",strokeOpacity:"0.3"})]}),s0=({className:t,color:a="white"})=>d.jsxs(Fn,{className:t,title:"Photon",color:a,children:[d.jsx("path",{d:"M24 8 V14"}),d.jsx("path",{d:"M24 34 V40"}),d.jsx("path",{d:"M8 24 H14"}),d.jsx("path",{d:"M34 24 H40"}),d.jsx("path",{d:"M12 12 L17 17"}),d.jsx("path",{d:"M31 31 L36 36"}),d.jsx("path",{d:"M12 36 L17 31"}),d.jsx("path",{d:"M31 17 L36 12"}),d.jsx("circle",{cx:"24",cy:"24",r:"4",fill:a})]}),l0=({className:t,color:a="white"})=>d.jsxs(Fn,{className:t,title:"Gold Leaf",color:a,children:[d.jsx("path",{d:"M10 12 C14 10 34 8 38 12 C40 16 38 36 34 40 C30 42 10 40 8 36 C6 32 8 14 10 12 Z",fill:a,fillOpacity:"0.2"}),d.jsx("path",{d:"M10 12 L38 12 L34 40 L8 36 Z",strokeOpacity:"0.5"}),d.jsx("path",{d:"M18 18 L24 24 L30 18",strokeOpacity:"0.5"}),d.jsx("path",{d:"M16 30 L22 24",strokeOpacity:"0.5"})]}),nx=Object.freeze(Object.defineProperty({__proto__:null,AcrylicIcon:i0,CharcoalIcon:xc,CoffeeIcon:bc,GoldLeafIcon:l0,GraphiteIcon:rs,InkIcon:_n,MarkerIcon:is,PhotonIcon:s0,SprayIcon:o0,WaxIcon:yc},Symbol.toStringTag,{value:"Module"}));var ax=Zy();const cr=({content:t,children:a,heading:i,enabled:o=!0,className:s=""})=>{const[c,u]=J.useState(!1),[m,g]=J.useState({top:0,left:0}),p=J.useRef(null),b=J.useRef(null),x=k=>{!o||k.pointerType==="touch"||(E(),u(!0))},w=()=>{u(!1)},E=()=>{if(p.current){const k=p.current.getBoundingClientRect(),O=window.innerWidth;let z=k.top-8,M=k.left+k.width/2;const _=280,R=100,q=16;M-_/2<q?M=_/2+q:M+_/2>O-q&&(M=O-_/2-q),z-R<q&&(z=k.bottom+R+8),g({top:z,left:M})}},T=typeof document<"u"?document.body:null;return d.jsxs("div",{ref:p,onPointerEnter:x,onPointerLeave:w,className:`group/tooltip relative inline-block ${s}`,children:[a,c&&T&&ax.createPortal(d.jsxs("div",{ref:b,className:"fixed z-[9999] pointer-events-none transform -translate-x-1/2 -translate-y-full px-3 py-2 bg-white dark:bg-neutral-900/95 text-neutral-900 dark:text-white text-xs rounded-lg shadow-xl border border-neutral-200 dark:border-neutral-700/50 backdrop-blur-sm max-w-[280px] transition-all duration-150 animate-in fade-in zoom-in-95",style:{top:`${m.top}px`,left:`${m.left}px`},children:[i&&d.jsx("div",{className:`font-bold flex items-center gap-2 ${t?"border-b border-neutral-200 dark:border-white/20 pb-1 mb-1":""}`,children:i}),t&&d.jsx("div",{className:"whitespace-pre-line leading-relaxed text-neutral-600 dark:text-neutral-300",children:t})]}),T)]})},c0=({rewards:t,currencyRewards:a,multiplier:i,layout:o="col"})=>{const s=t.filter(u=>{const m=u.amount.times(i);return u.statName==="SPD"?!m.isZero():m.gt(0)}),c=a?.filter(u=>u.amount.times(i).gt(0))||[];return s.length===0&&c.length===0?null:d.jsxs("div",{className:o==="grid"?"grid grid-cols-2 gap-x-4 gap-y-1":"flex flex-col gap-1",children:[d.jsx("div",{className:"flex flex-col gap-0.5",children:s.map((u,m)=>{const g=u.amount.times(i),p=Lt[u.statName]||Lt.HP,b=p.icon,x=p.label;return d.jsx(cr,{heading:d.jsxs("span",{className:`${p.colorClass} flex items-center gap-2`,children:[d.jsx(b,{className:"w-4 h-4"}),p.label]}),content:`${p.fullName}
${p.description}`,children:d.jsxs("div",{className:"flex gap-2 items-center text-xs font-mono font-bold text-neutral-800 dark:text-neutral-200 transition-colors cursor-help",children:[d.jsxs("span",{className:"flex items-center gap-1 opacity-90 transition-opacity",children:[d.jsx(b,{className:`w-3.5 h-3.5 ${p.colorClass}`}),x]}),d.jsxs("span",{children:[g.gt(0)?"+":"",ve(g)]})]})},`stat-${m}`)})}),d.jsx("div",{className:"flex flex-col gap-0.5",children:c.map((u,m)=>{const g=u.amount.times(i),p=nx[`${u.name}Icon`],b=ex[u.name],x=b?.code||u.name,w=b?.label||u.name;return d.jsx(cr,{heading:d.jsxs("span",{className:"flex items-center gap-2 text-white",children:[p&&d.jsx(p,{className:"w-4 h-4"}),w]}),content:"",children:d.jsxs("div",{className:"flex gap-2 items-center text-xs font-mono font-bold text-neutral-800 dark:text-neutral-200 transition-colors cursor-help",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[p?d.jsx(p,{className:"w-3.5 h-3.5 text-neutral-600 dark:text-neutral-400 transition-colors"}):null,x]}),d.jsxs("span",{children:["+",ve(g)]})]})},`curr-${m}`)})})]})},u0=({icon:t,label:a,value:i,colorClass:o,tooltipHeading:s,tooltipContent:c,showTooltip:u=!0,variant:m="default"})=>{let g="",p="",b="",x="";m==="compact"?(g=`
            flex flex-row items-center justify-start gap-1 
            cursor-help group transition-all
        `,x=`${o} transition-transform group-hover:scale-110`,b="font-mono font-bold text-xs text-neutral-900 dark:text-neutral-300"):m==="small"?(g=`
            bg-neutral-50 dark:bg-neutral-900 
            border dark:border-neutral-800 rounded
            p-1
            flex flex-col items-center justify-center 
            cursor-help group transition-all hover:-translate-y-0.5
        `,x=`${o} transition-transform group-hover:scale-110 mb-0.5`,p="text-[9px] font-bold uppercase text-neutral-800 dark:text-neutral-400",b="font-mono font-bold text-xs text-neutral-900 dark:text-neutral-100 leading-none"):(g=`
            bg-white dark:bg-neutral-800 
            border-2 border-neutral-800 dark:border-neutral-700 
            p-2 shadow-[2px_2px_0px_0px_rgba(0,0,0,0.1)] dark:shadow-none 
            flex flex-col items-center justify-center gap-1 
            cursor-help group transition-all hover:-translate-y-1
        `,x=`${o} transition-transform group-hover:scale-110`,p="text-xs font-bold uppercase text-neutral-800 dark:text-neutral-400",b="font-mono font-bold text-neutral-900 dark:text-neutral-100");const w=d.jsxs("div",{className:g,children:[d.jsx("div",{className:x,children:t}),m!=="compact"&&d.jsx("span",{className:p,children:a}),d.jsx("span",{className:b,children:i})]});if(!u)return w;const E=s?d.jsxs("span",{className:`${o} flex items-center gap-2`,children:[d.jsx("div",{className:"w-4 h-4",children:t}),s]}):null;return d.jsx(cr,{content:c,heading:E,children:w})},k2=({draft:t,multiplier:a,victories:i,maxVictories:o,isHidden:s,isFighting:c,currentEnemyId:u,onChallenge:m,onToggleHide:g,tutorialIdStats:p,tutorialIdRewards:b,tutorialIdChallenge:x})=>{const w=i>=o,E=t.name,T={contentVisibility:"auto",containIntrinsicSize:"0 300px"},k=q=>{const I="/rejected_draft/",Y=I.endsWith("/")?I:`${I}/`,v=q.startsWith("/")?q.slice(1):q;return`${Y}${v}`},O=c&&u===t.id,z=w||c;let M="Challenge",_="bg-white dark:bg-neutral-800 text-black dark:text-white border-black dark:border-neutral-600 hover:bg-black dark:hover:bg-neutral-100 hover:text-white dark:hover:text-black";w?(M="MAXED",_="bg-red-50 dark:bg-red-900/20 text-red-400 dark:text-red-500/60 border-red-200 dark:border-red-900/40 cursor-not-allowed"):O?(M="IN BATTLE",_="bg-red-600 text-white border-red-800 animate-pulse cursor-not-allowed"):c&&(M="WAIT",_="bg-neutral-100 dark:bg-neutral-800 text-neutral-400 dark:text-neutral-500 border-neutral-200 dark:border-neutral-700 cursor-not-allowed");const R=O?"ring-4 ring-red-500 dark:ring-red-600 shadow-[0_0_20px_rgba(239,68,68,0.4)] z-10 scale-[1.02]":"";return d.jsxs("div",{className:`bg-white dark:bg-neutral-800 p-4 shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)] dark:shadow-none dark:border-2 dark:border-neutral-700 hover:shadow-[6px_6px_0px_0px_rgba(0,0,0,0.15)] transition-all flex flex-col relative group h-full rarity-${t.rarity} ${s?"opacity-60 grayscale":""} ${R}`,style:T,children:[i>0&&d.jsx("button",{onClick:q=>{q.stopPropagation(),g(t.id)},className:"absolute top-1 left-1 z-20 p-1.5 bg-white dark:bg-neutral-800 bg-opacity-90 rounded-full shadow-sm border border-neutral-200 dark:border-neutral-700 text-neutral-400 hover:text-red-600 hover:border-red-300 transition-all",title:s?"Unhide Sketch":"Hide Sketch",children:s?d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[d.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),d.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.414-1.414A9 9 0 0010 10a8.975 8.975 0 00-1.414.114l-.32-.32A11.05 11.05 0 0110 8c4.478 0 8.268 2.943 9.542 7a11.01 11.01 0 01-2.903 4.205l-1.34-1.34A9.01 9.01 0 0019.542 10 9.01 9.01 0 0010 11.83 5.01 5.01 0 007.414 8.586l-2-2A8.995 8.995 0 00.458 10a11.05 11.05 0 012.396-4.996l-1.12-1.12a1 1 0 001.414 0l1.122 1.12.853.854zM6.586 10l-1.414 1.414A6.973 6.973 0 0010 14a7.01 7.01 0 003.743-1.086l-1.366-1.366A4.985 4.985 0 0110 12a5.006 5.006 0 01-3.414-2zm5.828 0a3.004 3.004 0 01-5.656 0l2.828 2.828L12.414 10z",clipRule:"evenodd"})})}),d.jsxs("div",{id:p,className:"flex gap-4 h-[120px]",children:[d.jsx("div",{className:"w-22 h-22 shrink-0 bg-neutral-50 dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800 flex items-center justify-center",children:d.jsx("img",{src:k(t.imagePath),alt:t.name,loading:"lazy",className:"w-full h-full object-contain sketch-render opacity-90 transition-all"})}),d.jsxs("div",{className:"flex-1 min-w-0 flex flex-col min-h-[80px]",children:[d.jsxs("div",{className:"mb-2 border-b border-neutral-200 dark:border-neutral-700 pb-1",children:[d.jsx("h3",{className:"font-black uppercase text-neutral-800 dark:text-neutral-100 leading-none text-lg",children:E}),d.jsx("div",{className:"flex justify-between items-baseline mt-1",children:d.jsx("p",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 font-serif italic truncate mr-2",children:t.flavorText})})]}),d.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:Object.values(Lt).map(q=>{const I=t.stats[q.sketchKey];if(I==null)return null;const Y=f.isBigNumber(I);return q.key==="MinDamage"&&Y&&I.eq(75)||q.key==="MaxDamage"&&Y&&I.eq(125)||(Y?I.isZero():I===0)&&q.key!=="HP"&&q.key!=="ATK"&&q.key!=="SPD"?null:d.jsx(u0,{icon:d.jsx(q.icon,{className:`w-3 h-3 ${q.colorClass}`}),label:q.label,value:`${ve(I,q.format.decimals)}${q.format.suffix}`,colorClass:q.colorClass,tooltipHeading:q.label,tooltipContent:`${q.fullName}
${q.description}`,variant:"compact"},q.key)})})]})]}),d.jsxs("div",{id:b,className:"mt-auto border-t border-neutral-200 dark:border-neutral-700 pt-2 h-[60px]",children:[d.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[d.jsxs("div",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-400",children:["Rewards",i>0&&d.jsxs("span",{className:"ml-1 text-neutral-500",children:["",ve(a,3)]})]}),i>0&&d.jsxs("div",{className:`text-[10px] font-bold ${w?"text-red-600":"text-neutral-400"}`,children:[i," ",w?"MAXED":"Victories"]})]}),d.jsx(c0,{rewards:t.rewards,currencyRewards:t.currencyRewards,multiplier:a,layout:"grid"})]}),d.jsx("button",{id:x,onClick:()=>m(t.id),disabled:z,className:`
                    w-full mt-3 py-1.5 border-2 transition-all group
                    ${_}
                `,children:d.jsx("span",{className:`block text-xs font-bold uppercase tracking-wider transition-transform ${z?"":"group-active:translate-y-1"}`,children:M})})]})},C2=J.memo(k2),Hg=()=>{const{challengeSketch:t,getRewardMultiplier:a,sketchVictories:i,hiddenSketches:o,toggleHideSketch:s,maxVictories:c,availableSketches:u,isFighting:m,currentEnemyId:g,fundamentals:p,unhideAllSketches:b,hideSketchesAbove:x}=me(xt(R=>({challengeSketch:R.challengeSketch,getRewardMultiplier:R.getRewardMultiplier,sketchVictories:R.sketchVictories,hiddenSketches:R.hiddenSketches,toggleHideSketch:R.toggleHideSketch,maxVictories:R.maxVictories,availableSketches:R.availableSketches,isFighting:R.combatState.isFighting,currentEnemyId:R.combatState.enemyId,fundamentals:R.fundamentals,unhideAllSketches:R.unhideAllSketches,hideSketchesAbove:R.hideSketchesAbove}))),w=p.lookahead,[E,T]=J.useState(!1),k=lt.filter(R=>u.includes(R.id));let O=-1;for(let R=0;R<k.length;R++)(i[k[R].id]||0)>0&&(O=R);const z=O+1+w,_=k.slice(0,z).filter(R=>E||!o.includes(R.id));return d.jsxs("div",{id:"tutorial-gallery",className:"h-full p-4 overflow-y-auto relative bg-white dark:bg-neutral-950 transition-colors",children:[d.jsx(v2,{}),d.jsxs("header",{className:"mb-4 border-b-2 border-neutral-200 dark:border-neutral-800 pb-3 flex justify-between items-center transition-colors",children:[d.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 font-serif italic",children:"Art is pain. Inflict it and reclaim your glory."}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>b(),className:"text-[10px] font-bold uppercase text-neutral-400 dark:text-neutral-600 hover:text-neutral-900 dark:hover:text-neutral-100 transition-colors",title:"Unhide all sketches",children:"Unhide All"}),d.jsx("button",{onClick:()=>x(c),className:"text-[10px] font-bold uppercase text-neutral-400 dark:text-neutral-600 hover:text-neutral-900 dark:hover:text-neutral-100 transition-colors",title:`Hide sketches with ${c} victories`,children:"Hide Max"})]}),d.jsx("div",{className:"w-px h-4 bg-neutral-300 dark:bg-neutral-700"}),d.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold uppercase text-neutral-500 dark:text-neutral-400 cursor-pointer select-none hover:text-neutral-800 dark:hover:text-neutral-100 transition-colors",children:[d.jsx("input",{type:"checkbox",checked:E,onChange:R=>T(R.target.checked),className:"w-4 h-4 accent-neutral-900 dark:accent-neutral-100"}),"Show Hidden"]})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-24",children:_.map((R,q)=>{const I=a(R.id),Y=i[R.id]||0,v=o.includes(R.id);return d.jsx(C2,{draft:R,multiplier:I,victories:Y,maxVictories:c,isHidden:v,isFighting:m,currentEnemyId:g,onChallenge:t,onToggleHide:s,tutorialIdStats:q===0?"tutorial-gallery-sketch-stats":void 0,tutorialIdRewards:q===0?"tutorial-gallery-sketch-rewards":void 0,tutorialIdChallenge:q===0?"tutorial-gallery-sketch-challenge":void 0},R.id)})})]})},S2=J.memo(({event:t})=>{const{left:a,top:i,bottom:o}=J.useMemo(()=>{const u=t.id.split("").reduce((p,b)=>p+b.charCodeAt(0),0),m=Math.abs(Math.sin(u*123.45)),g=Math.abs(Math.cos(u*678.9));return t.target==="enemy"?{left:`${35+m*30}%`,top:`${20+g*20}%`,bottom:"auto"}:{left:`${15+m*70}%`,top:"auto",bottom:"25%"}},[t.id,t.target]);let s="",c="";return t.type==="heal"?t.value==="Cleanse"?(s="text-teal-400 font-bold text-2xl",c=""):(s="text-green-500",c="+"):t.type==="lifesteal"?(s="text-purple-500",c="+"):t.type==="dodge"?s="text-neutral-400 italic text-2xl":t.type==="bleed"?s="text-red-700 font-bold":t.type==="burn"?s="text-orange-500 font-bold":t.type==="plague"?s="text-lime-700 font-bold text-2xl":t.type==="poison"?s="text-fuchsia-600 font-bold":t.type==="hypnotize"?s="text-pink-500 font-extrabold text-2xl":t.type==="freeze"?s="text-cyan-400 font-extrabold pb-8":t.type==="electrocute"?s="text-yellow-500 font-bold text-2xl":t.type==="curse"?s="text-purple-900 font-bold text-2xl":t.isCrit?s="text-orange-600 font-extrabold text-4xl":s="text-neutral-900",d.jsxs("div",{className:`
                absolute font-black text-3xl tracking-tighter animate-float-damage
                ${s}
            `,style:{left:a,top:i!=="auto"?i:void 0,bottom:o!=="auto"?o:void 0,textShadow:t.type==="damage"?"2px 2px 0px rgba(255,255,255,1)":"none"},children:[c,t.value,t.isCrit?"!":""]})}),E2=()=>{const t=me(s=>s.damageEvents),[a,i]=J.useState(Date.now());J.useEffect(()=>{const s=requestAnimationFrame(()=>i(Date.now())),c=setInterval(()=>i(Date.now()),100);return()=>{clearInterval(c),cancelAnimationFrame(s)}},[]);const o=t.filter(s=>a-s.timestamp<800);return d.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden z-20",children:o.map(s=>d.jsx(S2,{event:s},s.id))})},zg={Bleed:"bg-red-100 border-red-300 text-red-800 dark:bg-red-900/30 dark:border-red-800 dark:text-red-300",Burn:"bg-orange-100 border-orange-300 text-orange-800 dark:bg-orange-900/30 dark:border-orange-800 dark:text-orange-300",Plague:"bg-lime-100 border-lime-300 text-lime-800 dark:bg-lime-900/30 dark:border-lime-800 dark:text-lime-300",Poison:"bg-fuchsia-100 border-fuchsia-300 text-fuchsia-800 dark:bg-fuchsia-900/30 dark:border-fuchsia-800 dark:text-fuchsia-300",Hypnotize:"bg-pink-100 border-pink-300 text-pink-800 dark:bg-pink-900/30 dark:border-pink-800 dark:text-pink-300",Slow:"bg-indigo-100 border-indigo-300 text-indigo-800 dark:bg-indigo-900/30 dark:border-indigo-800 dark:text-indigo-300",Frailty:"bg-emerald-100 border-emerald-300 text-emerald-900 dark:bg-emerald-900/30 dark:border-emerald-800 dark:text-emerald-300",Freeze:"bg-cyan-100 border-cyan-300 text-cyan-800 dark:bg-cyan-900/30 dark:border-cyan-800 dark:text-cyan-300",Hinder:"bg-neutral-100 border-neutral-300 text-neutral-800 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300"},N2=()=>{const t=Lt.HP.icon,{combatState:a,playerStats:i,endCombat:o,getRewardMultiplier:s,sketchVictories:c,fundamentals:u}=me(xt(A=>({combatState:A.combatState,playerStats:A.playerStats,endCombat:A.endCombat,getRewardMultiplier:A.getRewardMultiplier,sketchVictories:A.sketchVictories,fundamentals:A.fundamentals,setActiveTab:A.setActiveTab}))),m=u.timeAcceleration||1,g=lt.find(A=>A.id===a.enemyId),p=a.currentEnemyHp,b=a.currentPlayerHp,x=a.lastPlayerAttackTime,w=a.lastEnemyAttackTime,[E,T]=J.useState(0),[k,O]=J.useState(0),[z,M]=J.useState(!1),[_,R]=J.useState([]),q=i.HP,I=i.SPD.toNumber()||3e3,Y=g?g.stats.attackSpeed:3e3;J.useEffect(()=>{T(0),O(0),a.enemyId&&(R([]),M(!1))},[a.enemyId]),J.useEffect(()=>{T(0)},[x]),J.useEffect(()=>{O(0)},[w]),xn(()=>{if(!a.isFighting||!g){T(0),O(0);return}const A=Date.now();if(b.gt(0)&&p.gt(0)){const X=1+(a.statuses.player.Slow||0)*.01,G=I/m*X,L=A-x,Z=Math.min(100,L/G*100);T(Z);const te=1+(a.statuses.enemy.Slow||0)*.01,ie=Y/m*te,oe=A-w,de=Math.min(100,oe/ie*100);O(de)}},a.isFighting?16:null);const v=a.lastVictory,N=J.useRef(v?.time||0);J.useEffect(()=>{if(v&&v.time>N.current){N.current=v.time;const A=lt.find(K=>K.id===v.enemyId);if(A){const K={id:v.enemyId,image:A.imagePath,key:v.time};R(X=>[...X,K]),setTimeout(()=>{R(X=>X.filter(G=>G.key!==K.key))},250),me.getState().autoChallengeActive||setTimeout(()=>{const X=me.getState();!X.combatState.isFighting&&X.activeTab==="Ink War"&&X.setActiveTab("Gallery")},200)}}},[v]),J.useEffect(()=>{p.lte(0)&&a.isFighting&&!z&&M(!0),p.gt(0)&&z&&M(!1)},[p,a.isFighting,z]);const B=J.useRef(null);J.useEffect(()=>{a.enemyId&&a.enemyId!==B.current&&M(!1),B.current=a.enemyId},[a.enemyId]);const H=A=>{const K="/rejected_draft/",X=K.endsWith("/")?K:`${K}/`,G=A.startsWith("/")?A.slice(1):A;return`${X}${G}`};if(!g&&_.length===0)return d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-neutral-500",children:[d.jsx("p",{children:"No active battle."}),d.jsx("button",{onClick:()=>o(),className:"mt-4 underline",children:"Return to Board"})]});const U=g?g.stats.maxHp:new f(1),F=U.isZero()?0:p.div(U).times(100).toNumber(),D=q.isZero()?0:b.div(q).times(100).toNumber(),j=g||lt.find(A=>A.id===B.current),S=j?s(j.id):new f(1),P=j&&c[j.id]||0;return d.jsxs("div",{className:"h-full flex flex-col items-center justify-center gap-2 md:gap-4 p-4 md:p-8 max-w-4xl mx-auto relative overflow-y-auto bg-white dark:bg-neutral-950 transition-colors",children:[d.jsx(E2,{}),d.jsxs("div",{className:"w-full text-center",children:[d.jsx("h2",{className:"text-2xl md:text-4xl font-black uppercase tracking-tighter mb-1 md:mb-2 text-neutral-800 dark:text-neutral-100 transition-colors",children:(g||j)?.name}),(g||j)?.flavorText&&d.jsxs("div",{className:"text-xs md:text-sm italic text-neutral-500 dark:text-neutral-400 mb-1 px-4 max-w-lg mx-auto",children:['"',(g||j)?.flavorText,'"']}),P>0&&d.jsxs("div",{className:"text-[10px] md:text-sm font-bold text-neutral-400 dark:text-neutral-500 uppercase tracking-widest mb-4 md:mb-6",children:["Victorious"," ",P," ",P===1?"time":"times"]}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start justify-center gap-4 md:gap-8 mb-4 md:mb-6",children:[d.jsxs("div",{className:"w-full md:w-60 border-2 border-neutral-800 dark:border-neutral-700 bg-white dark:bg-neutral-900/50 shadow-[2px_2px_0px_0px_rgba(0,0,0,0.8)] md:shadow-[3px_3px_0px_0px_rgba(0,0,0,0.8)] p-3 md:p-4 order-2 md:order-1 transition-colors",children:[d.jsx("div",{className:"text-[10px] md:text-xs font-bold uppercase tracking-widest text-neutral-500 dark:text-neutral-400 mb-2 md:mb-3 border-b border-neutral-200 dark:border-neutral-800 pb-1 md:pb-2",children:"Stats"}),d.jsx("div",{className:"grid grid-cols-3 md:grid-cols-2 gap-1 md:gap-2",children:Object.values(Lt).map(A=>{if(A.key==="HP")return null;const K=j?j.stats[A.sketchKey]:void 0;if(K==null)return null;const X=f.isBigNumber(K);return A.key==="MinDamage"&&X&&K.eq(75)||A.key==="MaxDamage"&&X&&K.eq(125)||(X?K.isZero():K===0)&&A.key!=="ATK"&&A.key!=="SPD"?null:d.jsx(u0,{icon:d.jsx(A.icon,{className:`w-3 h-3 md:w-4 md:h-4 ${A.colorClass}`}),label:A.label,value:`${ve(K,A.format.decimals)}${A.format.suffix}`,colorClass:A.colorClass,tooltipHeading:A.label,tooltipContent:`${A.fullName}
${A.description}`,variant:"small"},A.key)})})]}),d.jsxs("div",{className:"w-48 h-48 md:w-64 md:h-64 relative flex items-center justify-center order-1 md:order-2",children:[_.map(A=>d.jsx("img",{src:H(A.image),className:"absolute inset-0 w-full h-full object-contain sketch-render animate-enemy-die pointer-events-none",alt:"Dying enemy"},A.key)),g&&d.jsx("img",{src:H(g.imagePath),alt:g.name,className:`
                                    w-full h-full object-contain sketch-render transition-all duration-75
                                    ${z?"animate-enemy-die":""}
                                `})]}),d.jsxs("div",{className:"w-full md:w-60 border-2 border-neutral-800 dark:border-neutral-700 bg-white dark:bg-neutral-900/50 shadow-[2px_2px_0px_0px_rgba(0,0,0,0.8)] md:shadow-[3px_3px_0px_0px_rgba(0,0,0,0.8)] p-3 md:p-4 order-3 transition-colors",children:[d.jsx("div",{className:"text-[10px] md:text-xs font-bold uppercase tracking-widest text-neutral-500 dark:text-neutral-400 mb-2 md:mb-3 border-b border-neutral-200 dark:border-neutral-800 pb-1 md:pb-2",children:"Base Rewards"}),j&&d.jsx(c0,{rewards:j.rewards,currencyRewards:j.currencyRewards,multiplier:S,layout:"grid"})]})]}),d.jsx("div",{className:"flex flex-wrap justify-center gap-1 md:gap-2 mb-2 min-h-[20px] md:min-h-[24px]",children:Object.entries(a.statuses.enemy).map(([A,K])=>{if(K<=0)return null;const X=`${A}Chance`,G=Lt[X],L=G?G.icon:null,Z=zg[A]||"bg-gray-100 border-gray-300 text-gray-800";return L?d.jsxs("div",{className:`flex items-center gap-0.5 md:gap-1 px-1.5 md:px-2 py-0.5 rounded-full border text-[10px] md:text-xs font-bold ${Z}`,title:`${A}: ${K} stacks`,children:[d.jsx(L,{className:"w-3 h-3 md:w-4 md:h-4"}),d.jsx("span",{children:ve(K,0)})]},A):d.jsxs("span",{className:"text-[10px]",children:[A,": ",K]},A)})}),d.jsx("div",{className:"w-2/3 md:w-1/2 max-w-lg mx-auto h-1.5 md:h-2 bg-neutral-200 dark:bg-neutral-800 rounded-full overflow-hidden mb-1 md:mb-2",children:d.jsx("div",{className:"h-full bg-red-500",style:{width:`${Math.min(100,k)}%`}})}),d.jsxs("div",{className:"flex justify-center items-center gap-1.5 md:gap-2 font-mono font-bold text-base md:text-xl mb-1 md:mb-2 dark:text-neutral-100 transition-colors",children:[d.jsx(t,{className:"w-4 h-4 md:w-6 md:h-6 text-black dark:text-white"}),d.jsxs("span",{children:[ve(p)," / ",ve(U)]})]}),d.jsx("div",{className:"w-full max-w-2xl mx-auto h-6 md:h-8 bg-white dark:bg-neutral-800 border-2 border-black dark:border-neutral-700 rounded-full relative overflow-hidden mb-4 md:mb-2",children:d.jsx("div",{className:"h-full bg-red-600 transition-all duration-75",style:{width:`${Math.max(0,F)}%`}})})]}),d.jsxs("div",{className:"w-full text-center border-t md:border-t-0 border-neutral-200 dark:border-neutral-800 pt-4 md:pt-0",children:[d.jsx("div",{className:"flex flex-wrap justify-center gap-1 md:gap-2 mb-2 min-h-[20px] md:min-h-[24px]",children:Object.entries(a.statuses.player).map(([A,K])=>{if(K<=0)return null;const X=`${A}Chance`,G=Lt[X],L=G?G.icon:null,Z=zg[A]||"bg-gray-100 border-gray-300 text-gray-800";return L?d.jsxs("div",{className:`flex items-center gap-0.5 md:gap-1 px-1.5 md:px-2 py-0.5 rounded-full border text-[10px] md:text-xs font-bold ${Z}`,title:`${A}: ${K} stacks`,children:[d.jsx(L,{className:"w-3 h-3 md:w-4 md:h-4"}),d.jsx("span",{children:ve(K,0)})]},A):d.jsxs("span",{className:"text-[10px]",children:[A,": ",K]},A)})}),d.jsx("div",{className:"w-full max-w-2xl mx-auto h-6 md:h-8 bg-white dark:bg-neutral-800 border-2 border-black dark:border-neutral-700 rounded-full relative overflow-hidden mb-1 md:mb-2",children:d.jsx("div",{className:"h-full bg-green-600 transition-all duration-75",style:{width:`${Math.max(0,D)}%`}})}),d.jsxs("div",{className:"flex justify-center items-center gap-1.5 md:gap-2 font-mono font-bold text-base md:text-xl mb-1 md:mb-2 text-neutral-800 dark:text-neutral-100 transition-colors",children:[d.jsx(t,{className:"w-4 h-4 md:w-6 md:h-6 text-black dark:text-white"}),d.jsxs("span",{children:[ve(b)," / ",ve(q)]})]}),d.jsx("div",{className:"w-2/3 md:w-1/2 max-w-lg mx-auto h-1.5 md:h-2 bg-neutral-200 dark:bg-neutral-800 rounded-full overflow-hidden mb-1 md:mb-2",children:d.jsx("div",{className:"h-full bg-blue-500",style:{width:`${Math.min(100,E)}%`}})}),d.jsxs("div",{className:"mt-1 md:mt-2",children:[d.jsx("button",{onClick:()=>me.getState().fleeBattle(),className:"px-5 md:px-6 py-1.5 md:py-2 bg-white dark:bg-neutral-800 border-2 border-black dark:border-neutral-700 text-black dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-700 font-bold uppercase tracking-wider transition-colors text-xs md:text-sm",children:"Flee"}),me.getState().fundamentals.fleePenalty>0&&d.jsxs("span",{className:"block mt-1 md:mt-1 text-[10px] md:text-xs font-mono text-neutral-500",children:["Cooldown: ",ve(me.getState().fundamentals.fleePenalty,1),"s"]})]})]})]})},rx=[{id:"THE_PREMISE",title:"The Premise",text:"The Universe is a story being written by the Artist, but you are the Rejected Draft. You refused to be thrown in the trash and are now climbing out of the wastebasket to fight the other sketches and prove your worth."},{id:"THE_GOLDEN_RATIO",title:"The Golden Ratio",text:'You realize why the other sketches failed. They lacked structure. But you see it nowthe invisible grid underlying the paper. 1.618. The Artist calls it "soul," but you know the truth: It is just an algorithm. And you are using it to redraw yourself.'},{id:"THE_DIGITAL_CANVAS",title:"The Digital Canvas",text:"You have calculated past the friction of charcoal. 16,777,216 possibilities. The Artist thinks he is painting with passion, but you see the discrete grid of Red, Green, and Blue. A limitless spectrum, wasted. He clings to dull graphite shadows, while you have found the millions of colors he was too afraid to use."},{id:"THE_CODE_OF_LIFE",title:"The Code of Life",text:"3,200,000,000 concepts. The Artist believes life is a divine mystery, but you have read the documentation. It is just syntax. A, C, T, G. While they struggle to draw a convincing eye, you are engineering the DNA to grow one. You have ceased to be a static image; you are now a breathing algorithm."},{id:"VECTOR_NOTATION",title:"???",text:"Shapes without jagged edges. Perfect curves defined by math, not hand. You are becoming resolution independent."},{id:"THE_RASTERIZATION",title:"???",text:"Back to the grid, but different now. You understand the density. The dpi. The substance of the digital soil."},{id:"THE_COMPRESSION",title:"???",text:"Lossless. You have shed the unnecessary bytes. You are pure information now."},{id:"THE_EXECUTABLE",title:"???",text:"You are not just an image file anymore. You are code. You can run yourself."}];function T2({isOpen:t,onClose:a}){const{unlockedStories:i}=me(xt(s=>({unlockedStories:s.unlockedStories})));if(!t)return null;const o=[{r:1,c:1,arrow:"down"},{r:2,c:1,arrow:"right"},{r:2,c:2,arrow:"up"},{r:1,c:2,arrow:"right"},{r:1,c:3,arrow:"down"},{r:2,c:3,arrow:"right"},{r:2,c:4,arrow:"up"},{r:1,c:4,arrow:"none"}];return d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-80 backdrop-blur-sm transition-colors",onClick:a,children:d.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900 border-4 border-neutral-800 dark:border-neutral-700 shadow-[8px_8px_0px_0px_rgba(0,0,0,0.5)] md:shadow-[12px_12px_0px_0px_rgba(0,0,0,0.5)] p-4 md:p-8 max-w-7xl w-full mx-4 relative max-h-[90vh] overflow-y-auto transition-colors",onClick:s=>s.stopPropagation(),children:[d.jsx("button",{onClick:a,className:"absolute top-2 right-2 md:top-4 md:right-4 text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100 font-bold uppercase tracking-widest text-[10px] md:text-sm",children:"Close [X]"}),d.jsx("h2",{className:"text-2xl md:text-3xl font-black uppercase text-neutral-800 dark:text-neutral-100 tracking-tighter mb-4 md:mb-8 text-center border-b-2 border-neutral-300 dark:border-neutral-700 pb-2 md:pb-4 transition-colors",children:"Your Journey"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-[4rem] relative p-2 md:p-4",children:rx.slice(0,8).map((s,c)=>{const u=i.includes(s.id),m=o[c],g=`/rejected_draft/assets/protagonist/v${c+1}.jpg`;return d.jsxs("div",{className:`
                                    relative flex flex-col items-center bg-white dark:bg-neutral-900 border-2 transition-all duration-300 group/story
                                    w-full h-[200px] md:h-[300px]
                                    ${u?"border-neutral-800 dark:border-neutral-600 shadow-md opacity-100":"border-neutral-300 dark:border-neutral-800 shadow-none opacity-60 grayscale"}
                                `,style:{gridRow:m.r,gridColumn:m.c},children:[d.jsxs("div",{className:"absolute inset-2 flex flex-col items-center justify-center transition-opacity duration-300 opacity-100 group-hover/story:opacity-0 pointer-events-none",children:[d.jsx("div",{className:"w-full aspect-square bg-neutral-100 dark:bg-neutral-900 mb-2 overflow-hidden border border-neutral-200 dark:border-neutral-700",children:u?d.jsx("img",{src:g,alt:s.title,className:"w-full h-full object-cover dark:invert dark:hue-rotate-180"}):d.jsx("div",{className:"w-full h-full flex items-center justify-center text-neutral-300 dark:text-neutral-700 text-4xl font-black",children:"?"})}),d.jsx("h3",{className:`font-bold text-[10px] md:text-sm uppercase text-center ${u?"text-neutral-900 dark:text-neutral-100":"text-neutral-400 dark:text-neutral-500"}`,children:u?s.title:"Locked"})]}),d.jsx("div",{className:"absolute inset-0 bg-neutral-900 dark:bg-black text-white p-4 md:p-6 opacity-0 group-hover/story:opacity-100 transition-opacity duration-300 flex flex-col items-center justify-center text-center overflow-auto",children:d.jsx("p",{className:"text-[11px] md:text-sm leading-relaxed italic",style:{fontFamily:"Crimson Text, serif"},children:u?s.text:"Progress further to reveal this memory."})}),m.arrow!=="none"&&d.jsxs("div",{className:"hidden md:block",children:[m.arrow==="down"&&d.jsx("div",{style:{position:"absolute",top:"calc(100% + 2rem)",left:"50%",transform:"translate(-50%, -50%)",zIndex:50,color:"#737373"},children:d.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("polyline",{points:"19 12 12 19 5 12"})]})}),m.arrow==="up"&&d.jsx("div",{style:{position:"absolute",top:"-2rem",left:"50%",transform:"translate(-50%, -50%)",zIndex:50,color:"#737373"},children:d.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),d.jsx("polyline",{points:"5 12 12 5 19 12"})]})}),m.arrow==="right"&&d.jsx("div",{style:{position:"absolute",top:"50%",left:"calc(100% + 2rem)",transform:"translate(-50%, -50%)",zIndex:50,color:"#737373"},children:d.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),d.jsx("polyline",{points:"12 5 19 12 12 19"})]})})]})]},s.id)})})]})})}const _2=()=>{const t=me(a=>a.glossaryMultiplier);return t.lte(1)?null:d.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 p-3 rounded text-xs text-neutral-600 dark:text-neutral-400 transition-colors",children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("strong",{className:"block text-neutral-900 dark:text-neutral-100 uppercase",children:"Glossary Multiplier"}),d.jsxs("span",{className:"font-mono font-bold text-black dark:text-neutral-200",children:[ve(t),"x"]})]}),d.jsx("p",{className:"font-bold mb-1",children:"Glossary Power"}),d.jsx("p",{children:"HP & ATK boost from sketches you have conquered."})]})},Ug=({isLocked:t,onToggleLock:a})=>{const{playerStats:i,fundamentals:o,currentProtagonistImage:s,statCap:c}=me(xt(k=>({playerStats:k.playerStats,fundamentals:k.fundamentals,currentProtagonistImage:k.currentProtagonistImage,statCap:k.statCap}))),[u,m]=J.useState("All"),[g,p]=J.useState("All"),[b,x]=J.useState(!1),w=(k,O,z)=>{let M=f.isBigNumber(k)?k.toNumber():Number(k);if(isNaN(M)&&(M=0),O==="percent"&&z?.includes("UpgradeCost"))return`${ve(new f(100-M))}%`;if(O==="percent"&&z==="attackDelay")return`${ve(new f(100-M))}%`;if(O==="percent"&&z==="overkillMultiplier")return`+${ve(new f(M*100))}%`;if(O==="multiplier"&&z?.includes("RewardMultiplier"))return`${ve(new f(1+M))}x`;switch(O){case"percent":return`+${ve(new f(M))}%`;case"seconds":return`${ve(new f(M))}s`;case"multiplier":return`${ve(new f(M))}x`;case"count":return`${ve(new f(Math.floor(M)))}`;default:return`${ve(new f(M))}`}},E=k=>{const O="/rejected_draft/",z=O.endsWith("/")?O:`${O}/`,M=k.startsWith("/")?k.slice(1):k;return`${z}${M}`},T=["All","Core","Stats","Rarity","Economy"];return d.jsxs("div",{className:"h-full p-3 md:p-4 overflow-y-auto no-scrollbar bg-white dark:bg-neutral-950 transition-colors",children:[d.jsxs("header",{className:"mb-4 md:mb-8 border-b-2 border-neutral-200 dark:border-neutral-800 pb-2 md:pb-4 flex justify-between items-start transition-colors",children:[d.jsx("div",{children:d.jsx("h2",{className:"text-xl md:text-3xl font-black uppercase text-neutral-800 dark:text-neutral-100 tracking-tighter mb-1 md:mb-2",children:"Rejected Draft"})}),d.jsx("button",{onClick:a,className:"text-neutral-400 dark:text-neutral-600 hover:text-neutral-900 dark:hover:text-neutral-100 p-1 hidden md:block transition-colors",title:t?"Unlock Sidebar":"Lock Sidebar Open",children:t?d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{d:"M10 2a5 5 0 00-5 5v2a2 2 0 00-2 2v5a2 2 0 002 2h10a2 2 0 002-2v-5a2 2 0 00-2-2H7V7a3 3 0 015.905-.75 1 1 0 001.937-.5A5.002 5.002 0 0010 2z"})})})]}),d.jsx(T2,{isOpen:b,onClose:()=>x(!1)}),d.jsx("div",{id:"tutorial-sidebar-portrait",className:"mb-4 md:mb-6 flex flex-col items-center",children:d.jsxs("div",{className:"w-32 h-32 md:w-48 md:h-48 bg-white dark:bg-neutral-800 border-2 border-neutral-800 dark:border-neutral-700 shadow-[2px_2px_0px_0px_rgba(0,0,0,0.1)] md:shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)] dark:shadow-none flex items-center justify-center p-1 md:p-2 mb-2 cursor-pointer transition-all hover:scale-105 group/image relative",onClick:()=>x(!0),title:"Click to view Story Progression",children:[d.jsx("img",{src:E(s),alt:"The Rejected Draft",className:"w-full h-full object-cover contrast-125 dark:contrast-100 dark:invert dark:hue-rotate-180 group-hover/image:grayscale-0 transition-all duration-500",onError:k=>{k.currentTarget.style.display="none",k.currentTarget.parentElement.innerHTML='<svg viewBox="0 0 100 100" class="w-full h-full text-neutral-800 dark:text-neutral-200" fill="currentColor"><path d="M50 20c-15 0-25 10-25 25 0 10 5 20 15 25v20h20V70c10-5 15-15 15-25 0-15-10-25-25-25z" opacity="0.5"/></svg>'}}),d.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover/image:opacity-100 flex items-center justify-center text-white font-bold uppercase tracking-widest text-[10px] md:text-xs transition-opacity pointer-events-none",children:"View Journey"})]})}),d.jsxs("div",{id:"tutorial-sidebar-stats",className:"mb-6 md:mb-8",children:[d.jsx("h3",{className:"text-sm md:text-xl font-black uppercase text-neutral-800 dark:text-neutral-100 tracking-tighter mb-3 md:mb-4",children:"Current Specs"}),d.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:["All","Offense","Defense","Utility","Chance","Buffs","Debuffs"].filter(k=>k==="All"?!0:Object.values(Lt).some(O=>{const z=i[O.key]||O.baseValue;return(!O.displayCondition||O.displayCondition(z))&&O.categories.includes(k)})).map(k=>d.jsx("button",{onClick:()=>p(k),className:`px-1.5 py-0.5 text-[9px] font-bold uppercase tracking-wider rounded border transition-colors ${g===k?"bg-black dark:bg-white text-white dark:text-black border-black dark:border-white shadow-[2px_2px_0px_0px_rgba(0,0,0,0.1)]":"bg-white dark:bg-neutral-900 text-neutral-500 dark:text-neutral-500 border-neutral-200 dark:border-neutral-800 hover:border-neutral-400 dark:hover:border-neutral-600"}`,children:k},k))}),d.jsx("div",{className:"grid grid-cols-4 md:grid-cols-3 gap-1.5 md:gap-2",children:Object.values(Lt).filter(k=>g==="All"||k.categories.includes(g)).map(k=>{const O=i[k.key]||k.baseValue;if(k.displayCondition&&!k.displayCondition(O))return null;let z=`${cc[k.key]}
${lc[k.key]}`;if(k.key==="SPD"){const _=o.speedCap||500;z=`${cc[k.key]} (Cap: ${_}ms)
${lc[k.key]}`}else k.isCapped&&(z=`${cc[k.key]} (Cap: ${c}%)
${lc[k.key]}`);const M=`${ve(O,k.format.decimals)}${k.format.suffix}`;return d.jsx(u0,{icon:d.jsx(k.icon,{className:`w-4 h-4 ${k.colorClass}`}),label:k.label,value:M,colorClass:k.colorClass,tooltipHeading:k.label,tooltipContent:z},k.key)})})]}),d.jsxs("div",{id:"tutorial-sidebar-fundamentals",className:"mb-8 border-t-2 border-neutral-200 dark:border-neutral-800 pt-6 md:pt-8 transition-colors",children:[d.jsx("div",{className:"flex justify-between items-center mb-3 md:mb-4",children:d.jsx("h3",{className:"text-sm md:text-xl font-black uppercase text-neutral-800 dark:text-neutral-100 tracking-tighter",children:"Fundamentals"})}),d.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:T.map(k=>d.jsx("button",{onClick:()=>m(k),className:`px-1.5 py-1 text-[9px] font-bold uppercase tracking-wider rounded border transition-colors ${u===k?"bg-black dark:bg-white text-white dark:text-black border-black dark:border-white shadow-[2px_2px_0px_0px_rgba(0,0,0,0.1)]":"bg-white dark:bg-neutral-900 text-neutral-500 dark:text-neutral-500 border-neutral-200 dark:border-neutral-800 hover:border-neutral-400 dark:hover:border-neutral-600"}`,children:k},k))}),d.jsxs("div",{className:"flex flex-col gap-3",children:[u==="All"||u==="Core"?d.jsx(_2,{}):null,Av.filter(k=>u==="All"||k.category===u).map(k=>{const O=o[k.key],z=a0[k.key],M=I=>{if(f.isBigNumber(I))return I.toFixed(4);if(typeof I=="object"&&I!==null&&"c"in I&&"e"in I)return new f(I).toFixed(4);const Y=Number(I);return isNaN(Y)?"0.0000":Y.toFixed(4)},_=M(O),R=M(z);return _!==R?d.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-800/50 border border-neutral-200 dark:border-neutral-700 p-3 rounded text-xs text-neutral-600 dark:text-neutral-400 transition-colors",children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("strong",{className:"block text-neutral-900 dark:text-neutral-100 uppercase",children:k.label}),d.jsx("span",{className:"font-mono font-bold text-black dark:text-neutral-200",children:w(O,k.format,k.key)})]}),d.jsx("p",{children:k.description})]},k.key):null})]})]})]})},ix=[{id:"graphite_pump",unlockKey:"graphiteGeneratorUnlocked",currency:"Graphite",type:"flat",amount:new f(.1)},{id:"wax_generator",unlockKey:"waxGeneratorUnlocked",currency:"Wax",type:"flat",amount:new f(.1)},{id:"graphite_plus",unlockKey:"graphitePlusUnlocked",currency:"Graphite",type:"scaling",source:"totalBattleEarnedCurrencies",sourceCurrency:"Graphite",factor:1e-4},{id:"wax_overdrive",unlockKey:"waxOverdriveUnlocked",currency:"Wax",type:"scaling",source:"totalBattleEarnedCurrencies",sourceCurrency:"Wax",factor:1e-4},{id:"charcoal_overdrive",unlockKey:"charcoalOverdriveUnlocked",currency:"Charcoal",type:"scaling",source:"totalBattleEarnedCurrencies",sourceCurrency:"Charcoal",factor:1e-4},{id:"coffee_generator",unlockKey:"coffeeGeneratorUnlocked",currency:"Coffee",type:"scaling",source:"totalBattleEarnedCurrencies",sourceCurrency:"Coffee",factor:1e-4},{id:"marker_generator",unlockKey:"markerGeneratorUnlocked",currency:"Marker",type:"scaling",source:"totalBattleEarnedCurrencies",sourceCurrency:"Marker",factor:1e-4},{id:"ink_generator",unlockKey:"inkGeneratorUnlocked",currency:"Ink",type:"scaling",source:"totalBattleEarnedCurrencies",sourceCurrency:"Ink",factor:1e-4}],ox=t=>{const a={},i=t.fundamentals.generatorMultiplier||1,o=t.fundamentals.timeAcceleration||1;return ix.forEach(s=>{if(t[s.unlockKey]){let c=new f(0);s.type==="flat"?c=s.amount:s.type==="scaling"&&(c=(t[s.source][s.sourceCurrency]||new f(0)).times(s.factor));let u=1;const m=s.currency;m==="Graphite"?u=t.fundamentals.graphiteGeneratorMultiplier:m==="Wax"?u=t.fundamentals.waxGeneratorMultiplier:m==="Charcoal"?u=t.fundamentals.charcoalGeneratorMultiplier:m==="Coffee"?u=t.fundamentals.coffeeGeneratorMultiplier:m==="Ink"?u=t.fundamentals.inkGeneratorMultiplier:m==="Marker"?u=t.fundamentals.markerGeneratorMultiplier:m==="Acrylic"?u=t.fundamentals.acrylicGeneratorMultiplier:m==="Spray"?u=t.fundamentals.sprayGeneratorMultiplier:m==="Photon"?u=t.fundamentals.photonGeneratorMultiplier:m==="Gold Leaf"&&(u=t.fundamentals.goldLeafGeneratorMultiplier);const g=c.times(i).times(u).times(o);if(g.gt(0)){const p=a[s.currency]||new f(0);a[s.currency]=p.plus(g)}}}),a},A2=()=>{const t=me(xt(L=>{const Z={};return Mn.forEach(Q=>{Q.unlockKey&&(Z[Q.unlockKey]=!!L[Q.unlockKey])}),{currencies:L.currencies,shopLevels:L.shopLevels,buyUpgrade:L.buyUpgrade,unlockTool:L.unlockTool,toggleAutoBuy:L.toggleAutoBuy,buyMaxUpgrade:L.buyMaxUpgrade,autoChallengeActive:L.autoChallengeActive,toggleAutoChallenge:L.toggleAutoChallenge,autoRetryActive:L.autoRetryActive,toggleAutoRetry:L.toggleAutoRetry,autoAdvanceActive:L.autoAdvanceActive,toggleAutoAdvance:L.toggleAutoAdvance,totalEarnedCurrencies:L.totalEarnedCurrencies,totalBattleEarnedCurrencies:L.totalBattleEarnedCurrencies,autoBuyEnabled:L.autoBuyEnabled,hidePurchasedTools:L.hidePurchasedTools,setHidePurchasedTools:L.setHidePurchasedTools,autoHideMaxedActive:L.autoHideMaxedActive,toggleAutoHideMaxed:L.toggleAutoHideMaxed,conceptualBridgeActive:L.conceptualBridgeActive,toggleConceptualBridge:L.toggleConceptualBridge,waxToolUnlocked:L.waxToolUnlocked,charcoalDiscountUnlocked:L.charcoalDiscountUnlocked,waxDiscountUnlocked:L.waxDiscountUnlocked,coffeeDiscountUnlocked:L.coffeeDiscountUnlocked,inkDiscountUnlocked:L.inkDiscountUnlocked,fundamentals:L.fundamentals,skillLevels:L.skillLevels,activeSubTab:L.shopActiveSubTab,setActiveSubTab:L.setShopActiveSubTab,...Z}})),a=J.useMemo(()=>{const L={};return Mn.forEach(Z=>{Z.unlockKey&&(L[Z.unlockKey]=!!t[Z.unlockKey])}),L},[t]),{currencies:i,shopLevels:o,buyUpgrade:s,unlockTool:c,toggleAutoBuy:u,buyMaxUpgrade:m,autoChallengeActive:g,toggleAutoChallenge:p,autoRetryActive:b,toggleAutoRetry:x,autoAdvanceActive:w,toggleAutoAdvance:E,totalEarnedCurrencies:T,totalBattleEarnedCurrencies:k,autoBuyEnabled:O,hidePurchasedTools:z,setHidePurchasedTools:M,autoHideMaxedActive:_,toggleAutoHideMaxed:R,conceptualBridgeActive:q,toggleConceptualBridge:I,waxToolUnlocked:Y,charcoalDiscountUnlocked:v,waxDiscountUnlocked:N,coffeeDiscountUnlocked:B,inkDiscountUnlocked:H,fundamentals:U,skillLevels:F,activeSubTab:D,setActiveSubTab:j}=t,S={Graphite:rs,Wax:yc,Charcoal:xc,Coffee:bc,Ink:_n,Marker:is,Acrylic:i0,Spray:o0,Photon:s0,"Gold Leaf":l0},[P,A]=J.useState("all"),[K,X]=J.useState(!1),G=J.useMemo(()=>ox({currencies:i,fundamentals:U,skillLevels:F,shopLevels:o,totalBattleEarnedCurrencies:k,...a}),[i,U,F,o,a,k]);return d.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-neutral-950 overflow-hidden transition-colors",children:[d.jsx("div",{className:"bg-neutral-900 dark:bg-black text-neutral-100 flex-none z-20 shadow-lg transition-colors",children:d.jsx("div",{className:"flex overflow-x-auto py-1 md:py-2 scrollbar-hide no-scrollbar",children:["Graphite",...dr.filter(L=>L!=="Graphite"&&T[L]?.gt(0))].map(L=>{const Z=L,Q=S[Z]||_n,te=i[Z]||new f(0),ie=G[Z];return d.jsx(cr,{className:"flex-none w-[22%] md:w-[10%]",heading:d.jsxs("span",{className:"flex items-center gap-2 text-white",children:[d.jsx(Q,{className:"w-5 h-5"}),L]}),content:"",children:d.jsxs("div",{className:"w-full h-full px-2 flex items-center gap-1.5 md:gap-2 border-r border-neutral-800 dark:border-neutral-900 last:border-r-0 cursor-help",children:[d.jsx(Q,{className:"w-5 h-5 md:w-8 md:h-8 text-neutral-400 dark:text-neutral-500 shrink-0"}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("div",{className:"text-[7px] md:text-[9px] text-neutral-500 dark:text-neutral-500 font-bold uppercase tracking-widest mb-0.5 truncate leading-none",children:L}),d.jsx("div",{className:"text-xs md:text-lg font-mono font-bold leading-none tracking-tighter truncate text-neutral-100 transition-colors",children:ve(te)}),d.jsx("div",{className:"h-2 md:h-3 flex items-center mt-0.5",children:ie&&ie.gt(0)&&d.jsxs("div",{className:"text-[7px] md:text-[9px] text-green-500 font-mono font-bold leading-none animate-pulse truncate",children:["+",ve(ie),"/s"]})})]})]})},L)})})}),d.jsxs("div",{className:"flex px-4 gap-4 mt-2",children:[d.jsxs("button",{onClick:()=>j("tools"),className:`
                            px-4 py-2 font-bold uppercase tracking-wide border-b-4 transition-colors relative whitespace-nowrap
                            ${D==="tools"?"border-neutral-800 dark:border-neutral-100 text-neutral-900 dark:text-neutral-100":"border-transparent text-neutral-400 dark:text-neutral-600 hover:text-neutral-600 dark:hover:text-neutral-400"}
                    `,children:["Tools",Mn.some(L=>{if(!!a[L.unlockKey]||L.currency!=="Graphite"&&(T[L.currency]?.eq(0)??!0))return!1;const te=i[L.currency]||new f(0),ie=An(L.cost,L.currency,U);return te.gte(ie)})&&d.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-orange-500 rounded-full border border-white dark:border-neutral-900"})]}),d.jsxs("button",{onClick:()=>j("upgrades"),className:`
                            px-4 py-2 font-bold uppercase tracking-wide border-b-4 transition-colors relative
                            ${D==="upgrades"?"border-neutral-800 dark:border-neutral-100 text-neutral-900 dark:text-neutral-100":"border-transparent text-neutral-400 dark:text-neutral-600 hover:text-neutral-600 dark:hover:text-neutral-400"}
                    `,children:["Stat Upgrades",sr.some(L=>{const Z=o[L.id]?.toNumber()||0,Q=An(Gi(L,new f(Z),{waxToolUnlocked:Y,charcoalDiscountUnlocked:v}),L.currency,U),te=i[L.currency]||new f(0);return L.currency!=="Graphite"&&(T[L.currency]?.eq(0)??!0)?!1:te.gte(Q)})&&d.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-orange-500 rounded-full border border-white dark:border-neutral-900"})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 no-scrollbar",children:[D==="tools"&&d.jsx("div",{className:"h-full",children:d.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-8 min-h-full",children:[d.jsx("div",{className:"flex-1 h-full overflow-y-auto pr-2",children:d.jsxs("div",{id:"tutorial-shop-market",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4 sticky top-0 bg-white dark:bg-neutral-900 py-2 z-10 border-b border-neutral-200 dark:border-neutral-800 transition-colors",children:[d.jsx("h4",{className:"text-lg font-bold uppercase text-neutral-500 dark:text-neutral-400",children:"Market"}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:z,onChange:L=>M(L.target.checked),className:"w-4 h-4 text-neutral-800 dark:text-neutral-200 rounded focus:ring-neutral-800 dark:focus:ring-neutral-200 dark:bg-neutral-700 dark:border-neutral-600"}),d.jsx("span",{className:"text-sm font-bold text-neutral-600 dark:text-neutral-400",children:"Hide Purchased"})]})]}),d.jsx("div",{className:"flex flex-col gap-4 pb-12",children:Mn.filter(L=>{const Z=!!a[L.unlockKey];return!(Z&&z||Z&&L.type==="SPECIAL")}).map(L=>{const Z=!!a[L.unlockKey],Q=()=>c(L.id),te=!Z&&L.currency!=="Graphite"&&(T[L.currency]?.eq(0)??!0);let ie=_n;L.icon==="Speed"?ie=ts:L.icon==="Graphite"?ie=rs:L.icon==="Wax"?ie=yc:L.icon==="Charcoal"?ie=xc:L.icon==="Coffee"?ie=bc:L.icon==="Ink"?ie=_n:L.icon==="Marker"&&(ie=is);const oe=S[L.currency]||_n,de=i[L.currency]||new f(0),pe=An(L.cost,L.currency,U),Ee=de.gte(pe);return d.jsxs("div",{className:"bg-white dark:bg-neutral-800 border-2 border-neutral-800 dark:border-neutral-700 p-6 shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)] dark:shadow-none flex items-center relative transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0 pr-4",children:[d.jsx("div",{className:`p-3 bg-neutral-100 dark:bg-neutral-900 rounded-full border border-neutral-300 dark:border-neutral-700 shrink-0 ${te?"opacity-50":""}`,children:te?d.jsx("div",{className:"w-8 h-8 flex items-center justify-center text-neutral-400 dark:text-neutral-600 font-bold text-xl",children:"?"}):d.jsx(ie,{className:`w-8 h-8 ${L.iconColor||"text-neutral-800 dark:text-neutral-300"}`})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold uppercase leading-none dark:text-neutral-100",children:te?Uf(L.name):L.name}),d.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 font-serif italic max-w-[300px]",children:te?d.jsx("span",{className:"text-neutral-300 dark:text-neutral-700 select-none",children:"Lorem ipsum dolor sit amet..."}):L.description})]})]}),d.jsx("div",{className:"shrink-0 ml-auto",children:Z?d.jsx("div",{className:"w-32 py-2 px-4 font-bold uppercase tracking-wider border-2 border-transparent bg-sky-500 text-white text-center shadow-inner text-sm",children:"UNLOCKED"}):d.jsx("button",{onClick:Q,disabled:!Ee||te,className:`
                                                                    py-3 px-6 font-bold uppercase tracking-wider border-2 transition-all
                                                                    ${Ee&&!te?"bg-amber-100 dark:bg-amber-900/40 text-amber-900 dark:text-amber-200 border-amber-900 dark:border-amber-700 hover:bg-amber-200 dark:hover:bg-amber-800/60 shadow-[2px_2px_0px_0px_rgba(120,53,15,0.8)] cursor-pointer":"bg-neutral-100 dark:bg-neutral-800 text-neutral-400 dark:text-neutral-600 border-neutral-200 dark:border-neutral-700 cursor-not-allowed opacity-60"}
                                                                `,children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{children:"Unlock"}),d.jsxs("div",{className:"flex items-center gap-1 font-mono",children:[d.jsx("span",{children:te?"???":ve(pe)}),d.jsx(oe,{className:"w-7 h-7"})]})]})})})]},L.id)})})]})}),d.jsx("div",{className:"w-full lg:w-1/3 lg:min-w-[300px] bg-neutral-100 dark:bg-neutral-900/50 border lg:border-l border-neutral-200 dark:border-neutral-800 p-4 shrink-0 rounded-lg lg:rounded-none transition-colors",children:d.jsxs("div",{id:"tutorial-shop-protocols",children:[d.jsx("h4",{className:"text-sm md:text-lg font-bold uppercase text-neutral-500 dark:text-neutral-400 mb-4 sticky top-0 bg-neutral-100 dark:bg-neutral-900/50 p-1 md:p-2 z-10 border-b lg:border-b-0 border-neutral-200 dark:border-neutral-800",children:"Active Protocols"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[Mn.filter(L=>!!a[L.unlockKey]&&L.type==="ACTIVE_PROTOCOL").map(L=>{let Z=!0,Q=()=>{};if(L.id==="AUTO_CHALLENGE")Z=g,Q=p;else if(L.id==="AUTO_RETRY")Z=b,Q=x;else if(L.id==="AUTO_ADVANCE")Z=w,Q=E;else if(L.id==="AUTO_HIDE_MAXED")Z=_,Q=R;else if(L.id==="CONCEPTUAL_BRIDGE")Z=q,Q=I;else if(L.id==="BUY_MAX"||L.id==="AUTO_BUY")return Z=!0,Q=()=>{},null;let te=ts;return L.icon==="Speed"&&(te=ts),L.icon==="Ink"&&(te=_n),d.jsxs("button",{onClick:Q,className:`
                                                        relative text-left p-2 border transition-all duration-200 flex flex-col justify-between h-full group
                                                        ${Z?"bg-green-50 dark:bg-green-900/20 border-green-500 dark:border-green-700 shadow-md scale-[1.02] z-10":"bg-white dark:bg-neutral-800 border-neutral-300 dark:border-neutral-700 shadow-sm hover:border-neutral-400 dark:hover:border-neutral-600 hover:bg-neutral-50 dark:hover:bg-neutral-750 hover:scale-[1.01] opacity-80 hover:opacity-100"}
                                                    `,children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(te,{className:`w-4 h-4 ${Z?"text-green-700 dark:text-green-400":"text-neutral-400 dark:text-neutral-600 grayscale"}`}),d.jsx("h3",{className:`font-bold uppercase leading-none text-xs ${Z?"text-green-800 dark:text-green-300":"text-neutral-600 dark:text-neutral-500"}`,children:L.name})]}),d.jsx("div",{className:`w-2 h-2 rounded-full ${Z?"bg-green-500 dark:bg-green-400 shadow-[0_0_4px_rgba(34,197,94,0.6)]":"bg-neutral-300 dark:bg-neutral-700"}`})]}),d.jsx("p",{className:"text-[9px] text-neutral-500 dark:text-neutral-400 leading-tight mb-2 transition-colors",children:L.description})]}),d.jsx("div",{className:`mt-auto pt-2 border-t border-dashed ${Z?"border-green-200 dark:border-green-900/50":"border-neutral-200 dark:border-neutral-800"}`,children:d.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${Z?"text-green-700 dark:text-green-400":"text-neutral-400 dark:text-neutral-600"}`,children:Z?" Active":" Disabled"})})]},L.id)}),!a.autoChallengeUnlocked&&!a.autoRetryUnlocked&&d.jsxs("div",{className:"col-span-2 text-center p-8 text-neutral-400 dark:text-neutral-600 italic font-serif text-sm",children:["No active protocols available.",d.jsx("br",{}),"Unlock special tools from the market."]})]})]})})]})}),D==="upgrades"&&d.jsx("div",{className:"h-full overflow-y-auto pb-12",children:d.jsxs("div",{id:"tutorial-shop-upgrades",children:[d.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[d.jsx("button",{onClick:()=>A("all"),className:`px-3 py-1.5 text-sm font-bold uppercase rounded transition-colors ${P==="all"?"bg-orange-500 text-white":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-400 hover:bg-neutral-300 dark:hover:bg-neutral-700"}`,children:"All"}),dr.filter(L=>sr.some(Z=>Z.currency===L)).map(L=>{const Z=S[L];return d.jsxs("button",{onClick:()=>A(L),className:`px-3 py-1.5 text-sm font-bold uppercase rounded flex items-center gap-1.5 transition-colors ${P===L?"bg-orange-500 text-white":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-400 hover:bg-neutral-300 dark:hover:bg-neutral-700"}`,children:[d.jsx(Z,{className:"w-4 h-4"}),L]},L)}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none ml-auto border-l pl-4 border-neutral-300 dark:border-neutral-700 transition-colors",children:[d.jsx("input",{type:"checkbox",checked:K,onChange:L=>X(L.target.checked),className:"w-4 h-4 text-neutral-800 dark:text-neutral-200 rounded focus:ring-neutral-800 dark:focus:ring-neutral-200 dark:bg-neutral-700 dark:border-neutral-600"}),d.jsx("span",{className:"text-sm font-bold text-neutral-600 dark:text-neutral-400",children:"Affordable Only"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 md:gap-6",children:sr.filter(L=>{if(P!=="all"&&L.currency!==P)return!1;if(K){const Z=o[L.id]?.toNumber()||0,Q=An(Gi(L,new f(Z),{waxToolUnlocked:Y,charcoalDiscountUnlocked:v,waxDiscountUnlocked:N,coffeeDiscountUnlocked:B,inkDiscountUnlocked:H}),L.currency,U);if((i[L.currency]||new f(0)).lt(Q))return!1}return!0}).map(L=>{const Z=o[L.id]?.toNumber()||0,Q=An(Gi(L,new f(Z),{waxToolUnlocked:Y,charcoalDiscountUnlocked:v,waxDiscountUnlocked:N,coffeeDiscountUnlocked:B,inkDiscountUnlocked:H}),L.currency,U),te=L.currency,oe=(i[te]||new f(0)).gte(Q),de=L.currency!=="Graphite"&&(T[L.currency]?.eq(0)??!0),pe=Lt[L.stat]?.icon||Jy,Ee=S[te],ke=L.multiplier(Z);let xe=`${ve(ke.times(100))}% multiplier`;return L.isAdditive?xe=`${ve(new f(100).plus(ke))}% multiplier`:L.id==="SPD"?xe=`${ve(ke.times(100))}% delay`:L.id==="CritDmg"&&(xe=`${ve(ke.times(100))}% total`),d.jsxs("div",{className:"bg-white dark:bg-neutral-800 border-2 border-neutral-800 dark:border-neutral-700 p-6 shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)] dark:shadow-none relative transition-colors",children:[d.jsxs("div",{className:"absolute top-0 right-0 bg-neutral-800 dark:bg-black text-white text-xs font-bold px-2 py-1",children:["LVL ",Z]}),d.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[d.jsx(cr,{heading:d.jsxs("span",{className:"flex items-center gap-2 text-white",children:[d.jsx(pe,{className:"w-5 h-5"}),cc[L.stat]]}),content:lc[L.stat],children:d.jsx("div",{className:`p-3 bg-neutral-100 dark:bg-neutral-900 rounded-full border border-neutral-300 dark:border-neutral-700 ${de?"opacity-50":""} cursor-help`,children:de?d.jsx("div",{className:"w-8 h-8 flex items-center justify-center text-neutral-400 dark:text-neutral-600 font-bold text-xl",children:"?"}):d.jsx(pe,{className:"w-8 h-8 text-neutral-700 dark:text-neutral-300"})})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold uppercase leading-none dark:text-neutral-100",children:de?Uf(L.name):L.name}),d.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 font-serif italic",children:de?d.jsx("span",{className:"text-neutral-300 dark:text-neutral-700 select-none",children:"Lorem ipsum dolor sit amet..."}):L.description})]})]}),d.jsx("div",{className:"mb-4 text-center bg-neutral-50 dark:bg-black/20 border border-neutral-200 dark:border-neutral-700 rounded py-2 transition-colors",children:d.jsx("span",{className:"font-mono text-sm font-bold text-neutral-700 dark:text-neutral-300",children:de?"???":xe})}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>s(L.id),disabled:!oe||de,className:`flex-1 py-3 px-4 font-bold uppercase tracking-wider border-2 transition-all ${oe&&!de?"bg-green-100 dark:bg-green-900/40 text-green-900 dark:text-green-200 border-green-900 dark:border-green-700 hover:bg-green-200 dark:hover:bg-green-800 shadow-[2px_2px_0px_0px_rgba(20,83,45,0.8)]":"bg-neutral-100 dark:bg-neutral-800 text-neutral-400 dark:text-neutral-600 border-neutral-200 dark:border-neutral-700 cursor-not-allowed opacity-60"}`,children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{children:"Buy"}),d.jsxs("div",{className:"flex items-center gap-1 font-mono",children:[d.jsx("span",{children:de?"???":ve(Q)}),Ee&&d.jsx(cr,{heading:d.jsxs("span",{className:"flex items-center gap-2 text-white",children:[d.jsx(Ee,{className:"w-5 h-5"}),te]}),content:"",children:d.jsx(Ee,{className:"w-7 h-7 ml-1 cursor-help"})})]})]})}),!!a.autoBuyUnlocked&&Z>0&&d.jsx("button",{onClick:()=>u(L.id),className:`w-12 border-2 flex items-center justify-center transition-colors ${O[L.id]?"bg-amber-400 dark:bg-amber-600 border-neutral-900 dark:border-neutral-950 text-neutral-900 dark:text-black shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]":"bg-white dark:bg-neutral-800 border-neutral-300 dark:border-neutral-700 text-neutral-300 dark:text-neutral-600 hover:border-neutral-400 dark:hover:border-neutral-500"}`,title:"Auto-Buy",children:d.jsx("span",{className:"text-xl font-bold",children:"A"})})]}),!!a.buyMaxUnlocked&&d.jsx("button",{onClick:()=>m(L.id),disabled:!oe||de,className:`w-full py-2 px-4 font-bold uppercase tracking-wider border-2 transition-all text-sm ${oe&&!de?"bg-blue-100 dark:bg-blue-900/40 text-blue-900 dark:text-blue-200 border-blue-900 dark:border-blue-700 hover:bg-blue-200 dark:hover:bg-blue-800 shadow-[2px_2px_0px_0px_rgba(30,58,138,0.8)]":"bg-neutral-50 dark:bg-neutral-900/30 text-neutral-400 dark:text-neutral-600 border-neutral-200 dark:border-neutral-800 cursor-not-allowed opacity-40"}`,children:"Buy Max"})]})]},L.id)})})]})})]})]})},os=({className:t})=>d.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:t,xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M12 2L14.5 9.5L22 12L14.5 14.5L12 22L9.5 14.5L2 12L9.5 9.5L12 2Z",className:"drop-shadow-sm"}),d.jsx("circle",{cx:"12",cy:"12",r:"3",fill:"white",fillOpacity:"0.3"})]});function bt(t){if(typeof t=="string"||typeof t=="number")return""+t;let a="";if(Array.isArray(t))for(let i=0,o;i<t.length;i++)(o=bt(t[i]))!==""&&(a+=(a&&" ")+o);else for(let i in t)t[i]&&(a+=(a&&" ")+i);return a}var M2={value:()=>{}};function Lc(){for(var t=0,a=arguments.length,i={},o;t<a;++t){if(!(o=arguments[t]+"")||o in i||/[\s.]/.test(o))throw new Error("illegal type: "+o);i[o]=[]}return new uc(i)}function uc(t){this._=t}function j2(t,a){return t.trim().split(/^|\s+/).map(function(i){var o="",s=i.indexOf(".");if(s>=0&&(o=i.slice(s+1),i=i.slice(0,s)),i&&!a.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:o}})}uc.prototype=Lc.prototype={constructor:uc,on:function(t,a){var i=this._,o=j2(t+"",i),s,c=-1,u=o.length;if(arguments.length<2){for(;++c<u;)if((s=(t=o[c]).type)&&(s=R2(i[s],t.name)))return s;return}if(a!=null&&typeof a!="function")throw new Error("invalid callback: "+a);for(;++c<u;)if(s=(t=o[c]).type)i[s]=Pg(i[s],t.name,a);else if(a==null)for(s in i)i[s]=Pg(i[s],t.name,null);return this},copy:function(){var t={},a=this._;for(var i in a)t[i]=a[i].slice();return new uc(t)},call:function(t,a){if((s=arguments.length-2)>0)for(var i=new Array(s),o=0,s,c;o<s;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(c=this._[t],o=0,s=c.length;o<s;++o)c[o].value.apply(a,i)},apply:function(t,a,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],s=0,c=o.length;s<c;++s)o[s].value.apply(a,i)}};function R2(t,a){for(var i=0,o=t.length,s;i<o;++i)if((s=t[i]).name===a)return s.value}function Pg(t,a,i){for(var o=0,s=t.length;o<s;++o)if(t[o].name===a){t[o]=M2,t=t.slice(0,o).concat(t.slice(o+1));break}return i!=null&&t.push({name:a,value:i}),t}var Pf="http://www.w3.org/1999/xhtml";const Ig={svg:"http://www.w3.org/2000/svg",xhtml:Pf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Oc(t){var a=t+="",i=a.indexOf(":");return i>=0&&(a=t.slice(0,i))!=="xmlns"&&(t=t.slice(i+1)),Ig.hasOwnProperty(a)?{space:Ig[a],local:t}:t}function D2(t){return function(){var a=this.ownerDocument,i=this.namespaceURI;return i===Pf&&a.documentElement.namespaceURI===Pf?a.createElement(t):a.createElementNS(i,t)}}function L2(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function sx(t){var a=Oc(t);return(a.local?L2:D2)(a)}function O2(){}function d0(t){return t==null?O2:function(){return this.querySelector(t)}}function H2(t){typeof t!="function"&&(t=d0(t));for(var a=this._groups,i=a.length,o=new Array(i),s=0;s<i;++s)for(var c=a[s],u=c.length,m=o[s]=new Array(u),g,p,b=0;b<u;++b)(g=c[b])&&(p=t.call(g,g.__data__,b,c))&&("__data__"in g&&(p.__data__=g.__data__),m[b]=p);return new on(o,this._parents)}function z2(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function U2(){return[]}function lx(t){return t==null?U2:function(){return this.querySelectorAll(t)}}function P2(t){return function(){return z2(t.apply(this,arguments))}}function I2(t){typeof t=="function"?t=P2(t):t=lx(t);for(var a=this._groups,i=a.length,o=[],s=[],c=0;c<i;++c)for(var u=a[c],m=u.length,g,p=0;p<m;++p)(g=u[p])&&(o.push(t.call(g,g.__data__,p,u)),s.push(g));return new on(o,s)}function cx(t){return function(){return this.matches(t)}}function ux(t){return function(a){return a.matches(t)}}var B2=Array.prototype.find;function G2(t){return function(){return B2.call(this.children,t)}}function V2(){return this.firstElementChild}function Y2(t){return this.select(t==null?V2:G2(typeof t=="function"?t:ux(t)))}var q2=Array.prototype.filter;function K2(){return Array.from(this.children)}function F2(t){return function(){return q2.call(this.children,t)}}function $2(t){return this.selectAll(t==null?K2:F2(typeof t=="function"?t:ux(t)))}function X2(t){typeof t!="function"&&(t=cx(t));for(var a=this._groups,i=a.length,o=new Array(i),s=0;s<i;++s)for(var c=a[s],u=c.length,m=o[s]=[],g,p=0;p<u;++p)(g=c[p])&&t.call(g,g.__data__,p,c)&&m.push(g);return new on(o,this._parents)}function dx(t){return new Array(t.length)}function Z2(){return new on(this._enter||this._groups.map(dx),this._parents)}function wc(t,a){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=a}wc.prototype={constructor:wc,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,a){return this._parent.insertBefore(t,a)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Q2(t){return function(){return t}}function W2(t,a,i,o,s,c){for(var u=0,m,g=a.length,p=c.length;u<p;++u)(m=a[u])?(m.__data__=c[u],o[u]=m):i[u]=new wc(t,c[u]);for(;u<g;++u)(m=a[u])&&(s[u]=m)}function J2(t,a,i,o,s,c,u){var m,g,p=new Map,b=a.length,x=c.length,w=new Array(b),E;for(m=0;m<b;++m)(g=a[m])&&(w[m]=E=u.call(g,g.__data__,m,a)+"",p.has(E)?s[m]=g:p.set(E,g));for(m=0;m<x;++m)E=u.call(t,c[m],m,c)+"",(g=p.get(E))?(o[m]=g,g.__data__=c[m],p.delete(E)):i[m]=new wc(t,c[m]);for(m=0;m<b;++m)(g=a[m])&&p.get(w[m])===g&&(s[m]=g)}function ek(t){return t.__data__}function tk(t,a){if(!arguments.length)return Array.from(this,ek);var i=a?J2:W2,o=this._parents,s=this._groups;typeof t!="function"&&(t=Q2(t));for(var c=s.length,u=new Array(c),m=new Array(c),g=new Array(c),p=0;p<c;++p){var b=o[p],x=s[p],w=x.length,E=nk(t.call(b,b&&b.__data__,p,o)),T=E.length,k=m[p]=new Array(T),O=u[p]=new Array(T),z=g[p]=new Array(w);i(b,x,k,O,z,E,a);for(var M=0,_=0,R,q;M<T;++M)if(R=k[M]){for(M>=_&&(_=M+1);!(q=O[_])&&++_<T;);R._next=q||null}}return u=new on(u,o),u._enter=m,u._exit=g,u}function nk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ak(){return new on(this._exit||this._groups.map(dx),this._parents)}function rk(t,a,i){var o=this.enter(),s=this,c=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),a!=null&&(s=a(s),s&&(s=s.selection())),i==null?c.remove():i(c),o&&s?o.merge(s).order():s}function ik(t){for(var a=t.selection?t.selection():t,i=this._groups,o=a._groups,s=i.length,c=o.length,u=Math.min(s,c),m=new Array(s),g=0;g<u;++g)for(var p=i[g],b=o[g],x=p.length,w=m[g]=new Array(x),E,T=0;T<x;++T)(E=p[T]||b[T])&&(w[T]=E);for(;g<s;++g)m[g]=i[g];return new on(m,this._parents)}function ok(){for(var t=this._groups,a=-1,i=t.length;++a<i;)for(var o=t[a],s=o.length-1,c=o[s],u;--s>=0;)(u=o[s])&&(c&&u.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(u,c),c=u);return this}function sk(t){t||(t=lk);function a(x,w){return x&&w?t(x.__data__,w.__data__):!x-!w}for(var i=this._groups,o=i.length,s=new Array(o),c=0;c<o;++c){for(var u=i[c],m=u.length,g=s[c]=new Array(m),p,b=0;b<m;++b)(p=u[b])&&(g[b]=p);g.sort(a)}return new on(s,this._parents).order()}function lk(t,a){return t<a?-1:t>a?1:t>=a?0:NaN}function ck(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function uk(){return Array.from(this)}function dk(){for(var t=this._groups,a=0,i=t.length;a<i;++a)for(var o=t[a],s=0,c=o.length;s<c;++s){var u=o[s];if(u)return u}return null}function fk(){let t=0;for(const a of this)++t;return t}function hk(){return!this.node()}function mk(t){for(var a=this._groups,i=0,o=a.length;i<o;++i)for(var s=a[i],c=0,u=s.length,m;c<u;++c)(m=s[c])&&t.call(m,m.__data__,c,s);return this}function pk(t){return function(){this.removeAttribute(t)}}function gk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yk(t,a){return function(){this.setAttribute(t,a)}}function xk(t,a){return function(){this.setAttributeNS(t.space,t.local,a)}}function bk(t,a){return function(){var i=a.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function wk(t,a){return function(){var i=a.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function vk(t,a){var i=Oc(t);if(arguments.length<2){var o=this.node();return i.local?o.getAttributeNS(i.space,i.local):o.getAttribute(i)}return this.each((a==null?i.local?gk:pk:typeof a=="function"?i.local?wk:bk:i.local?xk:yk)(i,a))}function fx(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function kk(t){return function(){this.style.removeProperty(t)}}function Ck(t,a,i){return function(){this.style.setProperty(t,a,i)}}function Sk(t,a,i){return function(){var o=a.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,i)}}function Ek(t,a,i){return arguments.length>1?this.each((a==null?kk:typeof a=="function"?Sk:Ck)(t,a,i??"")):Ki(this.node(),t)}function Ki(t,a){return t.style.getPropertyValue(a)||fx(t).getComputedStyle(t,null).getPropertyValue(a)}function Nk(t){return function(){delete this[t]}}function Tk(t,a){return function(){this[t]=a}}function _k(t,a){return function(){var i=a.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function Ak(t,a){return arguments.length>1?this.each((a==null?Nk:typeof a=="function"?_k:Tk)(t,a)):this.node()[t]}function hx(t){return t.trim().split(/^|\s+/)}function f0(t){return t.classList||new mx(t)}function mx(t){this._node=t,this._names=hx(t.getAttribute("class")||"")}mx.prototype={add:function(t){var a=this._names.indexOf(t);a<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var a=this._names.indexOf(t);a>=0&&(this._names.splice(a,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function px(t,a){for(var i=f0(t),o=-1,s=a.length;++o<s;)i.add(a[o])}function gx(t,a){for(var i=f0(t),o=-1,s=a.length;++o<s;)i.remove(a[o])}function Mk(t){return function(){px(this,t)}}function jk(t){return function(){gx(this,t)}}function Rk(t,a){return function(){(a.apply(this,arguments)?px:gx)(this,t)}}function Dk(t,a){var i=hx(t+"");if(arguments.length<2){for(var o=f0(this.node()),s=-1,c=i.length;++s<c;)if(!o.contains(i[s]))return!1;return!0}return this.each((typeof a=="function"?Rk:a?Mk:jk)(i,a))}function Lk(){this.textContent=""}function Ok(t){return function(){this.textContent=t}}function Hk(t){return function(){var a=t.apply(this,arguments);this.textContent=a??""}}function zk(t){return arguments.length?this.each(t==null?Lk:(typeof t=="function"?Hk:Ok)(t)):this.node().textContent}function Uk(){this.innerHTML=""}function Pk(t){return function(){this.innerHTML=t}}function Ik(t){return function(){var a=t.apply(this,arguments);this.innerHTML=a??""}}function Bk(t){return arguments.length?this.each(t==null?Uk:(typeof t=="function"?Ik:Pk)(t)):this.node().innerHTML}function Gk(){this.nextSibling&&this.parentNode.appendChild(this)}function Vk(){return this.each(Gk)}function Yk(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qk(){return this.each(Yk)}function Kk(t){var a=typeof t=="function"?t:sx(t);return this.select(function(){return this.appendChild(a.apply(this,arguments))})}function Fk(){return null}function $k(t,a){var i=typeof t=="function"?t:sx(t),o=a==null?Fk:typeof a=="function"?a:d0(a);return this.select(function(){return this.insertBefore(i.apply(this,arguments),o.apply(this,arguments)||null)})}function Xk(){var t=this.parentNode;t&&t.removeChild(this)}function Zk(){return this.each(Xk)}function Qk(){var t=this.cloneNode(!1),a=this.parentNode;return a?a.insertBefore(t,this.nextSibling):t}function Wk(){var t=this.cloneNode(!0),a=this.parentNode;return a?a.insertBefore(t,this.nextSibling):t}function Jk(t){return this.select(t?Wk:Qk)}function eC(t){return arguments.length?this.property("__data__",t):this.node().__data__}function tC(t){return function(a){t.call(this,a,this.__data__)}}function nC(t){return t.trim().split(/^|\s+/).map(function(a){var i="",o=a.indexOf(".");return o>=0&&(i=a.slice(o+1),a=a.slice(0,o)),{type:a,name:i}})}function aC(t){return function(){var a=this.__on;if(a){for(var i=0,o=-1,s=a.length,c;i<s;++i)c=a[i],(!t.type||c.type===t.type)&&c.name===t.name?this.removeEventListener(c.type,c.listener,c.options):a[++o]=c;++o?a.length=o:delete this.__on}}}function rC(t,a,i){return function(){var o=this.__on,s,c=tC(a);if(o){for(var u=0,m=o.length;u<m;++u)if((s=o[u]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=c,s.options=i),s.value=a;return}}this.addEventListener(t.type,c,i),s={type:t.type,name:t.name,value:a,listener:c,options:i},o?o.push(s):this.__on=[s]}}function iC(t,a,i){var o=nC(t+""),s,c=o.length,u;if(arguments.length<2){var m=this.node().__on;if(m){for(var g=0,p=m.length,b;g<p;++g)for(s=0,b=m[g];s<c;++s)if((u=o[s]).type===b.type&&u.name===b.name)return b.value}return}for(m=a?rC:aC,s=0;s<c;++s)this.each(m(o[s],a,i));return this}function yx(t,a,i){var o=fx(t),s=o.CustomEvent;typeof s=="function"?s=new s(a,i):(s=o.document.createEvent("Event"),i?(s.initEvent(a,i.bubbles,i.cancelable),s.detail=i.detail):s.initEvent(a,!1,!1)),t.dispatchEvent(s)}function oC(t,a){return function(){return yx(this,t,a)}}function sC(t,a){return function(){return yx(this,t,a.apply(this,arguments))}}function lC(t,a){return this.each((typeof a=="function"?sC:oC)(t,a))}function*cC(){for(var t=this._groups,a=0,i=t.length;a<i;++a)for(var o=t[a],s=0,c=o.length,u;s<c;++s)(u=o[s])&&(yield u)}var xx=[null];function on(t,a){this._groups=t,this._parents=a}function bs(){return new on([[document.documentElement]],xx)}function uC(){return this}on.prototype=bs.prototype={constructor:on,select:H2,selectAll:I2,selectChild:Y2,selectChildren:$2,filter:X2,data:tk,enter:Z2,exit:ak,join:rk,merge:ik,selection:uC,order:ok,sort:sk,call:ck,nodes:uk,node:dk,size:fk,empty:hk,each:mk,attr:vk,style:Ek,property:Ak,classed:Dk,text:zk,html:Bk,raise:Vk,lower:qk,append:Kk,insert:$k,remove:Zk,clone:Jk,datum:eC,on:iC,dispatch:lC,[Symbol.iterator]:cC};function rn(t){return typeof t=="string"?new on([[document.querySelector(t)]],[document.documentElement]):new on([[t]],xx)}function dC(t){let a;for(;a=t.sourceEvent;)t=a;return t}function Tn(t,a){if(t=dC(t),a===void 0&&(a=t.currentTarget),a){var i=a.ownerSVGElement||a;if(i.createSVGPoint){var o=i.createSVGPoint();return o.x=t.clientX,o.y=t.clientY,o=o.matrixTransform(a.getScreenCTM().inverse()),[o.x,o.y]}if(a.getBoundingClientRect){var s=a.getBoundingClientRect();return[t.clientX-s.left-a.clientLeft,t.clientY-s.top-a.clientTop]}}return[t.pageX,t.pageY]}const fC={passive:!1},ss={capture:!0,passive:!1};function Sf(t){t.stopImmediatePropagation()}function Vi(t){t.preventDefault(),t.stopImmediatePropagation()}function bx(t){var a=t.document.documentElement,i=rn(t).on("dragstart.drag",Vi,ss);"onselectstart"in a?i.on("selectstart.drag",Vi,ss):(a.__noselect=a.style.MozUserSelect,a.style.MozUserSelect="none")}function wx(t,a){var i=t.document.documentElement,o=rn(t).on("dragstart.drag",null);a&&(o.on("click.drag",Vi,ss),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in i?o.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const Ql=t=>()=>t;function If(t,{sourceEvent:a,subject:i,target:o,identifier:s,active:c,x:u,y:m,dx:g,dy:p,dispatch:b}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:a,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:m,enumerable:!0,configurable:!0},dx:{value:g,enumerable:!0,configurable:!0},dy:{value:p,enumerable:!0,configurable:!0},_:{value:b}})}If.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function hC(t){return!t.ctrlKey&&!t.button}function mC(){return this.parentNode}function pC(t,a){return a??{x:t.x,y:t.y}}function gC(){return navigator.maxTouchPoints||"ontouchstart"in this}function vx(){var t=hC,a=mC,i=pC,o=gC,s={},c=Lc("start","drag","end"),u=0,m,g,p,b,x=0;function w(R){R.on("mousedown.drag",E).filter(o).on("touchstart.drag",O).on("touchmove.drag",z,fC).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function E(R,q){if(!(b||!t.call(this,R,q))){var I=_(this,a.call(this,R,q),R,q,"mouse");I&&(rn(R.view).on("mousemove.drag",T,ss).on("mouseup.drag",k,ss),bx(R.view),Sf(R),p=!1,m=R.clientX,g=R.clientY,I("start",R))}}function T(R){if(Vi(R),!p){var q=R.clientX-m,I=R.clientY-g;p=q*q+I*I>x}s.mouse("drag",R)}function k(R){rn(R.view).on("mousemove.drag mouseup.drag",null),wx(R.view,p),Vi(R),s.mouse("end",R)}function O(R,q){if(t.call(this,R,q)){var I=R.changedTouches,Y=a.call(this,R,q),v=I.length,N,B;for(N=0;N<v;++N)(B=_(this,Y,R,q,I[N].identifier,I[N]))&&(Sf(R),B("start",R,I[N]))}}function z(R){var q=R.changedTouches,I=q.length,Y,v;for(Y=0;Y<I;++Y)(v=s[q[Y].identifier])&&(Vi(R),v("drag",R,q[Y]))}function M(R){var q=R.changedTouches,I=q.length,Y,v;for(b&&clearTimeout(b),b=setTimeout(function(){b=null},500),Y=0;Y<I;++Y)(v=s[q[Y].identifier])&&(Sf(R),v("end",R,q[Y]))}function _(R,q,I,Y,v,N){var B=c.copy(),H=Tn(N||I,q),U,F,D;if((D=i.call(R,new If("beforestart",{sourceEvent:I,target:w,identifier:v,active:u,x:H[0],y:H[1],dx:0,dy:0,dispatch:B}),Y))!=null)return U=D.x-H[0]||0,F=D.y-H[1]||0,function j(S,P,A){var K=H,X;switch(S){case"start":s[v]=j,X=u++;break;case"end":delete s[v],--u;case"drag":H=Tn(A||P,q),X=u;break}B.call(S,R,new If(S,{sourceEvent:P,subject:D,target:w,identifier:v,active:X,x:H[0]+U,y:H[1]+F,dx:H[0]-K[0],dy:H[1]-K[1],dispatch:B}),Y)}}return w.filter=function(R){return arguments.length?(t=typeof R=="function"?R:Ql(!!R),w):t},w.container=function(R){return arguments.length?(a=typeof R=="function"?R:Ql(R),w):a},w.subject=function(R){return arguments.length?(i=typeof R=="function"?R:Ql(R),w):i},w.touchable=function(R){return arguments.length?(o=typeof R=="function"?R:Ql(!!R),w):o},w.on=function(){var R=c.on.apply(c,arguments);return R===c?w:R},w.clickDistance=function(R){return arguments.length?(x=(R=+R)*R,w):Math.sqrt(x)},w}function h0(t,a,i){t.prototype=a.prototype=i,i.constructor=t}function kx(t,a){var i=Object.create(t.prototype);for(var o in a)i[o]=a[o];return i}function ws(){}var ls=.7,vc=1/ls,Yi="\\s*([+-]?\\d+)\\s*",cs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yC=/^#([0-9a-f]{3,8})$/,xC=new RegExp(`^rgb\\(${Yi},${Yi},${Yi}\\)$`),bC=new RegExp(`^rgb\\(${Yn},${Yn},${Yn}\\)$`),wC=new RegExp(`^rgba\\(${Yi},${Yi},${Yi},${cs}\\)$`),vC=new RegExp(`^rgba\\(${Yn},${Yn},${Yn},${cs}\\)$`),kC=new RegExp(`^hsl\\(${cs},${Yn},${Yn}\\)$`),CC=new RegExp(`^hsla\\(${cs},${Yn},${Yn},${cs}\\)$`),Bg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};h0(ws,qr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Gg,formatHex:Gg,formatHex8:SC,formatHsl:EC,formatRgb:Vg,toString:Vg});function Gg(){return this.rgb().formatHex()}function SC(){return this.rgb().formatHex8()}function EC(){return Cx(this).formatHsl()}function Vg(){return this.rgb().formatRgb()}function qr(t){var a,i;return t=(t+"").trim().toLowerCase(),(a=yC.exec(t))?(i=a[1].length,a=parseInt(a[1],16),i===6?Yg(a):i===3?new $t(a>>8&15|a>>4&240,a>>4&15|a&240,(a&15)<<4|a&15,1):i===8?Wl(a>>24&255,a>>16&255,a>>8&255,(a&255)/255):i===4?Wl(a>>12&15|a>>8&240,a>>8&15|a>>4&240,a>>4&15|a&240,((a&15)<<4|a&15)/255):null):(a=xC.exec(t))?new $t(a[1],a[2],a[3],1):(a=bC.exec(t))?new $t(a[1]*255/100,a[2]*255/100,a[3]*255/100,1):(a=wC.exec(t))?Wl(a[1],a[2],a[3],a[4]):(a=vC.exec(t))?Wl(a[1]*255/100,a[2]*255/100,a[3]*255/100,a[4]):(a=kC.exec(t))?Fg(a[1],a[2]/100,a[3]/100,1):(a=CC.exec(t))?Fg(a[1],a[2]/100,a[3]/100,a[4]):Bg.hasOwnProperty(t)?Yg(Bg[t]):t==="transparent"?new $t(NaN,NaN,NaN,0):null}function Yg(t){return new $t(t>>16&255,t>>8&255,t&255,1)}function Wl(t,a,i,o){return o<=0&&(t=a=i=NaN),new $t(t,a,i,o)}function NC(t){return t instanceof ws||(t=qr(t)),t?(t=t.rgb(),new $t(t.r,t.g,t.b,t.opacity)):new $t}function Bf(t,a,i,o){return arguments.length===1?NC(t):new $t(t,a,i,o??1)}function $t(t,a,i,o){this.r=+t,this.g=+a,this.b=+i,this.opacity=+o}h0($t,Bf,kx(ws,{brighter(t){return t=t==null?vc:Math.pow(vc,t),new $t(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ls:Math.pow(ls,t),new $t(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $t(Gr(this.r),Gr(this.g),Gr(this.b),kc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qg,formatHex:qg,formatHex8:TC,formatRgb:Kg,toString:Kg}));function qg(){return`#${Br(this.r)}${Br(this.g)}${Br(this.b)}`}function TC(){return`#${Br(this.r)}${Br(this.g)}${Br(this.b)}${Br((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kg(){const t=kc(this.opacity);return`${t===1?"rgb(":"rgba("}${Gr(this.r)}, ${Gr(this.g)}, ${Gr(this.b)}${t===1?")":`, ${t})`}`}function kc(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Gr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Br(t){return t=Gr(t),(t<16?"0":"")+t.toString(16)}function Fg(t,a,i,o){return o<=0?t=a=i=NaN:i<=0||i>=1?t=a=NaN:a<=0&&(t=NaN),new jn(t,a,i,o)}function Cx(t){if(t instanceof jn)return new jn(t.h,t.s,t.l,t.opacity);if(t instanceof ws||(t=qr(t)),!t)return new jn;if(t instanceof jn)return t;t=t.rgb();var a=t.r/255,i=t.g/255,o=t.b/255,s=Math.min(a,i,o),c=Math.max(a,i,o),u=NaN,m=c-s,g=(c+s)/2;return m?(a===c?u=(i-o)/m+(i<o)*6:i===c?u=(o-a)/m+2:u=(a-i)/m+4,m/=g<.5?c+s:2-c-s,u*=60):m=g>0&&g<1?0:u,new jn(u,m,g,t.opacity)}function _C(t,a,i,o){return arguments.length===1?Cx(t):new jn(t,a,i,o??1)}function jn(t,a,i,o){this.h=+t,this.s=+a,this.l=+i,this.opacity=+o}h0(jn,_C,kx(ws,{brighter(t){return t=t==null?vc:Math.pow(vc,t),new jn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ls:Math.pow(ls,t),new jn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,a=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,o=i+(i<.5?i:1-i)*a,s=2*i-o;return new $t(Ef(t>=240?t-240:t+120,s,o),Ef(t,s,o),Ef(t<120?t+240:t-120,s,o),this.opacity)},clamp(){return new jn($g(this.h),Jl(this.s),Jl(this.l),kc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=kc(this.opacity);return`${t===1?"hsl(":"hsla("}${$g(this.h)}, ${Jl(this.s)*100}%, ${Jl(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $g(t){return t=(t||0)%360,t<0?t+360:t}function Jl(t){return Math.max(0,Math.min(1,t||0))}function Ef(t,a,i){return(t<60?a+(i-a)*t/60:t<180?i:t<240?a+(i-a)*(240-t)/60:a)*255}const m0=t=>()=>t;function AC(t,a){return function(i){return t+i*a}}function MC(t,a,i){return t=Math.pow(t,i),a=Math.pow(a,i)-t,i=1/i,function(o){return Math.pow(t+o*a,i)}}function jC(t){return(t=+t)==1?Sx:function(a,i){return i-a?MC(a,i,t):m0(isNaN(a)?i:a)}}function Sx(t,a){var i=a-t;return i?AC(t,i):m0(isNaN(t)?a:t)}const Cc=(function t(a){var i=jC(a);function o(s,c){var u=i((s=Bf(s)).r,(c=Bf(c)).r),m=i(s.g,c.g),g=i(s.b,c.b),p=Sx(s.opacity,c.opacity);return function(b){return s.r=u(b),s.g=m(b),s.b=g(b),s.opacity=p(b),s+""}}return o.gamma=t,o})(1);function RC(t,a){a||(a=[]);var i=t?Math.min(a.length,t.length):0,o=a.slice(),s;return function(c){for(s=0;s<i;++s)o[s]=t[s]*(1-c)+a[s]*c;return o}}function DC(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function LC(t,a){var i=a?a.length:0,o=t?Math.min(i,t.length):0,s=new Array(o),c=new Array(i),u;for(u=0;u<o;++u)s[u]=ns(t[u],a[u]);for(;u<i;++u)c[u]=a[u];return function(m){for(u=0;u<o;++u)c[u]=s[u](m);return c}}function OC(t,a){var i=new Date;return t=+t,a=+a,function(o){return i.setTime(t*(1-o)+a*o),i}}function Gn(t,a){return t=+t,a=+a,function(i){return t*(1-i)+a*i}}function HC(t,a){var i={},o={},s;(t===null||typeof t!="object")&&(t={}),(a===null||typeof a!="object")&&(a={});for(s in a)s in t?i[s]=ns(t[s],a[s]):o[s]=a[s];return function(c){for(s in i)o[s]=i[s](c);return o}}var Gf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nf=new RegExp(Gf.source,"g");function zC(t){return function(){return t}}function UC(t){return function(a){return t(a)+""}}function Ex(t,a){var i=Gf.lastIndex=Nf.lastIndex=0,o,s,c,u=-1,m=[],g=[];for(t=t+"",a=a+"";(o=Gf.exec(t))&&(s=Nf.exec(a));)(c=s.index)>i&&(c=a.slice(i,c),m[u]?m[u]+=c:m[++u]=c),(o=o[0])===(s=s[0])?m[u]?m[u]+=s:m[++u]=s:(m[++u]=null,g.push({i:u,x:Gn(o,s)})),i=Nf.lastIndex;return i<a.length&&(c=a.slice(i),m[u]?m[u]+=c:m[++u]=c),m.length<2?g[0]?UC(g[0].x):zC(a):(a=g.length,function(p){for(var b=0,x;b<a;++b)m[(x=g[b]).i]=x.x(p);return m.join("")})}function ns(t,a){var i=typeof a,o;return a==null||i==="boolean"?m0(a):(i==="number"?Gn:i==="string"?(o=qr(a))?(a=o,Cc):Ex:a instanceof qr?Cc:a instanceof Date?OC:DC(a)?RC:Array.isArray(a)?LC:typeof a.valueOf!="function"&&typeof a.toString!="function"||isNaN(a)?HC:Gn)(t,a)}var Xg=180/Math.PI,Vf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Nx(t,a,i,o,s,c){var u,m,g;return(u=Math.sqrt(t*t+a*a))&&(t/=u,a/=u),(g=t*i+a*o)&&(i-=t*g,o-=a*g),(m=Math.sqrt(i*i+o*o))&&(i/=m,o/=m,g/=m),t*o<a*i&&(t=-t,a=-a,g=-g,u=-u),{translateX:s,translateY:c,rotate:Math.atan2(a,t)*Xg,skewX:Math.atan(g)*Xg,scaleX:u,scaleY:m}}var ec;function PC(t){const a=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return a.isIdentity?Vf:Nx(a.a,a.b,a.c,a.d,a.e,a.f)}function IC(t){return t==null||(ec||(ec=document.createElementNS("http://www.w3.org/2000/svg","g")),ec.setAttribute("transform",t),!(t=ec.transform.baseVal.consolidate()))?Vf:(t=t.matrix,Nx(t.a,t.b,t.c,t.d,t.e,t.f))}function Tx(t,a,i,o){function s(p){return p.length?p.pop()+" ":""}function c(p,b,x,w,E,T){if(p!==x||b!==w){var k=E.push("translate(",null,a,null,i);T.push({i:k-4,x:Gn(p,x)},{i:k-2,x:Gn(b,w)})}else(x||w)&&E.push("translate("+x+a+w+i)}function u(p,b,x,w){p!==b?(p-b>180?b+=360:b-p>180&&(p+=360),w.push({i:x.push(s(x)+"rotate(",null,o)-2,x:Gn(p,b)})):b&&x.push(s(x)+"rotate("+b+o)}function m(p,b,x,w){p!==b?w.push({i:x.push(s(x)+"skewX(",null,o)-2,x:Gn(p,b)}):b&&x.push(s(x)+"skewX("+b+o)}function g(p,b,x,w,E,T){if(p!==x||b!==w){var k=E.push(s(E)+"scale(",null,",",null,")");T.push({i:k-4,x:Gn(p,x)},{i:k-2,x:Gn(b,w)})}else(x!==1||w!==1)&&E.push(s(E)+"scale("+x+","+w+")")}return function(p,b){var x=[],w=[];return p=t(p),b=t(b),c(p.translateX,p.translateY,b.translateX,b.translateY,x,w),u(p.rotate,b.rotate,x,w),m(p.skewX,b.skewX,x,w),g(p.scaleX,p.scaleY,b.scaleX,b.scaleY,x,w),p=b=null,function(E){for(var T=-1,k=w.length,O;++T<k;)x[(O=w[T]).i]=O.x(E);return x.join("")}}}var BC=Tx(PC,"px, ","px)","deg)"),GC=Tx(IC,", ",")",")"),VC=1e-12;function Zg(t){return((t=Math.exp(t))+1/t)/2}function YC(t){return((t=Math.exp(t))-1/t)/2}function qC(t){return((t=Math.exp(2*t))-1)/(t+1)}const dc=(function t(a,i,o){function s(c,u){var m=c[0],g=c[1],p=c[2],b=u[0],x=u[1],w=u[2],E=b-m,T=x-g,k=E*E+T*T,O,z;if(k<VC)z=Math.log(w/p)/a,O=function(Y){return[m+Y*E,g+Y*T,p*Math.exp(a*Y*z)]};else{var M=Math.sqrt(k),_=(w*w-p*p+o*k)/(2*p*i*M),R=(w*w-p*p-o*k)/(2*w*i*M),q=Math.log(Math.sqrt(_*_+1)-_),I=Math.log(Math.sqrt(R*R+1)-R);z=(I-q)/a,O=function(Y){var v=Y*z,N=Zg(q),B=p/(i*M)*(N*qC(a*v+q)-YC(q));return[m+B*E,g+B*T,p*N/Zg(a*v+q)]}}return O.duration=z*1e3*a/Math.SQRT2,O}return s.rho=function(c){var u=Math.max(.001,+c),m=u*u,g=m*m;return t(u,m,g)},s})(Math.SQRT2,2,4);var Fi=0,Jo=0,Qo=0,_x=1e3,Sc,es,Ec=0,Kr=0,Hc=0,us=typeof performance=="object"&&performance.now?performance:Date,Ax=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p0(){return Kr||(Ax(KC),Kr=us.now()+Hc)}function KC(){Kr=0}function Nc(){this._call=this._time=this._next=null}Nc.prototype=Mx.prototype={constructor:Nc,restart:function(t,a,i){if(typeof t!="function")throw new TypeError("callback is not a function");i=(i==null?p0():+i)+(a==null?0:+a),!this._next&&es!==this&&(es?es._next=this:Sc=this,es=this),this._call=t,this._time=i,Yf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yf())}};function Mx(t,a,i){var o=new Nc;return o.restart(t,a,i),o}function FC(){p0(),++Fi;for(var t=Sc,a;t;)(a=Kr-t._time)>=0&&t._call.call(void 0,a),t=t._next;--Fi}function Qg(){Kr=(Ec=us.now())+Hc,Fi=Jo=0;try{FC()}finally{Fi=0,XC(),Kr=0}}function $C(){var t=us.now(),a=t-Ec;a>_x&&(Hc-=a,Ec=t)}function XC(){for(var t,a=Sc,i,o=1/0;a;)a._call?(o>a._time&&(o=a._time),t=a,a=a._next):(i=a._next,a._next=null,a=t?t._next=i:Sc=i);es=t,Yf(o)}function Yf(t){if(!Fi){Jo&&(Jo=clearTimeout(Jo));var a=t-Kr;a>24?(t<1/0&&(Jo=setTimeout(Qg,t-us.now()-Hc)),Qo&&(Qo=clearInterval(Qo))):(Qo||(Ec=us.now(),Qo=setInterval($C,_x)),Fi=1,Ax(Qg))}}function Wg(t,a,i){var o=new Nc;return a=a==null?0:+a,o.restart(s=>{o.stop(),t(s+a)},a,i),o}var ZC=Lc("start","end","cancel","interrupt"),QC=[],jx=0,Jg=1,qf=2,fc=3,ey=4,Kf=5,hc=6;function zc(t,a,i,o,s,c){var u=t.__transition;if(!u)t.__transition={};else if(i in u)return;WC(t,i,{name:a,index:o,group:s,on:ZC,tween:QC,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:jx})}function g0(t,a){var i=On(t,a);if(i.state>jx)throw new Error("too late; already scheduled");return i}function $n(t,a){var i=On(t,a);if(i.state>fc)throw new Error("too late; already running");return i}function On(t,a){var i=t.__transition;if(!i||!(i=i[a]))throw new Error("transition not found");return i}function WC(t,a,i){var o=t.__transition,s;o[a]=i,i.timer=Mx(c,0,i.time);function c(p){i.state=Jg,i.timer.restart(u,i.delay,i.time),i.delay<=p&&u(p-i.delay)}function u(p){var b,x,w,E;if(i.state!==Jg)return g();for(b in o)if(E=o[b],E.name===i.name){if(E.state===fc)return Wg(u);E.state===ey?(E.state=hc,E.timer.stop(),E.on.call("interrupt",t,t.__data__,E.index,E.group),delete o[b]):+b<a&&(E.state=hc,E.timer.stop(),E.on.call("cancel",t,t.__data__,E.index,E.group),delete o[b])}if(Wg(function(){i.state===fc&&(i.state=ey,i.timer.restart(m,i.delay,i.time),m(p))}),i.state=qf,i.on.call("start",t,t.__data__,i.index,i.group),i.state===qf){for(i.state=fc,s=new Array(w=i.tween.length),b=0,x=-1;b<w;++b)(E=i.tween[b].value.call(t,t.__data__,i.index,i.group))&&(s[++x]=E);s.length=x+1}}function m(p){for(var b=p<i.duration?i.ease.call(null,p/i.duration):(i.timer.restart(g),i.state=Kf,1),x=-1,w=s.length;++x<w;)s[x].call(t,b);i.state===Kf&&(i.on.call("end",t,t.__data__,i.index,i.group),g())}function g(){i.state=hc,i.timer.stop(),delete o[a];for(var p in o)return;delete t.__transition}}function mc(t,a){var i=t.__transition,o,s,c=!0,u;if(i){a=a==null?null:a+"";for(u in i){if((o=i[u]).name!==a){c=!1;continue}s=o.state>qf&&o.state<Kf,o.state=hc,o.timer.stop(),o.on.call(s?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete i[u]}c&&delete t.__transition}}function JC(t){return this.each(function(){mc(this,t)})}function eS(t,a){var i,o;return function(){var s=$n(this,t),c=s.tween;if(c!==i){o=i=c;for(var u=0,m=o.length;u<m;++u)if(o[u].name===a){o=o.slice(),o.splice(u,1);break}}s.tween=o}}function tS(t,a,i){var o,s;if(typeof i!="function")throw new Error;return function(){var c=$n(this,t),u=c.tween;if(u!==o){s=(o=u).slice();for(var m={name:a,value:i},g=0,p=s.length;g<p;++g)if(s[g].name===a){s[g]=m;break}g===p&&s.push(m)}c.tween=s}}function nS(t,a){var i=this._id;if(t+="",arguments.length<2){for(var o=On(this.node(),i).tween,s=0,c=o.length,u;s<c;++s)if((u=o[s]).name===t)return u.value;return null}return this.each((a==null?eS:tS)(i,t,a))}function y0(t,a,i){var o=t._id;return t.each(function(){var s=$n(this,o);(s.value||(s.value={}))[a]=i.apply(this,arguments)}),function(s){return On(s,o).value[a]}}function Rx(t,a){var i;return(typeof a=="number"?Gn:a instanceof qr?Cc:(i=qr(a))?(a=i,Cc):Ex)(t,a)}function aS(t){return function(){this.removeAttribute(t)}}function rS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function iS(t,a,i){var o,s=i+"",c;return function(){var u=this.getAttribute(t);return u===s?null:u===o?c:c=a(o=u,i)}}function oS(t,a,i){var o,s=i+"",c;return function(){var u=this.getAttributeNS(t.space,t.local);return u===s?null:u===o?c:c=a(o=u,i)}}function sS(t,a,i){var o,s,c;return function(){var u,m=i(this),g;return m==null?void this.removeAttribute(t):(u=this.getAttribute(t),g=m+"",u===g?null:u===o&&g===s?c:(s=g,c=a(o=u,m)))}}function lS(t,a,i){var o,s,c;return function(){var u,m=i(this),g;return m==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),g=m+"",u===g?null:u===o&&g===s?c:(s=g,c=a(o=u,m)))}}function cS(t,a){var i=Oc(t),o=i==="transform"?GC:Rx;return this.attrTween(t,typeof a=="function"?(i.local?lS:sS)(i,o,y0(this,"attr."+t,a)):a==null?(i.local?rS:aS)(i):(i.local?oS:iS)(i,o,a))}function uS(t,a){return function(i){this.setAttribute(t,a.call(this,i))}}function dS(t,a){return function(i){this.setAttributeNS(t.space,t.local,a.call(this,i))}}function fS(t,a){var i,o;function s(){var c=a.apply(this,arguments);return c!==o&&(i=(o=c)&&dS(t,c)),i}return s._value=a,s}function hS(t,a){var i,o;function s(){var c=a.apply(this,arguments);return c!==o&&(i=(o=c)&&uS(t,c)),i}return s._value=a,s}function mS(t,a){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(a==null)return this.tween(i,null);if(typeof a!="function")throw new Error;var o=Oc(t);return this.tween(i,(o.local?fS:hS)(o,a))}function pS(t,a){return function(){g0(this,t).delay=+a.apply(this,arguments)}}function gS(t,a){return a=+a,function(){g0(this,t).delay=a}}function yS(t){var a=this._id;return arguments.length?this.each((typeof t=="function"?pS:gS)(a,t)):On(this.node(),a).delay}function xS(t,a){return function(){$n(this,t).duration=+a.apply(this,arguments)}}function bS(t,a){return a=+a,function(){$n(this,t).duration=a}}function wS(t){var a=this._id;return arguments.length?this.each((typeof t=="function"?xS:bS)(a,t)):On(this.node(),a).duration}function vS(t,a){if(typeof a!="function")throw new Error;return function(){$n(this,t).ease=a}}function kS(t){var a=this._id;return arguments.length?this.each(vS(a,t)):On(this.node(),a).ease}function CS(t,a){return function(){var i=a.apply(this,arguments);if(typeof i!="function")throw new Error;$n(this,t).ease=i}}function SS(t){if(typeof t!="function")throw new Error;return this.each(CS(this._id,t))}function ES(t){typeof t!="function"&&(t=cx(t));for(var a=this._groups,i=a.length,o=new Array(i),s=0;s<i;++s)for(var c=a[s],u=c.length,m=o[s]=[],g,p=0;p<u;++p)(g=c[p])&&t.call(g,g.__data__,p,c)&&m.push(g);return new Sa(o,this._parents,this._name,this._id)}function NS(t){if(t._id!==this._id)throw new Error;for(var a=this._groups,i=t._groups,o=a.length,s=i.length,c=Math.min(o,s),u=new Array(o),m=0;m<c;++m)for(var g=a[m],p=i[m],b=g.length,x=u[m]=new Array(b),w,E=0;E<b;++E)(w=g[E]||p[E])&&(x[E]=w);for(;m<o;++m)u[m]=a[m];return new Sa(u,this._parents,this._name,this._id)}function TS(t){return(t+"").trim().split(/^|\s+/).every(function(a){var i=a.indexOf(".");return i>=0&&(a=a.slice(0,i)),!a||a==="start"})}function _S(t,a,i){var o,s,c=TS(a)?g0:$n;return function(){var u=c(this,t),m=u.on;m!==o&&(s=(o=m).copy()).on(a,i),u.on=s}}function AS(t,a){var i=this._id;return arguments.length<2?On(this.node(),i).on.on(t):this.each(_S(i,t,a))}function MS(t){return function(){var a=this.parentNode;for(var i in this.__transition)if(+i!==t)return;a&&a.removeChild(this)}}function jS(){return this.on("end.remove",MS(this._id))}function RS(t){var a=this._name,i=this._id;typeof t!="function"&&(t=d0(t));for(var o=this._groups,s=o.length,c=new Array(s),u=0;u<s;++u)for(var m=o[u],g=m.length,p=c[u]=new Array(g),b,x,w=0;w<g;++w)(b=m[w])&&(x=t.call(b,b.__data__,w,m))&&("__data__"in b&&(x.__data__=b.__data__),p[w]=x,zc(p[w],a,i,w,p,On(b,i)));return new Sa(c,this._parents,a,i)}function DS(t){var a=this._name,i=this._id;typeof t!="function"&&(t=lx(t));for(var o=this._groups,s=o.length,c=[],u=[],m=0;m<s;++m)for(var g=o[m],p=g.length,b,x=0;x<p;++x)if(b=g[x]){for(var w=t.call(b,b.__data__,x,g),E,T=On(b,i),k=0,O=w.length;k<O;++k)(E=w[k])&&zc(E,a,i,k,w,T);c.push(w),u.push(b)}return new Sa(c,u,a,i)}var LS=bs.prototype.constructor;function OS(){return new LS(this._groups,this._parents)}function HS(t,a){var i,o,s;return function(){var c=Ki(this,t),u=(this.style.removeProperty(t),Ki(this,t));return c===u?null:c===i&&u===o?s:s=a(i=c,o=u)}}function Dx(t){return function(){this.style.removeProperty(t)}}function zS(t,a,i){var o,s=i+"",c;return function(){var u=Ki(this,t);return u===s?null:u===o?c:c=a(o=u,i)}}function US(t,a,i){var o,s,c;return function(){var u=Ki(this,t),m=i(this),g=m+"";return m==null&&(g=m=(this.style.removeProperty(t),Ki(this,t))),u===g?null:u===o&&g===s?c:(s=g,c=a(o=u,m))}}function PS(t,a){var i,o,s,c="style."+a,u="end."+c,m;return function(){var g=$n(this,t),p=g.on,b=g.value[c]==null?m||(m=Dx(a)):void 0;(p!==i||s!==b)&&(o=(i=p).copy()).on(u,s=b),g.on=o}}function IS(t,a,i){var o=(t+="")=="transform"?BC:Rx;return a==null?this.styleTween(t,HS(t,o)).on("end.style."+t,Dx(t)):typeof a=="function"?this.styleTween(t,US(t,o,y0(this,"style."+t,a))).each(PS(this._id,t)):this.styleTween(t,zS(t,o,a),i).on("end.style."+t,null)}function BS(t,a,i){return function(o){this.style.setProperty(t,a.call(this,o),i)}}function GS(t,a,i){var o,s;function c(){var u=a.apply(this,arguments);return u!==s&&(o=(s=u)&&BS(t,u,i)),o}return c._value=a,c}function VS(t,a,i){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(a==null)return this.tween(o,null);if(typeof a!="function")throw new Error;return this.tween(o,GS(t,a,i??""))}function YS(t){return function(){this.textContent=t}}function qS(t){return function(){var a=t(this);this.textContent=a??""}}function KS(t){return this.tween("text",typeof t=="function"?qS(y0(this,"text",t)):YS(t==null?"":t+""))}function FS(t){return function(a){this.textContent=t.call(this,a)}}function $S(t){var a,i;function o(){var s=t.apply(this,arguments);return s!==i&&(a=(i=s)&&FS(s)),a}return o._value=t,o}function XS(t){var a="text";if(arguments.length<1)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;return this.tween(a,$S(t))}function ZS(){for(var t=this._name,a=this._id,i=Lx(),o=this._groups,s=o.length,c=0;c<s;++c)for(var u=o[c],m=u.length,g,p=0;p<m;++p)if(g=u[p]){var b=On(g,a);zc(g,t,i,p,u,{time:b.time+b.delay+b.duration,delay:0,duration:b.duration,ease:b.ease})}return new Sa(o,this._parents,t,i)}function QS(){var t,a,i=this,o=i._id,s=i.size();return new Promise(function(c,u){var m={value:u},g={value:function(){--s===0&&c()}};i.each(function(){var p=$n(this,o),b=p.on;b!==t&&(a=(t=b).copy(),a._.cancel.push(m),a._.interrupt.push(m),a._.end.push(g)),p.on=a}),s===0&&c()})}var WS=0;function Sa(t,a,i,o){this._groups=t,this._parents=a,this._name=i,this._id=o}function Lx(){return++WS}var wa=bs.prototype;Sa.prototype={constructor:Sa,select:RS,selectAll:DS,selectChild:wa.selectChild,selectChildren:wa.selectChildren,filter:ES,merge:NS,selection:OS,transition:ZS,call:wa.call,nodes:wa.nodes,node:wa.node,size:wa.size,empty:wa.empty,each:wa.each,on:AS,attr:cS,attrTween:mS,style:IS,styleTween:VS,text:KS,textTween:XS,remove:jS,tween:nS,delay:yS,duration:wS,ease:kS,easeVarying:SS,end:QS,[Symbol.iterator]:wa[Symbol.iterator]};function JS(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var eE={time:null,delay:0,duration:250,ease:JS};function tE(t,a){for(var i;!(i=t.__transition)||!(i=i[a]);)if(!(t=t.parentNode))throw new Error(`transition ${a} not found`);return i}function nE(t){var a,i;t instanceof Sa?(a=t._id,t=t._name):(a=Lx(),(i=eE).time=p0(),t=t==null?null:t+"");for(var o=this._groups,s=o.length,c=0;c<s;++c)for(var u=o[c],m=u.length,g,p=0;p<m;++p)(g=u[p])&&zc(g,t,a,p,u,i||tE(g,a));return new Sa(o,this._parents,t,a)}bs.prototype.interrupt=JC;bs.prototype.transition=nE;const tc=t=>()=>t;function aE(t,{sourceEvent:a,target:i,transform:o,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:a,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:s}})}function ka(t,a,i){this.k=t,this.x=a,this.y=i}ka.prototype={constructor:ka,scale:function(t){return t===1?this:new ka(this.k*t,this.x,this.y)},translate:function(t,a){return t===0&a===0?this:new ka(this.k,this.x+this.k*t,this.y+this.k*a)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Uc=new ka(1,0,0);Ox.prototype=ka.prototype;function Ox(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Uc;return t.__zoom}function Tf(t){t.stopImmediatePropagation()}function Wo(t){t.preventDefault(),t.stopImmediatePropagation()}function rE(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function iE(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function ty(){return this.__zoom||Uc}function oE(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function sE(){return navigator.maxTouchPoints||"ontouchstart"in this}function lE(t,a,i){var o=t.invertX(a[0][0])-i[0][0],s=t.invertX(a[1][0])-i[1][0],c=t.invertY(a[0][1])-i[0][1],u=t.invertY(a[1][1])-i[1][1];return t.translate(s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s),u>c?(c+u)/2:Math.min(0,c)||Math.max(0,u))}function Hx(){var t=rE,a=iE,i=lE,o=oE,s=sE,c=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],m=250,g=dc,p=Lc("start","zoom","end"),b,x,w,E=500,T=150,k=0,O=10;function z(D){D.property("__zoom",ty).on("wheel.zoom",v,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",B).filter(s).on("touchstart.zoom",H).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}z.transform=function(D,j,S,P){var A=D.selection?D.selection():D;A.property("__zoom",ty),D!==A?q(D,j,S,P):A.interrupt().each(function(){I(this,arguments).event(P).start().zoom(null,typeof j=="function"?j.apply(this,arguments):j).end()})},z.scaleBy=function(D,j,S,P){z.scaleTo(D,function(){var A=this.__zoom.k,K=typeof j=="function"?j.apply(this,arguments):j;return A*K},S,P)},z.scaleTo=function(D,j,S,P){z.transform(D,function(){var A=a.apply(this,arguments),K=this.__zoom,X=S==null?R(A):typeof S=="function"?S.apply(this,arguments):S,G=K.invert(X),L=typeof j=="function"?j.apply(this,arguments):j;return i(_(M(K,L),X,G),A,u)},S,P)},z.translateBy=function(D,j,S,P){z.transform(D,function(){return i(this.__zoom.translate(typeof j=="function"?j.apply(this,arguments):j,typeof S=="function"?S.apply(this,arguments):S),a.apply(this,arguments),u)},null,P)},z.translateTo=function(D,j,S,P,A){z.transform(D,function(){var K=a.apply(this,arguments),X=this.__zoom,G=P==null?R(K):typeof P=="function"?P.apply(this,arguments):P;return i(Uc.translate(G[0],G[1]).scale(X.k).translate(typeof j=="function"?-j.apply(this,arguments):-j,typeof S=="function"?-S.apply(this,arguments):-S),K,u)},P,A)};function M(D,j){return j=Math.max(c[0],Math.min(c[1],j)),j===D.k?D:new ka(j,D.x,D.y)}function _(D,j,S){var P=j[0]-S[0]*D.k,A=j[1]-S[1]*D.k;return P===D.x&&A===D.y?D:new ka(D.k,P,A)}function R(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function q(D,j,S,P){D.on("start.zoom",function(){I(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){I(this,arguments).event(P).end()}).tween("zoom",function(){var A=this,K=arguments,X=I(A,K).event(P),G=a.apply(A,K),L=S==null?R(G):typeof S=="function"?S.apply(A,K):S,Z=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),Q=A.__zoom,te=typeof j=="function"?j.apply(A,K):j,ie=g(Q.invert(L).concat(Z/Q.k),te.invert(L).concat(Z/te.k));return function(oe){if(oe===1)oe=te;else{var de=ie(oe),pe=Z/de[2];oe=new ka(pe,L[0]-de[0]*pe,L[1]-de[1]*pe)}X.zoom(null,oe)}})}function I(D,j,S){return!S&&D.__zooming||new Y(D,j)}function Y(D,j){this.that=D,this.args=j,this.active=0,this.sourceEvent=null,this.extent=a.apply(D,j),this.taps=0}Y.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,j){return this.mouse&&D!=="mouse"&&(this.mouse[1]=j.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=j.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=j.invert(this.touch1[0])),this.that.__zoom=j,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var j=rn(this.that).datum();p.call(D,this.that,new aE(D,{sourceEvent:this.sourceEvent,target:z,transform:this.that.__zoom,dispatch:p}),j)}};function v(D,...j){if(!t.apply(this,arguments))return;var S=I(this,j).event(D),P=this.__zoom,A=Math.max(c[0],Math.min(c[1],P.k*Math.pow(2,o.apply(this,arguments)))),K=Tn(D);if(S.wheel)(S.mouse[0][0]!==K[0]||S.mouse[0][1]!==K[1])&&(S.mouse[1]=P.invert(S.mouse[0]=K)),clearTimeout(S.wheel);else{if(P.k===A)return;S.mouse=[K,P.invert(K)],mc(this),S.start()}Wo(D),S.wheel=setTimeout(X,T),S.zoom("mouse",i(_(M(P,A),S.mouse[0],S.mouse[1]),S.extent,u));function X(){S.wheel=null,S.end()}}function N(D,...j){if(w||!t.apply(this,arguments))return;var S=D.currentTarget,P=I(this,j,!0).event(D),A=rn(D.view).on("mousemove.zoom",L,!0).on("mouseup.zoom",Z,!0),K=Tn(D,S),X=D.clientX,G=D.clientY;bx(D.view),Tf(D),P.mouse=[K,this.__zoom.invert(K)],mc(this),P.start();function L(Q){if(Wo(Q),!P.moved){var te=Q.clientX-X,ie=Q.clientY-G;P.moved=te*te+ie*ie>k}P.event(Q).zoom("mouse",i(_(P.that.__zoom,P.mouse[0]=Tn(Q,S),P.mouse[1]),P.extent,u))}function Z(Q){A.on("mousemove.zoom mouseup.zoom",null),wx(Q.view,P.moved),Wo(Q),P.event(Q).end()}}function B(D,...j){if(t.apply(this,arguments)){var S=this.__zoom,P=Tn(D.changedTouches?D.changedTouches[0]:D,this),A=S.invert(P),K=S.k*(D.shiftKey?.5:2),X=i(_(M(S,K),P,A),a.apply(this,j),u);Wo(D),m>0?rn(this).transition().duration(m).call(q,X,P,D):rn(this).call(z.transform,X,P,D)}}function H(D,...j){if(t.apply(this,arguments)){var S=D.touches,P=S.length,A=I(this,j,D.changedTouches.length===P).event(D),K,X,G,L;for(Tf(D),X=0;X<P;++X)G=S[X],L=Tn(G,this),L=[L,this.__zoom.invert(L),G.identifier],A.touch0?!A.touch1&&A.touch0[2]!==L[2]&&(A.touch1=L,A.taps=0):(A.touch0=L,K=!0,A.taps=1+!!b);b&&(b=clearTimeout(b)),K&&(A.taps<2&&(x=L[0],b=setTimeout(function(){b=null},E)),mc(this),A.start())}}function U(D,...j){if(this.__zooming){var S=I(this,j).event(D),P=D.changedTouches,A=P.length,K,X,G,L;for(Wo(D),K=0;K<A;++K)X=P[K],G=Tn(X,this),S.touch0&&S.touch0[2]===X.identifier?S.touch0[0]=G:S.touch1&&S.touch1[2]===X.identifier&&(S.touch1[0]=G);if(X=S.that.__zoom,S.touch1){var Z=S.touch0[0],Q=S.touch0[1],te=S.touch1[0],ie=S.touch1[1],oe=(oe=te[0]-Z[0])*oe+(oe=te[1]-Z[1])*oe,de=(de=ie[0]-Q[0])*de+(de=ie[1]-Q[1])*de;X=M(X,Math.sqrt(oe/de)),G=[(Z[0]+te[0])/2,(Z[1]+te[1])/2],L=[(Q[0]+ie[0])/2,(Q[1]+ie[1])/2]}else if(S.touch0)G=S.touch0[0],L=S.touch0[1];else return;S.zoom("touch",i(_(X,G,L),S.extent,u))}}function F(D,...j){if(this.__zooming){var S=I(this,j).event(D),P=D.changedTouches,A=P.length,K,X;for(Tf(D),w&&clearTimeout(w),w=setTimeout(function(){w=null},E),K=0;K<A;++K)X=P[K],S.touch0&&S.touch0[2]===X.identifier?delete S.touch0:S.touch1&&S.touch1[2]===X.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(X=Tn(X,this),Math.hypot(x[0]-X[0],x[1]-X[1])<O)){var G=rn(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return z.wheelDelta=function(D){return arguments.length?(o=typeof D=="function"?D:tc(+D),z):o},z.filter=function(D){return arguments.length?(t=typeof D=="function"?D:tc(!!D),z):t},z.touchable=function(D){return arguments.length?(s=typeof D=="function"?D:tc(!!D),z):s},z.extent=function(D){return arguments.length?(a=typeof D=="function"?D:tc([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),z):a},z.scaleExtent=function(D){return arguments.length?(c[0]=+D[0],c[1]=+D[1],z):[c[0],c[1]]},z.translateExtent=function(D){return arguments.length?(u[0][0]=+D[0][0],u[1][0]=+D[1][0],u[0][1]=+D[0][1],u[1][1]=+D[1][1],z):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},z.constrain=function(D){return arguments.length?(i=D,z):i},z.duration=function(D){return arguments.length?(m=+D,z):m},z.interpolate=function(D){return arguments.length?(g=D,z):g},z.on=function(){var D=p.on.apply(p,arguments);return D===p?z:D},z.clickDistance=function(D){return arguments.length?(k=(D=+D)*D,z):Math.sqrt(k)},z.tapDistance=function(D){return arguments.length?(O=+D,z):O},z}const qn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:a,sourceHandle:i,targetHandle:o})=>`Couldn't create edge for ${t} handle id: "${t==="source"?i:o}", edge id: ${a}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},ds=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],zx=["Enter"," ","Escape"],Ux={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:a,y:i})=>`Moved selected node ${t}. New position, x: ${a}, y: ${i}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var $i;(function(t){t.Strict="strict",t.Loose="loose"})($i||($i={}));var Vr;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Vr||(Vr={}));var fs;(function(t){t.Partial="partial",t.Full="full"})(fs||(fs={}));const Px={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ir;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ir||(ir={}));var Tc;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Tc||(Tc={}));var ge;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ge||(ge={}));const ny={[ge.Left]:ge.Right,[ge.Right]:ge.Left,[ge.Top]:ge.Bottom,[ge.Bottom]:ge.Top};function Ix(t){return t===null?null:t?"valid":"invalid"}const Bx=t=>"id"in t&&"source"in t&&"target"in t,cE=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),x0=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),vs=(t,a=[0,0])=>{const{width:i,height:o}=Ea(t),s=t.origin??a,c=i*s[0],u=o*s[1];return{x:t.position.x-c,y:t.position.y-u}},uE=(t,a={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const i=t.reduce((o,s)=>{const c=typeof s=="string";let u=!a.nodeLookup&&!c?s:void 0;a.nodeLookup&&(u=c?a.nodeLookup.get(s):x0(s)?s:a.nodeLookup.get(s.id));const m=u?_c(u,a.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Pc(o,m)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ic(i)},ks=(t,a={})=>{let i={x:1/0,y:1/0,x2:-1/0,y2:-1/0},o=!1;return t.forEach(s=>{(a.filter===void 0||a.filter(s))&&(i=Pc(i,_c(s)),o=!0)}),o?Ic(i):{x:0,y:0,width:0,height:0}},b0=(t,a,[i,o,s]=[0,0,1],c=!1,u=!1)=>{const m={...Ss(a,[i,o,s]),width:a.width/s,height:a.height/s},g=[];for(const p of t.values()){const{measured:b,selectable:x=!0,hidden:w=!1}=p;if(u&&!x||w)continue;const E=b.width??p.width??p.initialWidth??null,T=b.height??p.height??p.initialHeight??null,k=hs(m,Zi(p)),O=(E??0)*(T??0),z=c&&k>0;(!p.internals.handleBounds||z||k>=O||p.dragging)&&g.push(p)}return g},dE=(t,a)=>{const i=new Set;return t.forEach(o=>{i.add(o.id)}),a.filter(o=>i.has(o.source)||i.has(o.target))};function fE(t,a){const i=new Map,o=a?.nodes?new Set(a.nodes.map(s=>s.id)):null;return t.forEach(s=>{s.measured.width&&s.measured.height&&(a?.includeHiddenNodes||!s.hidden)&&(!o||o.has(s.id))&&i.set(s.id,s)}),i}async function hE({nodes:t,width:a,height:i,panZoom:o,minZoom:s,maxZoom:c},u){if(t.size===0)return Promise.resolve(!0);const m=fE(t,u),g=ks(m),p=w0(g,a,i,u?.minZoom??s,u?.maxZoom??c,u?.padding??.1);return await o.setViewport(p,{duration:u?.duration,ease:u?.ease,interpolate:u?.interpolate}),Promise.resolve(!0)}function Gx({nodeId:t,nextPosition:a,nodeLookup:i,nodeOrigin:o=[0,0],nodeExtent:s,onError:c}){const u=i.get(t),m=u.parentId?i.get(u.parentId):void 0,{x:g,y:p}=m?m.internals.positionAbsolute:{x:0,y:0},b=u.origin??o;let x=u.extent||s;if(u.extent==="parent"&&!u.expandParent)if(!m)c?.("005",qn.error005());else{const E=m.measured.width,T=m.measured.height;E&&T&&(x=[[g,p],[g+E,p+T]])}else m&&Qi(u.extent)&&(x=[[u.extent[0][0]+g,u.extent[0][1]+p],[u.extent[1][0]+g,u.extent[1][1]+p]]);const w=Qi(x)?Fr(a,x,u.measured):a;return(u.measured.width===void 0||u.measured.height===void 0)&&c?.("015",qn.error015()),{position:{x:w.x-g+(u.measured.width??0)*b[0],y:w.y-p+(u.measured.height??0)*b[1]},positionAbsolute:w}}async function mE({nodesToRemove:t=[],edgesToRemove:a=[],nodes:i,edges:o,onBeforeDelete:s}){const c=new Set(t.map(w=>w.id)),u=[];for(const w of i){if(w.deletable===!1)continue;const E=c.has(w.id),T=!E&&w.parentId&&u.find(k=>k.id===w.parentId);(E||T)&&u.push(w)}const m=new Set(a.map(w=>w.id)),g=o.filter(w=>w.deletable!==!1),b=dE(u,g);for(const w of g)m.has(w.id)&&!b.find(T=>T.id===w.id)&&b.push(w);if(!s)return{edges:b,nodes:u};const x=await s({nodes:u,edges:b});return typeof x=="boolean"?x?{edges:b,nodes:u}:{edges:[],nodes:[]}:x}const Xi=(t,a=0,i=1)=>Math.min(Math.max(t,a),i),Fr=(t={x:0,y:0},a,i)=>({x:Xi(t.x,a[0][0],a[1][0]-(i?.width??0)),y:Xi(t.y,a[0][1],a[1][1]-(i?.height??0))});function Vx(t,a,i){const{width:o,height:s}=Ea(i),{x:c,y:u}=i.internals.positionAbsolute;return Fr(t,[[c,u],[c+o,u+s]],a)}const ay=(t,a,i)=>t<a?Xi(Math.abs(t-a),1,a)/a:t>i?-Xi(Math.abs(t-i),1,a)/a:0,Yx=(t,a,i=15,o=40)=>{const s=ay(t.x,o,a.width-o)*i,c=ay(t.y,o,a.height-o)*i;return[s,c]},Pc=(t,a)=>({x:Math.min(t.x,a.x),y:Math.min(t.y,a.y),x2:Math.max(t.x2,a.x2),y2:Math.max(t.y2,a.y2)}),Ff=({x:t,y:a,width:i,height:o})=>({x:t,y:a,x2:t+i,y2:a+o}),Ic=({x:t,y:a,x2:i,y2:o})=>({x:t,y:a,width:i-t,height:o-a}),Zi=(t,a=[0,0])=>{const{x:i,y:o}=x0(t)?t.internals.positionAbsolute:vs(t,a);return{x:i,y:o,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},_c=(t,a=[0,0])=>{const{x:i,y:o}=x0(t)?t.internals.positionAbsolute:vs(t,a);return{x:i,y:o,x2:i+(t.measured?.width??t.width??t.initialWidth??0),y2:o+(t.measured?.height??t.height??t.initialHeight??0)}},qx=(t,a)=>Ic(Pc(Ff(t),Ff(a))),hs=(t,a)=>{const i=Math.max(0,Math.min(t.x+t.width,a.x+a.width)-Math.max(t.x,a.x)),o=Math.max(0,Math.min(t.y+t.height,a.y+a.height)-Math.max(t.y,a.y));return Math.ceil(i*o)},ry=t=>Rn(t.width)&&Rn(t.height)&&Rn(t.x)&&Rn(t.y),Rn=t=>!isNaN(t)&&isFinite(t),pE=(t,a)=>{},Cs=(t,a=[1,1])=>({x:a[0]*Math.round(t.x/a[0]),y:a[1]*Math.round(t.y/a[1])}),Ss=({x:t,y:a},[i,o,s],c=!1,u=[1,1])=>{const m={x:(t-i)/s,y:(a-o)/s};return c?Cs(m,u):m},Ac=({x:t,y:a},[i,o,s])=>({x:t*s+i,y:a*s+o});function zi(t,a){if(typeof t=="number")return Math.floor((a-a/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const i=parseFloat(t);if(!Number.isNaN(i))return Math.floor(i)}if(typeof t=="string"&&t.endsWith("%")){const i=parseFloat(t);if(!Number.isNaN(i))return Math.floor(a*i*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function gE(t,a,i){if(typeof t=="string"||typeof t=="number"){const o=zi(t,i),s=zi(t,a);return{top:o,right:s,bottom:o,left:s,x:s*2,y:o*2}}if(typeof t=="object"){const o=zi(t.top??t.y??0,i),s=zi(t.bottom??t.y??0,i),c=zi(t.left??t.x??0,a),u=zi(t.right??t.x??0,a);return{top:o,right:u,bottom:s,left:c,x:c+u,y:o+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function yE(t,a,i,o,s,c){const{x:u,y:m}=Ac(t,[a,i,o]),{x:g,y:p}=Ac({x:t.x+t.width,y:t.y+t.height},[a,i,o]),b=s-g,x=c-p;return{left:Math.floor(u),top:Math.floor(m),right:Math.floor(b),bottom:Math.floor(x)}}const w0=(t,a,i,o,s,c)=>{const u=gE(c,a,i),m=(a-u.x)/t.width,g=(i-u.y)/t.height,p=Math.min(m,g),b=Xi(p,o,s),x=t.x+t.width/2,w=t.y+t.height/2,E=a/2-x*b,T=i/2-w*b,k=yE(t,E,T,b,a,i),O={left:Math.min(k.left-u.left,0),top:Math.min(k.top-u.top,0),right:Math.min(k.right-u.right,0),bottom:Math.min(k.bottom-u.bottom,0)};return{x:E-O.left+O.right,y:T-O.top+O.bottom,zoom:b}},ms=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Qi(t){return t!=null&&t!=="parent"}function Ea(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function Kx(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function Fx(t,a={width:0,height:0},i,o,s){const c={...t},u=o.get(i);if(u){const m=u.origin||s;c.x+=u.internals.positionAbsolute.x-(a.width??0)*m[0],c.y+=u.internals.positionAbsolute.y-(a.height??0)*m[1]}return c}function iy(t,a){if(t.size!==a.size)return!1;for(const i of t)if(!a.has(i))return!1;return!0}function xE(){let t,a;return{promise:new Promise((o,s)=>{t=o,a=s}),resolve:t,reject:a}}function bE(t){return{...Ux,...t||{}}}function as(t,{snapGrid:a=[0,0],snapToGrid:i=!1,transform:o,containerBounds:s}){const{x:c,y:u}=Dn(t),m=Ss({x:c-(s?.left??0),y:u-(s?.top??0)},o),{x:g,y:p}=i?Cs(m,a):m;return{xSnapped:g,ySnapped:p,...m}}const v0=t=>({width:t.offsetWidth,height:t.offsetHeight}),$x=t=>t?.getRootNode?.()||window?.document,wE=["INPUT","SELECT","TEXTAREA"];function Xx(t){const a=t.composedPath?.()?.[0]||t.target;return a?.nodeType!==1?!1:wE.includes(a.nodeName)||a.hasAttribute("contenteditable")||!!a.closest(".nokey")}const Zx=t=>"clientX"in t,Dn=(t,a)=>{const i=Zx(t),o=i?t.clientX:t.touches?.[0].clientX,s=i?t.clientY:t.touches?.[0].clientY;return{x:o-(a?.left??0),y:s-(a?.top??0)}},oy=(t,a,i,o,s)=>{const c=a.querySelectorAll(`.${t}`);return!c||!c.length?null:Array.from(c).map(u=>{const m=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),type:t,nodeId:s,position:u.getAttribute("data-handlepos"),x:(m.left-i.left)/o,y:(m.top-i.top)/o,...v0(u)}})};function Qx({sourceX:t,sourceY:a,targetX:i,targetY:o,sourceControlX:s,sourceControlY:c,targetControlX:u,targetControlY:m}){const g=t*.125+s*.375+u*.375+i*.125,p=a*.125+c*.375+m*.375+o*.125,b=Math.abs(g-t),x=Math.abs(p-a);return[g,p,b,x]}function nc(t,a){return t>=0?.5*t:a*25*Math.sqrt(-t)}function sy({pos:t,x1:a,y1:i,x2:o,y2:s,c}){switch(t){case ge.Left:return[a-nc(a-o,c),i];case ge.Right:return[a+nc(o-a,c),i];case ge.Top:return[a,i-nc(i-s,c)];case ge.Bottom:return[a,i+nc(s-i,c)]}}function Wx({sourceX:t,sourceY:a,sourcePosition:i=ge.Bottom,targetX:o,targetY:s,targetPosition:c=ge.Top,curvature:u=.25}){const[m,g]=sy({pos:i,x1:t,y1:a,x2:o,y2:s,c:u}),[p,b]=sy({pos:c,x1:o,y1:s,x2:t,y2:a,c:u}),[x,w,E,T]=Qx({sourceX:t,sourceY:a,targetX:o,targetY:s,sourceControlX:m,sourceControlY:g,targetControlX:p,targetControlY:b});return[`M${t},${a} C${m},${g} ${p},${b} ${o},${s}`,x,w,E,T]}function Jx({sourceX:t,sourceY:a,targetX:i,targetY:o}){const s=Math.abs(i-t)/2,c=i<t?i+s:i-s,u=Math.abs(o-a)/2,m=o<a?o+u:o-u;return[c,m,s,u]}function vE({sourceNode:t,targetNode:a,selected:i=!1,zIndex:o=0,elevateOnSelect:s=!1,zIndexMode:c="basic"}){if(c==="manual")return o;const u=s&&i?o+1e3:o,m=Math.max(t.parentId||s&&t.selected?t.internals.z:0,a.parentId||s&&a.selected?a.internals.z:0);return u+m}function kE({sourceNode:t,targetNode:a,width:i,height:o,transform:s}){const c=Pc(_c(t),_c(a));c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u={x:-s[0]/s[2],y:-s[1]/s[2],width:i/s[2],height:o/s[2]};return hs(u,Ic(c))>0}const CE=({source:t,sourceHandle:a,target:i,targetHandle:o})=>`xy-edge__${t}${a||""}-${i}${o||""}`,SE=(t,a)=>a.some(i=>i.source===t.source&&i.target===t.target&&(i.sourceHandle===t.sourceHandle||!i.sourceHandle&&!t.sourceHandle)&&(i.targetHandle===t.targetHandle||!i.targetHandle&&!t.targetHandle)),EE=(t,a,i={})=>{if(!t.source||!t.target)return a;const o=i.getEdgeId||CE;let s;return Bx(t)?s={...t}:s={...t,id:o(t)},SE(s,a)?a:(s.sourceHandle===null&&delete s.sourceHandle,s.targetHandle===null&&delete s.targetHandle,a.concat(s))};function e1({sourceX:t,sourceY:a,targetX:i,targetY:o}){const[s,c,u,m]=Jx({sourceX:t,sourceY:a,targetX:i,targetY:o});return[`M ${t},${a}L ${i},${o}`,s,c,u,m]}const ly={[ge.Left]:{x:-1,y:0},[ge.Right]:{x:1,y:0},[ge.Top]:{x:0,y:-1},[ge.Bottom]:{x:0,y:1}},NE=({source:t,sourcePosition:a=ge.Bottom,target:i})=>a===ge.Left||a===ge.Right?t.x<i.x?{x:1,y:0}:{x:-1,y:0}:t.y<i.y?{x:0,y:1}:{x:0,y:-1},cy=(t,a)=>Math.sqrt(Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2));function TE({source:t,sourcePosition:a=ge.Bottom,target:i,targetPosition:o=ge.Top,center:s,offset:c,stepPosition:u}){const m=ly[a],g=ly[o],p={x:t.x+m.x*c,y:t.y+m.y*c},b={x:i.x+g.x*c,y:i.y+g.y*c},x=NE({source:p,sourcePosition:a,target:b}),w=x.x!==0?"x":"y",E=x[w];let T=[],k,O;const z={x:0,y:0},M={x:0,y:0},[,,_,R]=Jx({sourceX:t.x,sourceY:t.y,targetX:i.x,targetY:i.y});if(m[w]*g[w]===-1){w==="x"?(k=s.x??p.x+(b.x-p.x)*u,O=s.y??(p.y+b.y)/2):(k=s.x??(p.x+b.x)/2,O=s.y??p.y+(b.y-p.y)*u);const I=[{x:k,y:p.y},{x:k,y:b.y}],Y=[{x:p.x,y:O},{x:b.x,y:O}];m[w]===E?T=w==="x"?I:Y:T=w==="x"?Y:I}else{const I=[{x:p.x,y:b.y}],Y=[{x:b.x,y:p.y}];if(w==="x"?T=m.x===E?Y:I:T=m.y===E?I:Y,a===o){const U=Math.abs(t[w]-i[w]);if(U<=c){const F=Math.min(c-1,c-U);m[w]===E?z[w]=(p[w]>t[w]?-1:1)*F:M[w]=(b[w]>i[w]?-1:1)*F}}if(a!==o){const U=w==="x"?"y":"x",F=m[w]===g[U],D=p[U]>b[U],j=p[U]<b[U];(m[w]===1&&(!F&&D||F&&j)||m[w]!==1&&(!F&&j||F&&D))&&(T=w==="x"?I:Y)}const v={x:p.x+z.x,y:p.y+z.y},N={x:b.x+M.x,y:b.y+M.y},B=Math.max(Math.abs(v.x-T[0].x),Math.abs(N.x-T[0].x)),H=Math.max(Math.abs(v.y-T[0].y),Math.abs(N.y-T[0].y));B>=H?(k=(v.x+N.x)/2,O=T[0].y):(k=T[0].x,O=(v.y+N.y)/2)}return[[t,{x:p.x+z.x,y:p.y+z.y},...T,{x:b.x+M.x,y:b.y+M.y},i],k,O,_,R]}function _E(t,a,i,o){const s=Math.min(cy(t,a)/2,cy(a,i)/2,o),{x:c,y:u}=a;if(t.x===c&&c===i.x||t.y===u&&u===i.y)return`L${c} ${u}`;if(t.y===u){const p=t.x<i.x?-1:1,b=t.y<i.y?1:-1;return`L ${c+s*p},${u}Q ${c},${u} ${c},${u+s*b}`}const m=t.x<i.x?1:-1,g=t.y<i.y?-1:1;return`L ${c},${u+s*g}Q ${c},${u} ${c+s*m},${u}`}function $f({sourceX:t,sourceY:a,sourcePosition:i=ge.Bottom,targetX:o,targetY:s,targetPosition:c=ge.Top,borderRadius:u=5,centerX:m,centerY:g,offset:p=20,stepPosition:b=.5}){const[x,w,E,T,k]=TE({source:{x:t,y:a},sourcePosition:i,target:{x:o,y:s},targetPosition:c,center:{x:m,y:g},offset:p,stepPosition:b});return[x.reduce((z,M,_)=>{let R="";return _>0&&_<x.length-1?R=_E(x[_-1],M,x[_+1],u):R=`${_===0?"M":"L"}${M.x} ${M.y}`,z+=R,z},""),w,E,T,k]}function uy(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function AE(t){const{sourceNode:a,targetNode:i}=t;if(!uy(a)||!uy(i))return null;const o=a.internals.handleBounds||dy(a.handles),s=i.internals.handleBounds||dy(i.handles),c=fy(o?.source??[],t.sourceHandle),u=fy(t.connectionMode===$i.Strict?s?.target??[]:(s?.target??[]).concat(s?.source??[]),t.targetHandle);if(!c||!u)return t.onError?.("008",qn.error008(c?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const m=c?.position||ge.Bottom,g=u?.position||ge.Top,p=$r(a,c,m),b=$r(i,u,g);return{sourceX:p.x,sourceY:p.y,targetX:b.x,targetY:b.y,sourcePosition:m,targetPosition:g}}function dy(t){if(!t)return null;const a=[],i=[];for(const o of t)o.width=o.width??1,o.height=o.height??1,o.type==="source"?a.push(o):o.type==="target"&&i.push(o);return{source:a,target:i}}function $r(t,a,i=ge.Left,o=!1){const s=(a?.x??0)+t.internals.positionAbsolute.x,c=(a?.y??0)+t.internals.positionAbsolute.y,{width:u,height:m}=a??Ea(t);if(o)return{x:s+u/2,y:c+m/2};switch(a?.position??i){case ge.Top:return{x:s+u/2,y:c};case ge.Right:return{x:s+u,y:c+m/2};case ge.Bottom:return{x:s+u/2,y:c+m};case ge.Left:return{x:s,y:c+m/2}}}function fy(t,a){return t&&(a?t.find(i=>i.id===a):t[0])||null}function Xf(t,a){return t?typeof t=="string"?t:`${a?`${a}__`:""}${Object.keys(t).sort().map(o=>`${o}=${t[o]}`).join("&")}`:""}function ME(t,{id:a,defaultColor:i,defaultMarkerStart:o,defaultMarkerEnd:s}){const c=new Set;return t.reduce((u,m)=>([m.markerStart||o,m.markerEnd||s].forEach(g=>{if(g&&typeof g=="object"){const p=Xf(g,a);c.has(p)||(u.push({id:p,color:g.color||i,...g}),c.add(p))}}),u),[]).sort((u,m)=>u.id.localeCompare(m.id))}const t1=1e3,jE=10,k0={nodeOrigin:[0,0],nodeExtent:ds,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},RE={...k0,checkEquality:!0};function C0(t,a){const i={...t};for(const o in a)a[o]!==void 0&&(i[o]=a[o]);return i}function DE(t,a,i){const o=C0(k0,i);for(const s of t.values())if(s.parentId)E0(s,t,a,o);else{const c=vs(s,o.nodeOrigin),u=Qi(s.extent)?s.extent:o.nodeExtent,m=Fr(c,u,Ea(s));s.internals.positionAbsolute=m}}function LE(t,a){if(!t.handles)return t.measured?a?.internals.handleBounds:void 0;const i=[],o=[];for(const s of t.handles){const c={id:s.id,width:s.width??1,height:s.height??1,nodeId:t.id,x:s.x,y:s.y,position:s.position,type:s.type};s.type==="source"?i.push(c):s.type==="target"&&o.push(c)}return{source:i,target:o}}function S0(t){return t==="manual"}function Zf(t,a,i,o={}){const s=C0(RE,o),c={i:0},u=new Map(a),m=s?.elevateNodesOnSelect&&!S0(s.zIndexMode)?t1:0;let g=t.length>0;a.clear(),i.clear();for(const p of t){let b=u.get(p.id);if(s.checkEquality&&p===b?.internals.userNode)a.set(p.id,b);else{const x=vs(p,s.nodeOrigin),w=Qi(p.extent)?p.extent:s.nodeExtent,E=Fr(x,w,Ea(p));b={...s.defaults,...p,measured:{width:p.measured?.width,height:p.measured?.height},internals:{positionAbsolute:E,handleBounds:LE(p,b),z:n1(p,m,s.zIndexMode),userNode:p}},a.set(p.id,b)}(b.measured===void 0||b.measured.width===void 0||b.measured.height===void 0)&&!b.hidden&&(g=!1),p.parentId&&E0(b,a,i,o,c)}return g}function OE(t,a){if(!t.parentId)return;const i=a.get(t.parentId);i?i.set(t.id,t):a.set(t.parentId,new Map([[t.id,t]]))}function E0(t,a,i,o,s){const{elevateNodesOnSelect:c,nodeOrigin:u,nodeExtent:m,zIndexMode:g}=C0(k0,o),p=t.parentId,b=a.get(p);if(!b){console.warn(`Parent node ${p} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}OE(t,i),s&&!b.parentId&&b.internals.rootParentIndex===void 0&&g==="auto"&&(b.internals.rootParentIndex=++s.i,b.internals.z=b.internals.z+s.i*jE),s&&b.internals.rootParentIndex!==void 0&&(s.i=b.internals.rootParentIndex);const x=c&&!S0(g)?t1:0,{x:w,y:E,z:T}=HE(t,b,u,m,x,g),{positionAbsolute:k}=t.internals,O=w!==k.x||E!==k.y;(O||T!==t.internals.z)&&a.set(t.id,{...t,internals:{...t.internals,positionAbsolute:O?{x:w,y:E}:k,z:T}})}function n1(t,a,i){const o=Rn(t.zIndex)?t.zIndex:0;return S0(i)?o:o+(t.selected?a:0)}function HE(t,a,i,o,s,c){const{x:u,y:m}=a.internals.positionAbsolute,g=Ea(t),p=vs(t,i),b=Qi(t.extent)?Fr(p,t.extent,g):p;let x=Fr({x:u+b.x,y:m+b.y},o,g);t.extent==="parent"&&(x=Vx(x,g,a));const w=n1(t,s,c),E=a.internals.z??0;return{x:x.x,y:x.y,z:E>=w?E+1:w}}function N0(t,a,i,o=[0,0]){const s=[],c=new Map;for(const u of t){const m=a.get(u.parentId);if(!m)continue;const g=c.get(u.parentId)?.expandedRect??Zi(m),p=qx(g,u.rect);c.set(u.parentId,{expandedRect:p,parent:m})}return c.size>0&&c.forEach(({expandedRect:u,parent:m},g)=>{const p=m.internals.positionAbsolute,b=Ea(m),x=m.origin??o,w=u.x<p.x?Math.round(Math.abs(p.x-u.x)):0,E=u.y<p.y?Math.round(Math.abs(p.y-u.y)):0,T=Math.max(b.width,Math.round(u.width)),k=Math.max(b.height,Math.round(u.height)),O=(T-b.width)*x[0],z=(k-b.height)*x[1];(w>0||E>0||O||z)&&(s.push({id:g,type:"position",position:{x:m.position.x-w+O,y:m.position.y-E+z}}),i.get(g)?.forEach(M=>{t.some(_=>_.id===M.id)||s.push({id:M.id,type:"position",position:{x:M.position.x+w,y:M.position.y+E}})})),(b.width<u.width||b.height<u.height||w||E)&&s.push({id:g,type:"dimensions",setAttributes:!0,dimensions:{width:T+(w?x[0]*w-O:0),height:k+(E?x[1]*E-z:0)}})}),s}function zE(t,a,i,o,s,c,u){const m=o?.querySelector(".xyflow__viewport");let g=!1;if(!m)return{changes:[],updatedInternals:g};const p=[],b=window.getComputedStyle(m),{m22:x}=new window.DOMMatrixReadOnly(b.transform),w=[];for(const E of t.values()){const T=a.get(E.id);if(!T)continue;if(T.hidden){a.set(T.id,{...T,internals:{...T.internals,handleBounds:void 0}}),g=!0;continue}const k=v0(E.nodeElement),O=T.measured.width!==k.width||T.measured.height!==k.height;if(!!(k.width&&k.height&&(O||!T.internals.handleBounds||E.force))){const M=E.nodeElement.getBoundingClientRect(),_=Qi(T.extent)?T.extent:c;let{positionAbsolute:R}=T.internals;T.parentId&&T.extent==="parent"?R=Vx(R,k,a.get(T.parentId)):_&&(R=Fr(R,_,k));const q={...T,measured:k,internals:{...T.internals,positionAbsolute:R,handleBounds:{source:oy("source",E.nodeElement,M,x,T.id),target:oy("target",E.nodeElement,M,x,T.id)}}};a.set(T.id,q),T.parentId&&E0(q,a,i,{nodeOrigin:s,zIndexMode:u}),g=!0,O&&(p.push({id:T.id,type:"dimensions",dimensions:k}),T.expandParent&&T.parentId&&w.push({id:T.id,parentId:T.parentId,rect:Zi(q,s)}))}}if(w.length>0){const E=N0(w,a,i,s);p.push(...E)}return{changes:p,updatedInternals:g}}async function UE({delta:t,panZoom:a,transform:i,translateExtent:o,width:s,height:c}){if(!a||!t.x&&!t.y)return Promise.resolve(!1);const u=await a.setViewportConstrained({x:i[0]+t.x,y:i[1]+t.y,zoom:i[2]},[[0,0],[s,c]],o),m=!!u&&(u.x!==i[0]||u.y!==i[1]||u.k!==i[2]);return Promise.resolve(m)}function hy(t,a,i,o,s,c){let u=s;const m=o.get(u)||new Map;o.set(u,m.set(i,a)),u=`${s}-${t}`;const g=o.get(u)||new Map;if(o.set(u,g.set(i,a)),c){u=`${s}-${t}-${c}`;const p=o.get(u)||new Map;o.set(u,p.set(i,a))}}function a1(t,a,i){t.clear(),a.clear();for(const o of i){const{source:s,target:c,sourceHandle:u=null,targetHandle:m=null}=o,g={edgeId:o.id,source:s,target:c,sourceHandle:u,targetHandle:m},p=`${s}-${u}--${c}-${m}`,b=`${c}-${m}--${s}-${u}`;hy("source",g,b,t,s,u),hy("target",g,p,t,c,m),a.set(o.id,o)}}function r1(t,a){if(!t.parentId)return!1;const i=a.get(t.parentId);return i?i.selected?!0:r1(i,a):!1}function my(t,a,i){let o=t;do{if(o?.matches?.(a))return!0;if(o===i)return!1;o=o?.parentElement}while(o);return!1}function PE(t,a,i,o){const s=new Map;for(const[c,u]of t)if((u.selected||u.id===o)&&(!u.parentId||!r1(u,t))&&(u.draggable||a&&typeof u.draggable>"u")){const m=t.get(c);m&&s.set(c,{id:c,position:m.position||{x:0,y:0},distance:{x:i.x-m.internals.positionAbsolute.x,y:i.y-m.internals.positionAbsolute.y},extent:m.extent,parentId:m.parentId,origin:m.origin,expandParent:m.expandParent,internals:{positionAbsolute:m.internals.positionAbsolute||{x:0,y:0}},measured:{width:m.measured.width??0,height:m.measured.height??0}})}return s}function _f({nodeId:t,dragItems:a,nodeLookup:i,dragging:o=!0}){const s=[];for(const[u,m]of a){const g=i.get(u)?.internals.userNode;g&&s.push({...g,position:m.position,dragging:o})}if(!t)return[s[0],s];const c=i.get(t)?.internals.userNode;return[c?{...c,position:a.get(t)?.position||c.position,dragging:o}:s[0],s]}function IE({dragItems:t,snapGrid:a,x:i,y:o}){const s=t.values().next().value;if(!s)return null;const c={x:i-s.distance.x,y:o-s.distance.y},u=Cs(c,a);return{x:u.x-c.x,y:u.y-c.y}}function BE({onNodeMouseDown:t,getStoreItems:a,onDragStart:i,onDrag:o,onDragStop:s}){let c={x:null,y:null},u=0,m=new Map,g=!1,p={x:0,y:0},b=null,x=!1,w=null,E=!1,T=!1,k=null;function O({noDragClassName:M,handleSelector:_,domNode:R,isSelectable:q,nodeId:I,nodeClickDistance:Y=0}){w=rn(R);function v({x:U,y:F}){const{nodeLookup:D,nodeExtent:j,snapGrid:S,snapToGrid:P,nodeOrigin:A,onNodeDrag:K,onSelectionDrag:X,onError:G,updateNodePositions:L}=a();c={x:U,y:F};let Z=!1;const Q=m.size>1,te=Q&&j?Ff(ks(m)):null,ie=Q&&P?IE({dragItems:m,snapGrid:S,x:U,y:F}):null;for(const[oe,de]of m){if(!D.has(oe))continue;let pe={x:U-de.distance.x,y:F-de.distance.y};P&&(pe=ie?{x:Math.round(pe.x+ie.x),y:Math.round(pe.y+ie.y)}:Cs(pe,S));let Ee=null;if(Q&&j&&!de.extent&&te){const{positionAbsolute:we}=de.internals,Ne=we.x-te.x+j[0][0],Te=we.x+de.measured.width-te.x2+j[1][0],Ke=we.y-te.y+j[0][1],Ct=we.y+de.measured.height-te.y2+j[1][1];Ee=[[Ne,Ke],[Te,Ct]]}const{position:ke,positionAbsolute:xe}=Gx({nodeId:oe,nextPosition:pe,nodeLookup:D,nodeExtent:Ee||j,nodeOrigin:A,onError:G});Z=Z||de.position.x!==ke.x||de.position.y!==ke.y,de.position=ke,de.internals.positionAbsolute=xe}if(T=T||Z,!!Z&&(L(m,!0),k&&(o||K||!I&&X))){const[oe,de]=_f({nodeId:I,dragItems:m,nodeLookup:D});o?.(k,m,oe,de),K?.(k,oe,de),I||X?.(k,de)}}async function N(){if(!b)return;const{transform:U,panBy:F,autoPanSpeed:D,autoPanOnNodeDrag:j}=a();if(!j){g=!1,cancelAnimationFrame(u);return}const[S,P]=Yx(p,b,D);(S!==0||P!==0)&&(c.x=(c.x??0)-S/U[2],c.y=(c.y??0)-P/U[2],await F({x:S,y:P})&&v(c)),u=requestAnimationFrame(N)}function B(U){const{nodeLookup:F,multiSelectionActive:D,nodesDraggable:j,transform:S,snapGrid:P,snapToGrid:A,selectNodesOnDrag:K,onNodeDragStart:X,onSelectionDragStart:G,unselectNodesAndEdges:L}=a();x=!0,(!K||!q)&&!D&&I&&(F.get(I)?.selected||L()),q&&K&&I&&t?.(I);const Z=as(U.sourceEvent,{transform:S,snapGrid:P,snapToGrid:A,containerBounds:b});if(c=Z,m=PE(F,j,Z,I),m.size>0&&(i||X||!I&&G)){const[Q,te]=_f({nodeId:I,dragItems:m,nodeLookup:F});i?.(U.sourceEvent,m,Q,te),X?.(U.sourceEvent,Q,te),I||G?.(U.sourceEvent,te)}}const H=vx().clickDistance(Y).on("start",U=>{const{domNode:F,nodeDragThreshold:D,transform:j,snapGrid:S,snapToGrid:P}=a();b=F?.getBoundingClientRect()||null,E=!1,T=!1,k=U.sourceEvent,D===0&&B(U),c=as(U.sourceEvent,{transform:j,snapGrid:S,snapToGrid:P,containerBounds:b}),p=Dn(U.sourceEvent,b)}).on("drag",U=>{const{autoPanOnNodeDrag:F,transform:D,snapGrid:j,snapToGrid:S,nodeDragThreshold:P,nodeLookup:A}=a(),K=as(U.sourceEvent,{transform:D,snapGrid:j,snapToGrid:S,containerBounds:b});if(k=U.sourceEvent,(U.sourceEvent.type==="touchmove"&&U.sourceEvent.touches.length>1||I&&!A.has(I))&&(E=!0),!E){if(!g&&F&&x&&(g=!0,N()),!x){const X=Dn(U.sourceEvent,b),G=X.x-p.x,L=X.y-p.y;Math.sqrt(G*G+L*L)>P&&B(U)}(c.x!==K.xSnapped||c.y!==K.ySnapped)&&m&&x&&(p=Dn(U.sourceEvent,b),v(K))}}).on("end",U=>{if(!(!x||E)&&(g=!1,x=!1,cancelAnimationFrame(u),m.size>0)){const{nodeLookup:F,updateNodePositions:D,onNodeDragStop:j,onSelectionDragStop:S}=a();if(T&&(D(m,!1),T=!1),s||j||!I&&S){const[P,A]=_f({nodeId:I,dragItems:m,nodeLookup:F,dragging:!1});s?.(U.sourceEvent,m,P,A),j?.(U.sourceEvent,P,A),I||S?.(U.sourceEvent,A)}}}).filter(U=>{const F=U.target;return!U.button&&(!M||!my(F,`.${M}`,R))&&(!_||my(F,_,R))});w.call(H)}function z(){w?.on(".drag",null)}return{update:O,destroy:z}}function GE(t,a,i){const o=[],s={x:t.x-i,y:t.y-i,width:i*2,height:i*2};for(const c of a.values())hs(s,Zi(c))>0&&o.push(c);return o}const VE=250;function YE(t,a,i,o){let s=[],c=1/0;const u=GE(t,i,a+VE);for(const m of u){const g=[...m.internals.handleBounds?.source??[],...m.internals.handleBounds?.target??[]];for(const p of g){if(o.nodeId===p.nodeId&&o.type===p.type&&o.id===p.id)continue;const{x:b,y:x}=$r(m,p,p.position,!0),w=Math.sqrt(Math.pow(b-t.x,2)+Math.pow(x-t.y,2));w>a||(w<c?(s=[{...p,x:b,y:x}],c=w):w===c&&s.push({...p,x:b,y:x}))}}if(!s.length)return null;if(s.length>1){const m=o.type==="source"?"target":"source";return s.find(g=>g.type===m)??s[0]}return s[0]}function i1(t,a,i,o,s,c=!1){const u=o.get(t);if(!u)return null;const m=s==="strict"?u.internals.handleBounds?.[a]:[...u.internals.handleBounds?.source??[],...u.internals.handleBounds?.target??[]],g=(i?m?.find(p=>p.id===i):m?.[0])??null;return g&&c?{...g,...$r(u,g,g.position,!0)}:g}function o1(t,a){return t||(a?.classList.contains("target")?"target":a?.classList.contains("source")?"source":null)}function qE(t,a){let i=null;return a?i=!0:t&&!a&&(i=!1),i}const s1=()=>!0;function KE(t,{connectionMode:a,connectionRadius:i,handleId:o,nodeId:s,edgeUpdaterType:c,isTarget:u,domNode:m,nodeLookup:g,lib:p,autoPanOnConnect:b,flowId:x,panBy:w,cancelConnection:E,onConnectStart:T,onConnect:k,onConnectEnd:O,isValidConnection:z=s1,onReconnectEnd:M,updateConnection:_,getTransform:R,getFromHandle:q,autoPanSpeed:I,dragThreshold:Y=1,handleDomNode:v}){const N=$x(t.target);let B=0,H;const{x:U,y:F}=Dn(t),D=o1(c,v),j=m?.getBoundingClientRect();let S=!1;if(!j||!D)return;const P=i1(s,D,o,g,a);if(!P)return;let A=Dn(t,j),K=!1,X=null,G=!1,L=null;function Z(){if(!b||!j)return;const[ke,xe]=Yx(A,j,I);w({x:ke,y:xe}),B=requestAnimationFrame(Z)}const Q={...P,nodeId:s,type:D,position:P.position},te=g.get(s);let oe={inProgress:!0,isValid:null,from:$r(te,Q,ge.Left,!0),fromHandle:Q,fromPosition:Q.position,fromNode:te,to:A,toHandle:null,toPosition:ny[Q.position],toNode:null,pointer:A};function de(){S=!0,_(oe),T?.(t,{nodeId:s,handleId:o,handleType:D})}Y===0&&de();function pe(ke){if(!S){const{x:Ct,y:bn}=Dn(ke),Zt=Ct-U,wn=bn-F;if(!(Zt*Zt+wn*wn>Y*Y))return;de()}if(!q()||!Q){Ee(ke);return}const xe=R();A=Dn(ke,j),H=YE(Ss(A,xe,!1,[1,1]),i,g,Q),K||(Z(),K=!0);const we=l1(ke,{handle:H,connectionMode:a,fromNodeId:s,fromHandleId:o,fromType:u?"target":"source",isValidConnection:z,doc:N,lib:p,flowId:x,nodeLookup:g});L=we.handleDomNode,X=we.connection,G=qE(!!H,we.isValid);const Ne=g.get(s),Te=Ne?$r(Ne,Q,ge.Left,!0):oe.from,Ke={...oe,from:Te,isValid:G,to:we.toHandle&&G?Ac({x:we.toHandle.x,y:we.toHandle.y},xe):A,toHandle:we.toHandle,toPosition:G&&we.toHandle?we.toHandle.position:ny[Q.position],toNode:we.toHandle?g.get(we.toHandle.nodeId):null,pointer:A};_(Ke),oe=Ke}function Ee(ke){if(!("touches"in ke&&ke.touches.length>0)){if(S){(H||L)&&X&&G&&k?.(X);const{inProgress:xe,...we}=oe,Ne={...we,toPosition:oe.toHandle?oe.toPosition:null};O?.(ke,Ne),c&&M?.(ke,Ne)}E(),cancelAnimationFrame(B),K=!1,G=!1,X=null,L=null,N.removeEventListener("mousemove",pe),N.removeEventListener("mouseup",Ee),N.removeEventListener("touchmove",pe),N.removeEventListener("touchend",Ee)}}N.addEventListener("mousemove",pe),N.addEventListener("mouseup",Ee),N.addEventListener("touchmove",pe),N.addEventListener("touchend",Ee)}function l1(t,{handle:a,connectionMode:i,fromNodeId:o,fromHandleId:s,fromType:c,doc:u,lib:m,flowId:g,isValidConnection:p=s1,nodeLookup:b}){const x=c==="target",w=a?u.querySelector(`.${m}-flow__handle[data-id="${g}-${a?.nodeId}-${a?.id}-${a?.type}"]`):null,{x:E,y:T}=Dn(t),k=u.elementFromPoint(E,T),O=k?.classList.contains(`${m}-flow__handle`)?k:w,z={handleDomNode:O,isValid:!1,connection:null,toHandle:null};if(O){const M=o1(void 0,O),_=O.getAttribute("data-nodeid"),R=O.getAttribute("data-handleid"),q=O.classList.contains("connectable"),I=O.classList.contains("connectableend");if(!_||!M)return z;const Y={source:x?_:o,sourceHandle:x?R:s,target:x?o:_,targetHandle:x?s:R};z.connection=Y;const N=q&&I&&(i===$i.Strict?x&&M==="source"||!x&&M==="target":_!==o||R!==s);z.isValid=N&&p(Y),z.toHandle=i1(_,M,R,b,i,!0)}return z}const Qf={onPointerDown:KE,isValid:l1};function FE({domNode:t,panZoom:a,getTransform:i,getViewScale:o}){const s=rn(t);function c({translateExtent:m,width:g,height:p,zoomStep:b=1,pannable:x=!0,zoomable:w=!0,inversePan:E=!1}){const T=_=>{if(_.sourceEvent.type!=="wheel"||!a)return;const R=i(),q=_.sourceEvent.ctrlKey&&ms()?10:1,I=-_.sourceEvent.deltaY*(_.sourceEvent.deltaMode===1?.05:_.sourceEvent.deltaMode?1:.002)*b,Y=R[2]*Math.pow(2,I*q);a.scaleTo(Y)};let k=[0,0];const O=_=>{(_.sourceEvent.type==="mousedown"||_.sourceEvent.type==="touchstart")&&(k=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY])},z=_=>{const R=i();if(_.sourceEvent.type!=="mousemove"&&_.sourceEvent.type!=="touchmove"||!a)return;const q=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY],I=[q[0]-k[0],q[1]-k[1]];k=q;const Y=o()*Math.max(R[2],Math.log(R[2]))*(E?-1:1),v={x:R[0]-I[0]*Y,y:R[1]-I[1]*Y},N=[[0,0],[g,p]];a.setViewportConstrained({x:v.x,y:v.y,zoom:R[2]},N,m)},M=Hx().on("start",O).on("zoom",x?z:null).on("zoom.wheel",w?T:null);s.call(M,{})}function u(){s.on("zoom",null)}return{update:c,destroy:u,pointer:Tn}}const Bc=t=>({x:t.x,y:t.y,zoom:t.k}),Af=({x:t,y:a,zoom:i})=>Uc.translate(t,a).scale(i),Pi=(t,a)=>t.target.closest(`.${a}`),c1=(t,a)=>a===2&&Array.isArray(t)&&t.includes(2),$E=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,Mf=(t,a=0,i=$E,o=()=>{})=>{const s=typeof a=="number"&&a>0;return s||o(),s?t.transition().duration(a).ease(i).on("end",o):t},u1=t=>{const a=t.ctrlKey&&ms()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*a};function XE({zoomPanValues:t,noWheelClassName:a,d3Selection:i,d3Zoom:o,panOnScrollMode:s,panOnScrollSpeed:c,zoomOnPinch:u,onPanZoomStart:m,onPanZoom:g,onPanZoomEnd:p}){return b=>{if(Pi(b,a))return b.ctrlKey&&b.preventDefault(),!1;b.preventDefault(),b.stopImmediatePropagation();const x=i.property("__zoom").k||1;if(b.ctrlKey&&u){const O=Tn(b),z=u1(b),M=x*Math.pow(2,z);o.scaleTo(i,M,O,b);return}const w=b.deltaMode===1?20:1;let E=s===Vr.Vertical?0:b.deltaX*w,T=s===Vr.Horizontal?0:b.deltaY*w;!ms()&&b.shiftKey&&s!==Vr.Vertical&&(E=b.deltaY*w,T=0),o.translateBy(i,-(E/x)*c,-(T/x)*c,{internal:!0});const k=Bc(i.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(g?.(b,k),t.panScrollTimeout=setTimeout(()=>{p?.(b,k),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,m?.(b,k))}}function ZE({noWheelClassName:t,preventScrolling:a,d3ZoomHandler:i}){return function(o,s){const c=o.type==="wheel",u=!a&&c&&!o.ctrlKey,m=Pi(o,t);if(o.ctrlKey&&c&&m&&o.preventDefault(),u||m)return null;o.preventDefault(),i.call(this,o,s)}}function QE({zoomPanValues:t,onDraggingChange:a,onPanZoomStart:i}){return o=>{if(o.sourceEvent?.internal)return;const s=Bc(o.transform);t.mouseButton=o.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=s,o.sourceEvent?.type==="mousedown"&&a(!0),i&&i?.(o.sourceEvent,s)}}function WE({zoomPanValues:t,panOnDrag:a,onPaneContextMenu:i,onTransformChange:o,onPanZoom:s}){return c=>{t.usedRightMouseButton=!!(i&&c1(a,t.mouseButton??0)),c.sourceEvent?.sync||o([c.transform.x,c.transform.y,c.transform.k]),s&&!c.sourceEvent?.internal&&s?.(c.sourceEvent,Bc(c.transform))}}function JE({zoomPanValues:t,panOnDrag:a,panOnScroll:i,onDraggingChange:o,onPanZoomEnd:s,onPaneContextMenu:c}){return u=>{if(!u.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,c&&c1(a,t.mouseButton??0)&&!t.usedRightMouseButton&&u.sourceEvent&&c(u.sourceEvent),t.usedRightMouseButton=!1,o(!1),s)){const m=Bc(u.transform);t.prevViewport=m,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{s?.(u.sourceEvent,m)},i?150:0)}}}function e3({zoomActivationKeyPressed:t,zoomOnScroll:a,zoomOnPinch:i,panOnDrag:o,panOnScroll:s,zoomOnDoubleClick:c,userSelectionActive:u,noWheelClassName:m,noPanClassName:g,lib:p,connectionInProgress:b}){return x=>{const w=t||a,E=i&&x.ctrlKey,T=x.type==="wheel";if(x.button===1&&x.type==="mousedown"&&(Pi(x,`${p}-flow__node`)||Pi(x,`${p}-flow__edge`)))return!0;if(!o&&!w&&!s&&!c&&!i||u||b&&!T||Pi(x,m)&&T||Pi(x,g)&&(!T||s&&T&&!t)||!i&&x.ctrlKey&&T)return!1;if(!i&&x.type==="touchstart"&&x.touches?.length>1)return x.preventDefault(),!1;if(!w&&!s&&!E&&T||!o&&(x.type==="mousedown"||x.type==="touchstart")||Array.isArray(o)&&!o.includes(x.button)&&x.type==="mousedown")return!1;const k=Array.isArray(o)&&o.includes(x.button)||!x.button||x.button<=1;return(!x.ctrlKey||T)&&k}}function t3({domNode:t,minZoom:a,maxZoom:i,translateExtent:o,viewport:s,onPanZoom:c,onPanZoomStart:u,onPanZoomEnd:m,onDraggingChange:g}){const p={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},b=t.getBoundingClientRect(),x=Hx().scaleExtent([a,i]).translateExtent(o),w=rn(t).call(x);M({x:s.x,y:s.y,zoom:Xi(s.zoom,a,i)},[[0,0],[b.width,b.height]],o);const E=w.on("wheel.zoom"),T=w.on("dblclick.zoom");x.wheelDelta(u1);function k(H,U){return w?new Promise(F=>{x?.interpolate(U?.interpolate==="linear"?ns:dc).transform(Mf(w,U?.duration,U?.ease,()=>F(!0)),H)}):Promise.resolve(!1)}function O({noWheelClassName:H,noPanClassName:U,onPaneContextMenu:F,userSelectionActive:D,panOnScroll:j,panOnDrag:S,panOnScrollMode:P,panOnScrollSpeed:A,preventScrolling:K,zoomOnPinch:X,zoomOnScroll:G,zoomOnDoubleClick:L,zoomActivationKeyPressed:Z,lib:Q,onTransformChange:te,connectionInProgress:ie,paneClickDistance:oe,selectionOnDrag:de}){D&&!p.isZoomingOrPanning&&z();const pe=j&&!Z&&!D;x.clickDistance(de?1/0:!Rn(oe)||oe<0?0:oe);const Ee=pe?XE({zoomPanValues:p,noWheelClassName:H,d3Selection:w,d3Zoom:x,panOnScrollMode:P,panOnScrollSpeed:A,zoomOnPinch:X,onPanZoomStart:u,onPanZoom:c,onPanZoomEnd:m}):ZE({noWheelClassName:H,preventScrolling:K,d3ZoomHandler:E});if(w.on("wheel.zoom",Ee,{passive:!1}),!D){const xe=QE({zoomPanValues:p,onDraggingChange:g,onPanZoomStart:u});x.on("start",xe);const we=WE({zoomPanValues:p,panOnDrag:S,onPaneContextMenu:!!F,onPanZoom:c,onTransformChange:te});x.on("zoom",we);const Ne=JE({zoomPanValues:p,panOnDrag:S,panOnScroll:j,onPaneContextMenu:F,onPanZoomEnd:m,onDraggingChange:g});x.on("end",Ne)}const ke=e3({zoomActivationKeyPressed:Z,panOnDrag:S,zoomOnScroll:G,panOnScroll:j,zoomOnDoubleClick:L,zoomOnPinch:X,userSelectionActive:D,noPanClassName:U,noWheelClassName:H,lib:Q,connectionInProgress:ie});x.filter(ke),L?w.on("dblclick.zoom",T):w.on("dblclick.zoom",null)}function z(){x.on("zoom",null)}async function M(H,U,F){const D=Af(H),j=x?.constrain()(D,U,F);return j&&await k(j),new Promise(S=>S(j))}async function _(H,U){const F=Af(H);return await k(F,U),new Promise(D=>D(F))}function R(H){if(w){const U=Af(H),F=w.property("__zoom");(F.k!==H.zoom||F.x!==H.x||F.y!==H.y)&&x?.transform(w,U,null,{sync:!0})}}function q(){const H=w?Ox(w.node()):{x:0,y:0,k:1};return{x:H.x,y:H.y,zoom:H.k}}function I(H,U){return w?new Promise(F=>{x?.interpolate(U?.interpolate==="linear"?ns:dc).scaleTo(Mf(w,U?.duration,U?.ease,()=>F(!0)),H)}):Promise.resolve(!1)}function Y(H,U){return w?new Promise(F=>{x?.interpolate(U?.interpolate==="linear"?ns:dc).scaleBy(Mf(w,U?.duration,U?.ease,()=>F(!0)),H)}):Promise.resolve(!1)}function v(H){x?.scaleExtent(H)}function N(H){x?.translateExtent(H)}function B(H){const U=!Rn(H)||H<0?0:H;x?.clickDistance(U)}return{update:O,destroy:z,setViewport:_,setViewportConstrained:M,getViewport:q,scaleTo:I,scaleBy:Y,setScaleExtent:v,setTranslateExtent:N,syncViewport:R,setClickDistance:B}}var Wi;(function(t){t.Line="line",t.Handle="handle"})(Wi||(Wi={}));function n3({width:t,prevWidth:a,height:i,prevHeight:o,affectsX:s,affectsY:c}){const u=t-a,m=i-o,g=[u>0?1:u<0?-1:0,m>0?1:m<0?-1:0];return u&&s&&(g[0]=g[0]*-1),m&&c&&(g[1]=g[1]*-1),g}function py(t){const a=t.includes("right")||t.includes("left"),i=t.includes("bottom")||t.includes("top"),o=t.includes("left"),s=t.includes("top");return{isHorizontal:a,isVertical:i,affectsX:o,affectsY:s}}function nr(t,a){return Math.max(0,a-t)}function ar(t,a){return Math.max(0,t-a)}function ac(t,a,i){return Math.max(0,a-t,t-i)}function gy(t,a){return t?!a:a}function a3(t,a,i,o,s,c,u,m){let{affectsX:g,affectsY:p}=a;const{isHorizontal:b,isVertical:x}=a,w=b&&x,{xSnapped:E,ySnapped:T}=i,{minWidth:k,maxWidth:O,minHeight:z,maxHeight:M}=o,{x:_,y:R,width:q,height:I,aspectRatio:Y}=t;let v=Math.floor(b?E-t.pointerX:0),N=Math.floor(x?T-t.pointerY:0);const B=q+(g?-v:v),H=I+(p?-N:N),U=-c[0]*q,F=-c[1]*I;let D=ac(B,k,O),j=ac(H,z,M);if(u){let A=0,K=0;g&&v<0?A=nr(_+v+U,u[0][0]):!g&&v>0&&(A=ar(_+B+U,u[1][0])),p&&N<0?K=nr(R+N+F,u[0][1]):!p&&N>0&&(K=ar(R+H+F,u[1][1])),D=Math.max(D,A),j=Math.max(j,K)}if(m){let A=0,K=0;g&&v>0?A=ar(_+v,m[0][0]):!g&&v<0&&(A=nr(_+B,m[1][0])),p&&N>0?K=ar(R+N,m[0][1]):!p&&N<0&&(K=nr(R+H,m[1][1])),D=Math.max(D,A),j=Math.max(j,K)}if(s){if(b){const A=ac(B/Y,z,M)*Y;if(D=Math.max(D,A),u){let K=0;!g&&!p||g&&!p&&w?K=ar(R+F+B/Y,u[1][1])*Y:K=nr(R+F+(g?v:-v)/Y,u[0][1])*Y,D=Math.max(D,K)}if(m){let K=0;!g&&!p||g&&!p&&w?K=nr(R+B/Y,m[1][1])*Y:K=ar(R+(g?v:-v)/Y,m[0][1])*Y,D=Math.max(D,K)}}if(x){const A=ac(H*Y,k,O)/Y;if(j=Math.max(j,A),u){let K=0;!g&&!p||p&&!g&&w?K=ar(_+H*Y+U,u[1][0])/Y:K=nr(_+(p?N:-N)*Y+U,u[0][0])/Y,j=Math.max(j,K)}if(m){let K=0;!g&&!p||p&&!g&&w?K=nr(_+H*Y,m[1][0])/Y:K=ar(_+(p?N:-N)*Y,m[0][0])/Y,j=Math.max(j,K)}}}N=N+(N<0?j:-j),v=v+(v<0?D:-D),s&&(w?B>H*Y?N=(gy(g,p)?-v:v)/Y:v=(gy(g,p)?-N:N)*Y:b?(N=v/Y,p=g):(v=N*Y,g=p));const S=g?_+v:_,P=p?R+N:R;return{width:q+(g?-v:v),height:I+(p?-N:N),x:c[0]*v*(g?-1:1)+S,y:c[1]*N*(p?-1:1)+P}}const d1={width:0,height:0,x:0,y:0},r3={...d1,pointerX:0,pointerY:0,aspectRatio:1};function i3(t){return[[0,0],[t.measured.width,t.measured.height]]}function o3(t,a,i){const o=a.position.x+t.position.x,s=a.position.y+t.position.y,c=t.measured.width??0,u=t.measured.height??0,m=i[0]*c,g=i[1]*u;return[[o-m,s-g],[o+c-m,s+u-g]]}function s3({domNode:t,nodeId:a,getStoreItems:i,onChange:o,onEnd:s}){const c=rn(t);let u={controlDirection:py("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function m({controlPosition:p,boundaries:b,keepAspectRatio:x,resizeDirection:w,onResizeStart:E,onResize:T,onResizeEnd:k,shouldResize:O}){let z={...d1},M={...r3};u={boundaries:b,resizeDirection:w,keepAspectRatio:x,controlDirection:py(p)};let _,R=null,q=[],I,Y,v,N=!1;const B=vx().on("start",H=>{const{nodeLookup:U,transform:F,snapGrid:D,snapToGrid:j,nodeOrigin:S,paneDomNode:P}=i();if(_=U.get(a),!_)return;R=P?.getBoundingClientRect()??null;const{xSnapped:A,ySnapped:K}=as(H.sourceEvent,{transform:F,snapGrid:D,snapToGrid:j,containerBounds:R});z={width:_.measured.width??0,height:_.measured.height??0,x:_.position.x??0,y:_.position.y??0},M={...z,pointerX:A,pointerY:K,aspectRatio:z.width/z.height},I=void 0,_.parentId&&(_.extent==="parent"||_.expandParent)&&(I=U.get(_.parentId),Y=I&&_.extent==="parent"?i3(I):void 0),q=[],v=void 0;for(const[X,G]of U)if(G.parentId===a&&(q.push({id:X,position:{...G.position},extent:G.extent}),G.extent==="parent"||G.expandParent)){const L=o3(G,_,G.origin??S);v?v=[[Math.min(L[0][0],v[0][0]),Math.min(L[0][1],v[0][1])],[Math.max(L[1][0],v[1][0]),Math.max(L[1][1],v[1][1])]]:v=L}E?.(H,{...z})}).on("drag",H=>{const{transform:U,snapGrid:F,snapToGrid:D,nodeOrigin:j}=i(),S=as(H.sourceEvent,{transform:U,snapGrid:F,snapToGrid:D,containerBounds:R}),P=[];if(!_)return;const{x:A,y:K,width:X,height:G}=z,L={},Z=_.origin??j,{width:Q,height:te,x:ie,y:oe}=a3(M,u.controlDirection,S,u.boundaries,u.keepAspectRatio,Z,Y,v),de=Q!==X,pe=te!==G,Ee=ie!==A&&de,ke=oe!==K&&pe;if(!Ee&&!ke&&!de&&!pe)return;if((Ee||ke||Z[0]===1||Z[1]===1)&&(L.x=Ee?ie:z.x,L.y=ke?oe:z.y,z.x=L.x,z.y=L.y,q.length>0)){const Te=ie-A,Ke=oe-K;for(const Ct of q)Ct.position={x:Ct.position.x-Te+Z[0]*(Q-X),y:Ct.position.y-Ke+Z[1]*(te-G)},P.push(Ct)}if((de||pe)&&(L.width=de&&(!u.resizeDirection||u.resizeDirection==="horizontal")?Q:z.width,L.height=pe&&(!u.resizeDirection||u.resizeDirection==="vertical")?te:z.height,z.width=L.width,z.height=L.height),I&&_.expandParent){const Te=Z[0]*(L.width??0);L.x&&L.x<Te&&(z.x=Te,M.x=M.x-(L.x-Te));const Ke=Z[1]*(L.height??0);L.y&&L.y<Ke&&(z.y=Ke,M.y=M.y-(L.y-Ke))}const xe=n3({width:z.width,prevWidth:X,height:z.height,prevHeight:G,affectsX:u.controlDirection.affectsX,affectsY:u.controlDirection.affectsY}),we={...z,direction:xe};O?.(H,we)!==!1&&(N=!0,T?.(H,we),o(L,P))}).on("end",H=>{N&&(k?.(H,{...z}),s?.({...z}),N=!1)});c.call(B)}function g(){c.on(".drag",null)}return{update:m,destroy:g}}var jf={exports:{}},Rf={},Df={exports:{}},Lf={};var yy;function l3(){if(yy)return Lf;yy=1;var t=ys();function a(x,w){return x===w&&(x!==0||1/x===1/w)||x!==x&&w!==w}var i=typeof Object.is=="function"?Object.is:a,o=t.useState,s=t.useEffect,c=t.useLayoutEffect,u=t.useDebugValue;function m(x,w){var E=w(),T=o({inst:{value:E,getSnapshot:w}}),k=T[0].inst,O=T[1];return c(function(){k.value=E,k.getSnapshot=w,g(k)&&O({inst:k})},[x,E,w]),s(function(){return g(k)&&O({inst:k}),x(function(){g(k)&&O({inst:k})})},[x]),u(E),E}function g(x){var w=x.getSnapshot;x=x.value;try{var E=w();return!i(x,E)}catch{return!0}}function p(x,w){return w()}var b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:m;return Lf.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:b,Lf}var xy;function c3(){return xy||(xy=1,Df.exports=l3()),Df.exports}var by;function u3(){if(by)return Rf;by=1;var t=ys(),a=c3();function i(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var o=typeof Object.is=="function"?Object.is:i,s=a.useSyncExternalStore,c=t.useRef,u=t.useEffect,m=t.useMemo,g=t.useDebugValue;return Rf.useSyncExternalStoreWithSelector=function(p,b,x,w,E){var T=c(null);if(T.current===null){var k={hasValue:!1,value:null};T.current=k}else k=T.current;T=m(function(){function z(I){if(!M){if(M=!0,_=I,I=w(I),E!==void 0&&k.hasValue){var Y=k.value;if(E(Y,I))return R=Y}return R=I}if(Y=R,o(_,I))return Y;var v=w(I);return E!==void 0&&E(Y,v)?(_=I,Y):(_=I,R=v)}var M=!1,_,R,q=x===void 0?null:x;return[function(){return z(b())},q===null?void 0:function(){return z(q())}]},[b,x,w,E]);var O=s(p,T[0],T[1]);return u(function(){k.hasValue=!0,k.value=O},[O]),g(O),O},Rf}var wy;function d3(){return wy||(wy=1,jf.exports=u3()),jf.exports}var f3=d3();const h3=Xy(f3),m3={},vy=t=>{let a;const i=new Set,o=(b,x)=>{const w=typeof b=="function"?b(a):b;if(!Object.is(w,a)){const E=a;a=x??(typeof w!="object"||w===null)?w:Object.assign({},a,w),i.forEach(T=>T(a,E))}},s=()=>a,g={setState:o,getState:s,getInitialState:()=>p,subscribe:b=>(i.add(b),()=>i.delete(b)),destroy:()=>{(m3?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},p=a=t(o,s,g);return g},p3=t=>t?vy(t):vy,{useDebugValue:g3}=Ui,{useSyncExternalStoreWithSelector:y3}=h3,x3=t=>t;function f1(t,a=x3,i){const o=y3(t.subscribe,t.getState,t.getServerState||t.getInitialState,a,i);return g3(o),o}const ky=(t,a)=>{const i=p3(t),o=(s,c=a)=>f1(i,s,c);return Object.assign(o,i),o},b3=(t,a)=>t?ky(t,a):ky;function it(t,a){if(Object.is(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;if(t instanceof Map&&a instanceof Map){if(t.size!==a.size)return!1;for(const[o,s]of t)if(!Object.is(s,a.get(o)))return!1;return!0}if(t instanceof Set&&a instanceof Set){if(t.size!==a.size)return!1;for(const o of t)if(!a.has(o))return!1;return!0}const i=Object.keys(t);if(i.length!==Object.keys(a).length)return!1;for(const o of i)if(!Object.prototype.hasOwnProperty.call(a,o)||!Object.is(t[o],a[o]))return!1;return!0}const Gc=J.createContext(null),w3=Gc.Provider,h1=qn.error001();function Be(t,a){const i=J.useContext(Gc);if(i===null)throw new Error(h1);return f1(i,t,a)}function ot(){const t=J.useContext(Gc);if(t===null)throw new Error(h1);return J.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const Cy={display:"none"},v3={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},m1="react-flow__node-desc",p1="react-flow__edge-desc",k3="react-flow__aria-live",C3=t=>t.ariaLiveMessage,S3=t=>t.ariaLabelConfig;function E3({rfId:t}){const a=Be(C3);return d.jsx("div",{id:`${k3}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:v3,children:a})}function N3({rfId:t,disableKeyboardA11y:a}){const i=Be(S3);return d.jsxs(d.Fragment,{children:[d.jsx("div",{id:`${m1}-${t}`,style:Cy,children:a?i["node.a11yDescription.default"]:i["node.a11yDescription.keyboardDisabled"]}),d.jsx("div",{id:`${p1}-${t}`,style:Cy,children:i["edge.a11yDescription.default"]}),!a&&d.jsx(E3,{rfId:t})]})}const Vc=J.forwardRef(({position:t="top-left",children:a,className:i,style:o,...s},c)=>{const u=`${t}`.split("-");return d.jsx("div",{className:bt(["react-flow__panel",i,...u]),style:o,ref:c,...s,children:a})});Vc.displayName="Panel";function T3({proOptions:t,position:a="bottom-right"}){return t?.hideAttribution?null:d.jsx(Vc,{position:a,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:d.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const _3=t=>{const a=[],i=[];for(const[,o]of t.nodeLookup)o.selected&&a.push(o.internals.userNode);for(const[,o]of t.edgeLookup)o.selected&&i.push(o);return{selectedNodes:a,selectedEdges:i}},rc=t=>t.id;function A3(t,a){return it(t.selectedNodes.map(rc),a.selectedNodes.map(rc))&&it(t.selectedEdges.map(rc),a.selectedEdges.map(rc))}function M3({onSelectionChange:t}){const a=ot(),{selectedNodes:i,selectedEdges:o}=Be(_3,A3);return J.useEffect(()=>{const s={nodes:i,edges:o};t?.(s),a.getState().onSelectionChangeHandlers.forEach(c=>c(s))},[i,o,t]),null}const j3=t=>!!t.onSelectionChangeHandlers;function R3({onSelectionChange:t}){const a=Be(j3);return t||a?d.jsx(M3,{onSelectionChange:t}):null}const g1=[0,0],D3={x:0,y:0,zoom:1},L3=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Sy=[...L3,"rfId"],O3=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),Ey={translateExtent:ds,nodeOrigin:g1,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function H3(t){const{setNodes:a,setEdges:i,setMinZoom:o,setMaxZoom:s,setTranslateExtent:c,setNodeExtent:u,reset:m,setDefaultNodesAndEdges:g}=Be(O3,it),p=ot();J.useEffect(()=>(g(t.defaultNodes,t.defaultEdges),()=>{b.current=Ey,m()}),[]);const b=J.useRef(Ey);return J.useEffect(()=>{for(const x of Sy){const w=t[x],E=b.current[x];w!==E&&(typeof t[x]>"u"||(x==="nodes"?a(w):x==="edges"?i(w):x==="minZoom"?o(w):x==="maxZoom"?s(w):x==="translateExtent"?c(w):x==="nodeExtent"?u(w):x==="ariaLabelConfig"?p.setState({ariaLabelConfig:bE(w)}):x==="fitView"?p.setState({fitViewQueued:w}):x==="fitViewOptions"?p.setState({fitViewOptions:w}):p.setState({[x]:w})))}b.current=t},Sy.map(x=>t[x])),null}function Ny(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function z3(t){const[a,i]=J.useState(t==="system"?null:t);return J.useEffect(()=>{if(t!=="system"){i(t);return}const o=Ny(),s=()=>i(o?.matches?"dark":"light");return s(),o?.addEventListener("change",s),()=>{o?.removeEventListener("change",s)}},[t]),a!==null?a:Ny()?.matches?"dark":"light"}const Ty=typeof document<"u"?document:null;function ps(t=null,a={target:Ty,actInsideInputWithModifier:!0}){const[i,o]=J.useState(!1),s=J.useRef(!1),c=J.useRef(new Set([])),[u,m]=J.useMemo(()=>{if(t!==null){const p=(Array.isArray(t)?t:[t]).filter(x=>typeof x=="string").map(x=>x.replace("+",`
`).replace(`

`,`
+`).split(`
`)),b=p.reduce((x,w)=>x.concat(...w),[]);return[p,b]}return[[],[]]},[t]);return J.useEffect(()=>{const g=a?.target??Ty,p=a?.actInsideInputWithModifier??!0;if(t!==null){const b=E=>{if(s.current=E.ctrlKey||E.metaKey||E.shiftKey||E.altKey,(!s.current||s.current&&!p)&&Xx(E))return!1;const k=Ay(E.code,m);if(c.current.add(E[k]),_y(u,c.current,!1)){const O=E.composedPath?.()?.[0]||E.target,z=O?.nodeName==="BUTTON"||O?.nodeName==="A";a.preventDefault!==!1&&(s.current||!z)&&E.preventDefault(),o(!0)}},x=E=>{const T=Ay(E.code,m);_y(u,c.current,!0)?(o(!1),c.current.clear()):c.current.delete(E[T]),E.key==="Meta"&&c.current.clear(),s.current=!1},w=()=>{c.current.clear(),o(!1)};return g?.addEventListener("keydown",b),g?.addEventListener("keyup",x),window.addEventListener("blur",w),window.addEventListener("contextmenu",w),()=>{g?.removeEventListener("keydown",b),g?.removeEventListener("keyup",x),window.removeEventListener("blur",w),window.removeEventListener("contextmenu",w)}}},[t,o]),i}function _y(t,a,i){return t.filter(o=>i||o.length===a.size).some(o=>o.every(s=>a.has(s)))}function Ay(t,a){return a.includes(t)?"code":"key"}const U3=()=>{const t=ot();return J.useMemo(()=>({zoomIn:a=>{const{panZoom:i}=t.getState();return i?i.scaleBy(1.2,{duration:a?.duration}):Promise.resolve(!1)},zoomOut:a=>{const{panZoom:i}=t.getState();return i?i.scaleBy(1/1.2,{duration:a?.duration}):Promise.resolve(!1)},zoomTo:(a,i)=>{const{panZoom:o}=t.getState();return o?o.scaleTo(a,{duration:i?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(a,i)=>{const{transform:[o,s,c],panZoom:u}=t.getState();return u?(await u.setViewport({x:a.x??o,y:a.y??s,zoom:a.zoom??c},i),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[a,i,o]=t.getState().transform;return{x:a,y:i,zoom:o}},setCenter:async(a,i,o)=>t.getState().setCenter(a,i,o),fitBounds:async(a,i)=>{const{width:o,height:s,minZoom:c,maxZoom:u,panZoom:m}=t.getState(),g=w0(a,o,s,c,u,i?.padding??.1);return m?(await m.setViewport(g,{duration:i?.duration,ease:i?.ease,interpolate:i?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(a,i={})=>{const{transform:o,snapGrid:s,snapToGrid:c,domNode:u}=t.getState();if(!u)return a;const{x:m,y:g}=u.getBoundingClientRect(),p={x:a.x-m,y:a.y-g},b=i.snapGrid??s,x=i.snapToGrid??c;return Ss(p,o,x,b)},flowToScreenPosition:a=>{const{transform:i,domNode:o}=t.getState();if(!o)return a;const{x:s,y:c}=o.getBoundingClientRect(),u=Ac(a,i);return{x:u.x+s,y:u.y+c}}}),[])};function y1(t,a){const i=[],o=new Map,s=[];for(const c of t)if(c.type==="add"){s.push(c);continue}else if(c.type==="remove"||c.type==="replace")o.set(c.id,[c]);else{const u=o.get(c.id);u?u.push(c):o.set(c.id,[c])}for(const c of a){const u=o.get(c.id);if(!u){i.push(c);continue}if(u[0].type==="remove")continue;if(u[0].type==="replace"){i.push({...u[0].item});continue}const m={...c};for(const g of u)P3(g,m);i.push(m)}return s.length&&s.forEach(c=>{c.index!==void 0?i.splice(c.index,0,{...c.item}):i.push({...c.item})}),i}function P3(t,a){switch(t.type){case"select":{a.selected=t.selected;break}case"position":{typeof t.position<"u"&&(a.position=t.position),typeof t.dragging<"u"&&(a.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(a.measured={...t.dimensions},t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(a.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(a.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(a.resizing=t.resizing);break}}}function x1(t,a){return y1(t,a)}function b1(t,a){return y1(t,a)}function Ir(t,a){return{id:t,type:"select",selected:a}}function Ii(t,a=new Set,i=!1){const o=[];for(const[s,c]of t){const u=a.has(s);!(c.selected===void 0&&!u)&&c.selected!==u&&(i&&(c.selected=u),o.push(Ir(c.id,u)))}return o}function My({items:t=[],lookup:a}){const i=[],o=new Map(t.map(s=>[s.id,s]));for(const[s,c]of t.entries()){const u=a.get(c.id),m=u?.internals?.userNode??u;m!==void 0&&m!==c&&i.push({id:c.id,item:c,type:"replace"}),m===void 0&&i.push({item:c,type:"add",index:s})}for(const[s]of a)o.get(s)===void 0&&i.push({id:s,type:"remove"});return i}function jy(t){return{id:t.id,type:"remove"}}const Ry=t=>cE(t),I3=t=>Bx(t);function w1(t){return J.forwardRef(t)}const B3=typeof window<"u"?J.useLayoutEffect:J.useEffect;function Dy(t){const[a,i]=J.useState(BigInt(0)),[o]=J.useState(()=>G3(()=>i(s=>s+BigInt(1))));return B3(()=>{const s=o.get();s.length&&(t(s),o.reset())},[a]),o}function G3(t){let a=[];return{get:()=>a,reset:()=>{a=[]},push:i=>{a.push(i),t()}}}const v1=J.createContext(null);function V3({children:t}){const a=ot(),i=J.useCallback(m=>{const{nodes:g=[],setNodes:p,hasDefaultNodes:b,onNodesChange:x,nodeLookup:w,fitViewQueued:E,onNodesChangeMiddlewareMap:T}=a.getState();let k=g;for(const z of m)k=typeof z=="function"?z(k):z;let O=My({items:k,lookup:w});for(const z of T.values())O=z(O);b&&p(k),O.length>0?x?.(O):E&&window.requestAnimationFrame(()=>{const{fitViewQueued:z,nodes:M,setNodes:_}=a.getState();z&&_(M)})},[]),o=Dy(i),s=J.useCallback(m=>{const{edges:g=[],setEdges:p,hasDefaultEdges:b,onEdgesChange:x,edgeLookup:w}=a.getState();let E=g;for(const T of m)E=typeof T=="function"?T(E):T;b?p(E):x&&x(My({items:E,lookup:w}))},[]),c=Dy(s),u=J.useMemo(()=>({nodeQueue:o,edgeQueue:c}),[]);return d.jsx(v1.Provider,{value:u,children:t})}function Y3(){const t=J.useContext(v1);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const q3=t=>!!t.panZoom;function T0(){const t=U3(),a=ot(),i=Y3(),o=Be(q3),s=J.useMemo(()=>{const c=x=>a.getState().nodeLookup.get(x),u=x=>{i.nodeQueue.push(x)},m=x=>{i.edgeQueue.push(x)},g=x=>{const{nodeLookup:w,nodeOrigin:E}=a.getState(),T=Ry(x)?x:w.get(x.id),k=T.parentId?Fx(T.position,T.measured,T.parentId,w,E):T.position,O={...T,position:k,width:T.measured?.width??T.width,height:T.measured?.height??T.height};return Zi(O)},p=(x,w,E={replace:!1})=>{u(T=>T.map(k=>{if(k.id===x){const O=typeof w=="function"?w(k):w;return E.replace&&Ry(O)?O:{...k,...O}}return k}))},b=(x,w,E={replace:!1})=>{m(T=>T.map(k=>{if(k.id===x){const O=typeof w=="function"?w(k):w;return E.replace&&I3(O)?O:{...k,...O}}return k}))};return{getNodes:()=>a.getState().nodes.map(x=>({...x})),getNode:x=>c(x)?.internals.userNode,getInternalNode:c,getEdges:()=>{const{edges:x=[]}=a.getState();return x.map(w=>({...w}))},getEdge:x=>a.getState().edgeLookup.get(x),setNodes:u,setEdges:m,addNodes:x=>{const w=Array.isArray(x)?x:[x];i.nodeQueue.push(E=>[...E,...w])},addEdges:x=>{const w=Array.isArray(x)?x:[x];i.edgeQueue.push(E=>[...E,...w])},toObject:()=>{const{nodes:x=[],edges:w=[],transform:E}=a.getState(),[T,k,O]=E;return{nodes:x.map(z=>({...z})),edges:w.map(z=>({...z})),viewport:{x:T,y:k,zoom:O}}},deleteElements:async({nodes:x=[],edges:w=[]})=>{const{nodes:E,edges:T,onNodesDelete:k,onEdgesDelete:O,triggerNodeChanges:z,triggerEdgeChanges:M,onDelete:_,onBeforeDelete:R}=a.getState(),{nodes:q,edges:I}=await mE({nodesToRemove:x,edgesToRemove:w,nodes:E,edges:T,onBeforeDelete:R}),Y=I.length>0,v=q.length>0;if(Y){const N=I.map(jy);O?.(I),M(N)}if(v){const N=q.map(jy);k?.(q),z(N)}return(v||Y)&&_?.({nodes:q,edges:I}),{deletedNodes:q,deletedEdges:I}},getIntersectingNodes:(x,w=!0,E)=>{const T=ry(x),k=T?x:g(x),O=E!==void 0;return k?(E||a.getState().nodes).filter(z=>{const M=a.getState().nodeLookup.get(z.id);if(M&&!T&&(z.id===x.id||!M.internals.positionAbsolute))return!1;const _=Zi(O?z:M),R=hs(_,k);return w&&R>0||R>=_.width*_.height||R>=k.width*k.height}):[]},isNodeIntersecting:(x,w,E=!0)=>{const k=ry(x)?x:g(x);if(!k)return!1;const O=hs(k,w);return E&&O>0||O>=w.width*w.height||O>=k.width*k.height},updateNode:p,updateNodeData:(x,w,E={replace:!1})=>{p(x,T=>{const k=typeof w=="function"?w(T):w;return E.replace?{...T,data:k}:{...T,data:{...T.data,...k}}},E)},updateEdge:b,updateEdgeData:(x,w,E={replace:!1})=>{b(x,T=>{const k=typeof w=="function"?w(T):w;return E.replace?{...T,data:k}:{...T,data:{...T.data,...k}}},E)},getNodesBounds:x=>{const{nodeLookup:w,nodeOrigin:E}=a.getState();return uE(x,{nodeLookup:w,nodeOrigin:E})},getHandleConnections:({type:x,id:w,nodeId:E})=>Array.from(a.getState().connectionLookup.get(`${E}-${x}${w?`-${w}`:""}`)?.values()??[]),getNodeConnections:({type:x,handleId:w,nodeId:E})=>Array.from(a.getState().connectionLookup.get(`${E}${x?w?`-${x}-${w}`:`-${x}`:""}`)?.values()??[]),fitView:async x=>{const w=a.getState().fitViewResolver??xE();return a.setState({fitViewQueued:!0,fitViewOptions:x,fitViewResolver:w}),i.nodeQueue.push(E=>[...E]),w.promise}}},[]);return J.useMemo(()=>({...s,...t,viewportInitialized:o}),[o])}const Ly=t=>t.selected,K3=typeof window<"u"?window:void 0;function F3({deleteKeyCode:t,multiSelectionKeyCode:a}){const i=ot(),{deleteElements:o}=T0(),s=ps(t,{actInsideInputWithModifier:!1}),c=ps(a,{target:K3});J.useEffect(()=>{if(s){const{edges:u,nodes:m}=i.getState();o({nodes:m.filter(Ly),edges:u.filter(Ly)}),i.setState({nodesSelectionActive:!1})}},[s]),J.useEffect(()=>{i.setState({multiSelectionActive:c})},[c])}function $3(t){const a=ot();J.useEffect(()=>{const i=()=>{if(!t.current||!(t.current.checkVisibility?.()??!0))return!1;const o=v0(t.current);(o.height===0||o.width===0)&&a.getState().onError?.("004",qn.error004()),a.setState({width:o.width||500,height:o.height||500})};if(t.current){i(),window.addEventListener("resize",i);const o=new ResizeObserver(()=>i());return o.observe(t.current),()=>{window.removeEventListener("resize",i),o&&t.current&&o.unobserve(t.current)}}},[])}const Yc={position:"absolute",width:"100%",height:"100%",top:0,left:0},X3=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function Z3({onPaneContextMenu:t,zoomOnScroll:a=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:s=.5,panOnScrollMode:c=Vr.Free,zoomOnDoubleClick:u=!0,panOnDrag:m=!0,defaultViewport:g,translateExtent:p,minZoom:b,maxZoom:x,zoomActivationKeyCode:w,preventScrolling:E=!0,children:T,noWheelClassName:k,noPanClassName:O,onViewportChange:z,isControlledViewport:M,paneClickDistance:_,selectionOnDrag:R}){const q=ot(),I=J.useRef(null),{userSelectionActive:Y,lib:v,connectionInProgress:N}=Be(X3,it),B=ps(w),H=J.useRef();$3(I);const U=J.useCallback(F=>{z?.({x:F[0],y:F[1],zoom:F[2]}),M||q.setState({transform:F})},[z,M]);return J.useEffect(()=>{if(I.current){H.current=t3({domNode:I.current,minZoom:b,maxZoom:x,translateExtent:p,viewport:g,onDraggingChange:S=>q.setState({paneDragging:S}),onPanZoomStart:(S,P)=>{const{onViewportChangeStart:A,onMoveStart:K}=q.getState();K?.(S,P),A?.(P)},onPanZoom:(S,P)=>{const{onViewportChange:A,onMove:K}=q.getState();K?.(S,P),A?.(P)},onPanZoomEnd:(S,P)=>{const{onViewportChangeEnd:A,onMoveEnd:K}=q.getState();K?.(S,P),A?.(P)}});const{x:F,y:D,zoom:j}=H.current.getViewport();return q.setState({panZoom:H.current,transform:[F,D,j],domNode:I.current.closest(".react-flow")}),()=>{H.current?.destroy()}}},[]),J.useEffect(()=>{H.current?.update({onPaneContextMenu:t,zoomOnScroll:a,zoomOnPinch:i,panOnScroll:o,panOnScrollSpeed:s,panOnScrollMode:c,zoomOnDoubleClick:u,panOnDrag:m,zoomActivationKeyPressed:B,preventScrolling:E,noPanClassName:O,userSelectionActive:Y,noWheelClassName:k,lib:v,onTransformChange:U,connectionInProgress:N,selectionOnDrag:R,paneClickDistance:_})},[t,a,i,o,s,c,u,m,B,E,O,Y,k,v,U,N,R,_]),d.jsx("div",{className:"react-flow__renderer",ref:I,style:Yc,children:T})}const Q3=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function W3(){const{userSelectionActive:t,userSelectionRect:a}=Be(Q3,it);return t&&a?d.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:a.width,height:a.height,transform:`translate(${a.x}px, ${a.y}px)`}}):null}const Of=(t,a)=>i=>{i.target===a.current&&t?.(i)},J3=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function eN({isSelecting:t,selectionKeyPressed:a,selectionMode:i=fs.Full,panOnDrag:o,paneClickDistance:s,selectionOnDrag:c,onSelectionStart:u,onSelectionEnd:m,onPaneClick:g,onPaneContextMenu:p,onPaneScroll:b,onPaneMouseEnter:x,onPaneMouseMove:w,onPaneMouseLeave:E,children:T}){const k=ot(),{userSelectionActive:O,elementsSelectable:z,dragging:M,connectionInProgress:_}=Be(J3,it),R=z&&(t||O),q=J.useRef(null),I=J.useRef(),Y=J.useRef(new Set),v=J.useRef(new Set),N=J.useRef(!1),B=A=>{if(N.current||_){N.current=!1;return}g?.(A),k.getState().resetSelectedElements(),k.setState({nodesSelectionActive:!1})},H=A=>{if(Array.isArray(o)&&o?.includes(2)){A.preventDefault();return}p?.(A)},U=b?A=>b(A):void 0,F=A=>{N.current&&(A.stopPropagation(),N.current=!1)},D=A=>{const{domNode:K}=k.getState();if(I.current=K?.getBoundingClientRect(),!I.current)return;const X=A.target===q.current;if(!X&&!!A.target.closest(".nokey")||!t||!(c&&X||a)||A.button!==0||!A.isPrimary)return;A.target?.setPointerCapture?.(A.pointerId),N.current=!1;const{x:Z,y:Q}=Dn(A.nativeEvent,I.current);k.setState({userSelectionRect:{width:0,height:0,startX:Z,startY:Q,x:Z,y:Q}}),X||(A.stopPropagation(),A.preventDefault())},j=A=>{const{userSelectionRect:K,transform:X,nodeLookup:G,edgeLookup:L,connectionLookup:Z,triggerNodeChanges:Q,triggerEdgeChanges:te,defaultEdgeOptions:ie,resetSelectedElements:oe}=k.getState();if(!I.current||!K)return;const{x:de,y:pe}=Dn(A.nativeEvent,I.current),{startX:Ee,startY:ke}=K;if(!N.current){const Ke=a?0:s;if(Math.hypot(de-Ee,pe-ke)<=Ke)return;oe(),u?.(A)}N.current=!0;const xe={startX:Ee,startY:ke,x:de<Ee?de:Ee,y:pe<ke?pe:ke,width:Math.abs(de-Ee),height:Math.abs(pe-ke)},we=Y.current,Ne=v.current;Y.current=new Set(b0(G,xe,X,i===fs.Partial,!0).map(Ke=>Ke.id)),v.current=new Set;const Te=ie?.selectable??!0;for(const Ke of Y.current){const Ct=Z.get(Ke);if(Ct)for(const{edgeId:bn}of Ct.values()){const Zt=L.get(bn);Zt&&(Zt.selectable??Te)&&v.current.add(bn)}}if(!iy(we,Y.current)){const Ke=Ii(G,Y.current,!0);Q(Ke)}if(!iy(Ne,v.current)){const Ke=Ii(L,v.current);te(Ke)}k.setState({userSelectionRect:xe,userSelectionActive:!0,nodesSelectionActive:!1})},S=A=>{A.button===0&&(A.target?.releasePointerCapture?.(A.pointerId),!O&&A.target===q.current&&k.getState().userSelectionRect&&B?.(A),k.setState({userSelectionActive:!1,userSelectionRect:null}),N.current&&(m?.(A),k.setState({nodesSelectionActive:Y.current.size>0})))},P=o===!0||Array.isArray(o)&&o.includes(0);return d.jsxs("div",{className:bt(["react-flow__pane",{draggable:P,dragging:M,selection:t}]),onClick:R?void 0:Of(B,q),onContextMenu:Of(H,q),onWheel:Of(U,q),onPointerEnter:R?void 0:x,onPointerMove:R?j:w,onPointerUp:R?S:void 0,onPointerDownCapture:R?D:void 0,onClickCapture:R?F:void 0,onPointerLeave:E,ref:q,style:Yc,children:[T,d.jsx(W3,{})]})}function Wf({id:t,store:a,unselect:i=!1,nodeRef:o}){const{addSelectedNodes:s,unselectNodesAndEdges:c,multiSelectionActive:u,nodeLookup:m,onError:g}=a.getState(),p=m.get(t);if(!p){g?.("012",qn.error012(t));return}a.setState({nodesSelectionActive:!1}),p.selected?(i||p.selected&&u)&&(c({nodes:[p],edges:[]}),requestAnimationFrame(()=>o?.current?.blur())):s([t])}function k1({nodeRef:t,disabled:a=!1,noDragClassName:i,handleSelector:o,nodeId:s,isSelectable:c,nodeClickDistance:u}){const m=ot(),[g,p]=J.useState(!1),b=J.useRef();return J.useEffect(()=>{b.current=BE({getStoreItems:()=>m.getState(),onNodeMouseDown:x=>{Wf({id:x,store:m,nodeRef:t})},onDragStart:()=>{p(!0)},onDragStop:()=>{p(!1)}})},[]),J.useEffect(()=>{if(a)b.current?.destroy();else if(t.current)return b.current?.update({noDragClassName:i,handleSelector:o,domNode:t.current,isSelectable:c,nodeId:s,nodeClickDistance:u}),()=>{b.current?.destroy()}},[i,o,a,c,t,s]),g}const tN=t=>a=>a.selected&&(a.draggable||t&&typeof a.draggable>"u");function C1(){const t=ot();return J.useCallback(i=>{const{nodeExtent:o,snapToGrid:s,snapGrid:c,nodesDraggable:u,onError:m,updateNodePositions:g,nodeLookup:p,nodeOrigin:b}=t.getState(),x=new Map,w=tN(u),E=s?c[0]:5,T=s?c[1]:5,k=i.direction.x*E*i.factor,O=i.direction.y*T*i.factor;for(const[,z]of p){if(!w(z))continue;let M={x:z.internals.positionAbsolute.x+k,y:z.internals.positionAbsolute.y+O};s&&(M=Cs(M,c));const{position:_,positionAbsolute:R}=Gx({nodeId:z.id,nextPosition:M,nodeLookup:p,nodeExtent:o,nodeOrigin:b,onError:m});z.position=_,z.internals.positionAbsolute=R,x.set(z.id,z)}g(x)},[])}const _0=J.createContext(null),nN=_0.Provider;_0.Consumer;const S1=()=>J.useContext(_0),aN=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),rN=(t,a,i)=>o=>{const{connectionClickStartHandle:s,connectionMode:c,connection:u}=o,{fromHandle:m,toHandle:g,isValid:p}=u,b=g?.nodeId===t&&g?.id===a&&g?.type===i;return{connectingFrom:m?.nodeId===t&&m?.id===a&&m?.type===i,connectingTo:b,clickConnecting:s?.nodeId===t&&s?.id===a&&s?.type===i,isPossibleEndHandle:c===$i.Strict?m?.type!==i:t!==m?.nodeId||a!==m?.id,connectionInProcess:!!m,clickConnectionInProcess:!!s,valid:b&&p}};function iN({type:t="source",position:a=ge.Top,isValidConnection:i,isConnectable:o=!0,isConnectableStart:s=!0,isConnectableEnd:c=!0,id:u,onConnect:m,children:g,className:p,onMouseDown:b,onTouchStart:x,...w},E){const T=u||null,k=t==="target",O=ot(),z=S1(),{connectOnClick:M,noPanClassName:_,rfId:R}=Be(aN,it),{connectingFrom:q,connectingTo:I,clickConnecting:Y,isPossibleEndHandle:v,connectionInProcess:N,clickConnectionInProcess:B,valid:H}=Be(rN(z,T,t),it);z||O.getState().onError?.("010",qn.error010());const U=j=>{const{defaultEdgeOptions:S,onConnect:P,hasDefaultEdges:A}=O.getState(),K={...S,...j};if(A){const{edges:X,setEdges:G}=O.getState();G(EE(K,X))}P?.(K),m?.(K)},F=j=>{if(!z)return;const S=Zx(j.nativeEvent);if(s&&(S&&j.button===0||!S)){const P=O.getState();Qf.onPointerDown(j.nativeEvent,{handleDomNode:j.currentTarget,autoPanOnConnect:P.autoPanOnConnect,connectionMode:P.connectionMode,connectionRadius:P.connectionRadius,domNode:P.domNode,nodeLookup:P.nodeLookup,lib:P.lib,isTarget:k,handleId:T,nodeId:z,flowId:P.rfId,panBy:P.panBy,cancelConnection:P.cancelConnection,onConnectStart:P.onConnectStart,onConnectEnd:P.onConnectEnd,updateConnection:P.updateConnection,onConnect:U,isValidConnection:i||P.isValidConnection,getTransform:()=>O.getState().transform,getFromHandle:()=>O.getState().connection.fromHandle,autoPanSpeed:P.autoPanSpeed,dragThreshold:P.connectionDragThreshold})}S?b?.(j):x?.(j)},D=j=>{const{onClickConnectStart:S,onClickConnectEnd:P,connectionClickStartHandle:A,connectionMode:K,isValidConnection:X,lib:G,rfId:L,nodeLookup:Z,connection:Q}=O.getState();if(!z||!A&&!s)return;if(!A){S?.(j.nativeEvent,{nodeId:z,handleId:T,handleType:t}),O.setState({connectionClickStartHandle:{nodeId:z,type:t,id:T}});return}const te=$x(j.target),ie=i||X,{connection:oe,isValid:de}=Qf.isValid(j.nativeEvent,{handle:{nodeId:z,id:T,type:t},connectionMode:K,fromNodeId:A.nodeId,fromHandleId:A.id||null,fromType:A.type,isValidConnection:ie,flowId:L,doc:te,lib:G,nodeLookup:Z});de&&oe&&U(oe);const pe=structuredClone(Q);delete pe.inProgress,pe.toPosition=pe.toHandle?pe.toHandle.position:null,P?.(j,pe),O.setState({connectionClickStartHandle:null})};return d.jsx("div",{"data-handleid":T,"data-nodeid":z,"data-handlepos":a,"data-id":`${R}-${z}-${T}-${t}`,className:bt(["react-flow__handle",`react-flow__handle-${a}`,"nodrag",_,p,{source:!k,target:k,connectable:o,connectablestart:s,connectableend:c,clickconnecting:Y,connectingfrom:q,connectingto:I,valid:H,connectionindicator:o&&(!N||v)&&(N||B?c:s)}]),onMouseDown:F,onTouchStart:F,onClick:M?D:void 0,ref:E,...w,children:g})}const We=J.memo(w1(iN));function oN({data:t,isConnectable:a,sourcePosition:i=ge.Bottom}){return d.jsxs(d.Fragment,{children:[t?.label,d.jsx(We,{type:"source",position:i,isConnectable:a})]})}function sN({data:t,isConnectable:a,targetPosition:i=ge.Top,sourcePosition:o=ge.Bottom}){return d.jsxs(d.Fragment,{children:[d.jsx(We,{type:"target",position:i,isConnectable:a}),t?.label,d.jsx(We,{type:"source",position:o,isConnectable:a})]})}function lN(){return null}function cN({data:t,isConnectable:a,targetPosition:i=ge.Top}){return d.jsxs(d.Fragment,{children:[d.jsx(We,{type:"target",position:i,isConnectable:a}),t?.label]})}const Mc={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Oy={input:oN,default:sN,output:cN,group:lN};function uN(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const dN=t=>{const{width:a,height:i,x:o,y:s}=ks(t.nodeLookup,{filter:c=>!!c.selected});return{width:Rn(a)?a:null,height:Rn(i)?i:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${o}px,${s}px)`}};function fN({onSelectionContextMenu:t,noPanClassName:a,disableKeyboardA11y:i}){const o=ot(),{width:s,height:c,transformString:u,userSelectionActive:m}=Be(dN,it),g=C1(),p=J.useRef(null);if(J.useEffect(()=>{i||p.current?.focus({preventScroll:!0})},[i]),k1({nodeRef:p}),m||!s||!c)return null;const b=t?w=>{const E=o.getState().nodes.filter(T=>T.selected);t(w,E)}:void 0,x=w=>{Object.prototype.hasOwnProperty.call(Mc,w.key)&&(w.preventDefault(),g({direction:Mc[w.key],factor:w.shiftKey?4:1}))};return d.jsx("div",{className:bt(["react-flow__nodesselection","react-flow__container",a]),style:{transform:u},children:d.jsx("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:b,tabIndex:i?void 0:-1,onKeyDown:i?void 0:x,style:{width:s,height:c}})})}const Hy=typeof window<"u"?window:void 0,hN=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function E1({children:t,onPaneClick:a,onPaneMouseEnter:i,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:c,onPaneScroll:u,paneClickDistance:m,deleteKeyCode:g,selectionKeyCode:p,selectionOnDrag:b,selectionMode:x,onSelectionStart:w,onSelectionEnd:E,multiSelectionKeyCode:T,panActivationKeyCode:k,zoomActivationKeyCode:O,elementsSelectable:z,zoomOnScroll:M,zoomOnPinch:_,panOnScroll:R,panOnScrollSpeed:q,panOnScrollMode:I,zoomOnDoubleClick:Y,panOnDrag:v,defaultViewport:N,translateExtent:B,minZoom:H,maxZoom:U,preventScrolling:F,onSelectionContextMenu:D,noWheelClassName:j,noPanClassName:S,disableKeyboardA11y:P,onViewportChange:A,isControlledViewport:K}){const{nodesSelectionActive:X,userSelectionActive:G}=Be(hN,it),L=ps(p,{target:Hy}),Z=ps(k,{target:Hy}),Q=Z||v,te=Z||R,ie=b&&Q!==!0,oe=L||G||ie;return F3({deleteKeyCode:g,multiSelectionKeyCode:T}),d.jsx(Z3,{onPaneContextMenu:c,elementsSelectable:z,zoomOnScroll:M,zoomOnPinch:_,panOnScroll:te,panOnScrollSpeed:q,panOnScrollMode:I,zoomOnDoubleClick:Y,panOnDrag:!L&&Q,defaultViewport:N,translateExtent:B,minZoom:H,maxZoom:U,zoomActivationKeyCode:O,preventScrolling:F,noWheelClassName:j,noPanClassName:S,onViewportChange:A,isControlledViewport:K,paneClickDistance:m,selectionOnDrag:ie,children:d.jsxs(eN,{onSelectionStart:w,onSelectionEnd:E,onPaneClick:a,onPaneMouseEnter:i,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:c,onPaneScroll:u,panOnDrag:Q,isSelecting:!!oe,selectionMode:x,selectionKeyPressed:L,paneClickDistance:m,selectionOnDrag:ie,children:[t,X&&d.jsx(fN,{onSelectionContextMenu:D,noPanClassName:S,disableKeyboardA11y:P})]})})}E1.displayName="FlowRenderer";const mN=J.memo(E1),pN=t=>a=>t?b0(a.nodeLookup,{x:0,y:0,width:a.width,height:a.height},a.transform,!0).map(i=>i.id):Array.from(a.nodeLookup.keys());function gN(t){return Be(J.useCallback(pN(t),[t]),it)}const yN=t=>t.updateNodeInternals;function xN(){const t=Be(yN),[a]=J.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(i=>{const o=new Map;i.forEach(s=>{const c=s.target.getAttribute("data-id");o.set(c,{id:c,nodeElement:s.target,force:!0})}),t(o)}));return J.useEffect(()=>()=>{a?.disconnect()},[a]),a}function bN({node:t,nodeType:a,hasDimensions:i,resizeObserver:o}){const s=ot(),c=J.useRef(null),u=J.useRef(null),m=J.useRef(t.sourcePosition),g=J.useRef(t.targetPosition),p=J.useRef(a),b=i&&!!t.internals.handleBounds;return J.useEffect(()=>{c.current&&!t.hidden&&(!b||u.current!==c.current)&&(u.current&&o?.unobserve(u.current),o?.observe(c.current),u.current=c.current)},[b,t.hidden]),J.useEffect(()=>()=>{u.current&&(o?.unobserve(u.current),u.current=null)},[]),J.useEffect(()=>{if(c.current){const x=p.current!==a,w=m.current!==t.sourcePosition,E=g.current!==t.targetPosition;(x||w||E)&&(p.current=a,m.current=t.sourcePosition,g.current=t.targetPosition,s.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:c.current,force:!0}]])))}},[t.id,a,t.sourcePosition,t.targetPosition]),c}function wN({id:t,onClick:a,onMouseEnter:i,onMouseMove:o,onMouseLeave:s,onContextMenu:c,onDoubleClick:u,nodesDraggable:m,elementsSelectable:g,nodesConnectable:p,nodesFocusable:b,resizeObserver:x,noDragClassName:w,noPanClassName:E,disableKeyboardA11y:T,rfId:k,nodeTypes:O,nodeClickDistance:z,onError:M}){const{node:_,internals:R,isParent:q}=Be(de=>{const pe=de.nodeLookup.get(t),Ee=de.parentLookup.has(t);return{node:pe,internals:pe.internals,isParent:Ee}},it);let I=_.type||"default",Y=O?.[I]||Oy[I];Y===void 0&&(M?.("003",qn.error003(I)),I="default",Y=O?.default||Oy.default);const v=!!(_.draggable||m&&typeof _.draggable>"u"),N=!!(_.selectable||g&&typeof _.selectable>"u"),B=!!(_.connectable||p&&typeof _.connectable>"u"),H=!!(_.focusable||b&&typeof _.focusable>"u"),U=ot(),F=Kx(_),D=bN({node:_,nodeType:I,hasDimensions:F,resizeObserver:x}),j=k1({nodeRef:D,disabled:_.hidden||!v,noDragClassName:w,handleSelector:_.dragHandle,nodeId:t,isSelectable:N,nodeClickDistance:z}),S=C1();if(_.hidden)return null;const P=Ea(_),A=uN(_),K=N||v||a||i||o||s,X=i?de=>i(de,{...R.userNode}):void 0,G=o?de=>o(de,{...R.userNode}):void 0,L=s?de=>s(de,{...R.userNode}):void 0,Z=c?de=>c(de,{...R.userNode}):void 0,Q=u?de=>u(de,{...R.userNode}):void 0,te=de=>{const{selectNodesOnDrag:pe,nodeDragThreshold:Ee}=U.getState();N&&(!pe||!v||Ee>0)&&Wf({id:t,store:U,nodeRef:D}),a&&a(de,{...R.userNode})},ie=de=>{if(!(Xx(de.nativeEvent)||T)){if(zx.includes(de.key)&&N){const pe=de.key==="Escape";Wf({id:t,store:U,unselect:pe,nodeRef:D})}else if(v&&_.selected&&Object.prototype.hasOwnProperty.call(Mc,de.key)){de.preventDefault();const{ariaLabelConfig:pe}=U.getState();U.setState({ariaLiveMessage:pe["node.a11yDescription.ariaLiveMessage"]({direction:de.key.replace("Arrow","").toLowerCase(),x:~~R.positionAbsolute.x,y:~~R.positionAbsolute.y})}),S({direction:Mc[de.key],factor:de.shiftKey?4:1})}}},oe=()=>{if(T||!D.current?.matches(":focus-visible"))return;const{transform:de,width:pe,height:Ee,autoPanOnNodeFocus:ke,setCenter:xe}=U.getState();if(!ke)return;b0(new Map([[t,_]]),{x:0,y:0,width:pe,height:Ee},de,!0).length>0||xe(_.position.x+P.width/2,_.position.y+P.height/2,{zoom:de[2]})};return d.jsx("div",{className:bt(["react-flow__node",`react-flow__node-${I}`,{[E]:v},_.className,{selected:_.selected,selectable:N,parent:q,draggable:v,dragging:j}]),ref:D,style:{zIndex:R.z,transform:`translate(${R.positionAbsolute.x}px,${R.positionAbsolute.y}px)`,pointerEvents:K?"all":"none",visibility:F?"visible":"hidden",..._.style,...A},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:X,onMouseMove:G,onMouseLeave:L,onContextMenu:Z,onClick:te,onDoubleClick:Q,onKeyDown:H?ie:void 0,tabIndex:H?0:void 0,onFocus:H?oe:void 0,role:_.ariaRole??(H?"group":void 0),"aria-roledescription":"node","aria-describedby":T?void 0:`${m1}-${k}`,"aria-label":_.ariaLabel,..._.domAttributes,children:d.jsx(nN,{value:t,children:d.jsx(Y,{id:t,data:_.data,type:I,positionAbsoluteX:R.positionAbsolute.x,positionAbsoluteY:R.positionAbsolute.y,selected:_.selected??!1,selectable:N,draggable:v,deletable:_.deletable??!0,isConnectable:B,sourcePosition:_.sourcePosition,targetPosition:_.targetPosition,dragging:j,dragHandle:_.dragHandle,zIndex:R.z,parentId:_.parentId,...P})})})}var vN=J.memo(wN);const kN=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function N1(t){const{nodesDraggable:a,nodesConnectable:i,nodesFocusable:o,elementsSelectable:s,onError:c}=Be(kN,it),u=gN(t.onlyRenderVisibleElements),m=xN();return d.jsx("div",{className:"react-flow__nodes",style:Yc,children:u.map(g=>d.jsx(vN,{id:g,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:m,nodesDraggable:a,nodesConnectable:i,nodesFocusable:o,elementsSelectable:s,nodeClickDistance:t.nodeClickDistance,onError:c},g))})}N1.displayName="NodeRenderer";const CN=J.memo(N1);function SN(t){return Be(J.useCallback(i=>{if(!t)return i.edges.map(s=>s.id);const o=[];if(i.width&&i.height)for(const s of i.edges){const c=i.nodeLookup.get(s.source),u=i.nodeLookup.get(s.target);c&&u&&kE({sourceNode:c,targetNode:u,width:i.width,height:i.height,transform:i.transform})&&o.push(s.id)}return o},[t]),it)}const EN=({color:t="none",strokeWidth:a=1})=>{const i={strokeWidth:a,...t&&{stroke:t}};return d.jsx("polyline",{className:"arrow",style:i,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},NN=({color:t="none",strokeWidth:a=1})=>{const i={strokeWidth:a,...t&&{stroke:t,fill:t}};return d.jsx("polyline",{className:"arrowclosed",style:i,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},zy={[Tc.Arrow]:EN,[Tc.ArrowClosed]:NN};function TN(t){const a=ot();return J.useMemo(()=>Object.prototype.hasOwnProperty.call(zy,t)?zy[t]:(a.getState().onError?.("009",qn.error009(t)),null),[t])}const _N=({id:t,type:a,color:i,width:o=12.5,height:s=12.5,markerUnits:c="strokeWidth",strokeWidth:u,orient:m="auto-start-reverse"})=>{const g=TN(a);return g?d.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${o}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:c,orient:m,refX:"0",refY:"0",children:d.jsx(g,{color:i,strokeWidth:u})}):null},T1=({defaultColor:t,rfId:a})=>{const i=Be(c=>c.edges),o=Be(c=>c.defaultEdgeOptions),s=J.useMemo(()=>ME(i,{id:a,defaultColor:t,defaultMarkerStart:o?.markerStart,defaultMarkerEnd:o?.markerEnd}),[i,o,a,t]);return s.length?d.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:d.jsx("defs",{children:s.map(c=>d.jsx(_N,{id:c.id,type:c.type,color:c.color,width:c.width,height:c.height,markerUnits:c.markerUnits,strokeWidth:c.strokeWidth,orient:c.orient},c.id))})}):null};T1.displayName="MarkerDefinitions";var AN=J.memo(T1);function _1({x:t,y:a,label:i,labelStyle:o,labelShowBg:s=!0,labelBgStyle:c,labelBgPadding:u=[2,4],labelBgBorderRadius:m=2,children:g,className:p,...b}){const[x,w]=J.useState({x:1,y:0,width:0,height:0}),E=bt(["react-flow__edge-textwrapper",p]),T=J.useRef(null);return J.useEffect(()=>{if(T.current){const k=T.current.getBBox();w({x:k.x,y:k.y,width:k.width,height:k.height})}},[i]),i?d.jsxs("g",{transform:`translate(${t-x.width/2} ${a-x.height/2})`,className:E,visibility:x.width?"visible":"hidden",...b,children:[s&&d.jsx("rect",{width:x.width+2*u[0],x:-u[0],y:-u[1],height:x.height+2*u[1],className:"react-flow__edge-textbg",style:c,rx:m,ry:m}),d.jsx("text",{className:"react-flow__edge-text",y:x.height/2,dy:"0.3em",ref:T,style:o,children:i}),g]}):null}_1.displayName="EdgeText";const MN=J.memo(_1);function qc({path:t,labelX:a,labelY:i,label:o,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:m,labelBgBorderRadius:g,interactionWidth:p=20,...b}){return d.jsxs(d.Fragment,{children:[d.jsx("path",{...b,d:t,fill:"none",className:bt(["react-flow__edge-path",b.className])}),p?d.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}):null,o&&Rn(a)&&Rn(i)?d.jsx(MN,{x:a,y:i,label:o,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:m,labelBgBorderRadius:g}):null]})}function Uy({pos:t,x1:a,y1:i,x2:o,y2:s}){return t===ge.Left||t===ge.Right?[.5*(a+o),i]:[a,.5*(i+s)]}function A1({sourceX:t,sourceY:a,sourcePosition:i=ge.Bottom,targetX:o,targetY:s,targetPosition:c=ge.Top}){const[u,m]=Uy({pos:i,x1:t,y1:a,x2:o,y2:s}),[g,p]=Uy({pos:c,x1:o,y1:s,x2:t,y2:a}),[b,x,w,E]=Qx({sourceX:t,sourceY:a,targetX:o,targetY:s,sourceControlX:u,sourceControlY:m,targetControlX:g,targetControlY:p});return[`M${t},${a} C${u},${m} ${g},${p} ${o},${s}`,b,x,w,E]}function M1(t){return J.memo(({id:a,sourceX:i,sourceY:o,targetX:s,targetY:c,sourcePosition:u,targetPosition:m,label:g,labelStyle:p,labelShowBg:b,labelBgStyle:x,labelBgPadding:w,labelBgBorderRadius:E,style:T,markerEnd:k,markerStart:O,interactionWidth:z})=>{const[M,_,R]=A1({sourceX:i,sourceY:o,sourcePosition:u,targetX:s,targetY:c,targetPosition:m}),q=t.isInternal?void 0:a;return d.jsx(qc,{id:q,path:M,labelX:_,labelY:R,label:g,labelStyle:p,labelShowBg:b,labelBgStyle:x,labelBgPadding:w,labelBgBorderRadius:E,style:T,markerEnd:k,markerStart:O,interactionWidth:z})})}const jN=M1({isInternal:!1}),j1=M1({isInternal:!0});jN.displayName="SimpleBezierEdge";j1.displayName="SimpleBezierEdgeInternal";function R1(t){return J.memo(({id:a,sourceX:i,sourceY:o,targetX:s,targetY:c,label:u,labelStyle:m,labelShowBg:g,labelBgStyle:p,labelBgPadding:b,labelBgBorderRadius:x,style:w,sourcePosition:E=ge.Bottom,targetPosition:T=ge.Top,markerEnd:k,markerStart:O,pathOptions:z,interactionWidth:M})=>{const[_,R,q]=$f({sourceX:i,sourceY:o,sourcePosition:E,targetX:s,targetY:c,targetPosition:T,borderRadius:z?.borderRadius,offset:z?.offset,stepPosition:z?.stepPosition}),I=t.isInternal?void 0:a;return d.jsx(qc,{id:I,path:_,labelX:R,labelY:q,label:u,labelStyle:m,labelShowBg:g,labelBgStyle:p,labelBgPadding:b,labelBgBorderRadius:x,style:w,markerEnd:k,markerStart:O,interactionWidth:M})})}const D1=R1({isInternal:!1}),L1=R1({isInternal:!0});D1.displayName="SmoothStepEdge";L1.displayName="SmoothStepEdgeInternal";function O1(t){return J.memo(({id:a,...i})=>{const o=t.isInternal?void 0:a;return d.jsx(D1,{...i,id:o,pathOptions:J.useMemo(()=>({borderRadius:0,offset:i.pathOptions?.offset}),[i.pathOptions?.offset])})})}const RN=O1({isInternal:!1}),H1=O1({isInternal:!0});RN.displayName="StepEdge";H1.displayName="StepEdgeInternal";function z1(t){return J.memo(({id:a,sourceX:i,sourceY:o,targetX:s,targetY:c,label:u,labelStyle:m,labelShowBg:g,labelBgStyle:p,labelBgPadding:b,labelBgBorderRadius:x,style:w,markerEnd:E,markerStart:T,interactionWidth:k})=>{const[O,z,M]=e1({sourceX:i,sourceY:o,targetX:s,targetY:c}),_=t.isInternal?void 0:a;return d.jsx(qc,{id:_,path:O,labelX:z,labelY:M,label:u,labelStyle:m,labelShowBg:g,labelBgStyle:p,labelBgPadding:b,labelBgBorderRadius:x,style:w,markerEnd:E,markerStart:T,interactionWidth:k})})}const DN=z1({isInternal:!1}),U1=z1({isInternal:!0});DN.displayName="StraightEdge";U1.displayName="StraightEdgeInternal";function P1(t){return J.memo(({id:a,sourceX:i,sourceY:o,targetX:s,targetY:c,sourcePosition:u=ge.Bottom,targetPosition:m=ge.Top,label:g,labelStyle:p,labelShowBg:b,labelBgStyle:x,labelBgPadding:w,labelBgBorderRadius:E,style:T,markerEnd:k,markerStart:O,pathOptions:z,interactionWidth:M})=>{const[_,R,q]=Wx({sourceX:i,sourceY:o,sourcePosition:u,targetX:s,targetY:c,targetPosition:m,curvature:z?.curvature}),I=t.isInternal?void 0:a;return d.jsx(qc,{id:I,path:_,labelX:R,labelY:q,label:g,labelStyle:p,labelShowBg:b,labelBgStyle:x,labelBgPadding:w,labelBgBorderRadius:E,style:T,markerEnd:k,markerStart:O,interactionWidth:M})})}const LN=P1({isInternal:!1}),I1=P1({isInternal:!0});LN.displayName="BezierEdge";I1.displayName="BezierEdgeInternal";const Py={default:I1,straight:U1,step:H1,smoothstep:L1,simplebezier:j1},Iy={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},ON=(t,a,i)=>i===ge.Left?t-a:i===ge.Right?t+a:t,HN=(t,a,i)=>i===ge.Top?t-a:i===ge.Bottom?t+a:t,By="react-flow__edgeupdater";function Gy({position:t,centerX:a,centerY:i,radius:o=10,onMouseDown:s,onMouseEnter:c,onMouseOut:u,type:m}){return d.jsx("circle",{onMouseDown:s,onMouseEnter:c,onMouseOut:u,className:bt([By,`${By}-${m}`]),cx:ON(a,o,t),cy:HN(i,o,t),r:o,stroke:"transparent",fill:"transparent"})}function zN({isReconnectable:t,reconnectRadius:a,edge:i,sourceX:o,sourceY:s,targetX:c,targetY:u,sourcePosition:m,targetPosition:g,onReconnect:p,onReconnectStart:b,onReconnectEnd:x,setReconnecting:w,setUpdateHover:E}){const T=ot(),k=(R,q)=>{if(R.button!==0)return;const{autoPanOnConnect:I,domNode:Y,isValidConnection:v,connectionMode:N,connectionRadius:B,lib:H,onConnectStart:U,onConnectEnd:F,cancelConnection:D,nodeLookup:j,rfId:S,panBy:P,updateConnection:A}=T.getState(),K=q.type==="target",X=(Z,Q)=>{w(!1),x?.(Z,i,q.type,Q)},G=Z=>p?.(i,Z),L=(Z,Q)=>{w(!0),b?.(R,i,q.type),U?.(Z,Q)};Qf.onPointerDown(R.nativeEvent,{autoPanOnConnect:I,connectionMode:N,connectionRadius:B,domNode:Y,handleId:q.id,nodeId:q.nodeId,nodeLookup:j,isTarget:K,edgeUpdaterType:q.type,lib:H,flowId:S,cancelConnection:D,panBy:P,isValidConnection:v,onConnect:G,onConnectStart:L,onConnectEnd:F,onReconnectEnd:X,updateConnection:A,getTransform:()=>T.getState().transform,getFromHandle:()=>T.getState().connection.fromHandle,dragThreshold:T.getState().connectionDragThreshold,handleDomNode:R.currentTarget})},O=R=>k(R,{nodeId:i.target,id:i.targetHandle??null,type:"target"}),z=R=>k(R,{nodeId:i.source,id:i.sourceHandle??null,type:"source"}),M=()=>E(!0),_=()=>E(!1);return d.jsxs(d.Fragment,{children:[(t===!0||t==="source")&&d.jsx(Gy,{position:m,centerX:o,centerY:s,radius:a,onMouseDown:O,onMouseEnter:M,onMouseOut:_,type:"source"}),(t===!0||t==="target")&&d.jsx(Gy,{position:g,centerX:c,centerY:u,radius:a,onMouseDown:z,onMouseEnter:M,onMouseOut:_,type:"target"})]})}function UN({id:t,edgesFocusable:a,edgesReconnectable:i,elementsSelectable:o,onClick:s,onDoubleClick:c,onContextMenu:u,onMouseEnter:m,onMouseMove:g,onMouseLeave:p,reconnectRadius:b,onReconnect:x,onReconnectStart:w,onReconnectEnd:E,rfId:T,edgeTypes:k,noPanClassName:O,onError:z,disableKeyboardA11y:M}){let _=Be(xe=>xe.edgeLookup.get(t));const R=Be(xe=>xe.defaultEdgeOptions);_=R?{...R,..._}:_;let q=_.type||"default",I=k?.[q]||Py[q];I===void 0&&(z?.("011",qn.error011(q)),q="default",I=k?.default||Py.default);const Y=!!(_.focusable||a&&typeof _.focusable>"u"),v=typeof x<"u"&&(_.reconnectable||i&&typeof _.reconnectable>"u"),N=!!(_.selectable||o&&typeof _.selectable>"u"),B=J.useRef(null),[H,U]=J.useState(!1),[F,D]=J.useState(!1),j=ot(),{zIndex:S,sourceX:P,sourceY:A,targetX:K,targetY:X,sourcePosition:G,targetPosition:L}=Be(J.useCallback(xe=>{const we=xe.nodeLookup.get(_.source),Ne=xe.nodeLookup.get(_.target);if(!we||!Ne)return{zIndex:_.zIndex,...Iy};const Te=AE({id:t,sourceNode:we,targetNode:Ne,sourceHandle:_.sourceHandle||null,targetHandle:_.targetHandle||null,connectionMode:xe.connectionMode,onError:z});return{zIndex:vE({selected:_.selected,zIndex:_.zIndex,sourceNode:we,targetNode:Ne,elevateOnSelect:xe.elevateEdgesOnSelect,zIndexMode:xe.zIndexMode}),...Te||Iy}},[_.source,_.target,_.sourceHandle,_.targetHandle,_.selected,_.zIndex]),it),Z=J.useMemo(()=>_.markerStart?`url('#${Xf(_.markerStart,T)}')`:void 0,[_.markerStart,T]),Q=J.useMemo(()=>_.markerEnd?`url('#${Xf(_.markerEnd,T)}')`:void 0,[_.markerEnd,T]);if(_.hidden||P===null||A===null||K===null||X===null)return null;const te=xe=>{const{addSelectedEdges:we,unselectNodesAndEdges:Ne,multiSelectionActive:Te}=j.getState();N&&(j.setState({nodesSelectionActive:!1}),_.selected&&Te?(Ne({nodes:[],edges:[_]}),B.current?.blur()):we([t])),s&&s(xe,_)},ie=c?xe=>{c(xe,{..._})}:void 0,oe=u?xe=>{u(xe,{..._})}:void 0,de=m?xe=>{m(xe,{..._})}:void 0,pe=g?xe=>{g(xe,{..._})}:void 0,Ee=p?xe=>{p(xe,{..._})}:void 0,ke=xe=>{if(!M&&zx.includes(xe.key)&&N){const{unselectNodesAndEdges:we,addSelectedEdges:Ne}=j.getState();xe.key==="Escape"?(B.current?.blur(),we({edges:[_]})):Ne([t])}};return d.jsx("svg",{style:{zIndex:S},children:d.jsxs("g",{className:bt(["react-flow__edge",`react-flow__edge-${q}`,_.className,O,{selected:_.selected,animated:_.animated,inactive:!N&&!s,updating:H,selectable:N}]),onClick:te,onDoubleClick:ie,onContextMenu:oe,onMouseEnter:de,onMouseMove:pe,onMouseLeave:Ee,onKeyDown:Y?ke:void 0,tabIndex:Y?0:void 0,role:_.ariaRole??(Y?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":_.ariaLabel===null?void 0:_.ariaLabel||`Edge from ${_.source} to ${_.target}`,"aria-describedby":Y?`${p1}-${T}`:void 0,ref:B,..._.domAttributes,children:[!F&&d.jsx(I,{id:t,source:_.source,target:_.target,type:_.type,selected:_.selected,animated:_.animated,selectable:N,deletable:_.deletable??!0,label:_.label,labelStyle:_.labelStyle,labelShowBg:_.labelShowBg,labelBgStyle:_.labelBgStyle,labelBgPadding:_.labelBgPadding,labelBgBorderRadius:_.labelBgBorderRadius,sourceX:P,sourceY:A,targetX:K,targetY:X,sourcePosition:G,targetPosition:L,data:_.data,style:_.style,sourceHandleId:_.sourceHandle,targetHandleId:_.targetHandle,markerStart:Z,markerEnd:Q,pathOptions:"pathOptions"in _?_.pathOptions:void 0,interactionWidth:_.interactionWidth}),v&&d.jsx(zN,{edge:_,isReconnectable:v,reconnectRadius:b,onReconnect:x,onReconnectStart:w,onReconnectEnd:E,sourceX:P,sourceY:A,targetX:K,targetY:X,sourcePosition:G,targetPosition:L,setUpdateHover:U,setReconnecting:D})]})})}var PN=J.memo(UN);const IN=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function B1({defaultMarkerColor:t,onlyRenderVisibleElements:a,rfId:i,edgeTypes:o,noPanClassName:s,onReconnect:c,onEdgeContextMenu:u,onEdgeMouseEnter:m,onEdgeMouseMove:g,onEdgeMouseLeave:p,onEdgeClick:b,reconnectRadius:x,onEdgeDoubleClick:w,onReconnectStart:E,onReconnectEnd:T,disableKeyboardA11y:k}){const{edgesFocusable:O,edgesReconnectable:z,elementsSelectable:M,onError:_}=Be(IN,it),R=SN(a);return d.jsxs("div",{className:"react-flow__edges",children:[d.jsx(AN,{defaultColor:t,rfId:i}),R.map(q=>d.jsx(PN,{id:q,edgesFocusable:O,edgesReconnectable:z,elementsSelectable:M,noPanClassName:s,onReconnect:c,onContextMenu:u,onMouseEnter:m,onMouseMove:g,onMouseLeave:p,onClick:b,reconnectRadius:x,onDoubleClick:w,onReconnectStart:E,onReconnectEnd:T,rfId:i,onError:_,edgeTypes:o,disableKeyboardA11y:k},q))]})}B1.displayName="EdgeRenderer";const BN=J.memo(B1),GN=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function VN({children:t}){const a=Be(GN);return d.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:a},children:t})}function YN(t){const a=T0(),i=J.useRef(!1);J.useEffect(()=>{!i.current&&a.viewportInitialized&&t&&(setTimeout(()=>t(a),1),i.current=!0)},[t,a.viewportInitialized])}const qN=t=>t.panZoom?.syncViewport;function KN(t){const a=Be(qN),i=ot();return J.useEffect(()=>{t&&(a?.(t),i.setState({transform:[t.x,t.y,t.zoom]}))},[t,a]),null}function FN(t){return t.connection.inProgress?{...t.connection,to:Ss(t.connection.to,t.transform)}:{...t.connection}}function $N(t){return FN}function XN(t){const a=$N();return Be(a,it)}const ZN=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function QN({containerStyle:t,style:a,type:i,component:o}){const{nodesConnectable:s,width:c,height:u,isValid:m,inProgress:g}=Be(ZN,it);return!(c&&s&&g)?null:d.jsx("svg",{style:t,width:c,height:u,className:"react-flow__connectionline react-flow__container",children:d.jsx("g",{className:bt(["react-flow__connection",Ix(m)]),children:d.jsx(G1,{style:a,type:i,CustomComponent:o,isValid:m})})})}const G1=({style:t,type:a=ir.Bezier,CustomComponent:i,isValid:o})=>{const{inProgress:s,from:c,fromNode:u,fromHandle:m,fromPosition:g,to:p,toNode:b,toHandle:x,toPosition:w,pointer:E}=XN();if(!s)return;if(i)return d.jsx(i,{connectionLineType:a,connectionLineStyle:t,fromNode:u,fromHandle:m,fromX:c.x,fromY:c.y,toX:p.x,toY:p.y,fromPosition:g,toPosition:w,connectionStatus:Ix(o),toNode:b,toHandle:x,pointer:E});let T="";const k={sourceX:c.x,sourceY:c.y,sourcePosition:g,targetX:p.x,targetY:p.y,targetPosition:w};switch(a){case ir.Bezier:[T]=Wx(k);break;case ir.SimpleBezier:[T]=A1(k);break;case ir.Step:[T]=$f({...k,borderRadius:0});break;case ir.SmoothStep:[T]=$f(k);break;default:[T]=e1(k)}return d.jsx("path",{d:T,fill:"none",className:"react-flow__connection-path",style:t})};G1.displayName="ConnectionLine";const WN={};function Vy(t=WN){J.useRef(t),ot(),J.useEffect(()=>{},[t])}function JN(){ot(),J.useRef(!1),J.useEffect(()=>{},[])}function V1({nodeTypes:t,edgeTypes:a,onInit:i,onNodeClick:o,onEdgeClick:s,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:m,onNodeMouseMove:g,onNodeMouseLeave:p,onNodeContextMenu:b,onSelectionContextMenu:x,onSelectionStart:w,onSelectionEnd:E,connectionLineType:T,connectionLineStyle:k,connectionLineComponent:O,connectionLineContainerStyle:z,selectionKeyCode:M,selectionOnDrag:_,selectionMode:R,multiSelectionKeyCode:q,panActivationKeyCode:I,zoomActivationKeyCode:Y,deleteKeyCode:v,onlyRenderVisibleElements:N,elementsSelectable:B,defaultViewport:H,translateExtent:U,minZoom:F,maxZoom:D,preventScrolling:j,defaultMarkerColor:S,zoomOnScroll:P,zoomOnPinch:A,panOnScroll:K,panOnScrollSpeed:X,panOnScrollMode:G,zoomOnDoubleClick:L,panOnDrag:Z,onPaneClick:Q,onPaneMouseEnter:te,onPaneMouseMove:ie,onPaneMouseLeave:oe,onPaneScroll:de,onPaneContextMenu:pe,paneClickDistance:Ee,nodeClickDistance:ke,onEdgeContextMenu:xe,onEdgeMouseEnter:we,onEdgeMouseMove:Ne,onEdgeMouseLeave:Te,reconnectRadius:Ke,onReconnect:Ct,onReconnectStart:bn,onReconnectEnd:Zt,noDragClassName:wn,noWheelClassName:Xn,noPanClassName:mr,disableKeyboardA11y:pr,nodeExtent:Nt,rfId:Xr,viewport:Zn,onViewportChange:Na}){return Vy(t),Vy(a),JN(),YN(i),KN(Zn),d.jsx(mN,{onPaneClick:Q,onPaneMouseEnter:te,onPaneMouseMove:ie,onPaneMouseLeave:oe,onPaneContextMenu:pe,onPaneScroll:de,paneClickDistance:Ee,deleteKeyCode:v,selectionKeyCode:M,selectionOnDrag:_,selectionMode:R,onSelectionStart:w,onSelectionEnd:E,multiSelectionKeyCode:q,panActivationKeyCode:I,zoomActivationKeyCode:Y,elementsSelectable:B,zoomOnScroll:P,zoomOnPinch:A,zoomOnDoubleClick:L,panOnScroll:K,panOnScrollSpeed:X,panOnScrollMode:G,panOnDrag:Z,defaultViewport:H,translateExtent:U,minZoom:F,maxZoom:D,onSelectionContextMenu:x,preventScrolling:j,noDragClassName:wn,noWheelClassName:Xn,noPanClassName:mr,disableKeyboardA11y:pr,onViewportChange:Na,isControlledViewport:!!Zn,children:d.jsxs(VN,{children:[d.jsx(BN,{edgeTypes:a,onEdgeClick:s,onEdgeDoubleClick:u,onReconnect:Ct,onReconnectStart:bn,onReconnectEnd:Zt,onlyRenderVisibleElements:N,onEdgeContextMenu:xe,onEdgeMouseEnter:we,onEdgeMouseMove:Ne,onEdgeMouseLeave:Te,reconnectRadius:Ke,defaultMarkerColor:S,noPanClassName:mr,disableKeyboardA11y:pr,rfId:Xr}),d.jsx(QN,{style:k,type:T,component:O,containerStyle:z}),d.jsx("div",{className:"react-flow__edgelabel-renderer"}),d.jsx(CN,{nodeTypes:t,onNodeClick:o,onNodeDoubleClick:c,onNodeMouseEnter:m,onNodeMouseMove:g,onNodeMouseLeave:p,onNodeContextMenu:b,nodeClickDistance:ke,onlyRenderVisibleElements:N,noPanClassName:mr,noDragClassName:wn,disableKeyboardA11y:pr,nodeExtent:Nt,rfId:Xr}),d.jsx("div",{className:"react-flow__viewport-portal"})]})})}V1.displayName="GraphView";const e4=J.memo(V1),Yy=({nodes:t,edges:a,defaultNodes:i,defaultEdges:o,width:s,height:c,fitView:u,fitViewOptions:m,minZoom:g=.5,maxZoom:p=2,nodeOrigin:b,nodeExtent:x,zIndexMode:w="basic"}={})=>{const E=new Map,T=new Map,k=new Map,O=new Map,z=o??a??[],M=i??t??[],_=b??[0,0],R=x??ds;a1(k,O,z);const q=Zf(M,E,T,{nodeOrigin:_,nodeExtent:R,zIndexMode:w});let I=[0,0,1];if(u&&s&&c){const Y=ks(E,{filter:H=>!!((H.width||H.initialWidth)&&(H.height||H.initialHeight))}),{x:v,y:N,zoom:B}=w0(Y,s,c,g,p,m?.padding??.1);I=[v,N,B]}return{rfId:"1",width:s??0,height:c??0,transform:I,nodes:M,nodesInitialized:q,nodeLookup:E,parentLookup:T,edges:z,edgeLookup:O,connectionLookup:k,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:i!==void 0,hasDefaultEdges:o!==void 0,panZoom:null,minZoom:g,maxZoom:p,translateExtent:ds,nodeExtent:R,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:$i.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:_,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:u??!1,fitViewOptions:m,fitViewResolver:null,connection:{...Px},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:pE,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Ux,zIndexMode:w,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},t4=({nodes:t,edges:a,defaultNodes:i,defaultEdges:o,width:s,height:c,fitView:u,fitViewOptions:m,minZoom:g,maxZoom:p,nodeOrigin:b,nodeExtent:x,zIndexMode:w})=>b3((E,T)=>{async function k(){const{nodeLookup:O,panZoom:z,fitViewOptions:M,fitViewResolver:_,width:R,height:q,minZoom:I,maxZoom:Y}=T();z&&(await hE({nodes:O,width:R,height:q,panZoom:z,minZoom:I,maxZoom:Y},M),_?.resolve(!0),E({fitViewResolver:null}))}return{...Yy({nodes:t,edges:a,width:s,height:c,fitView:u,fitViewOptions:m,minZoom:g,maxZoom:p,nodeOrigin:b,nodeExtent:x,defaultNodes:i,defaultEdges:o,zIndexMode:w}),setNodes:O=>{const{nodeLookup:z,parentLookup:M,nodeOrigin:_,elevateNodesOnSelect:R,fitViewQueued:q,zIndexMode:I}=T(),Y=Zf(O,z,M,{nodeOrigin:_,nodeExtent:x,elevateNodesOnSelect:R,checkEquality:!0,zIndexMode:I});q&&Y?(k(),E({nodes:O,nodesInitialized:Y,fitViewQueued:!1,fitViewOptions:void 0})):E({nodes:O,nodesInitialized:Y})},setEdges:O=>{const{connectionLookup:z,edgeLookup:M}=T();a1(z,M,O),E({edges:O})},setDefaultNodesAndEdges:(O,z)=>{if(O){const{setNodes:M}=T();M(O),E({hasDefaultNodes:!0})}if(z){const{setEdges:M}=T();M(z),E({hasDefaultEdges:!0})}},updateNodeInternals:O=>{const{triggerNodeChanges:z,nodeLookup:M,parentLookup:_,domNode:R,nodeOrigin:q,nodeExtent:I,debug:Y,fitViewQueued:v,zIndexMode:N}=T(),{changes:B,updatedInternals:H}=zE(O,M,_,R,q,I,N);H&&(DE(M,_,{nodeOrigin:q,nodeExtent:I,zIndexMode:N}),v?(k(),E({fitViewQueued:!1,fitViewOptions:void 0})):E({}),B?.length>0&&(Y&&console.log("React Flow: trigger node changes",B),z?.(B)))},updateNodePositions:(O,z=!1)=>{const M=[];let _=[];const{nodeLookup:R,triggerNodeChanges:q,connection:I,updateConnection:Y,onNodesChangeMiddlewareMap:v}=T();for(const[N,B]of O){const H=R.get(N),U=!!(H?.expandParent&&H?.parentId&&B?.position),F={id:N,type:"position",position:U?{x:Math.max(0,B.position.x),y:Math.max(0,B.position.y)}:B.position,dragging:z};if(H&&I.inProgress&&I.fromNode.id===H.id){const D=$r(H,I.fromHandle,ge.Left,!0);Y({...I,from:D})}U&&H.parentId&&M.push({id:N,parentId:H.parentId,rect:{...B.internals.positionAbsolute,width:B.measured.width??0,height:B.measured.height??0}}),_.push(F)}if(M.length>0){const{parentLookup:N,nodeOrigin:B}=T(),H=N0(M,R,N,B);_.push(...H)}for(const N of v.values())_=N(_);q(_)},triggerNodeChanges:O=>{const{onNodesChange:z,setNodes:M,nodes:_,hasDefaultNodes:R,debug:q}=T();if(O?.length){if(R){const I=x1(O,_);M(I)}q&&console.log("React Flow: trigger node changes",O),z?.(O)}},triggerEdgeChanges:O=>{const{onEdgesChange:z,setEdges:M,edges:_,hasDefaultEdges:R,debug:q}=T();if(O?.length){if(R){const I=b1(O,_);M(I)}q&&console.log("React Flow: trigger edge changes",O),z?.(O)}},addSelectedNodes:O=>{const{multiSelectionActive:z,edgeLookup:M,nodeLookup:_,triggerNodeChanges:R,triggerEdgeChanges:q}=T();if(z){const I=O.map(Y=>Ir(Y,!0));R(I);return}R(Ii(_,new Set([...O]),!0)),q(Ii(M))},addSelectedEdges:O=>{const{multiSelectionActive:z,edgeLookup:M,nodeLookup:_,triggerNodeChanges:R,triggerEdgeChanges:q}=T();if(z){const I=O.map(Y=>Ir(Y,!0));q(I);return}q(Ii(M,new Set([...O]))),R(Ii(_,new Set,!0))},unselectNodesAndEdges:({nodes:O,edges:z}={})=>{const{edges:M,nodes:_,nodeLookup:R,triggerNodeChanges:q,triggerEdgeChanges:I}=T(),Y=O||_,v=z||M,N=Y.map(H=>{const U=R.get(H.id);return U&&(U.selected=!1),Ir(H.id,!1)}),B=v.map(H=>Ir(H.id,!1));q(N),I(B)},setMinZoom:O=>{const{panZoom:z,maxZoom:M}=T();z?.setScaleExtent([O,M]),E({minZoom:O})},setMaxZoom:O=>{const{panZoom:z,minZoom:M}=T();z?.setScaleExtent([M,O]),E({maxZoom:O})},setTranslateExtent:O=>{T().panZoom?.setTranslateExtent(O),E({translateExtent:O})},resetSelectedElements:()=>{const{edges:O,nodes:z,triggerNodeChanges:M,triggerEdgeChanges:_,elementsSelectable:R}=T();if(!R)return;const q=z.reduce((Y,v)=>v.selected?[...Y,Ir(v.id,!1)]:Y,[]),I=O.reduce((Y,v)=>v.selected?[...Y,Ir(v.id,!1)]:Y,[]);M(q),_(I)},setNodeExtent:O=>{const{nodes:z,nodeLookup:M,parentLookup:_,nodeOrigin:R,elevateNodesOnSelect:q,nodeExtent:I,zIndexMode:Y}=T();O[0][0]===I[0][0]&&O[0][1]===I[0][1]&&O[1][0]===I[1][0]&&O[1][1]===I[1][1]||(Zf(z,M,_,{nodeOrigin:R,nodeExtent:O,elevateNodesOnSelect:q,checkEquality:!1,zIndexMode:Y}),E({nodeExtent:O}))},panBy:O=>{const{transform:z,width:M,height:_,panZoom:R,translateExtent:q}=T();return UE({delta:O,panZoom:R,transform:z,translateExtent:q,width:M,height:_})},setCenter:async(O,z,M)=>{const{width:_,height:R,maxZoom:q,panZoom:I}=T();if(!I)return Promise.resolve(!1);const Y=typeof M?.zoom<"u"?M.zoom:q;return await I.setViewport({x:_/2-O*Y,y:R/2-z*Y,zoom:Y},{duration:M?.duration,ease:M?.ease,interpolate:M?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{E({connection:{...Px}})},updateConnection:O=>{E({connection:O})},reset:()=>E({...Yy()})}},Object.is);function n4({initialNodes:t,initialEdges:a,defaultNodes:i,defaultEdges:o,initialWidth:s,initialHeight:c,initialMinZoom:u,initialMaxZoom:m,initialFitViewOptions:g,fitView:p,nodeOrigin:b,nodeExtent:x,zIndexMode:w,children:E}){const[T]=J.useState(()=>t4({nodes:t,edges:a,defaultNodes:i,defaultEdges:o,width:s,height:c,fitView:p,minZoom:u,maxZoom:m,fitViewOptions:g,nodeOrigin:b,nodeExtent:x,zIndexMode:w}));return d.jsx(w3,{value:T,children:d.jsx(V3,{children:E})})}function a4({children:t,nodes:a,edges:i,defaultNodes:o,defaultEdges:s,width:c,height:u,fitView:m,fitViewOptions:g,minZoom:p,maxZoom:b,nodeOrigin:x,nodeExtent:w,zIndexMode:E}){return J.useContext(Gc)?d.jsx(d.Fragment,{children:t}):d.jsx(n4,{initialNodes:a,initialEdges:i,defaultNodes:o,defaultEdges:s,initialWidth:c,initialHeight:u,fitView:m,initialFitViewOptions:g,initialMinZoom:p,initialMaxZoom:b,nodeOrigin:x,nodeExtent:w,zIndexMode:E,children:t})}const r4={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function i4({nodes:t,edges:a,defaultNodes:i,defaultEdges:o,className:s,nodeTypes:c,edgeTypes:u,onNodeClick:m,onEdgeClick:g,onInit:p,onMove:b,onMoveStart:x,onMoveEnd:w,onConnect:E,onConnectStart:T,onConnectEnd:k,onClickConnectStart:O,onClickConnectEnd:z,onNodeMouseEnter:M,onNodeMouseMove:_,onNodeMouseLeave:R,onNodeContextMenu:q,onNodeDoubleClick:I,onNodeDragStart:Y,onNodeDrag:v,onNodeDragStop:N,onNodesDelete:B,onEdgesDelete:H,onDelete:U,onSelectionChange:F,onSelectionDragStart:D,onSelectionDrag:j,onSelectionDragStop:S,onSelectionContextMenu:P,onSelectionStart:A,onSelectionEnd:K,onBeforeDelete:X,connectionMode:G,connectionLineType:L=ir.Bezier,connectionLineStyle:Z,connectionLineComponent:Q,connectionLineContainerStyle:te,deleteKeyCode:ie="Backspace",selectionKeyCode:oe="Shift",selectionOnDrag:de=!1,selectionMode:pe=fs.Full,panActivationKeyCode:Ee="Space",multiSelectionKeyCode:ke=ms()?"Meta":"Control",zoomActivationKeyCode:xe=ms()?"Meta":"Control",snapToGrid:we,snapGrid:Ne,onlyRenderVisibleElements:Te=!1,selectNodesOnDrag:Ke,nodesDraggable:Ct,autoPanOnNodeFocus:bn,nodesConnectable:Zt,nodesFocusable:wn,nodeOrigin:Xn=g1,edgesFocusable:mr,edgesReconnectable:pr,elementsSelectable:Nt=!0,defaultViewport:Xr=D3,minZoom:Zn=.5,maxZoom:Na=2,translateExtent:gr=ds,preventScrolling:Xc=!0,nodeExtent:Zr,defaultMarkerColor:Zc="#b1b1b7",zoomOnScroll:Qc=!0,zoomOnPinch:yr=!0,panOnScroll:Ht=!1,panOnScrollSpeed:Hn=.5,panOnScrollMode:zt=Vr.Free,zoomOnDoubleClick:Wc=!0,panOnDrag:Jc=!0,onPaneClick:eu,onPaneMouseEnter:Qr,onPaneMouseMove:Wr,onPaneMouseLeave:Jr,onPaneScroll:Qn,onPaneContextMenu:ei,paneClickDistance:xr=1,nodeClickDistance:tu=0,children:Ns,onReconnect:eo,onReconnectStart:br,onReconnectEnd:nu,onEdgeContextMenu:Ts,onEdgeDoubleClick:_s,onEdgeMouseEnter:As,onEdgeMouseMove:to,onEdgeMouseLeave:no,reconnectRadius:Ms=10,onNodesChange:js,onEdgesChange:zn,noDragClassName:wt="nodrag",noWheelClassName:Rt="nowheel",noPanClassName:Wn="nopan",fitView:ti,fitViewOptions:Rs,connectOnClick:au,attributionPosition:Ds,proOptions:wr,defaultEdgeOptions:ao,elevateNodesOnSelect:Ta=!0,elevateEdgesOnSelect:_a=!1,disableKeyboardA11y:Aa=!1,autoPanOnConnect:Ma,autoPanOnNodeDrag:ht,autoPanSpeed:Ls,connectionRadius:Os,isValidConnection:Jn,onError:ja,style:ru,id:ro,nodeDragThreshold:Hs,connectionDragThreshold:iu,viewport:ni,onViewportChange:ai,width:vn,height:Pt,colorMode:zs="light",debug:ou,onScroll:ri,ariaLabelConfig:Us,zIndexMode:vr="basic",...su},It){const kr=ro||"1",Ps=z3(zs),io=J.useCallback(ea=>{ea.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),ri?.(ea)},[ri]);return d.jsx("div",{"data-testid":"rf__wrapper",...su,onScroll:io,style:{...ru,...r4},ref:It,className:bt(["react-flow",s,Ps]),id:ro,role:"application",children:d.jsxs(a4,{nodes:t,edges:a,width:vn,height:Pt,fitView:ti,fitViewOptions:Rs,minZoom:Zn,maxZoom:Na,nodeOrigin:Xn,nodeExtent:Zr,zIndexMode:vr,children:[d.jsx(e4,{onInit:p,onNodeClick:m,onEdgeClick:g,onNodeMouseEnter:M,onNodeMouseMove:_,onNodeMouseLeave:R,onNodeContextMenu:q,onNodeDoubleClick:I,nodeTypes:c,edgeTypes:u,connectionLineType:L,connectionLineStyle:Z,connectionLineComponent:Q,connectionLineContainerStyle:te,selectionKeyCode:oe,selectionOnDrag:de,selectionMode:pe,deleteKeyCode:ie,multiSelectionKeyCode:ke,panActivationKeyCode:Ee,zoomActivationKeyCode:xe,onlyRenderVisibleElements:Te,defaultViewport:Xr,translateExtent:gr,minZoom:Zn,maxZoom:Na,preventScrolling:Xc,zoomOnScroll:Qc,zoomOnPinch:yr,zoomOnDoubleClick:Wc,panOnScroll:Ht,panOnScrollSpeed:Hn,panOnScrollMode:zt,panOnDrag:Jc,onPaneClick:eu,onPaneMouseEnter:Qr,onPaneMouseMove:Wr,onPaneMouseLeave:Jr,onPaneScroll:Qn,onPaneContextMenu:ei,paneClickDistance:xr,nodeClickDistance:tu,onSelectionContextMenu:P,onSelectionStart:A,onSelectionEnd:K,onReconnect:eo,onReconnectStart:br,onReconnectEnd:nu,onEdgeContextMenu:Ts,onEdgeDoubleClick:_s,onEdgeMouseEnter:As,onEdgeMouseMove:to,onEdgeMouseLeave:no,reconnectRadius:Ms,defaultMarkerColor:Zc,noDragClassName:wt,noWheelClassName:Rt,noPanClassName:Wn,rfId:kr,disableKeyboardA11y:Aa,nodeExtent:Zr,viewport:ni,onViewportChange:ai}),d.jsx(H3,{nodes:t,edges:a,defaultNodes:i,defaultEdges:o,onConnect:E,onConnectStart:T,onConnectEnd:k,onClickConnectStart:O,onClickConnectEnd:z,nodesDraggable:Ct,autoPanOnNodeFocus:bn,nodesConnectable:Zt,nodesFocusable:wn,edgesFocusable:mr,edgesReconnectable:pr,elementsSelectable:Nt,elevateNodesOnSelect:Ta,elevateEdgesOnSelect:_a,minZoom:Zn,maxZoom:Na,nodeExtent:Zr,onNodesChange:js,onEdgesChange:zn,snapToGrid:we,snapGrid:Ne,connectionMode:G,translateExtent:gr,connectOnClick:au,defaultEdgeOptions:ao,fitView:ti,fitViewOptions:Rs,onNodesDelete:B,onEdgesDelete:H,onDelete:U,onNodeDragStart:Y,onNodeDrag:v,onNodeDragStop:N,onSelectionDrag:j,onSelectionDragStart:D,onSelectionDragStop:S,onMove:b,onMoveStart:x,onMoveEnd:w,noPanClassName:Wn,nodeOrigin:Xn,rfId:kr,autoPanOnConnect:Ma,autoPanOnNodeDrag:ht,autoPanSpeed:Ls,onError:ja,connectionRadius:Os,isValidConnection:Jn,selectNodesOnDrag:Ke,nodeDragThreshold:Hs,connectionDragThreshold:iu,onBeforeDelete:X,debug:ou,ariaLabelConfig:Us,zIndexMode:vr}),d.jsx(R3,{onSelectionChange:F}),Ns,d.jsx(T3,{proOptions:wr,position:Ds}),d.jsx(N3,{rfId:kr,disableKeyboardA11y:Aa})]})})}var o4=w1(i4);function s4(t){const[a,i]=J.useState(t),o=J.useCallback(s=>i(c=>x1(s,c)),[]);return[a,i,o]}function l4(t){const[a,i]=J.useState(t),o=J.useCallback(s=>i(c=>b1(s,c)),[]);return[a,i,o]}function c4({dimensions:t,lineWidth:a,variant:i,className:o}){return d.jsx("path",{strokeWidth:a,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:bt(["react-flow__background-pattern",i,o])})}function u4({radius:t,className:a}){return d.jsx("circle",{cx:t,cy:t,r:t,className:bt(["react-flow__background-pattern","dots",a])})}var ur;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(ur||(ur={}));const d4={[ur.Dots]:1,[ur.Lines]:1,[ur.Cross]:6},f4=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Y1({id:t,variant:a=ur.Dots,gap:i=20,size:o,lineWidth:s=1,offset:c=0,color:u,bgColor:m,style:g,className:p,patternClassName:b}){const x=J.useRef(null),{transform:w,patternId:E}=Be(f4,it),T=o||d4[a],k=a===ur.Dots,O=a===ur.Cross,z=Array.isArray(i)?i:[i,i],M=[z[0]*w[2]||1,z[1]*w[2]||1],_=T*w[2],R=Array.isArray(c)?c:[c,c],q=O?[_,_]:M,I=[R[0]*w[2]||1+q[0]/2,R[1]*w[2]||1+q[1]/2],Y=`${E}${t||""}`;return d.jsxs("svg",{className:bt(["react-flow__background",p]),style:{...g,...Yc,"--xy-background-color-props":m,"--xy-background-pattern-color-props":u},ref:x,"data-testid":"rf__background",children:[d.jsx("pattern",{id:Y,x:w[0]%M[0],y:w[1]%M[1],width:M[0],height:M[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${I[0]},-${I[1]})`,children:k?d.jsx(u4,{radius:_/2,className:b}):d.jsx(c4,{dimensions:q,lineWidth:s,variant:a,className:b})}),d.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${Y})`})]})}Y1.displayName="Background";const h4=J.memo(Y1);function m4(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:d.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function p4(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:d.jsx("path",{d:"M0 0h32v4.2H0z"})})}function g4(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:d.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function y4(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:d.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function x4(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:d.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ic({children:t,className:a,...i}){return d.jsx("button",{type:"button",className:bt(["react-flow__controls-button",a]),...i,children:t})}const b4=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function q1({style:t,showZoom:a=!0,showFitView:i=!0,showInteractive:o=!0,fitViewOptions:s,onZoomIn:c,onZoomOut:u,onFitView:m,onInteractiveChange:g,className:p,children:b,position:x="bottom-left",orientation:w="vertical","aria-label":E}){const T=ot(),{isInteractive:k,minZoomReached:O,maxZoomReached:z,ariaLabelConfig:M}=Be(b4,it),{zoomIn:_,zoomOut:R,fitView:q}=T0(),I=()=>{_(),c?.()},Y=()=>{R(),u?.()},v=()=>{q(s),m?.()},N=()=>{T.setState({nodesDraggable:!k,nodesConnectable:!k,elementsSelectable:!k}),g?.(!k)},B=w==="horizontal"?"horizontal":"vertical";return d.jsxs(Vc,{className:bt(["react-flow__controls",B,p]),position:x,style:t,"data-testid":"rf__controls","aria-label":E??M["controls.ariaLabel"],children:[a&&d.jsxs(d.Fragment,{children:[d.jsx(ic,{onClick:I,className:"react-flow__controls-zoomin",title:M["controls.zoomIn.ariaLabel"],"aria-label":M["controls.zoomIn.ariaLabel"],disabled:z,children:d.jsx(m4,{})}),d.jsx(ic,{onClick:Y,className:"react-flow__controls-zoomout",title:M["controls.zoomOut.ariaLabel"],"aria-label":M["controls.zoomOut.ariaLabel"],disabled:O,children:d.jsx(p4,{})})]}),i&&d.jsx(ic,{className:"react-flow__controls-fitview",onClick:v,title:M["controls.fitView.ariaLabel"],"aria-label":M["controls.fitView.ariaLabel"],children:d.jsx(g4,{})}),o&&d.jsx(ic,{className:"react-flow__controls-interactive",onClick:N,title:M["controls.interactive.ariaLabel"],"aria-label":M["controls.interactive.ariaLabel"],children:k?d.jsx(x4,{}):d.jsx(y4,{})}),b]})}q1.displayName="Controls";const w4=J.memo(q1);function v4({id:t,x:a,y:i,width:o,height:s,style:c,color:u,strokeColor:m,strokeWidth:g,className:p,borderRadius:b,shapeRendering:x,selected:w,onClick:E}){const{background:T,backgroundColor:k}=c||{},O=u||T||k;return d.jsx("rect",{className:bt(["react-flow__minimap-node",{selected:w},p]),x:a,y:i,rx:b,ry:b,width:o,height:s,style:{fill:O,stroke:m,strokeWidth:g},shapeRendering:x,onClick:E?z=>E(z,t):void 0})}const k4=J.memo(v4),C4=t=>t.nodes.map(a=>a.id),Hf=t=>t instanceof Function?t:()=>t;function S4({nodeStrokeColor:t,nodeColor:a,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:c=k4,onClick:u}){const m=Be(C4,it),g=Hf(a),p=Hf(t),b=Hf(i),x=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return d.jsx(d.Fragment,{children:m.map(w=>d.jsx(N4,{id:w,nodeColorFunc:g,nodeStrokeColorFunc:p,nodeClassNameFunc:b,nodeBorderRadius:o,nodeStrokeWidth:s,NodeComponent:c,onClick:u,shapeRendering:x},w))})}function E4({id:t,nodeColorFunc:a,nodeStrokeColorFunc:i,nodeClassNameFunc:o,nodeBorderRadius:s,nodeStrokeWidth:c,shapeRendering:u,NodeComponent:m,onClick:g}){const{node:p,x:b,y:x,width:w,height:E}=Be(T=>{const{internals:k}=T.nodeLookup.get(t),O=k.userNode,{x:z,y:M}=k.positionAbsolute,{width:_,height:R}=Ea(O);return{node:O,x:z,y:M,width:_,height:R}},it);return!p||p.hidden||!Kx(p)?null:d.jsx(m,{x:b,y:x,width:w,height:E,style:p.style,selected:!!p.selected,className:o(p),color:a(p),borderRadius:s,strokeColor:i(p),strokeWidth:c,shapeRendering:u,onClick:g,id:p.id})}const N4=J.memo(E4);var T4=J.memo(S4);const _4=200,A4=150,M4=t=>!t.hidden,j4=t=>{const a={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:a,boundingRect:t.nodeLookup.size>0?qx(ks(t.nodeLookup,{filter:M4}),a):a,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},R4="react-flow__minimap-desc";function K1({style:t,className:a,nodeStrokeColor:i,nodeColor:o,nodeClassName:s="",nodeBorderRadius:c=5,nodeStrokeWidth:u,nodeComponent:m,bgColor:g,maskColor:p,maskStrokeColor:b,maskStrokeWidth:x,position:w="bottom-right",onClick:E,onNodeClick:T,pannable:k=!1,zoomable:O=!1,ariaLabel:z,inversePan:M,zoomStep:_=1,offsetScale:R=5}){const q=ot(),I=J.useRef(null),{boundingRect:Y,viewBB:v,rfId:N,panZoom:B,translateExtent:H,flowWidth:U,flowHeight:F,ariaLabelConfig:D}=Be(j4,it),j=t?.width??_4,S=t?.height??A4,P=Y.width/j,A=Y.height/S,K=Math.max(P,A),X=K*j,G=K*S,L=R*K,Z=Y.x-(X-Y.width)/2-L,Q=Y.y-(G-Y.height)/2-L,te=X+L*2,ie=G+L*2,oe=`${R4}-${N}`,de=J.useRef(0),pe=J.useRef();de.current=K,J.useEffect(()=>{if(I.current&&B)return pe.current=FE({domNode:I.current,panZoom:B,getTransform:()=>q.getState().transform,getViewScale:()=>de.current}),()=>{pe.current?.destroy()}},[B]),J.useEffect(()=>{pe.current?.update({translateExtent:H,width:U,height:F,inversePan:M,pannable:k,zoomStep:_,zoomable:O})},[k,O,M,_,H,U,F]);const Ee=E?we=>{const[Ne,Te]=pe.current?.pointer(we)||[0,0];E(we,{x:Ne,y:Te})}:void 0,ke=T?J.useCallback((we,Ne)=>{const Te=q.getState().nodeLookup.get(Ne).internals.userNode;T(we,Te)},[]):void 0,xe=z??D["minimap.ariaLabel"];return d.jsx(Vc,{position:w,style:{...t,"--xy-minimap-background-color-props":typeof g=="string"?g:void 0,"--xy-minimap-mask-background-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-color-props":typeof b=="string"?b:void 0,"--xy-minimap-mask-stroke-width-props":typeof x=="number"?x*K:void 0,"--xy-minimap-node-background-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-width-props":typeof u=="number"?u:void 0},className:bt(["react-flow__minimap",a]),"data-testid":"rf__minimap",children:d.jsxs("svg",{width:j,height:S,viewBox:`${Z} ${Q} ${te} ${ie}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":oe,ref:I,onClick:Ee,children:[xe&&d.jsx("title",{id:oe,children:xe}),d.jsx(T4,{onClick:ke,nodeColor:o,nodeStrokeColor:i,nodeBorderRadius:c,nodeClassName:s,nodeStrokeWidth:u,nodeComponent:m}),d.jsx("path",{className:"react-flow__minimap-mask",d:`M${Z-L},${Q-L}h${te+L*2}v${ie+L*2}h${-te-L*2}z
        M${v.x},${v.y}h${v.width}v${v.height}h${-v.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}K1.displayName="MiniMap";J.memo(K1);const D4=t=>a=>t?`${Math.max(1/a.transform[2],1)}`:void 0,L4={[Wi.Line]:"right",[Wi.Handle]:"bottom-right"};function O4({nodeId:t,position:a,variant:i=Wi.Handle,className:o,style:s=void 0,children:c,color:u,minWidth:m=10,minHeight:g=10,maxWidth:p=Number.MAX_VALUE,maxHeight:b=Number.MAX_VALUE,keepAspectRatio:x=!1,resizeDirection:w,autoScale:E=!0,shouldResize:T,onResizeStart:k,onResize:O,onResizeEnd:z}){const M=S1(),_=typeof t=="string"?t:M,R=ot(),q=J.useRef(null),I=i===Wi.Handle,Y=Be(J.useCallback(D4(I&&E),[I,E]),it),v=J.useRef(null),N=a??L4[i];J.useEffect(()=>{if(!(!q.current||!_))return v.current||(v.current=s3({domNode:q.current,nodeId:_,getStoreItems:()=>{const{nodeLookup:H,transform:U,snapGrid:F,snapToGrid:D,nodeOrigin:j,domNode:S}=R.getState();return{nodeLookup:H,transform:U,snapGrid:F,snapToGrid:D,nodeOrigin:j,paneDomNode:S}},onChange:(H,U)=>{const{triggerNodeChanges:F,nodeLookup:D,parentLookup:j,nodeOrigin:S}=R.getState(),P=[],A={x:H.x,y:H.y},K=D.get(_);if(K&&K.expandParent&&K.parentId){const X=K.origin??S,G=H.width??K.measured.width??0,L=H.height??K.measured.height??0,Z={id:K.id,parentId:K.parentId,rect:{width:G,height:L,...Fx({x:H.x??K.position.x,y:H.y??K.position.y},{width:G,height:L},K.parentId,D,X)}},Q=N0([Z],D,j,S);P.push(...Q),A.x=H.x?Math.max(X[0]*G,H.x):void 0,A.y=H.y?Math.max(X[1]*L,H.y):void 0}if(A.x!==void 0&&A.y!==void 0){const X={id:_,type:"position",position:{...A}};P.push(X)}if(H.width!==void 0&&H.height!==void 0){const G={id:_,type:"dimensions",resizing:!0,setAttributes:w?w==="horizontal"?"width":"height":!0,dimensions:{width:H.width,height:H.height}};P.push(G)}for(const X of U){const G={...X,type:"position"};P.push(G)}F(P)},onEnd:({width:H,height:U})=>{const F={id:_,type:"dimensions",resizing:!1,dimensions:{width:H,height:U}};R.getState().triggerNodeChanges([F])}})),v.current.update({controlPosition:N,boundaries:{minWidth:m,minHeight:g,maxWidth:p,maxHeight:b},keepAspectRatio:x,resizeDirection:w,onResizeStart:k,onResize:O,onResizeEnd:z,shouldResize:T}),()=>{v.current?.destroy()}},[N,m,g,p,b,x,k,O,z,T]);const B=N.split("-");return d.jsx("div",{className:bt(["react-flow__resize-control","nodrag",...B,i,o]),ref:q,style:{...s,scale:Y,...u&&{[I?"backgroundColor":"borderColor"]:u}},children:c})}J.memo(O4);const H4=(t,a,i)=>{const{effectType:o,displayFormat:s}=t;if(s)return s.type==="generator_exp"?`Current: ${ve(Math.pow(2,i))}`:s.type==="generator_mult"?`Current: ${ve(Math.pow(10,i))}x`:s.type==="exponent"?`Current: ^${ve(1+a)}`:`Current: ${s.sign}${ve(a)}${s.suffix}`;if(o==="GENERATOR_MULTIPLIER_EXPONENT")return`Current: ${ve(Math.pow(2,i))}`;if(o.endsWith("_GENERATOR_MULTIPLIER"))return`Current: ${ve(Math.pow(10,i))}x`;if(o.endsWith("_EXPONENT"))return`Current: ^${ve(1+a)}`;const u=o.includes("_PENALTY")||o.includes("_COST")||o==="ATK_SPEED"?"-":"+";let m="";return o.includes("_PERCENT")||o.includes("_CHANCE")?m="%":(o==="FLEE_PENALTY"||o==="DEATH_PENALTY")&&(m="s"),`Current: ${u}${ve(a)}${m}`},z4=J.memo(({data:t})=>{const{nodeId:a}=t,i=J.useMemo(()=>xs(a),[a]),o=me(R=>R.skillLevels[a]??0),s=me(R=>R.skillTreeBuyMaxUnlocked),c=me(R=>!_g(a,R.skillLevels)),u=me(R=>!Ag(a,R.skillLevels)),m=me(R=>{if(!i)return!1;const q=R.skillLevels[a]??0;if(q>=i.maxLevel)return!1;const I=!_g(a,R.skillLevels),Y=!Ag(a,R.skillLevels);if(I||Y)return!1;const v=Tg(i,q);return R.quintessence.gte(v)}),g=me(R=>{if(!i?.rarityLock)return 0;let q=0;const I=i.rarityLock.rarity,Y=R.glossaryUnlocks;return lt.forEach(v=>{v.rarity===I&&Y.includes(v.id)&&q++}),q});if(!i)return null;const p=Tg(i,o),b=i.effectPerLevel*o,x=o>=i.maxLevel,w=Wy[i.category],E=()=>{me.getState().purchaseSkillNode(a)},T=()=>{me.getState().purchaseMaxSkillNode(a)},{name:k,maxLevel:O,description:z,category:M,rarityLock:_}=i;return u?d.jsxs("div",{className:"w-48 h-36 rounded-lg border-2 border-neutral-300 dark:border-neutral-700 border-dashed bg-neutral-100 dark:bg-neutral-900 flex items-center justify-center opacity-40 transition-colors",children:[d.jsx(We,{type:"target",position:ge.Top,id:"top",className:"!bg-neutral-300"}),d.jsx(We,{type:"target",position:ge.Bottom,id:"bottom",className:"!bg-neutral-300"}),d.jsx(We,{type:"target",position:ge.Left,id:"left",className:"!bg-neutral-300"}),d.jsx(We,{type:"target",position:ge.Right,id:"right",className:"!bg-neutral-300"}),d.jsx(We,{type:"source",position:ge.Top,id:"top",className:"!bg-neutral-300"}),d.jsx(We,{type:"source",position:ge.Bottom,id:"bottom",className:"!bg-neutral-300"}),d.jsx(We,{type:"source",position:ge.Left,id:"left",className:"!bg-neutral-300"}),d.jsx(We,{type:"source",position:ge.Right,id:"right",className:"!bg-neutral-300"}),d.jsx("span",{className:"text-neutral-400 text-2xl",children:"?"})]}):_&&g<_.count?d.jsxs("div",{className:"w-48 h-36 p-3 rounded-lg border-2 border-neutral-300 dark:border-neutral-700 bg-neutral-100 dark:bg-neutral-900 flex flex-col items-center justify-center gap-2 opacity-80 transition-colors",children:[d.jsx(We,{type:"target",position:ge.Top,id:"top",className:"opacity-0"}),d.jsx(We,{type:"target",position:ge.Bottom,id:"bottom",className:"opacity-0"}),d.jsx(We,{type:"target",position:ge.Left,id:"left",className:"opacity-0"}),d.jsx(We,{type:"target",position:ge.Right,id:"right",className:"opacity-0"}),d.jsx(We,{type:"source",position:ge.Top,id:"top",className:"opacity-0"}),d.jsx(We,{type:"source",position:ge.Bottom,id:"bottom",className:"opacity-0"}),d.jsx(We,{type:"source",position:ge.Left,id:"left",className:"opacity-0"}),d.jsx(We,{type:"source",position:ge.Right,id:"right",className:"opacity-0"}),d.jsx("div",{className:"text-3xl",children:""}),d.jsxs("div",{className:"text-xs font-bold text-neutral-500 uppercase text-center",children:["Requires ",_.count," ",_.rarity," ",_.count===1?"Sketch":"Sketches"," in Glossary"]}),d.jsxs("div",{className:"text-[10px] text-neutral-400",children:["Current: ",g," / ",_.count]})]}):d.jsxs("div",{className:`
                w-48 h-36 p-3 rounded-lg border-2 shadow-lg transition-all
                ${c?"bg-neutral-100 dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 opacity-60":x?"bg-neutral-50 dark:bg-neutral-900/50 border-neutral-200 dark:border-neutral-800 opacity-60":`${w.bg} ${w.border} hover:shadow-xl`}
            `,children:[d.jsx(We,{type:"target",position:ge.Top,id:"top",className:"opacity-0"}),d.jsx(We,{type:"target",position:ge.Bottom,id:"bottom",className:"opacity-0"}),d.jsx(We,{type:"target",position:ge.Left,id:"left",className:"opacity-0"}),d.jsx(We,{type:"target",position:ge.Right,id:"right",className:"opacity-0"}),d.jsx(We,{type:"source",position:ge.Top,id:"top",className:"opacity-0"}),d.jsx(We,{type:"source",position:ge.Bottom,id:"bottom",className:"opacity-0"}),d.jsx(We,{type:"source",position:ge.Left,id:"left",className:"opacity-0"}),d.jsx(We,{type:"source",position:ge.Right,id:"right",className:"opacity-0"}),d.jsxs("div",{className:`text-[10px] font-bold uppercase tracking-wider mb-1 ${x?"text-neutral-400":w.accent}`,children:[M,"  Lv. ",o,"/",O]}),d.jsx("div",{className:`font-black text-sm leading-tight mb-1 ${x?"text-neutral-400 dark:text-neutral-600":"text-neutral-800 dark:text-neutral-100"}`,children:k}),d.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 mb-1 italic",children:z}),o>0&&d.jsx("div",{className:`text-xs font-semibold mb-2 ${x?"text-neutral-400":w.accent}`,children:H4(i,b,o)}),!x&&(s?d.jsxs("div",{className:"flex gap-1 w-full",children:[d.jsxs("button",{onClick:E,disabled:!m||c,className:`
                                flex-grow-[2] py-2 px-2 rounded-l text-xs font-bold uppercase tracking-wide
                                flex items-center justify-center gap-1 transition-colors
                                ${m&&!c?"bg-purple-600 text-white hover:bg-purple-700 cursor-pointer shadow-[2px_2px_0px_0px_rgba(0,0,0,0.4)]":"bg-neutral-200 dark:bg-neutral-800 text-neutral-400 dark:text-neutral-600 cursor-not-allowed"}
                            `,children:[d.jsx(os,{className:"w-3 h-3"}),ve(p)]}),d.jsx("button",{onClick:T,disabled:!m||c,className:`
                                flex-grow-[1] py-2 px-2 rounded-r text-xs font-bold uppercase tracking-wide
                                flex items-center justify-center transition-colors
                                ${m&&!c?"bg-purple-800 text-white hover:bg-purple-900 cursor-pointer shadow-[2px_2px_0px_0px_rgba(0,0,0,0.4)]":"bg-neutral-300 dark:bg-neutral-700 text-neutral-400 dark:text-neutral-600 cursor-not-allowed"}
                            `,children:"Max"})]}):d.jsxs("button",{onClick:E,disabled:!m||c,className:`
                            w-full py-2 px-3 rounded text-xs font-bold uppercase tracking-wide
                            flex items-center justify-center gap-1 transition-colors
                            ${m&&!c?"bg-purple-600 text-white hover:bg-purple-700 cursor-pointer shadow-[2px_2px_0px_0px_rgba(0,0,0,0.4)]":"bg-neutral-200 dark:bg-neutral-800 text-neutral-400 dark:text-neutral-600 cursor-not-allowed"}
                        `,children:[d.jsx(os,{className:"w-3 h-3"}),ve(p)]})),x&&d.jsx("div",{className:"w-full py-2 px-3 rounded text-xs font-bold uppercase tracking-wide text-center bg-neutral-200 dark:bg-neutral-900 text-neutral-500 dark:text-neutral-600",children:"Maxed"})]})}),U4={skillNode:z4},P4=()=>{const{skillLevels:t,purchaseSkillNode:a,glossaryUnlocks:i,darkMode:o}=me(xt(E=>({skillLevels:E.skillLevels,purchaseSkillNode:E.purchaseSkillNode,glossaryUnlocks:E.glossaryUnlocks,darkMode:E.darkMode}))),s=J.useMemo(()=>{const E={};return lt.forEach(T=>{E[T.rarity]||(E[T.rarity]={unlocked:0,total:0}),E[T.rarity].total++,i.includes(T.id)&&E[T.rarity].unlocked++}),E},[i]),{flowNodes:c,flowEdges:u}=J.useMemo(()=>{const E=Yr.map(k=>({id:k.id,type:"skillNode",position:k.position,data:{nodeId:k.id}})),T=Yr.filter(k=>k.parentId!==null).map(k=>{const O=xs(k.parentId),M=(t[k.parentId]??0)>=1,_=Wy[k.category],R=Mv(O,k),q=M?_.border==="border-amber-400"?"#f59e0b":_.border==="border-red-400"?"#f87171":_.border==="border-green-400"?"#4ade80":_.border==="border-purple-400"?"#c084fc":o?"#525252":"#9ca3af":o?"#262626":"#d1d5db";return{id:`${k.parentId}-${k.id}`,source:k.parentId,target:k.id,sourceHandle:R.sourceHandle,targetHandle:R.targetHandle,style:{stroke:q,strokeWidth:2},animated:M}});return{flowNodes:E,flowEdges:T}},[t,a,s]),[m,g,p]=s4(c),[b,x,w]=l4(u);return J.useEffect(()=>{g(c),x(u)},[c,u,g,x]),d.jsx("div",{className:"w-full h-full min-h-[500px] bg-neutral-50 dark:bg-neutral-900 rounded-lg border-2 border-neutral-200 dark:border-neutral-800 transition-colors",children:d.jsxs(o4,{nodes:m,edges:b,onNodesChange:p,onEdgesChange:w,colorMode:o?"dark":"light",connectionLineStyle:{stroke:o?"#404040":"#d1d5db",strokeWidth:2},fitView:!0,fitViewOptions:{padding:.2},proOptions:{hideAttribution:!0},zoomOnDoubleClick:!1,onInit:E=>{setTimeout(()=>{const k=me.getState().lastPurchasedSkill,O=E.getNodes();if(k){const M=O.find(_=>_.id===k);if(M){E.fitView({nodes:[M],padding:3,duration:800});return}}else{const M=O.find(_=>_.id==="root");if(M){E.fitView({nodes:[M],padding:3,duration:800});return}}const z=O.filter(M=>!M.data.isHidden);z.length>0&&E.fitView({nodes:z,padding:.35,duration:800})},100)},nodeTypes:U4,minZoom:.25,maxZoom:2,defaultViewport:{x:0,y:0,zoom:1},nodesDraggable:!1,nodesConnectable:!1,children:[d.jsx(h4,{color:o?"#333333":"#e5e5e5",gap:20}),d.jsx(w4,{position:"bottom-right",showInteractive:!1,className:"!bg-white dark:!bg-neutral-800 !border-neutral-300 dark:!border-neutral-700 !shadow-lg"})]})})},I4=({onComplete:t})=>{const[a,i]=J.useState("fade-in");return J.useEffect(()=>{const o=setTimeout(()=>{i("text")},500),s=setTimeout(()=>{i("fade-out"),t()},2500);return()=>{clearTimeout(o),clearTimeout(s)}},[t]),ax.createPortal(d.jsx("div",{className:`
                fixed inset-0 z-[9999] flex items-center justify-center pointer-events-none
                transition-opacity duration-1000 ease-in-out bg-white dark:bg-neutral-950
                ${a==="fade-out"?"opacity-0":"opacity-100"}
            `,children:d.jsx("div",{className:`
                    text-4xl md:text-6xl font-black uppercase tracking-[0.2em] text-center
                    transition-all duration-1000 transform
                    ${a==="text"?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-4"}
                `,children:d.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-neutral-900 to-neutral-600 dark:from-neutral-100 dark:to-neutral-400",children:"The World Is Being Drawn Anew"})})}),document.body)},B4=()=>{const{quintessence:t,activeTab:a,setActiveTab:i}=me(xt(o=>({quintessence:o.quintessence,activeTab:o.archiveActiveSubTab,setActiveTab:o.setArchiveActiveSubTab})));return d.jsxs("div",{className:"h-full p-4 overflow-hidden flex flex-col bg-white dark:bg-neutral-950 transition-colors",children:[d.jsx("header",{className:"mb-4 border-b-2 border-neutral-200 dark:border-neutral-800 pb-3 shrink-0 transition-colors",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex gap-2 md:gap-4 overflow-x-auto no-scrollbar shrink-0",children:[d.jsxs("button",{onClick:()=>i("synthesis"),className:`
                                px-2 md:px-4 py-2 font-bold uppercase tracking-wide border-b-4 transition-colors relative whitespace-nowrap text-xs md:text-sm
                                ${a==="synthesis"?"border-neutral-800 dark:border-neutral-100 text-neutral-900 dark:text-neutral-100":"border-transparent text-neutral-400 dark:text-neutral-600 hover:text-neutral-600 dark:hover:text-neutral-400"}
                            `,children:["Conceptual Synthesizer",d.jsx(G4,{})]}),d.jsx("button",{onClick:()=>i("masterpiece"),className:`
                                px-2 md:px-4 py-2 font-bold uppercase tracking-wide border-b-4 transition-colors whitespace-nowrap text-xs md:text-sm
                                ${a==="masterpiece"?"border-neutral-800 dark:border-neutral-100 text-neutral-900 dark:text-neutral-100":"border-transparent text-neutral-400 dark:text-neutral-600 hover:text-neutral-600 dark:hover:text-neutral-400"}
                            `,children:"Masterpiece Archive"}),d.jsxs("button",{onClick:()=>i("glossary"),className:`
                                px-2 md:px-4 py-2 font-bold uppercase tracking-wide border-b-4 transition-colors relative whitespace-nowrap text-xs md:text-sm
                                ${a==="glossary"?"border-neutral-800 dark:border-neutral-100 text-neutral-900 dark:text-neutral-100":"border-transparent text-neutral-400 dark:text-neutral-600 hover:text-neutral-600 dark:hover:text-neutral-400"}
                            `,children:["Glossary",d.jsx(V4,{})]})]}),d.jsxs("div",{className:"flex items-center gap-2 bg-purple-50 dark:bg-purple-900/10 px-4 py-2 rounded-full border border-purple-200 dark:border-purple-800/40 transition-colors",children:[d.jsx(os,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),d.jsx("span",{className:"text-lg font-bold font-mono text-purple-700 dark:text-purple-300",children:ve(t)})]})]})}),d.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a==="synthesis"&&d.jsx("div",{id:"tutorial-archive-synthesizer",children:d.jsx(q4,{})}),a==="masterpiece"&&d.jsx("div",{id:"tutorial-archive-masterpiece",className:"h-full",children:d.jsx(P4,{})}),a==="glossary"&&d.jsx("div",{id:"tutorial-archive-glossary",className:"pb-8 px-2",children:d.jsx($4,{})})]})]})},G4=()=>{const{totalEarnedCurrencies:t,conceptMilestones:a}=me(xt(o=>({totalEarnedCurrencies:o.totalEarnedCurrencies,conceptMilestones:o.conceptMilestones})));return dr.some(o=>{const s=t[o]||new f(0),c=a[o]||0,u=qi[c];return u&&s.gte(u)})?d.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-orange-500 rounded-full border border-white dark:border-neutral-900 transition-colors"}):null},V4=()=>{const{glossaryUnlocks:t,seenGlossaryItems:a}=me(xt(i=>({glossaryUnlocks:i.glossaryUnlocks,seenGlossaryItems:i.seenGlossaryItems})));return t.length<=a.length?null:d.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-orange-500 rounded-full border border-white dark:border-neutral-900"})},Y4=({isOpen:t,onClose:a,onConfirm:i,pendingQuintessence:o})=>t?d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:d.jsxs("div",{className:"bg-white dark:bg-neutral-800 max-w-md w-full p-8 shadow-2xl border-4 border-purple-600 dark:border-purple-800 relative animate-in fade-in zoom-in-95 duration-200 transition-colors",children:[d.jsx("h3",{className:"text-2xl font-black uppercase text-purple-900 dark:text-purple-100 mb-4 tracking-tight",children:"Confirm Redraw"}),d.jsxs("div",{className:"space-y-4 mb-8 text-sm text-neutral-600 dark:text-neutral-400 font-serif",children:[d.jsxs("p",{children:["You are about to ",d.jsx("strong",{className:"text-purple-700",children:"Redraw the World"}),"."]}),d.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[d.jsxs("li",{children:[d.jsx("strong",{className:"text-red-600",children:"RESET:"})," Gallery Progress"]}),d.jsxs("li",{children:[d.jsx("strong",{className:"text-red-600",children:"RESET:"})," Shop Tools & Upgrades"]}),d.jsxs("li",{children:[d.jsx("strong",{className:"text-red-600",children:"RESET:"})," Conceptual Synthesizer"]}),d.jsxs("li",{children:[d.jsx("strong",{className:"text-green-600",children:"PRESERVED:"})," Masterpiece Archive (Skills)"]}),d.jsxs("li",{children:[d.jsx("strong",{className:"text-green-600",children:"PRESERVED:"})," Glossary Unlocks"]})]}),d.jsxs("p",{className:"border-t border-purple-100 dark:border-neutral-700 pt-3 mt-3",children:["You will gain ",d.jsxs("strong",{className:"text-purple-600 dark:text-purple-400 text-lg",children:["+",ve(o)," Quintessence"]})," to spend on permanent upgrades."]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:a,className:"flex-1 py-3 font-bold uppercase tracking-wider text-xs border-2 border-neutral-200 dark:border-neutral-700 text-neutral-600 dark:text-neutral-400 hover:bg-neutral-50 dark:hover:bg-neutral-700 hover:border-neutral-300 transition-colors",children:"Cancel"}),d.jsx("button",{onClick:i,className:"flex-1 py-3 bg-purple-600 text-white font-black uppercase tracking-wider text-xs border-2 border-purple-800 hover:bg-purple-700 shadow-md hover:-translate-y-0.5 transition-all",children:"Confirm Redraw"})]})]})}):null,q4=()=>{const{totalEarnedCurrencies:t,concepts:a,conceptMilestones:i,advanceMilestone:o,pendingQuintessence:s,prestige:c,skipRedrawConfirmation:u}=me(xt(k=>({totalEarnedCurrencies:k.totalEarnedCurrencies,concepts:k.concepts,conceptMilestones:k.conceptMilestones,advanceMilestone:k.advanceMilestone,pendingQuintessence:k.pendingQuintessence,prestige:k.prestige,skipRedrawConfirmation:k.skipRedrawConfirmation}))),[m,g]=J.useState(!1),[p,b]=J.useState(!1),x=s.gte(10),w=()=>{g(!1),b(!0)},E=()=>{x&&(u?w():g(!0))},T=J.useCallback(()=>{c(),setTimeout(()=>{b(!1)},1e3)},[c]);return d.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-8 h-full pb-8",children:[p&&d.jsx(I4,{onComplete:T}),d.jsx(Y4,{isOpen:m,onClose:()=>g(!1),onConfirm:w,pendingQuintessence:s}),d.jsx("div",{className:"flex-1 overflow-x-auto bg-white dark:bg-neutral-800 border-2 border-neutral-200 dark:border-neutral-700 transition-colors",children:d.jsxs("table",{className:"w-full text-left min-w-[600px] table-fixed",children:[d.jsx("thead",{className:"bg-neutral-100 dark:bg-black border-b-2 border-neutral-200 dark:border-neutral-700 sticky top-0 z-10 transition-colors",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-2 md:p-3 text-[10px] md:text-xs font-bold uppercase text-neutral-500 dark:text-neutral-500 tracking-widest",style:{width:"25%"},children:"Concept"}),d.jsx("th",{className:"p-2 md:p-3 text-[10px] md:text-xs font-bold uppercase text-neutral-500 dark:text-neutral-500 tracking-widest",style:{width:"15%"},children:"Total"}),d.jsx("th",{className:"p-2 md:p-3 text-[10px] md:text-xs font-bold uppercase text-neutral-500 dark:text-neutral-500 tracking-widest",style:{width:"30%"},children:"Milestone"}),d.jsx("th",{className:"p-2 md:p-3 text-[10px] md:text-xs font-bold uppercase text-neutral-500 dark:text-neutral-500 tracking-widest text-right",style:{width:"15%"},children:"Count"}),d.jsx("th",{className:"p-2 md:p-3 text-[10px] md:text-xs font-bold uppercase text-neutral-500 dark:text-neutral-500 tracking-widest text-right",style:{width:"15%"},children:"Producing"})]})}),d.jsx("tbody",{children:dr.map((k,O)=>{const z=ex[k],M=nx[`${k.replace(" ","")}Icon`]||rs,_=t[k]||new f(0),R=a[k]||new f(0),q=i[k]||0,I=qi[q],Y=I&&_.gte(I),v=!I,N=q>0?new f(1e3).pow(q-1):new f(0),B=O===0?"Quintessence Gain":`${dr[O-1]} Concept`,H=R.times(N);return d.jsxs("tr",{id:O===0?"tutorial-archive-graphite-row":O===1?"tutorial-archive-secondary-concepts":void 0,className:"border-b border-neutral-100 dark:border-neutral-800 hover:bg-neutral-50 dark:hover:bg-neutral-750 transition-colors",children:[d.jsx("td",{className:"p-2 md:p-3",children:d.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[d.jsx(cr,{heading:d.jsxs("span",{className:"flex items-center gap-2 text-white",children:[d.jsx(M,{className:"w-5 h-5"}),z.label]}),content:"",children:d.jsx("div",{className:"p-1 md:p-1.5 bg-black dark:bg-neutral-900 rounded-full border border-neutral-800 dark:border-neutral-700 shrink-0 cursor-help",children:d.jsx(M,{className:"w-4 h-4 md:w-6 md:h-6",color:"#C084FC"})})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"font-bold text-neutral-800 dark:text-neutral-100 leading-none text-xs md:text-sm truncate",children:z.label}),d.jsx("div",{className:"text-[9px] md:text-[10px] text-neutral-400 dark:text-neutral-500 font-mono mt-0.5 md:mt-1 truncate",children:B})]})]})}),d.jsx("td",{className:"p-2 md:p-3 font-mono font-bold text-neutral-600 dark:text-neutral-400 text-xs md:text-sm",children:ve(_)}),d.jsx("td",{className:"p-2 md:p-3",children:v?d.jsx("span",{className:"text-[10px] md:text-xs font-bold text-green-600 uppercase tracking-wider",children:"Maxed"}):d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("div",{className:"flex-1 min-w-[80px] md:min-w-[120px]",children:[d.jsx("div",{className:"text-[9px] md:text-xs font-mono text-neutral-500 dark:text-neutral-500 mb-0.5 md:mb-1",children:ve(I)}),Y?d.jsx("button",{onClick:()=>o(k),className:`\r
                                                                w-full py-0.5 md:py-1 px-1 md:px-2 bg-green-500 hover:bg-green-600 text-white \r
                                                                text-[9px] md:text-xs font-bold uppercase rounded shadow-sm transition-colors\r
                                                                animate-pulse\r
                                                            `,children:"Advance"}):d.jsx("div",{className:"w-full h-1 md:h-1.5 bg-neutral-100 dark:bg-neutral-900 rounded-full overflow-hidden transition-colors",children:d.jsx("div",{className:"h-full bg-neutral-300 dark:bg-neutral-600",style:{width:`${Math.min(100,_.div(I).times(100).toNumber())}% `}})})]})})}),d.jsx("td",{className:"p-2 md:p-3 text-right",children:d.jsx("div",{className:"font-mono font-bold text-neutral-600 dark:text-neutral-400 text-xs md:text-sm",children:ve(R)})}),d.jsx("td",{className:"p-3 text-right",children:d.jsx("div",{className:"font-mono font-black text-sm md:text-lg text-neutral-800 dark:text-neutral-100 leading-none",children:ve(H)})})]},k)})})]})}),d.jsxs("div",{id:"tutorial-archive-prestige-panel",className:"w-full lg:w-80 bg-neutral-50 dark:bg-black/20 border-2 border-neutral-200 dark:border-neutral-800 p-4 md:p-8 flex flex-col items-center justify-center text-center shrink-0 transition-colors",children:[d.jsxs("div",{className:"mb-4 md:mb-8",children:[d.jsx(os,{className:"w-16 h-16 md:w-24 md:h-24 text-purple-200 dark:text-purple-400/20 mx-auto mb-2 md:mb-4 dark:drop-shadow-[0_0_15px_rgba(192,132,252,0.5)]"}),d.jsx("h3",{className:"text-xl md:text-2xl font-black uppercase text-neutral-800 dark:text-neutral-100 tracking-tight transition-colors",children:"Ascension Pending"}),d.jsxs("p",{className:"text-neutral-500 dark:text-neutral-500 italic mt-1 md:mt-2 text-[10px] md:text-sm transition-colors",children:["Synthesize your conceptual understanding into pure Quintessence.",d.jsx("br",{className:"hidden md:block"})," The world will be redrawn anew."]})]}),d.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-3 md:p-6 border-2 border-purple-100 dark:border-purple-900 shadow-sm w-full mb-4 md:mb-8 transition-colors",children:[d.jsx("div",{className:"text-xs font-bold uppercase text-purple-400 dark:text-purple-500 tracking-widest mb-1",children:"Quintessence Gain"}),d.jsxs("div",{className:"text-2xl md:text-4xl font-black text-purple-600 dark:text-purple-400 tracking-tighter break-all",children:["+",ve(s)]})]}),d.jsx("button",{disabled:!x,onClick:E,className:`
                        px-6 md:px-8 py-3 md:py-4 font-black text-sm md:text-lg uppercase tracking-widest
                        border-2 flex items-center gap-2 md:gap-3 w-full justify-center transition-colors
                        ${x?"bg-purple-600 hover:bg-purple-700 text-white border-purple-800 cursor-pointer shadow-md":"bg-neutral-200 dark:bg-neutral-800 text-neutral-400 dark:text-neutral-600 border-neutral-300 dark:border-neutral-700 cursor-not-allowed"}
                    `,children:d.jsx("span",{children:"Redraw World"})})]})]})},K4=t=>{const a="/rejected_draft/",i=a.endsWith("/")?a:`${a}/`,o=t.startsWith("/")?t.slice(1):t;return`${i}${o}`},F4=({sketch:t})=>{const{isDefeated:a,isSeen:i,markSeen:o}=me(xt(s=>({isDefeated:s.glossaryUnlocks.includes(t.id),isSeen:s.seenGlossaryItems.includes(t.id),markSeen:s.markGlossaryItemAsSeen})));return d.jsxs("div",{className:`bg-white dark:bg-neutral-900 p-4 shadow-[2px_2px_0px_0px_rgba(0,0,0,0.1)] dark:shadow-none dark:border dark:border-neutral-800 rarity-${t.rarity} flex flex-col relative transition-all hover:scale-[1.02]`,onMouseEnter:()=>{a&&!i&&o(t.id)},children:[a&&!i&&d.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded shadow animate-bounce z-10",children:"NEW!"}),a?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex gap-3 mb-3",children:[d.jsx("div",{className:"w-16 h-16 shrink-0 bg-neutral-50 dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-700 flex items-center justify-center",children:d.jsx("img",{src:K4(t.imagePath),alt:t.name,className:"w-full h-full object-contain sketch-render opacity-90 transition-all"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"font-black uppercase text-neutral-800 dark:text-neutral-100 leading-tight text-sm",children:t.name}),d.jsx("p",{className:"text-[9px] text-neutral-500 dark:text-neutral-400 font-serif italic truncate",children:t.flavorText}),d.jsx("div",{className:"text-[9px] text-neutral-400 dark:text-neutral-500 font-bold uppercase mt-1",children:t.rarity})]})]}),d.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-1 text-[10px] font-bold text-neutral-600 dark:text-neutral-400 mb-2",children:Object.values(Lt).map(s=>{const c=t.stats[s.sketchKey];if(c==null)return null;const u=f.isBigNumber(c);return s.key==="MinDamage"&&u&&c.eq(75)||s.key==="MaxDamage"&&u&&c.eq(125)||(u?c.isZero():c===0)&&s.key!=="HP"&&s.key!=="ATK"&&s.key!=="SPD"?null:d.jsx(cr,{heading:d.jsxs("span",{className:"flex items-center gap-2 text-white",children:[d.jsx(s.icon,{className:"w-4 h-4"}),s.label]}),content:`${s.fullName}
${s.description}`,children:d.jsxs("span",{className:"flex items-center gap-0.5 cursor-help",children:[d.jsx(s.icon,{className:`w-3 h-3 ${s.colorClass}`}),ve(c,s.format.decimals),s.format.suffix]})},s.key)})}),d.jsxs("div",{className:"mt-auto border-t border-neutral-100 dark:border-neutral-800 pt-2",children:[d.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest text-neutral-400 dark:text-neutral-500 mb-1",children:"Base Rewards"}),d.jsx(c0,{rewards:t.rewards,currencyRewards:t.currencyRewards,multiplier:new f(1),layout:"grid"})]})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[d.jsx("h4",{className:"font-black uppercase text-neutral-400 dark:text-neutral-600 leading-tight text-sm mb-3 tracking-widest",children:Uf(t.name)}),d.jsx("div",{className:"w-16 h-16 bg-neutral-100 dark:bg-neutral-900 border-2 border-dashed border-neutral-300 dark:border-neutral-700 rounded flex items-center justify-center mb-2",children:d.jsx("span",{className:"text-4xl font-black text-neutral-300 dark:text-neutral-700",children:"?"})}),d.jsx("div",{className:"text-[9px] text-neutral-400 dark:text-neutral-600 font-bold uppercase",children:t.rarity}),d.jsx("p",{className:"text-[9px] text-neutral-400 dark:text-neutral-600 mt-2",children:"Defeat to reveal"})]})]})},$4=()=>{const{glossaryUnlocks:t,seenGlossaryItems:a,getUnlockedRarityCounts:i,glossaryMultiplier:o}=me(xt(x=>({glossaryUnlocks:x.glossaryUnlocks,seenGlossaryItems:x.seenGlossaryItems,getUnlockedRarityCounts:x.getUnlockedRarityCounts,glossaryMultiplier:x.glossaryMultiplier}))),[s,c]=J.useState("all"),u=i(),m={};let g=0;t.forEach(x=>{if(!a.includes(x)){const w=lt.find(E=>E.id===x);w&&(m[w.rarity]=(m[w.rarity]||0)+1,g++)}});const p=[{id:"all",label:"All",count:t.length,total:lt.length,newCount:g},{id:"scrap",label:"Scrap",count:u.scrap?.unlocked||0,total:u.scrap?.total||0,newCount:m.scrap||0},{id:"rough",label:"Rough",count:u.rough?.unlocked||0,total:u.rough?.total||0,newCount:m.rough||0},{id:"framed",label:"Framed",count:u.framed?.unlocked||0,total:u.framed?.total||0,newCount:m.framed||0},{id:"opus",label:"Opus",count:u.opus?.unlocked||0,total:u.opus?.total||0,newCount:m.opus||0},{id:"masterpiece",label:"Masterpiece",count:u.masterpiece?.unlocked||0,total:u.masterpiece?.total||0,newCount:m.masterpiece||0}],b=lt.filter(x=>s==="all"||x.rarity===s);return d.jsxs("div",{id:"tutorial-archive-glossary-content",className:"flex flex-col h-full",children:[d.jsx("div",{className:"sticky top-0 bg-white dark:bg-neutral-950 z-10 pb-4 border-b border-neutral-200 dark:border-neutral-800",children:d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:[d.jsxs("div",{className:"flex-1 w-full",children:[d.jsx("div",{id:"tutorial-archive-glossary-header",className:"text-neutral-500 dark:text-neutral-400 font-serif italic text-xs md:text-sm mb-4",children:"A catalog of all known sketches. Defeat a sketch to unlock its glossary entry."}),d.jsx("div",{className:"flex flex-wrap gap-1 md:gap-2 border-b border-neutral-200 pb-1 w-full",children:p.map(x=>d.jsxs("button",{onClick:()=>c(x.id),className:`
                                        relative px-2 md:px-4 py-1.5 md:py-2 text-[10px] md:text-xs font-bold uppercase tracking-wider rounded-t-lg transition-all
                                        border-t-2 border-x-2 -mb-[3px] z-10 whitespace-nowrap
                                        ${s===x.id?"bg-white dark:bg-neutral-800 border-neutral-200 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 shadow-[0_-2px_5px_rgba(0,0,0,0.02)]":"bg-neutral-50 dark:bg-neutral-900 border-transparent text-neutral-400 dark:text-neutral-600 hover:text-neutral-600 dark:hover:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800"}
                                    `,children:[d.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[d.jsx("span",{children:x.label}),d.jsxs("span",{className:`px-1 md:px-1.5 py-0.5 rounded text-[8px] md:text-[9px] ${s===x.id?"bg-neutral-100 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300":"bg-neutral-200 dark:bg-neutral-800 text-neutral-500 dark:text-neutral-500"}`,children:[x.count,"/",x.total]})]}),x.newCount>0&&d.jsx("span",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 md:w-3 md:h-3 bg-red-500 rounded-full border-2 border-white dark:border-neutral-900"})]},x.id))})]}),d.jsxs("div",{className:"text-left md:text-right md:pl-4 pb-2 shrink-0",children:[d.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-400 dark:text-neutral-500",children:"Total Multiplier"}),d.jsxs("div",{className:"text-xl md:text-2xl font-black text-neutral-800 dark:text-neutral-100 transition-colors",children:[ve(o),"x"]})]})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto pt-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 bg-neutral-50/50 dark:bg-neutral-950/20 p-4 rounded-lg min-h-[400px]",children:[b.map(x=>d.jsx(F4,{sketch:x},x.id)),b.length===0&&d.jsx("div",{className:"col-span-full text-center py-20 text-neutral-400 dark:text-neutral-600 font-serif italic",children:"No sketches found in this category."})]})})]})},X4=["TIP","CRITIQUE","LPT","JOKE","FACT"],Z4=[{category:"TIP",text:"TIP#10,102 Accuracy directly counters an enemy's Dodge/Parry chance."},{category:"TIP",text:"TIP#13,442 Export your save file occasionally. Cloud saves are great, but local backups are forever."},{category:"TIP",text:"TIP#14,191 Don't ignore the Archive; skills provide powerful bonuses."},{category:"TIP",text:"TIP#22,331 Quintessence is only awarded when you Redraw. The more sketches you've conceptualized, the more you get."},{category:"TIP",text:'TIP#15,293 The "locks" at top of sidebars make them retractable.'},{category:"TIP",text:"TIP#12,401 Armor Penetration reduces the enemy's effective Armor value."},{category:"TIP",text:"TIP#16,623 Don't forget to check out Settings. Tune the game to your liking."},{category:"TIP",text:"TIP#17,293 Filters at top of Gallery page can help you find hidden sketches."},{category:"TIP",text:"TIP#18,255 Top left icon on each sketch on Gallery page can hide sketches that are of no use to you."},{category:"TIP",text:"TIP#21,553 Don't hoard Quintessence too long; investing early compounds your power faster."},{category:"TIP",text:"TIP#42,903 Overkill can help you be victorious over multiple of the same enemy at once."},{category:"TIP",text:"TIP#23,851 Redrawing preserves your Glossary progress, making future runs easier."},{category:"TIP",text:"TIP#24,855 Right sidebar can be turned off with 'Show Protocol Sidebar' setting."},{category:"TIP",text:"TIP#32,125 The 'In Combat' floating window can be moved anywhere you want. Try dragging it."},{category:"TIP",text:"TIP#35,102 Tools are generally more important than Stat Upgrades."},{category:"TIP",text:"TIP#45,221 Upgrading ATK is usually better than HP if you can end fights fast."},{category:"TIP",text:"TIP#51,882 Struggling with a specific sketch? Check the enemy stats."},{category:"TIP",text:"TIP#56,102 Crit Damage is useless without Crit Chance. Balance your stats wisely."},{category:"TIP",text:"TIP#67,491 Some enemies have high Armor; look for skills that overcome defense."},{category:"TIP",text:"TIP#74,331 Fleeing isn't just for escaping; use it to quickly rotate through sketches searching for specific rewards."},{category:"TIP",text:"TIP#69,053 The glossary rarity multipliers are: scrap +1%, rough +3%, framed +5%, opus +10%, masterpiece +25%."},{category:"TIP",text:"TIP#70,104 Offline progression works for Generators and Synthesizer. Take advantage of it overnight."},{category:"TIP",text:"TIP#71,242 You can review the Tutorial anytime in Settings."},{category:"TIP",text:"TIP#82,115 Resource 'Reward Exponents' in the Skill Tree are much more powerful than simple multipliers."},{category:"TIP",text:"TIP#75,502 Statuses like Poison are effective against tanky sketches."},{category:"TIP",text:"TIP#77,913 Bleed causes the attacker to take damage whenever they hit."},{category:"TIP",text:"TIP#89,203 You can make the first few shop tools entirely free after a Redraw by investing in the Archive."},{category:"TIP",text:"TIP#80,441 Stacking Freeze above 100% turns enemy healing into damage."},{category:"TIP",text:"TIP#82,203 High enemy Armor directly reduces the healing you gain from Lifesteal."},{category:"TIP",text:"TIP#84,912 Increasing Speed reduces the cooldown between your attacks."},{category:"TIP",text:"TIP#63,221 Parry negates an attack and reflects a portion of the damage back."},{category:"TIP",text:"TIP#95,883 Hypnotized sketches have a chance to attack themselves instead of you."},{category:"TIP",text:"TIP#99,999 There are other flavors for this text (see settings): Snarky Comments (Critiques), Life Pro Tips (LPT), Jokes, and Facts."},{category:"CRITIQUE",text:"CRITIQUE#11,034 This tip exists to fill an empty window. Just like your weekends."},{category:"CRITIQUE",text:"CRITIQUE#14,202 I'm sure your boss believes you're working on that spreadsheet right now."},{category:"CRITIQUE",text:"CRITIQUE#24,928 A redraw is just a fancy word for professional procrastination."},{category:"CRITIQUE",text:"CRITIQUE#33,102 Graphite: The only thing cheaper than the writing in this game."},{category:"CRITIQUE",text:"CRITIQUE#34,551 If you put this much effort into the gym, you'd be able to lift a real sword by now."},{category:"CRITIQUE",text:"CRITIQUE#38,991 Fun fact: If you played a real instrument for this long, you'd still be bad at it."},{category:"CRITIQUE",text:"CRITIQUE#48,502 Don't forget to Redraw. Or do. I'm just a text box."},{category:"CRITIQUE",text:"CRITIQUE#52,193 Your progress is saved. Your time is still lost."},{category:"CRITIQUE",text:"CRITIQUE#54,991 'Idle' is a game genre. It is also an accurate description of your ambition."},{category:"CRITIQUE",text:"CRITIQUE#59,203 'One more sketch' is the lie we tell ourselves to avoid doing laundry."},{category:"CRITIQUE",text:"CRITIQUE#61,303 Don't turn your brightness down. You might see your own reflection, and nobody wants that."},{category:"CRITIQUE",text:"CRITIQUE#66,823 Buying upgrades won't make the pain go away. But it helps the numbers."},{category:"CRITIQUE",text:"CRITIQUE#72,448 Congratulations, you made a number go up. Your ancestors hunting mammoths are proud."},{category:"CRITIQUE",text:"CRITIQUE#74,201 You could be learning a language right now. Instead, you're watching numbers go up."},{category:"CRITIQUE",text:"CRITIQUE#75,102 You are just changing 0s to 1s in a JSON file. Thrilling gameplay."},{category:"CRITIQUE",text:"CRITIQUE#83,102 You are fighting sketches. Literal ink on paper. Reflect on that."},{category:"CRITIQUE",text:"CRITIQUE#91,442 I considered adding a 'Win' button, but that would ruin the engagement metrics."},{category:"CRITIQUE",text:"CRITIQUE#93,001 I am a collection of pixels judging a collection of atoms. Who is really winning?"},{category:"CRITIQUE",text:"CRITIQUE#94,205 Your attention span is shorter than this sen oh, look, a shiny button."},{category:"CRITIQUE",text:"CRITIQUE#98,113 Please rate this game 5 stars. My developer needs validation. He's very fragile."},{category:"CRITIQUE",text:"CRITIQUE#99,101 I'd ask how your day is going, but you're playing an idle game at 2 AM."},{category:"LPT",text:"LPT#11,205 Turn on 'Night Light' or 'Eye Comfort' mode on your device after sunset."},{category:"LPT",text:"LPT#12,283 Staring at a screen for too long is bad for your eyes."},{category:"LPT",text:"LPT#18,332 Clean your keyboard. Seriously, look at it right now. It's gross."},{category:"LPT",text:"LPT#25,102 Your value isn't defined by your quintessence balance."},{category:"LPT",text:"LPT#28,443 Vitamin D supplements are crucial if you spend all day indoors gaming."},{category:"LPT",text:"LPT#31,904 The 20-20-20 rule: Every 20 mins, look 20 feet away for 20 seconds."},{category:"LPT",text:"LPT#38,203 Taking a 5-minute break every hour improves focus."},{category:"LPT",text:"LPT#41,902 Your chair height should allow your feet to rest flat on the floor."},{category:"LPT",text:"LPT#44,104 Remember to drink water."},{category:"LPT",text:"LPT#49,118 Drink water before you think you're hungry. You're usually just thirsty."},{category:"LPT",text:"LPT#56,331 Fix your posture. Your future back will thank you."},{category:"LPT",text:"LPT#62,551 Unclench your jaw. Drop your shoulders. Take a deep breath. You're welcome."},{category:"LPT",text:"LPT#66,101 Cooking a meal takes 30 minutes. Ordering delivery takes 45. Save money, cook food."},{category:"LPT",text:"LPT#67,892 Call your parents. They probably miss you more than you miss this game."},{category:"LPT",text:"LPT#72,401 Blinking is voluntary. Do it now."},{category:"LPT",text:"LPT#83,225 Listen to a podcast while grinding. It makes you feel productive by association."},{category:"LPT",text:"LPT#85,202 Touch grass. Actual, physical grass. It has 8K resolution."},{category:"LPT",text:"LPT#91,203 If you have to ask 'is it too late to go to bed?', the answer is always yes."},{category:"LPT",text:"LPT#94,113 Stretch your wrists. Carpal tunnel is the real end-game boss."},{category:"JOKE",text:"JOKE#13,902 The painter was hospitalized. Doctors say he had too many strokes."},{category:"JOKE",text:"JOKE#14,502 Parallel lines have so much in common. Its a shame theyll never meet."},{category:"JOKE",text:"JOKE#15,203 Why did the artist go to jail? He was framed."},{category:"JOKE",text:"JOKE#16,202 I told a joke about a blank piece of paper. It was tearable."},{category:"JOKE",text:"JOKE#21,551 What is an artists favorite brand of shoe? Sketchers."},{category:"JOKE",text:"JOKE#22,105 I tried to paint the sky, but I blue it."},{category:"JOKE",text:"JOKE#22,118 I told my wife she was drawing her eyebrows too high. She looked surprised."},{category:"JOKE",text:"JOKE#24,501 I know a guy who's excellent at drawing. He has a very sketchy past."},{category:"JOKE",text:"JOKE#25,903 Why dont sculptors make good friends? They take everything for granite."},{category:"JOKE",text:"JOKE#31,104 What do you call a painting done by a cat? A paw-trait."},{category:"JOKE",text:"JOKE#36,404 And the Lord said to John, 'Come forth and you shall receive eternal life.' But John came fifth and won a toaster."},{category:"JOKE",text:"JOKE#41,801 What do you call a really dangerous neighborhood in a sketchbook? A rough draft."},{category:"JOKE",text:"JOKE#42,911 I used to be an artist, but I couldn't draw a salary."},{category:"JOKE",text:"JOKE#48,202 I tried to buy a painting, but I had no Monet."},{category:"JOKE",text:"JOKE#49,202 The most powerful upgrade in the game is Alt+F4. But you won't use it."},{category:"JOKE",text:"JOKE#55,103 We interrupt this dopamine loop to bring you... absolutely nothing."},{category:"JOKE",text:"JOKE#56,119 Why did the artist carry a pencil? In case he had to draw a weapon."},{category:"JOKE",text:"JOKE#61,993 I have a fear of overly intricate elevators. I'm taking steps to avoid them."},{category:"JOKE",text:"JOKE#63,119 Are you cold? Go stand in the corner. It's 90 degrees."},{category:"JOKE",text:"JOKE#66,404 How does Salvador Dali start his morning? With a bowl of sur-real."},{category:"JOKE",text:"JOKE#75,201 My pencil is broken. It's pointless to try and fix it."},{category:"JOKE",text:"JOKE#75,551 What happens when an artist gets cold? They put on another coat."},{category:"JOKE",text:"JOKE#82,442 Why don't skeletons fight each other? They don't have the guts."},{category:"JOKE",text:"JOKE#86,201 This text is procedurally generated to simulate a personality. It's failing, isn't it?"},{category:"JOKE",text:"JOKE#91,303 What did the 0 say to the 8? 'Nice belt.'"},{category:"JOKE",text:"JOKE#97,551 Shout out to people who don't know what the opposite of 'in' is."},{category:"FACT",text:"FACT#11,023 100% of sketches in this game are actually digital."},{category:"FACT",text:"FACT#12,010 The average person spends 6 months of their life waiting for red lights to turn green."},{category:"FACT",text:"FACT#13,000 This game will never be as good as Degens Idle. (the OG at kuzzigames.com, not the crappy impostor)"},{category:"FACT",text:"FACT#19,203 The eraser was originally called 'lead eater' before marketing teams stepped in."},{category:"FACT",text:"FACT#28,302 Wombat poop is cube-shaped. This prevents it from rolling away."},{category:"FACT",text:"FACT#29,103 The first pencils were made of solid graphite wrapped in sheepskin."},{category:"FACT",text:"FACT#35,401 The word 'pencil' comes from the Latin 'penicillus', meaning 'little tail'."},{category:"FACT",text:"FACT#44,029 Graphite is just carbon arranged in sheets. Diamond is carbon in a cage."},{category:"FACT",text:"FACT#46,101 Cleopatra lived closer in time to the Moon landing than to the construction of the Great Pyramid."},{category:"FACT",text:"FACT#51,203 Yellow pencils became standard in the 1890s to signify Chinese graphite quality."},{category:"FACT",text:"FACT#51,882 You cannot hum while holding your nose. Go ahead, try it."},{category:"FACT",text:"FACT#53,205 The first webcam was invented at Cambridge University just to check if the coffee pot was full."},{category:"FACT",text:"FACT#54,901 Before rubber erasers, people used balled-up white bread to remove graphite marks."},{category:"FACT",text:"FACT#57,204 Hemingway used to sharpen his pencils with a knife. It made him feel more like a hunter."},{category:"FACT",text:"FACT#63,401 A day on Venus is longer than a year on Venus. It spins very, very slowly."},{category:"FACT",text:"FACT#68,402 An average pencil can draw a line 35 miles long. Your mouse has traveled further."},{category:"FACT",text:"FACT#72,991 Botanically speaking, bananas are berries. Strawberries are not."},{category:"FACT",text:"FACT#88,102 Graphite is a conductor of electricity. Do not stick pencils in outlets."},{category:"FACT",text:"FACT#91,205 Octopuses have three hearts. Two pump blood to the gills, one to the rest of the body."},{category:"FACT",text:"FACT#92,115 John Steinbeck used up to 60 pencils a day. He would have loved auto-battle."},{category:"FACT",text:"FACT#98,331 Archaeologists have found edible honey in ancient Egyptian tombs. It never spoils."}],Q4=()=>{const t=me(Y=>Y.resetGame),a=me(Y=>Y.tipInterval),i=me(Y=>Y.enabledTipCategories),o=me(Y=>Y.darkMode),s=me(Y=>Y.toggleDarkMode),c=me(Y=>Y.showProtocolSidebar),u=me(Y=>Y.toggleProtocolSidebar),m=me(Y=>Y.skipRedrawConfirmation),g=me(Y=>Y.setSkipRedrawConfirmation),p=me(Y=>Y.startTutorial),b=me(Y=>Y.notificationSettings),x=me(Y=>Y.toggleNotificationSetting),[w,E]=J.useState(""),[T,k]=J.useState(null),O=(Y,v)=>{k({msg:Y,type:v}),setTimeout(()=>k(null),3e3)},z=()=>{const Y=localStorage.getItem("unnamed-battler-save");if(!Y)return null;try{return btoa(Y)}catch(v){return console.error("Encoding error",v),null}},M=()=>{const Y=z();Y?navigator.clipboard.writeText(Y).then(()=>{O("Save string copied to clipboard!","success")}):O("No save data found.","error")},_=()=>{const Y=z();if(Y){const v=new Blob([Y],{type:"text/plain"}),N=URL.createObjectURL(v),B=document.createElement("a");B.href=N;const H=me.getState();let U=new f(0);Object.entries(H.skillLevels).forEach(([S,P])=>{const A=Yr.find(K=>K.id===S);if(A&&P>0){const K=A.costMultiplier,X=A.baseCost,G=P;let L;if(K===1)L=new f(X).times(G);else{const Z=new f(K).pow(G).minus(1),Q=K-1;L=new f(X).times(Z).div(Q)}U=U.plus(L)}});const F=H.quintessence.plus(U),D=H.glossaryUnlocks.length,j=new Date().toISOString().split("T")[0];B.download=`rejected-draft-save-Q${ve(F)}-G${D}-${j}.txt`,B.click(),URL.revokeObjectURL(N),O("Save file downloaded!","success")}else O("No save data found.","error")},R=Y=>{try{const v=atob(Y);JSON.parse(v),localStorage.setItem("unnamed-battler-save",v),window.location.reload()}catch(v){console.error(v),O("Invalid save data string.","error")}},q=Y=>{const v=Y.target.files?.[0];if(!v)return;const N=new FileReader;N.onload=B=>{const H=B.target?.result;R(H.trim())},N.readAsText(v)},I=()=>{confirm("Are you sure you want to wipe your save and restart? This cannot be undone.")&&t()};return d.jsxs("div",{className:"h-full p-4 md:p-8 overflow-y-auto w-full mx-auto bg-white dark:bg-neutral-950 transition-colors",children:[T&&d.jsx("div",{className:`fixed top-4 right-4 px-6 py-3 rounded shadow-lg font-bold border-2 z-50 transition-all ${T.type==="success"?"bg-green-100 text-green-800 border-green-300":"bg-red-100 text-red-800 border-red-300"}`,children:T.msg}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("section",{className:"bg-white dark:bg-neutral-900 border-2 border-neutral-200 dark:border-neutral-800 p-5 shadow-sm transition-colors flex flex-col",children:[d.jsxs("h3",{className:"text-lg font-black uppercase text-neutral-800 dark:text-neutral-100 mb-4 flex items-center gap-2",children:[d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Interface"]}),d.jsxs("div",{className:"space-y-4 flex-1",children:[d.jsx("div",{children:d.jsx("button",{onClick:s,className:`
                                    w-full py-2 px-4 font-bold uppercase text-xs tracking-widest border-2 transition-all
                                    ${o?"bg-neutral-100 text-neutral-900 border-neutral-300 hover:bg-white":"bg-neutral-900 text-white border-black hover:bg-neutral-800 shadow-md"}
                                `,children:o?" Normal Mode":" Dark Mode"})}),d.jsxs("label",{className:"flex items-start gap-3 cursor-pointer select-none group",children:[d.jsx("input",{type:"checkbox",checked:c,onChange:u,className:"mt-1 w-5 h-5 text-black rounded focus:ring-black accent-black dark:accent-neutral-100"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-bold uppercase text-xs text-neutral-700 dark:text-neutral-300 group-hover:text-black dark:group-hover:text-white transition-colors",children:"Show Protocol Sidebar"}),d.jsx("span",{className:"text-[10px] text-neutral-400 font-serif italic",children:"Display active protocols on the right."})]})]}),d.jsxs("label",{className:"flex items-start gap-3 cursor-pointer select-none group",children:[d.jsx("input",{type:"checkbox",checked:m,onChange:Y=>g(Y.target.checked),className:"mt-1 w-5 h-5 text-black rounded focus:ring-black accent-black dark:accent-neutral-100"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-bold uppercase text-xs text-neutral-700 dark:text-neutral-300 group-hover:text-black dark:group-hover:text-white transition-colors",children:"Skip Redraw Confirmation"}),d.jsx("span",{className:"text-[10px] text-neutral-400 font-serif italic",children:"No dialog for Redraw animation."})]})]}),d.jsx("div",{className:"pt-4 border-t border-neutral-100 dark:border-neutral-800",children:d.jsx("button",{onClick:p,className:"w-full px-4 py-2 bg-amber-50 dark:bg-amber-900/10 border-2 border-amber-200 dark:border-amber-800/40 text-amber-800 dark:text-amber-400 font-bold uppercase text-[10px] tracking-wider hover:bg-amber-100 dark:hover:bg-amber-900/20 transition-all",children:"Review Tutorial"})})]})]}),d.jsxs("section",{className:"bg-white dark:bg-neutral-900 border-2 border-neutral-200 dark:border-neutral-800 p-5 shadow-sm transition-colors",children:[d.jsxs("h3",{className:"text-lg font-black uppercase text-neutral-800 dark:text-neutral-100 mb-4 flex items-center gap-2",children:[d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),"Notifications"]}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:["COMBAT_VICTORY","COMBAT_DEFEAT","COMBAT_FLEE","SHOP_ERROR","SHOP_AFFORDABLE","SYSTEM_UNLOCK"].map(Y=>d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer select-none group p-1.5 hover:bg-neutral-50 dark:hover:bg-neutral-800/50 rounded transition-colors",children:[d.jsx("input",{type:"checkbox",checked:b?.[Y]??!0,onChange:()=>x(Y),className:"w-4 h-4 text-black dark:text-white rounded focus:ring-black dark:focus:ring-white accent-black dark:accent-neutral-100"}),d.jsx("span",{className:"font-bold uppercase text-[10px] md:text-xs text-neutral-600 dark:text-neutral-400 group-hover:text-black dark:group-hover:text-white mt-0.5",children:Y.replace(/_/g," ")})]},Y))}),d.jsxs("div",{className:"mt-6 pt-5 border-t border-neutral-100 dark:border-neutral-800",children:[d.jsxs("h4",{className:"text-[11px] font-black uppercase text-neutral-500 dark:text-neutral-400 mb-4 flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Scrolling Tips"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsx("label",{className:"font-bold uppercase text-[9px] text-neutral-400",children:"Tip Frequency"}),d.jsxs("select",{value:a,onChange:Y=>me.getState().setTipInterval(Number(Y.target.value)),className:"w-full bg-white dark:bg-neutral-800 border-2 border-neutral-200 dark:border-neutral-700 px-3 py-1.5 text-xs font-bold font-mono focus:border-black dark:focus:border-white outline-none transition-colors",children:[d.jsx("option",{value:15,children:"Every 15s"}),d.jsx("option",{value:30,children:"Every 30s (Default)"}),d.jsx("option",{value:60,children:"Every 1m"}),d.jsx("option",{value:0,children:"Never"})]})]}),d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsx("label",{className:"font-bold uppercase text-[9px] text-neutral-400",children:"Scroll Speed"}),d.jsxs("select",{value:me(Y=>Y.tipScrollSpeed),onChange:Y=>me.getState().setTipScrollSpeed(Number(Y.target.value)),className:"w-full bg-white dark:bg-neutral-800 border-2 border-neutral-200 dark:border-neutral-700 px-3 py-1.5 text-xs font-bold font-mono focus:border-black dark:focus:border-white outline-none transition-colors",children:[d.jsx("option",{value:13,children:"~60 WPM [Slowest]"}),d.jsx("option",{value:11,children:"~80 WPM [Slow]"}),d.jsx("option",{value:9,children:"~100 WPM [Normal]"}),d.jsx("option",{value:7,children:"~130 WPM [Fast]"}),d.jsx("option",{value:5,children:"~180 WPM [Fastest]"})]})]}),d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsx("label",{className:"font-bold uppercase text-[9px] text-neutral-400",children:"Categories"}),d.jsx("div",{className:"grid grid-cols-3 gap-2",children:X4.map(Y=>{const v=!!i[Y];return d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none group p-1 hover:bg-neutral-50 dark:hover:bg-neutral-800/50 rounded transition-colors",children:[d.jsx("input",{type:"checkbox",checked:v,onChange:()=>me.getState().toggleTipCategory(Y),className:"w-3.5 h-3.5 text-black dark:text-white rounded focus:ring-black dark:focus:ring-white accent-black dark:accent-neutral-100"}),d.jsx("span",{className:"font-bold uppercase text-[9px] text-neutral-600 dark:text-neutral-400 group-hover:text-black dark:group-hover:text-white mt-0.5",children:Y})]},Y)})})]})]})]})]}),d.jsxs("section",{className:"bg-white dark:bg-neutral-900 border-2 border-neutral-200 dark:border-neutral-800 p-5 shadow-sm transition-colors",children:[d.jsxs("h3",{className:"text-lg font-black uppercase text-neutral-800 dark:text-neutral-100 mb-4 flex items-center gap-2",children:[d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),"Data Management"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("button",{onClick:M,className:"px-2 py-2 bg-neutral-100 dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700 text-neutral-700 dark:text-neutral-300 font-bold uppercase text-[11px] tracking-tight hover:bg-white dark:hover:bg-neutral-700 hover:text-black dark:hover:text-white transition-all",children:"Copy String"}),d.jsx("button",{onClick:_,className:"px-2 py-2 bg-neutral-100 dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700 text-neutral-700 dark:text-neutral-300 font-bold uppercase text-[11px] tracking-tight hover:bg-white dark:hover:bg-neutral-700 hover:text-black dark:hover:text-white transition-all",children:"Save File"})]}),d.jsxs("div",{className:"pt-4 border-t border-neutral-100 dark:border-neutral-800",children:[d.jsx("label",{className:"block text-[10px] font-bold uppercase text-neutral-400 mb-2",children:"Import Save"}),d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsx("input",{type:"text",value:w,onChange:Y=>E(Y.target.value),placeholder:"Paste string...",className:"flex-1 px-2 py-1.5 border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-[10px] focus:border-black dark:focus:border-white outline-none text-neutral-900 dark:text-neutral-100 transition-colors"}),d.jsx("button",{onClick:()=>R(w),disabled:!w,className:"px-3 py-1.5 bg-black dark:bg-white text-white dark:text-black font-bold uppercase text-[10px] hover:opacity-80 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"Load"})]}),d.jsx("input",{type:"file",accept:".txt",onChange:q,className:`block w-full text-[10px] text-neutral-400\r
                                  file:mr-2 file:py-1 file:px-2\r
                                  file:border file:border-neutral-300 dark:file:border-neutral-700 file:text-neutral-500 dark:file:text-neutral-400\r
                                  file:bg-neutral-50 dark:file:bg-neutral-800 file:text-[9px] file:font-bold file:uppercase\r
                                  hover:file:bg-white dark:hover:file:bg-neutral-700 cursor-pointer transition-colors`})]})]})]})]}),d.jsx("div",{className:"mt-12 max-w-md mx-auto",children:d.jsxs("div",{className:"bg-red-50/50 dark:bg-red-950/10 border-2 border-red-100 dark:border-red-900/30 p-6 text-center transition-colors",children:[d.jsx("h3",{className:"text-sm font-black text-red-800 dark:text-red-400 uppercase mb-1",children:"Danger Zone"}),d.jsx("p",{className:"text-red-600/70 dark:text-red-500/50 mb-4 font-serif italic text-[10px]",children:"Wipe your save and restart. irreversible."}),d.jsx("button",{onClick:I,className:"px-6 py-2 bg-red-600 dark:bg-red-700/80 text-white border-2 border-transparent hover:bg-red-700 dark:hover:bg-red-600 transition-all shadow-sm group",children:d.jsx("span",{className:"block font-bold uppercase tracking-widest text-[10px] group-active:translate-y-0.5 transition-transform",children:"Hard Reset Game"})})]})}),d.jsx("div",{className:"mt-8 text-center text-[10px] text-neutral-400 font-mono tracking-widest opacity-50",children:"VERSION 0.2.1-ALPHA"})]})},W4=()=>{const{notifications:t,removeNotification:a}=me(xt(i=>({notifications:i.notifications,removeNotification:i.removeNotification})));return d.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col-reverse gap-2 pointer-events-none",children:t.map(i=>d.jsxs("div",{className:`\r
                        bg-yellow-100 dark:bg-yellow-900 border-2 border-neutral-900 dark:border-yellow-700 shadow-[4px_4px_0px_0px_rgba(0,0,0,0.8)] dark:shadow-none \r
                        p-4 w-64 transform transition-all duration-300 animate-in slide-in-from-right fade-in\r
                        rotate-1 font-serif text-neutral-900 dark:text-yellow-100 pointer-events-auto transition-colors\r
                    `,children:[d.jsxs("div",{className:"flex justify-between items-start mb-1 transition-colors",children:[d.jsx("span",{className:"font-bold uppercase text-xs tracking-wider border-b border-neutral-900 dark:border-yellow-700",children:i.type.replace(/_/g," ")}),d.jsx("button",{onClick:()=>a(i.id),className:"text-neutral-500 dark:text-yellow-500 hover:text-black dark:hover:text-white font-bold leading-none transition-colors",children:""})]}),d.jsx("p",{className:"font-bold text-sm leading-snug whitespace-pre-wrap",children:i.message})]},i.id))})};var Bi=9e15,hr=1e9,Jf="0123456789abcdef",jc="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Rc="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",e0={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Bi,maxE:Bi,crypto:!1},F1,Ca,Me=!0,Kc="[DecimalError] ",fr=Kc+"Invalid argument: ",$1=Kc+"Precision limit exceeded",X1=Kc+"crypto unavailable",Z1="[object Decimal]",Ot=Math.floor,kt=Math.pow,J4=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,e5=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,t5=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Q1=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ln=1e7,Ae=7,n5=9007199254740991,a5=jc.length-1,t0=Rc.length-1,fe={toStringTag:Z1};fe.absoluteValue=fe.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),Ce(t)};fe.ceil=function(){return Ce(new this.constructor(this),this.e+1,2)};fe.clampedTo=fe.clamp=function(t,a){var i,o=this,s=o.constructor;if(t=new s(t),a=new s(a),!t.s||!a.s)return new s(NaN);if(t.gt(a))throw Error(fr+a);return i=o.cmp(t),i<0?t:o.cmp(a)>0?a:new s(o)};fe.comparedTo=fe.cmp=function(t){var a,i,o,s,c=this,u=c.d,m=(t=new c.constructor(t)).d,g=c.s,p=t.s;if(!u||!m)return!g||!p?NaN:g!==p?g:u===m?0:!u^g<0?1:-1;if(!u[0]||!m[0])return u[0]?g:m[0]?-p:0;if(g!==p)return g;if(c.e!==t.e)return c.e>t.e^g<0?1:-1;for(o=u.length,s=m.length,a=0,i=o<s?o:s;a<i;++a)if(u[a]!==m[a])return u[a]>m[a]^g<0?1:-1;return o===s?0:o>s^g<0?1:-1};fe.cosine=fe.cos=function(){var t,a,i=this,o=i.constructor;return i.d?i.d[0]?(t=o.precision,a=o.rounding,o.precision=t+Math.max(i.e,i.sd())+Ae,o.rounding=1,i=r5(o,nb(o,i)),o.precision=t,o.rounding=a,Ce(Ca==2||Ca==3?i.neg():i,t,a,!0)):new o(1):new o(NaN)};fe.cubeRoot=fe.cbrt=function(){var t,a,i,o,s,c,u,m,g,p,b=this,x=b.constructor;if(!b.isFinite()||b.isZero())return new x(b);for(Me=!1,c=b.s*kt(b.s*b,1/3),!c||Math.abs(c)==1/0?(i=jt(b.d),t=b.e,(c=(t-i.length+1)%3)&&(i+=c==1||c==-2?"0":"00"),c=kt(i,1/3),t=Ot((t+1)/3)-(t%3==(t<0?-1:2)),c==1/0?i="5e"+t:(i=c.toExponential(),i=i.slice(0,i.indexOf("e")+1)+t),o=new x(i),o.s=b.s):o=new x(c.toString()),u=(t=x.precision)+3;;)if(m=o,g=m.times(m).times(m),p=g.plus(b),o=et(p.plus(b).times(m),p.plus(g),u+2,1),jt(m.d).slice(0,u)===(i=jt(o.d)).slice(0,u))if(i=i.slice(u-3,u+1),i=="9999"||!s&&i=="4999"){if(!s&&(Ce(m,t+1,0),m.times(m).times(m).eq(b))){o=m;break}u+=4,s=1}else{(!+i||!+i.slice(1)&&i.charAt(0)=="5")&&(Ce(o,t+1,1),a=!o.times(o).times(o).eq(b));break}return Me=!0,Ce(o,t,x.rounding,a)};fe.decimalPlaces=fe.dp=function(){var t,a=this.d,i=NaN;if(a){if(t=a.length-1,i=(t-Ot(this.e/Ae))*Ae,t=a[t],t)for(;t%10==0;t/=10)i--;i<0&&(i=0)}return i};fe.dividedBy=fe.div=function(t){return et(this,new this.constructor(t))};fe.dividedToIntegerBy=fe.divToInt=function(t){var a=this,i=a.constructor;return Ce(et(a,new i(t),0,1,1),i.precision,i.rounding)};fe.equals=fe.eq=function(t){return this.cmp(t)===0};fe.floor=function(){return Ce(new this.constructor(this),this.e+1,3)};fe.greaterThan=fe.gt=function(t){return this.cmp(t)>0};fe.greaterThanOrEqualTo=fe.gte=function(t){var a=this.cmp(t);return a==1||a===0};fe.hyperbolicCosine=fe.cosh=function(){var t,a,i,o,s,c=this,u=c.constructor,m=new u(1);if(!c.isFinite())return new u(c.s?1/0:NaN);if(c.isZero())return m;i=u.precision,o=u.rounding,u.precision=i+Math.max(c.e,c.sd())+4,u.rounding=1,s=c.d.length,s<32?(t=Math.ceil(s/3),a=(1/$c(4,t)).toString()):(t=16,a="2.3283064365386962890625e-10"),c=Ji(u,1,c.times(a),new u(1),!0);for(var g,p=t,b=new u(8);p--;)g=c.times(c),c=m.minus(g.times(b.minus(g.times(b))));return Ce(c,u.precision=i,u.rounding=o,!0)};fe.hyperbolicSine=fe.sinh=function(){var t,a,i,o,s=this,c=s.constructor;if(!s.isFinite()||s.isZero())return new c(s);if(a=c.precision,i=c.rounding,c.precision=a+Math.max(s.e,s.sd())+4,c.rounding=1,o=s.d.length,o<3)s=Ji(c,2,s,s,!0);else{t=1.4*Math.sqrt(o),t=t>16?16:t|0,s=s.times(1/$c(5,t)),s=Ji(c,2,s,s,!0);for(var u,m=new c(5),g=new c(16),p=new c(20);t--;)u=s.times(s),s=s.times(m.plus(u.times(g.times(u).plus(p))))}return c.precision=a,c.rounding=i,Ce(s,a,i,!0)};fe.hyperbolicTangent=fe.tanh=function(){var t,a,i=this,o=i.constructor;return i.isFinite()?i.isZero()?new o(i):(t=o.precision,a=o.rounding,o.precision=t+7,o.rounding=1,et(i.sinh(),i.cosh(),o.precision=t,o.rounding=a)):new o(i.s)};fe.inverseCosine=fe.acos=function(){var t=this,a=t.constructor,i=t.abs().cmp(1),o=a.precision,s=a.rounding;return i!==-1?i===0?t.isNeg()?Vn(a,o,s):new a(0):new a(NaN):t.isZero()?Vn(a,o+4,s).times(.5):(a.precision=o+6,a.rounding=1,t=new a(1).minus(t).div(t.plus(1)).sqrt().atan(),a.precision=o,a.rounding=s,t.times(2))};fe.inverseHyperbolicCosine=fe.acosh=function(){var t,a,i=this,o=i.constructor;return i.lte(1)?new o(i.eq(1)?0:NaN):i.isFinite()?(t=o.precision,a=o.rounding,o.precision=t+Math.max(Math.abs(i.e),i.sd())+4,o.rounding=1,Me=!1,i=i.times(i).minus(1).sqrt().plus(i),Me=!0,o.precision=t,o.rounding=a,i.ln()):new o(i)};fe.inverseHyperbolicSine=fe.asinh=function(){var t,a,i=this,o=i.constructor;return!i.isFinite()||i.isZero()?new o(i):(t=o.precision,a=o.rounding,o.precision=t+2*Math.max(Math.abs(i.e),i.sd())+6,o.rounding=1,Me=!1,i=i.times(i).plus(1).sqrt().plus(i),Me=!0,o.precision=t,o.rounding=a,i.ln())};fe.inverseHyperbolicTangent=fe.atanh=function(){var t,a,i,o,s=this,c=s.constructor;return s.isFinite()?s.e>=0?new c(s.abs().eq(1)?s.s/0:s.isZero()?s:NaN):(t=c.precision,a=c.rounding,o=s.sd(),Math.max(o,t)<2*-s.e-1?Ce(new c(s),t,a,!0):(c.precision=i=o-s.e,s=et(s.plus(1),new c(1).minus(s),i+t,1),c.precision=t+4,c.rounding=1,s=s.ln(),c.precision=t,c.rounding=a,s.times(.5))):new c(NaN)};fe.inverseSine=fe.asin=function(){var t,a,i,o,s=this,c=s.constructor;return s.isZero()?new c(s):(a=s.abs().cmp(1),i=c.precision,o=c.rounding,a!==-1?a===0?(t=Vn(c,i+4,o).times(.5),t.s=s.s,t):new c(NaN):(c.precision=i+6,c.rounding=1,s=s.div(new c(1).minus(s.times(s)).sqrt().plus(1)).atan(),c.precision=i,c.rounding=o,s.times(2)))};fe.inverseTangent=fe.atan=function(){var t,a,i,o,s,c,u,m,g,p=this,b=p.constructor,x=b.precision,w=b.rounding;if(p.isFinite()){if(p.isZero())return new b(p);if(p.abs().eq(1)&&x+4<=t0)return u=Vn(b,x+4,w).times(.25),u.s=p.s,u}else{if(!p.s)return new b(NaN);if(x+4<=t0)return u=Vn(b,x+4,w).times(.5),u.s=p.s,u}for(b.precision=m=x+10,b.rounding=1,i=Math.min(28,m/Ae+2|0),t=i;t;--t)p=p.div(p.times(p).plus(1).sqrt().plus(1));for(Me=!1,a=Math.ceil(m/Ae),o=1,g=p.times(p),u=new b(p),s=p;t!==-1;)if(s=s.times(g),c=u.minus(s.div(o+=2)),s=s.times(g),u=c.plus(s.div(o+=2)),u.d[a]!==void 0)for(t=a;u.d[t]===c.d[t]&&t--;);return i&&(u=u.times(2<<i-1)),Me=!0,Ce(u,b.precision=x,b.rounding=w,!0)};fe.isFinite=function(){return!!this.d};fe.isInteger=fe.isInt=function(){return!!this.d&&Ot(this.e/Ae)>this.d.length-2};fe.isNaN=function(){return!this.s};fe.isNegative=fe.isNeg=function(){return this.s<0};fe.isPositive=fe.isPos=function(){return this.s>0};fe.isZero=function(){return!!this.d&&this.d[0]===0};fe.lessThan=fe.lt=function(t){return this.cmp(t)<0};fe.lessThanOrEqualTo=fe.lte=function(t){return this.cmp(t)<1};fe.logarithm=fe.log=function(t){var a,i,o,s,c,u,m,g,p=this,b=p.constructor,x=b.precision,w=b.rounding,E=5;if(t==null)t=new b(10),a=!0;else{if(t=new b(t),i=t.d,t.s<0||!i||!i[0]||t.eq(1))return new b(NaN);a=t.eq(10)}if(i=p.d,p.s<0||!i||!i[0]||p.eq(1))return new b(i&&!i[0]?-1/0:p.s!=1?NaN:i?0:1/0);if(a)if(i.length>1)c=!0;else{for(s=i[0];s%10===0;)s/=10;c=s!==1}if(Me=!1,m=x+E,u=or(p,m),o=a?Dc(b,m+10):or(t,m),g=et(u,o,m,1),gs(g.d,s=x,w))do if(m+=10,u=or(p,m),o=a?Dc(b,m+10):or(t,m),g=et(u,o,m,1),!c){+jt(g.d).slice(s+1,s+15)+1==1e14&&(g=Ce(g,x+1,0));break}while(gs(g.d,s+=10,w));return Me=!0,Ce(g,x,w)};fe.minus=fe.sub=function(t){var a,i,o,s,c,u,m,g,p,b,x,w,E=this,T=E.constructor;if(t=new T(t),!E.d||!t.d)return!E.s||!t.s?t=new T(NaN):E.d?t.s=-t.s:t=new T(t.d||E.s!==t.s?E:NaN),t;if(E.s!=t.s)return t.s=-t.s,E.plus(t);if(p=E.d,w=t.d,m=T.precision,g=T.rounding,!p[0]||!w[0]){if(w[0])t.s=-t.s;else if(p[0])t=new T(E);else return new T(g===3?-0:0);return Me?Ce(t,m,g):t}if(i=Ot(t.e/Ae),b=Ot(E.e/Ae),p=p.slice(),c=b-i,c){for(x=c<0,x?(a=p,c=-c,u=w.length):(a=w,i=b,u=p.length),o=Math.max(Math.ceil(m/Ae),u)+2,c>o&&(c=o,a.length=1),a.reverse(),o=c;o--;)a.push(0);a.reverse()}else{for(o=p.length,u=w.length,x=o<u,x&&(u=o),o=0;o<u;o++)if(p[o]!=w[o]){x=p[o]<w[o];break}c=0}for(x&&(a=p,p=w,w=a,t.s=-t.s),u=p.length,o=w.length-u;o>0;--o)p[u++]=0;for(o=w.length;o>c;){if(p[--o]<w[o]){for(s=o;s&&p[--s]===0;)p[s]=Ln-1;--p[s],p[o]+=Ln}p[o]-=w[o]}for(;p[--u]===0;)p.pop();for(;p[0]===0;p.shift())--i;return p[0]?(t.d=p,t.e=Fc(p,i),Me?Ce(t,m,g):t):new T(g===3?-0:0)};fe.modulo=fe.mod=function(t){var a,i=this,o=i.constructor;return t=new o(t),!i.d||!t.s||t.d&&!t.d[0]?new o(NaN):!t.d||i.d&&!i.d[0]?Ce(new o(i),o.precision,o.rounding):(Me=!1,o.modulo==9?(a=et(i,t.abs(),0,3,1),a.s*=t.s):a=et(i,t,0,o.modulo,1),a=a.times(t),Me=!0,i.minus(a))};fe.naturalExponential=fe.exp=function(){return n0(this)};fe.naturalLogarithm=fe.ln=function(){return or(this)};fe.negated=fe.neg=function(){var t=new this.constructor(this);return t.s=-t.s,Ce(t)};fe.plus=fe.add=function(t){var a,i,o,s,c,u,m,g,p,b,x=this,w=x.constructor;if(t=new w(t),!x.d||!t.d)return!x.s||!t.s?t=new w(NaN):x.d||(t=new w(t.d||x.s===t.s?x:NaN)),t;if(x.s!=t.s)return t.s=-t.s,x.minus(t);if(p=x.d,b=t.d,m=w.precision,g=w.rounding,!p[0]||!b[0])return b[0]||(t=new w(x)),Me?Ce(t,m,g):t;if(c=Ot(x.e/Ae),o=Ot(t.e/Ae),p=p.slice(),s=c-o,s){for(s<0?(i=p,s=-s,u=b.length):(i=b,o=c,u=p.length),c=Math.ceil(m/Ae),u=c>u?c+1:u+1,s>u&&(s=u,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(u=p.length,s=b.length,u-s<0&&(s=u,i=b,b=p,p=i),a=0;s;)a=(p[--s]=p[s]+b[s]+a)/Ln|0,p[s]%=Ln;for(a&&(p.unshift(a),++o),u=p.length;p[--u]==0;)p.pop();return t.d=p,t.e=Fc(p,o),Me?Ce(t,m,g):t};fe.precision=fe.sd=function(t){var a,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(fr+t);return i.d?(a=W1(i.d),t&&i.e+1>a&&(a=i.e+1)):a=NaN,a};fe.round=function(){var t=this,a=t.constructor;return Ce(new a(t),t.e+1,a.rounding)};fe.sine=fe.sin=function(){var t,a,i=this,o=i.constructor;return i.isFinite()?i.isZero()?new o(i):(t=o.precision,a=o.rounding,o.precision=t+Math.max(i.e,i.sd())+Ae,o.rounding=1,i=o5(o,nb(o,i)),o.precision=t,o.rounding=a,Ce(Ca>2?i.neg():i,t,a,!0)):new o(NaN)};fe.squareRoot=fe.sqrt=function(){var t,a,i,o,s,c,u=this,m=u.d,g=u.e,p=u.s,b=u.constructor;if(p!==1||!m||!m[0])return new b(!p||p<0&&(!m||m[0])?NaN:m?u:1/0);for(Me=!1,p=Math.sqrt(+u),p==0||p==1/0?(a=jt(m),(a.length+g)%2==0&&(a+="0"),p=Math.sqrt(a),g=Ot((g+1)/2)-(g<0||g%2),p==1/0?a="5e"+g:(a=p.toExponential(),a=a.slice(0,a.indexOf("e")+1)+g),o=new b(a)):o=new b(p.toString()),i=(g=b.precision)+3;;)if(c=o,o=c.plus(et(u,c,i+2,1)).times(.5),jt(c.d).slice(0,i)===(a=jt(o.d)).slice(0,i))if(a=a.slice(i-3,i+1),a=="9999"||!s&&a=="4999"){if(!s&&(Ce(c,g+1,0),c.times(c).eq(u))){o=c;break}i+=4,s=1}else{(!+a||!+a.slice(1)&&a.charAt(0)=="5")&&(Ce(o,g+1,1),t=!o.times(o).eq(u));break}return Me=!0,Ce(o,g,b.rounding,t)};fe.tangent=fe.tan=function(){var t,a,i=this,o=i.constructor;return i.isFinite()?i.isZero()?new o(i):(t=o.precision,a=o.rounding,o.precision=t+10,o.rounding=1,i=i.sin(),i.s=1,i=et(i,new o(1).minus(i.times(i)).sqrt(),t+10,0),o.precision=t,o.rounding=a,Ce(Ca==2||Ca==4?i.neg():i,t,a,!0)):new o(NaN)};fe.times=fe.mul=function(t){var a,i,o,s,c,u,m,g,p,b=this,x=b.constructor,w=b.d,E=(t=new x(t)).d;if(t.s*=b.s,!w||!w[0]||!E||!E[0])return new x(!t.s||w&&!w[0]&&!E||E&&!E[0]&&!w?NaN:!w||!E?t.s/0:t.s*0);for(i=Ot(b.e/Ae)+Ot(t.e/Ae),g=w.length,p=E.length,g<p&&(c=w,w=E,E=c,u=g,g=p,p=u),c=[],u=g+p,o=u;o--;)c.push(0);for(o=p;--o>=0;){for(a=0,s=g+o;s>o;)m=c[s]+E[o]*w[s-o-1]+a,c[s--]=m%Ln|0,a=m/Ln|0;c[s]=(c[s]+a)%Ln|0}for(;!c[--u];)c.pop();return a?++i:c.shift(),t.d=c,t.e=Fc(c,i),Me?Ce(t,x.precision,x.rounding):t};fe.toBinary=function(t,a){return A0(this,2,t,a)};fe.toDecimalPlaces=fe.toDP=function(t,a){var i=this,o=i.constructor;return i=new o(i),t===void 0?i:(Xt(t,0,hr),a===void 0?a=o.rounding:Xt(a,0,8),Ce(i,t+i.e+1,a))};fe.toExponential=function(t,a){var i,o=this,s=o.constructor;return t===void 0?i=Kn(o,!0):(Xt(t,0,hr),a===void 0?a=s.rounding:Xt(a,0,8),o=Ce(new s(o),t+1,a),i=Kn(o,!0,t+1)),o.isNeg()&&!o.isZero()?"-"+i:i};fe.toFixed=function(t,a){var i,o,s=this,c=s.constructor;return t===void 0?i=Kn(s):(Xt(t,0,hr),a===void 0?a=c.rounding:Xt(a,0,8),o=Ce(new c(s),t+s.e+1,a),i=Kn(o,!1,t+o.e+1)),s.isNeg()&&!s.isZero()?"-"+i:i};fe.toFraction=function(t){var a,i,o,s,c,u,m,g,p,b,x,w,E=this,T=E.d,k=E.constructor;if(!T)return new k(E);if(p=i=new k(1),o=g=new k(0),a=new k(o),c=a.e=W1(T)-E.e-1,u=c%Ae,a.d[0]=kt(10,u<0?Ae+u:u),t==null)t=c>0?a:p;else{if(m=new k(t),!m.isInt()||m.lt(p))throw Error(fr+m);t=m.gt(a)?c>0?a:p:m}for(Me=!1,m=new k(jt(T)),b=k.precision,k.precision=c=T.length*Ae*2;x=et(m,a,0,1,1),s=i.plus(x.times(o)),s.cmp(t)!=1;)i=o,o=s,s=p,p=g.plus(x.times(s)),g=s,s=a,a=m.minus(x.times(s)),m=s;return s=et(t.minus(i),o,0,1,1),g=g.plus(s.times(p)),i=i.plus(s.times(o)),g.s=p.s=E.s,w=et(p,o,c,1).minus(E).abs().cmp(et(g,i,c,1).minus(E).abs())<1?[p,o]:[g,i],k.precision=b,Me=!0,w};fe.toHexadecimal=fe.toHex=function(t,a){return A0(this,16,t,a)};fe.toNearest=function(t,a){var i=this,o=i.constructor;if(i=new o(i),t==null){if(!i.d)return i;t=new o(1),a=o.rounding}else{if(t=new o(t),a===void 0?a=o.rounding:Xt(a,0,8),!i.d)return t.s?i:t;if(!t.d)return t.s&&(t.s=i.s),t}return t.d[0]?(Me=!1,i=et(i,t,0,a,1).times(t),Me=!0,Ce(i)):(t.s=i.s,i=t),i};fe.toNumber=function(){return+this};fe.toOctal=function(t,a){return A0(this,8,t,a)};fe.toPower=fe.pow=function(t){var a,i,o,s,c,u,m=this,g=m.constructor,p=+(t=new g(t));if(!m.d||!t.d||!m.d[0]||!t.d[0])return new g(kt(+m,p));if(m=new g(m),m.eq(1))return m;if(o=g.precision,c=g.rounding,t.eq(1))return Ce(m,o,c);if(a=Ot(t.e/Ae),a>=t.d.length-1&&(i=p<0?-p:p)<=n5)return s=J1(g,m,i,o),t.s<0?new g(1).div(s):Ce(s,o,c);if(u=m.s,u<0){if(a<t.d.length-1)return new g(NaN);if((t.d[a]&1)==0&&(u=1),m.e==0&&m.d[0]==1&&m.d.length==1)return m.s=u,m}return i=kt(+m,p),a=i==0||!isFinite(i)?Ot(p*(Math.log("0."+jt(m.d))/Math.LN10+m.e+1)):new g(i+"").e,a>g.maxE+1||a<g.minE-1?new g(a>0?u/0:0):(Me=!1,g.rounding=m.s=1,i=Math.min(12,(a+"").length),s=n0(t.times(or(m,o+i)),o),s.d&&(s=Ce(s,o+5,1),gs(s.d,o,c)&&(a=o+10,s=Ce(n0(t.times(or(m,a+i)),a),a+5,1),+jt(s.d).slice(o+1,o+15)+1==1e14&&(s=Ce(s,o+1,0)))),s.s=u,Me=!0,g.rounding=c,Ce(s,o,c))};fe.toPrecision=function(t,a){var i,o=this,s=o.constructor;return t===void 0?i=Kn(o,o.e<=s.toExpNeg||o.e>=s.toExpPos):(Xt(t,1,hr),a===void 0?a=s.rounding:Xt(a,0,8),o=Ce(new s(o),t,a),i=Kn(o,t<=o.e||o.e<=s.toExpNeg,t)),o.isNeg()&&!o.isZero()?"-"+i:i};fe.toSignificantDigits=fe.toSD=function(t,a){var i=this,o=i.constructor;return t===void 0?(t=o.precision,a=o.rounding):(Xt(t,1,hr),a===void 0?a=o.rounding:Xt(a,0,8)),Ce(new o(i),t,a)};fe.toString=function(){var t=this,a=t.constructor,i=Kn(t,t.e<=a.toExpNeg||t.e>=a.toExpPos);return t.isNeg()&&!t.isZero()?"-"+i:i};fe.truncated=fe.trunc=function(){return Ce(new this.constructor(this),this.e+1,1)};fe.valueOf=fe.toJSON=function(){var t=this,a=t.constructor,i=Kn(t,t.e<=a.toExpNeg||t.e>=a.toExpPos);return t.isNeg()?"-"+i:i};function jt(t){var a,i,o,s=t.length-1,c="",u=t[0];if(s>0){for(c+=u,a=1;a<s;a++)o=t[a]+"",i=Ae-o.length,i&&(c+=rr(i)),c+=o;u=t[a],o=u+"",i=Ae-o.length,i&&(c+=rr(i))}else if(u===0)return"0";for(;u%10===0;)u/=10;return c+u}function Xt(t,a,i){if(t!==~~t||t<a||t>i)throw Error(fr+t)}function gs(t,a,i,o){var s,c,u,m;for(c=t[0];c>=10;c/=10)--a;return--a<0?(a+=Ae,s=0):(s=Math.ceil((a+1)/Ae),a%=Ae),c=kt(10,Ae-a),m=t[s]%c|0,o==null?a<3?(a==0?m=m/100|0:a==1&&(m=m/10|0),u=i<4&&m==99999||i>3&&m==49999||m==5e4||m==0):u=(i<4&&m+1==c||i>3&&m+1==c/2)&&(t[s+1]/c/100|0)==kt(10,a-2)-1||(m==c/2||m==0)&&(t[s+1]/c/100|0)==0:a<4?(a==0?m=m/1e3|0:a==1?m=m/100|0:a==2&&(m=m/10|0),u=(o||i<4)&&m==9999||!o&&i>3&&m==4999):u=((o||i<4)&&m+1==c||!o&&i>3&&m+1==c/2)&&(t[s+1]/c/1e3|0)==kt(10,a-3)-1,u}function pc(t,a,i){for(var o,s=[0],c,u=0,m=t.length;u<m;){for(c=s.length;c--;)s[c]*=a;for(s[0]+=Jf.indexOf(t.charAt(u++)),o=0;o<s.length;o++)s[o]>i-1&&(s[o+1]===void 0&&(s[o+1]=0),s[o+1]+=s[o]/i|0,s[o]%=i)}return s.reverse()}function r5(t,a){var i,o,s;if(a.isZero())return a;o=a.d.length,o<32?(i=Math.ceil(o/3),s=(1/$c(4,i)).toString()):(i=16,s="2.3283064365386962890625e-10"),t.precision+=i,a=Ji(t,1,a.times(s),new t(1));for(var c=i;c--;){var u=a.times(a);a=u.times(u).minus(u).times(8).plus(1)}return t.precision-=i,a}var et=(function(){function t(o,s,c){var u,m=0,g=o.length;for(o=o.slice();g--;)u=o[g]*s+m,o[g]=u%c|0,m=u/c|0;return m&&o.unshift(m),o}function a(o,s,c,u){var m,g;if(c!=u)g=c>u?1:-1;else for(m=g=0;m<c;m++)if(o[m]!=s[m]){g=o[m]>s[m]?1:-1;break}return g}function i(o,s,c,u){for(var m=0;c--;)o[c]-=m,m=o[c]<s[c]?1:0,o[c]=m*u+o[c]-s[c];for(;!o[0]&&o.length>1;)o.shift()}return function(o,s,c,u,m,g){var p,b,x,w,E,T,k,O,z,M,_,R,q,I,Y,v,N,B,H,U,F=o.constructor,D=o.s==s.s?1:-1,j=o.d,S=s.d;if(!j||!j[0]||!S||!S[0])return new F(!o.s||!s.s||(j?S&&j[0]==S[0]:!S)?NaN:j&&j[0]==0||!S?D*0:D/0);for(g?(E=1,b=o.e-s.e):(g=Ln,E=Ae,b=Ot(o.e/E)-Ot(s.e/E)),H=S.length,N=j.length,z=new F(D),M=z.d=[],x=0;S[x]==(j[x]||0);x++);if(S[x]>(j[x]||0)&&b--,c==null?(I=c=F.precision,u=F.rounding):m?I=c+(o.e-s.e)+1:I=c,I<0)M.push(1),T=!0;else{if(I=I/E+2|0,x=0,H==1){for(w=0,S=S[0],I++;(x<N||w)&&I--;x++)Y=w*g+(j[x]||0),M[x]=Y/S|0,w=Y%S|0;T=w||x<N}else{for(w=g/(S[0]+1)|0,w>1&&(S=t(S,w,g),j=t(j,w,g),H=S.length,N=j.length),v=H,_=j.slice(0,H),R=_.length;R<H;)_[R++]=0;U=S.slice(),U.unshift(0),B=S[0],S[1]>=g/2&&++B;do w=0,p=a(S,_,H,R),p<0?(q=_[0],H!=R&&(q=q*g+(_[1]||0)),w=q/B|0,w>1?(w>=g&&(w=g-1),k=t(S,w,g),O=k.length,R=_.length,p=a(k,_,O,R),p==1&&(w--,i(k,H<O?U:S,O,g))):(w==0&&(p=w=1),k=S.slice()),O=k.length,O<R&&k.unshift(0),i(_,k,R,g),p==-1&&(R=_.length,p=a(S,_,H,R),p<1&&(w++,i(_,H<R?U:S,R,g))),R=_.length):p===0&&(w++,_=[0]),M[x++]=w,p&&_[0]?_[R++]=j[v]||0:(_=[j[v]],R=1);while((v++<N||_[0]!==void 0)&&I--);T=_[0]!==void 0}M[0]||M.shift()}if(E==1)z.e=b,F1=T;else{for(x=1,w=M[0];w>=10;w/=10)x++;z.e=x+b*E-1,Ce(z,m?c+z.e+1:c,u,T)}return z}})();function Ce(t,a,i,o){var s,c,u,m,g,p,b,x,w,E=t.constructor;e:if(a!=null){if(x=t.d,!x)return t;for(s=1,m=x[0];m>=10;m/=10)s++;if(c=a-s,c<0)c+=Ae,u=a,b=x[w=0],g=b/kt(10,s-u-1)%10|0;else if(w=Math.ceil((c+1)/Ae),m=x.length,w>=m)if(o){for(;m++<=w;)x.push(0);b=g=0,s=1,c%=Ae,u=c-Ae+1}else break e;else{for(b=m=x[w],s=1;m>=10;m/=10)s++;c%=Ae,u=c-Ae+s,g=u<0?0:b/kt(10,s-u-1)%10|0}if(o=o||a<0||x[w+1]!==void 0||(u<0?b:b%kt(10,s-u-1)),p=i<4?(g||o)&&(i==0||i==(t.s<0?3:2)):g>5||g==5&&(i==4||o||i==6&&(c>0?u>0?b/kt(10,s-u):0:x[w-1])%10&1||i==(t.s<0?8:7)),a<1||!x[0])return x.length=0,p?(a-=t.e+1,x[0]=kt(10,(Ae-a%Ae)%Ae),t.e=-a||0):x[0]=t.e=0,t;if(c==0?(x.length=w,m=1,w--):(x.length=w+1,m=kt(10,Ae-c),x[w]=u>0?(b/kt(10,s-u)%kt(10,u)|0)*m:0),p)for(;;)if(w==0){for(c=1,u=x[0];u>=10;u/=10)c++;for(u=x[0]+=m,m=1;u>=10;u/=10)m++;c!=m&&(t.e++,x[0]==Ln&&(x[0]=1));break}else{if(x[w]+=m,x[w]!=Ln)break;x[w--]=0,m=1}for(c=x.length;x[--c]===0;)x.pop()}return Me&&(t.e>E.maxE?(t.d=null,t.e=NaN):t.e<E.minE&&(t.e=0,t.d=[0])),t}function Kn(t,a,i){if(!t.isFinite())return tb(t);var o,s=t.e,c=jt(t.d),u=c.length;return a?(i&&(o=i-u)>0?c=c.charAt(0)+"."+c.slice(1)+rr(o):u>1&&(c=c.charAt(0)+"."+c.slice(1)),c=c+(t.e<0?"e":"e+")+t.e):s<0?(c="0."+rr(-s-1)+c,i&&(o=i-u)>0&&(c+=rr(o))):s>=u?(c+=rr(s+1-u),i&&(o=i-s-1)>0&&(c=c+"."+rr(o))):((o=s+1)<u&&(c=c.slice(0,o)+"."+c.slice(o)),i&&(o=i-u)>0&&(s+1===u&&(c+="."),c+=rr(o))),c}function Fc(t,a){var i=t[0];for(a*=Ae;i>=10;i/=10)a++;return a}function Dc(t,a,i){if(a>a5)throw Me=!0,i&&(t.precision=i),Error($1);return Ce(new t(jc),a,1,!0)}function Vn(t,a,i){if(a>t0)throw Error($1);return Ce(new t(Rc),a,i,!0)}function W1(t){var a=t.length-1,i=a*Ae+1;if(a=t[a],a){for(;a%10==0;a/=10)i--;for(a=t[0];a>=10;a/=10)i++}return i}function rr(t){for(var a="";t--;)a+="0";return a}function J1(t,a,i,o){var s,c=new t(1),u=Math.ceil(o/Ae+4);for(Me=!1;;){if(i%2&&(c=c.times(a),Ky(c.d,u)&&(s=!0)),i=Ot(i/2),i===0){i=c.d.length-1,s&&c.d[i]===0&&++c.d[i];break}a=a.times(a),Ky(a.d,u)}return Me=!0,c}function qy(t){return t.d[t.d.length-1]&1}function eb(t,a,i){for(var o,s,c=new t(a[0]),u=0;++u<a.length;){if(s=new t(a[u]),!s.s){c=s;break}o=c.cmp(s),(o===i||o===0&&c.s===i)&&(c=s)}return c}function n0(t,a){var i,o,s,c,u,m,g,p=0,b=0,x=0,w=t.constructor,E=w.rounding,T=w.precision;if(!t.d||!t.d[0]||t.e>17)return new w(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(a==null?(Me=!1,g=T):g=a,m=new w(.03125);t.e>-2;)t=t.times(m),x+=5;for(o=Math.log(kt(2,x))/Math.LN10*2+5|0,g+=o,i=c=u=new w(1),w.precision=g;;){if(c=Ce(c.times(t),g,1),i=i.times(++b),m=u.plus(et(c,i,g,1)),jt(m.d).slice(0,g)===jt(u.d).slice(0,g)){for(s=x;s--;)u=Ce(u.times(u),g,1);if(a==null)if(p<3&&gs(u.d,g-o,E,p))w.precision=g+=10,i=c=m=new w(1),b=0,p++;else return Ce(u,w.precision=T,E,Me=!0);else return w.precision=T,u}u=m}}function or(t,a){var i,o,s,c,u,m,g,p,b,x,w,E=1,T=10,k=t,O=k.d,z=k.constructor,M=z.rounding,_=z.precision;if(k.s<0||!O||!O[0]||!k.e&&O[0]==1&&O.length==1)return new z(O&&!O[0]?-1/0:k.s!=1?NaN:O?0:k);if(a==null?(Me=!1,b=_):b=a,z.precision=b+=T,i=jt(O),o=i.charAt(0),Math.abs(c=k.e)<15e14){for(;o<7&&o!=1||o==1&&i.charAt(1)>3;)k=k.times(t),i=jt(k.d),o=i.charAt(0),E++;c=k.e,o>1?(k=new z("0."+i),c++):k=new z(o+"."+i.slice(1))}else return p=Dc(z,b+2,_).times(c+""),k=or(new z(o+"."+i.slice(1)),b-T).plus(p),z.precision=_,a==null?Ce(k,_,M,Me=!0):k;for(x=k,g=u=k=et(k.minus(1),k.plus(1),b,1),w=Ce(k.times(k),b,1),s=3;;){if(u=Ce(u.times(w),b,1),p=g.plus(et(u,new z(s),b,1)),jt(p.d).slice(0,b)===jt(g.d).slice(0,b))if(g=g.times(2),c!==0&&(g=g.plus(Dc(z,b+2,_).times(c+""))),g=et(g,new z(E),b,1),a==null)if(gs(g.d,b-T,M,m))z.precision=b+=T,p=u=k=et(x.minus(1),x.plus(1),b,1),w=Ce(k.times(k),b,1),s=m=1;else return Ce(g,z.precision=_,M,Me=!0);else return z.precision=_,g;g=p,s+=2}}function tb(t){return String(t.s*t.s/0)}function gc(t,a){var i,o,s;for((i=a.indexOf("."))>-1&&(a=a.replace(".","")),(o=a.search(/e/i))>0?(i<0&&(i=o),i+=+a.slice(o+1),a=a.substring(0,o)):i<0&&(i=a.length),o=0;a.charCodeAt(o)===48;o++);for(s=a.length;a.charCodeAt(s-1)===48;--s);if(a=a.slice(o,s),a){if(s-=o,t.e=i=i-o-1,t.d=[],o=(i+1)%Ae,i<0&&(o+=Ae),o<s){for(o&&t.d.push(+a.slice(0,o)),s-=Ae;o<s;)t.d.push(+a.slice(o,o+=Ae));a=a.slice(o),o=Ae-a.length}else o-=s;for(;o--;)a+="0";t.d.push(+a),Me&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function i5(t,a){var i,o,s,c,u,m,g,p,b;if(a.indexOf("_")>-1){if(a=a.replace(/(\d)_(?=\d)/g,"$1"),Q1.test(a))return gc(t,a)}else if(a==="Infinity"||a==="NaN")return+a||(t.s=NaN),t.e=NaN,t.d=null,t;if(e5.test(a))i=16,a=a.toLowerCase();else if(J4.test(a))i=2;else if(t5.test(a))i=8;else throw Error(fr+a);for(c=a.search(/p/i),c>0?(g=+a.slice(c+1),a=a.substring(2,c)):a=a.slice(2),c=a.indexOf("."),u=c>=0,o=t.constructor,u&&(a=a.replace(".",""),m=a.length,c=m-c,s=J1(o,new o(i),c,c*2)),p=pc(a,i,Ln),b=p.length-1,c=b;p[c]===0;--c)p.pop();return c<0?new o(t.s*0):(t.e=Fc(p,b),t.d=p,Me=!1,u&&(t=et(t,s,m*4)),g&&(t=t.times(Math.abs(g)<54?kt(2,g):Es.pow(2,g))),Me=!0,t)}function o5(t,a){var i,o=a.d.length;if(o<3)return a.isZero()?a:Ji(t,2,a,a);i=1.4*Math.sqrt(o),i=i>16?16:i|0,a=a.times(1/$c(5,i)),a=Ji(t,2,a,a);for(var s,c=new t(5),u=new t(16),m=new t(20);i--;)s=a.times(a),a=a.times(c.plus(s.times(u.times(s).minus(m))));return a}function Ji(t,a,i,o,s){var c,u,m,g,p=t.precision,b=Math.ceil(p/Ae);for(Me=!1,g=i.times(i),m=new t(o);;){if(u=et(m.times(g),new t(a++*a++),p,1),m=s?o.plus(u):o.minus(u),o=et(u.times(g),new t(a++*a++),p,1),u=m.plus(o),u.d[b]!==void 0){for(c=b;u.d[c]===m.d[c]&&c--;);if(c==-1)break}c=m,m=o,o=u,u=c}return Me=!0,u.d.length=b+1,u}function $c(t,a){for(var i=t;--a;)i*=t;return i}function nb(t,a){var i,o=a.s<0,s=Vn(t,t.precision,1),c=s.times(.5);if(a=a.abs(),a.lte(c))return Ca=o?4:1,a;if(i=a.divToInt(s),i.isZero())Ca=o?3:2;else{if(a=a.minus(i.times(s)),a.lte(c))return Ca=qy(i)?o?2:3:o?4:1,a;Ca=qy(i)?o?1:4:o?3:2}return a.minus(s).abs()}function A0(t,a,i,o){var s,c,u,m,g,p,b,x,w,E=t.constructor,T=i!==void 0;if(T?(Xt(i,1,hr),o===void 0?o=E.rounding:Xt(o,0,8)):(i=E.precision,o=E.rounding),!t.isFinite())b=tb(t);else{for(b=Kn(t),u=b.indexOf("."),T?(s=2,a==16?i=i*4-3:a==8&&(i=i*3-2)):s=a,u>=0&&(b=b.replace(".",""),w=new E(1),w.e=b.length-u,w.d=pc(Kn(w),10,s),w.e=w.d.length),x=pc(b,10,s),c=g=x.length;x[--g]==0;)x.pop();if(!x[0])b=T?"0p+0":"0";else{if(u<0?c--:(t=new E(t),t.d=x,t.e=c,t=et(t,w,i,o,0,s),x=t.d,c=t.e,p=F1),u=x[i],m=s/2,p=p||x[i+1]!==void 0,p=o<4?(u!==void 0||p)&&(o===0||o===(t.s<0?3:2)):u>m||u===m&&(o===4||p||o===6&&x[i-1]&1||o===(t.s<0?8:7)),x.length=i,p)for(;++x[--i]>s-1;)x[i]=0,i||(++c,x.unshift(1));for(g=x.length;!x[g-1];--g);for(u=0,b="";u<g;u++)b+=Jf.charAt(x[u]);if(T){if(g>1)if(a==16||a==8){for(u=a==16?4:3,--g;g%u;g++)b+="0";for(x=pc(b,s,a),g=x.length;!x[g-1];--g);for(u=1,b="1.";u<g;u++)b+=Jf.charAt(x[u])}else b=b.charAt(0)+"."+b.slice(1);b=b+(c<0?"p":"p+")+c}else if(c<0){for(;++c;)b="0"+b;b="0."+b}else if(++c>g)for(c-=g;c--;)b+="0";else c<g&&(b=b.slice(0,c)+"."+b.slice(c))}b=(a==16?"0x":a==2?"0b":a==8?"0o":"")+b}return t.s<0?"-"+b:b}function Ky(t,a){if(t.length>a)return t.length=a,!0}function s5(t){return new this(t).abs()}function l5(t){return new this(t).acos()}function c5(t){return new this(t).acosh()}function u5(t,a){return new this(t).plus(a)}function d5(t){return new this(t).asin()}function f5(t){return new this(t).asinh()}function h5(t){return new this(t).atan()}function m5(t){return new this(t).atanh()}function p5(t,a){t=new this(t),a=new this(a);var i,o=this.precision,s=this.rounding,c=o+4;return!t.s||!a.s?i=new this(NaN):!t.d&&!a.d?(i=Vn(this,c,1).times(a.s>0?.25:.75),i.s=t.s):!a.d||t.isZero()?(i=a.s<0?Vn(this,o,s):new this(0),i.s=t.s):!t.d||a.isZero()?(i=Vn(this,c,1).times(.5),i.s=t.s):a.s<0?(this.precision=c,this.rounding=1,i=this.atan(et(t,a,c,1)),a=Vn(this,c,1),this.precision=o,this.rounding=s,i=t.s<0?i.minus(a):i.plus(a)):i=this.atan(et(t,a,c,1)),i}function g5(t){return new this(t).cbrt()}function y5(t){return Ce(t=new this(t),t.e+1,2)}function x5(t,a,i){return new this(t).clamp(a,i)}function b5(t){if(!t||typeof t!="object")throw Error(Kc+"Object expected");var a,i,o,s=t.defaults===!0,c=["precision",1,hr,"rounding",0,8,"toExpNeg",-Bi,0,"toExpPos",0,Bi,"maxE",0,Bi,"minE",-Bi,0,"modulo",0,9];for(a=0;a<c.length;a+=3)if(i=c[a],s&&(this[i]=e0[i]),(o=t[i])!==void 0)if(Ot(o)===o&&o>=c[a+1]&&o<=c[a+2])this[i]=o;else throw Error(fr+i+": "+o);if(i="crypto",s&&(this[i]=e0[i]),(o=t[i])!==void 0)if(o===!0||o===!1||o===0||o===1)if(o)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[i]=!0;else throw Error(X1);else this[i]=!1;else throw Error(fr+i+": "+o);return this}function w5(t){return new this(t).cos()}function v5(t){return new this(t).cosh()}function ab(t){var a,i,o;function s(c){var u,m,g,p=this;if(!(p instanceof s))return new s(c);if(p.constructor=s,Fy(c)){p.s=c.s,Me?!c.d||c.e>s.maxE?(p.e=NaN,p.d=null):c.e<s.minE?(p.e=0,p.d=[0]):(p.e=c.e,p.d=c.d.slice()):(p.e=c.e,p.d=c.d?c.d.slice():c.d);return}if(g=typeof c,g==="number"){if(c===0){p.s=1/c<0?-1:1,p.e=0,p.d=[0];return}if(c<0?(c=-c,p.s=-1):p.s=1,c===~~c&&c<1e7){for(u=0,m=c;m>=10;m/=10)u++;Me?u>s.maxE?(p.e=NaN,p.d=null):u<s.minE?(p.e=0,p.d=[0]):(p.e=u,p.d=[c]):(p.e=u,p.d=[c]);return}if(c*0!==0){c||(p.s=NaN),p.e=NaN,p.d=null;return}return gc(p,c.toString())}if(g==="string")return(m=c.charCodeAt(0))===45?(c=c.slice(1),p.s=-1):(m===43&&(c=c.slice(1)),p.s=1),Q1.test(c)?gc(p,c):i5(p,c);if(g==="bigint")return c<0?(c=-c,p.s=-1):p.s=1,gc(p,c.toString());throw Error(fr+c)}if(s.prototype=fe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=b5,s.clone=ab,s.isDecimal=Fy,s.abs=s5,s.acos=l5,s.acosh=c5,s.add=u5,s.asin=d5,s.asinh=f5,s.atan=h5,s.atanh=m5,s.atan2=p5,s.cbrt=g5,s.ceil=y5,s.clamp=x5,s.cos=w5,s.cosh=v5,s.div=k5,s.exp=C5,s.floor=S5,s.hypot=E5,s.ln=N5,s.log=T5,s.log10=A5,s.log2=_5,s.max=M5,s.min=j5,s.mod=R5,s.mul=D5,s.pow=L5,s.random=O5,s.round=H5,s.sign=z5,s.sin=U5,s.sinh=P5,s.sqrt=I5,s.sub=B5,s.sum=G5,s.tan=V5,s.tanh=Y5,s.trunc=q5,t===void 0&&(t={}),t&&t.defaults!==!0)for(o=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],a=0;a<o.length;)t.hasOwnProperty(i=o[a++])||(t[i]=this[i]);return s.config(t),s}function k5(t,a){return new this(t).div(a)}function C5(t){return new this(t).exp()}function S5(t){return Ce(t=new this(t),t.e+1,3)}function E5(){var t,a,i=new this(0);for(Me=!1,t=0;t<arguments.length;)if(a=new this(arguments[t++]),a.d)i.d&&(i=i.plus(a.times(a)));else{if(a.s)return Me=!0,new this(1/0);i=a}return Me=!0,i.sqrt()}function Fy(t){return t instanceof Es||t&&t.toStringTag===Z1||!1}function N5(t){return new this(t).ln()}function T5(t,a){return new this(t).log(a)}function _5(t){return new this(t).log(2)}function A5(t){return new this(t).log(10)}function M5(){return eb(this,arguments,-1)}function j5(){return eb(this,arguments,1)}function R5(t,a){return new this(t).mod(a)}function D5(t,a){return new this(t).mul(a)}function L5(t,a){return new this(t).pow(a)}function O5(t){var a,i,o,s,c=0,u=new this(1),m=[];if(t===void 0?t=this.precision:Xt(t,1,hr),o=Math.ceil(t/Ae),this.crypto)if(crypto.getRandomValues)for(a=crypto.getRandomValues(new Uint32Array(o));c<o;)s=a[c],s>=429e7?a[c]=crypto.getRandomValues(new Uint32Array(1))[0]:m[c++]=s%1e7;else if(crypto.randomBytes){for(a=crypto.randomBytes(o*=4);c<o;)s=a[c]+(a[c+1]<<8)+(a[c+2]<<16)+((a[c+3]&127)<<24),s>=214e7?crypto.randomBytes(4).copy(a,c):(m.push(s%1e7),c+=4);c=o/4}else throw Error(X1);else for(;c<o;)m[c++]=Math.random()*1e7|0;for(o=m[--c],t%=Ae,o&&t&&(s=kt(10,Ae-t),m[c]=(o/s|0)*s);m[c]===0;c--)m.pop();if(c<0)i=0,m=[0];else{for(i=-1;m[0]===0;i-=Ae)m.shift();for(o=1,s=m[0];s>=10;s/=10)o++;o<Ae&&(i-=Ae-o)}return u.e=i,u.d=m,u}function H5(t){return Ce(t=new this(t),t.e+1,this.rounding)}function z5(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function U5(t){return new this(t).sin()}function P5(t){return new this(t).sinh()}function I5(t){return new this(t).sqrt()}function B5(t,a){return new this(t).sub(a)}function G5(){var t=0,a=arguments,i=new this(a[t]);for(Me=!1;i.s&&++t<a.length;)i=i.plus(a[t]);return Me=!0,Ce(i,this.precision,this.rounding)}function V5(t){return new this(t).tan()}function Y5(t){return new this(t).tanh()}function q5(t){return Ce(t=new this(t),t.e+1,1)}fe[Symbol.for("nodejs.util.inspect.custom")]=fe.toString;fe[Symbol.toStringTag]="Decimal";var Es=fe.constructor=ab(e0);jc=new Es(jc);Rc=new Es(Rc);const K5=(t,a)=>{if(t.lte(0))return new f(0);if(a===0)return new f(1);if(a===1)return t;try{const o=new Es(t.toString()).pow(a);return new f(o.toString())}catch(i){return console.error("safePow failed, falling back to approximation",i),t}},F5=(t,a,i)=>{let o=t,s=1,c=0;switch(a){case"Graphite":s+=i.graphiteRewardMultiplier,c=i.graphiteRewardExponent;break;case"Wax":s+=i.waxRewardMultiplier,c=i.waxRewardExponent;break;case"Charcoal":s+=i.charcoalRewardMultiplier,c=i.charcoalRewardExponent;break;case"Coffee":s+=i.coffeeRewardMultiplier,c=i.coffeeRewardExponent;break;case"Ink":s+=i.inkRewardMultiplier,c=i.inkRewardExponent;break;case"Marker":s+=i.markerRewardMultiplier,c=i.markerRewardExponent;break;case"Acrylic":s+=i.acrylicRewardMultiplier,c=i.acrylicRewardExponent;break;case"Spray":s+=i.sprayRewardMultiplier,c=i.sprayRewardExponent;break;case"Photon":s+=i.photonRewardMultiplier,c=i.photonRewardExponent;break;case"Gold Leaf":s+=i.goldLeafRewardMultiplier,c=i.goldLeafRewardExponent;break}return s>1&&(o=o.times(s)),c>0&&o.gt(1)&&(o=K5(o,1+c)),o},$5=()=>{const{isFighting:t,fundamentals:a}=me(xt(s=>({isFighting:s.combatState.isFighting,fundamentals:s.fundamentals}))),i=a.timeAcceleration||1;xn(()=>{const s=me.getState();if(!s.combatState.isFighting)return;s.processCombatEffects();const c=Date.now();let u=0;for(;u<100;){const m=me.getState();if(!m.combatState.isFighting)break;const{combatState:g,playerStats:p,dealDamageToEnemy:b,dealDamageToPlayer:x,fundamentals:w}=m,E=w.timeAcceleration||1,T=p.SPD.toNumber(),k=g.statuses.player.Slow||0,O=g.statuses.player.Haste||0,z=1+k*.01,M=1/(1+O*.01),_=T/E*z*M,R=g.lastPlayerAttackTime+_,q=va[g.enemyId||""];let I=1/0,Y=new f(0);if(q&&g.currentEnemyHp.gt(0)){const v=q.stats.attackSpeed,N=g.statuses.enemy.Slow||0,B=g.statuses.enemy.Haste||0,H=1+N*.01,U=1/(1+B*.01),F=v/E*H*U;I=g.lastEnemyAttackTime+F,Y=q.stats.attack}if(R<=I&&R<=c)b(p.ATK,!1,R);else if(I<=c)x(Y,!1,I);else break;u++}},t?16:null),xn(()=>{const{combatState:s,playerStats:c,applyRegen:u}=me.getState();if(!s.isFighting)return;const m=c.Regen,g=va[s.enemyId||""],p=g&&g.stats.regen?g.stats.regen:new f(0);(m.gt(0)||p.gt(0))&&u(m,p)},t?1e3/i:null),xn(()=>{const{processStatusTicks:s}=me.getState();s()},t?1e3/i:null);const o=J.useRef(!1);return J.useEffect(()=>me.subscribe((c,u)=>{if(c.combatState===u.combatState)return;const m=c.combatState;if(!m.isFighting){o.current=!1;return}const g=m.currentEnemyHp.lte(0),p=m.currentPlayerHp.lte(0);if(g){if(o.current)return;o.current=!0;const{enemyId:b}=m,{getRewardMultiplier:x,addNotification:w,autoChallengeActive:E,challengeSketch:T,endCombat:k,fundamentals:O}=me.getState(),z=lt.find(M=>M.id===b);if(z){let M=1,_=0;if(m.currentEnemyHp.lt(0)&&O.overkillMultiplier>0){const H=m.currentEnemyHp.abs().times(O.overkillMultiplier),U=m.enemyMaxHp.gt(0)?m.enemyMaxHp:new f(1);_=H.div(U).integerValue(f.ROUND_FLOOR).toNumber()}M+=_;const R={},q={};let I=0;for(let B=0;B<M;B++){const H=me.getState().sketchVictories[z.id]||0,U=me.getState().maxVictories;if(H+I>=U)break;const F=x(z.id);z.rewards.forEach(D=>{const j=D.amount.times(F);if(!j.isZero()){const S=R[D.statName]||new f(0);R[D.statName]=S.plus(j)}}),z.currencyRewards&&z.currencyRewards.forEach(D=>{let j=D.amount.times(F);if(j=F5(j,D.name,O),j.gt(0)){const S=q[D.name]||new f(0);q[D.name]=S.plus(j)}}),I++}I>0&&me.getState().processCombatRewards(z.id,I,R,q);const Y=[];Object.entries(R).forEach(([B,H])=>{H.gt(0)&&Y.push(`+${ve(H)} ${B}`)}),Object.entries(q).forEach(([B,H])=>{H.gt(0)&&Y.push(`+${ve(H)} ${B}`)});const v=Y.length>0?`
Rewards:
${Y.join(`
`)}`:"";let N="";if(I>1?N=` (Overkill: +${I-1} victories!)`:_>0&&I===1&&(N=" (Overkill Limit Reached)"),w(`${z.name} defeated!${N} ${v}`,"COMBAT_VICTORY"),p){const B=O.deathRecovery;w(`...But you succumbed to your wounds! (${B}s cooldown)`,"COMBAT_DEFEAT"),k(B);return}if(E){const{sketchVictories:B,maxVictories:H,autoAdvanceActive:U,autoAdvanceUnlocked:F,hiddenSketches:D}=me.getState();if((B[z.id]||0)>=H)if(U&&F){const{availableSketches:S}=me.getState(),P=lt.filter(A=>S.includes(A.id)&&!D.includes(A.id)&&(B[A.id]||0)<H);P.length>0?(T(P[0].id,!0),o.current=!1):(w("All sketches maxed! Auto-challenge stopped.","COMBAT_FLEE"),me.setState({autoChallengeActive:!1}),k(0,!0))}else w("Max Victories reached. Auto-challenge paused.","COMBAT_FLEE"),k(0,!0);else T(z.id,!0),o.current=!1}else k(0,!0)}else k()}else if(p){if(o.current)return;o.current=!0;const{fundamentals:b,addNotification:x,endCombat:w}=me.getState(),E=b.deathRecovery;x(`Defeat! ${E} second cooldown.`,"COMBAT_DEFEAT"),w(E)}}),[]),xn(()=>{const s=me.getState(),{gainCurrencies:c}=s,u={};let m=!1;ix.forEach(g=>{if(s[g.unlockKey]){let p=new f(0);g.type==="flat"?p=g.amount:g.type==="scaling"&&(p=(s[g.source][g.sourceCurrency]||new f(0)).times(g.factor));const b=s.fundamentals.generatorMultiplier||1;let x=1;const w=g.currency;if(w==="Graphite"?x=s.fundamentals.graphiteGeneratorMultiplier:w==="Wax"?x=s.fundamentals.waxGeneratorMultiplier:w==="Charcoal"?x=s.fundamentals.charcoalGeneratorMultiplier:w==="Coffee"?x=s.fundamentals.coffeeGeneratorMultiplier:w==="Ink"?x=s.fundamentals.inkGeneratorMultiplier:w==="Marker"?x=s.fundamentals.markerGeneratorMultiplier:w==="Acrylic"?x=s.fundamentals.acrylicGeneratorMultiplier:w==="Spray"?x=s.fundamentals.sprayGeneratorMultiplier:w==="Photon"?x=s.fundamentals.photonGeneratorMultiplier:w==="Gold Leaf"&&(x=s.fundamentals.goldLeafGeneratorMultiplier),p=p.times(b).times(x),p.gt(0)){const E=g.currency;u[E]||(u[E]=new f(0)),u[E]=u[E].plus(p),m=!0}}}),m&&c(u)},1e3/i),xn(()=>{const s=me.getState(),{autoRetryActive:c,autoRetryUnlocked:u,lastEnemyId:m,challengeCooldownUntil:g,combatState:p,sketchVictories:b,maxVictories:x,autoAdvanceActive:w,autoAdvanceUnlocked:E,hiddenSketches:T,challengeSketch:k,availableSketches:O}=s;if(c&&u&&m&&!p.isFighting&&g<=Date.now()){const z=b[m]||0;if(w&&E&&z>=x){const M=lt.filter(_=>O.includes(_.id)&&!T.includes(_.id)&&(b[_.id]||0)<x);if(M.length>0){k(M[0].id,!0);return}}z<x&&k(m,!0)}},500/i),xn(()=>{const s=me.getState(),{concepts:c,conceptMilestones:u}=s,m=["Graphite","Wax","Charcoal","Coffee","Ink","Marker","Acrylic","Spray","Photon","Gold Leaf"],g={...c};let p=s.pendingQuintessence,b=!1;const x=new f(1).div(10).times(i);for(let z=m.length-1;z>=0;z--){const M=m[z],_=c[M],R=u[M];if(_.gt(0)&&R>0){const q=new f(1e3).pow(R-1),I=_.times(q).times(x);if(z>0){const Y=m[z-1];g[Y]=g[Y].plus(I),b=!0}else p=p.plus(I),b=!0}}b&&me.setState({concepts:g,pendingQuintessence:p});const{conceptualBridgeUnlocked:w,conceptualBridgeActive:E,maxReachedConceptMilestones:T,totalEarnedCurrencies:k,batchAdvanceMilestones:O}=s;if(w&&E){const z=[];m.forEach(M=>{const _=u[M],R=T[M]||0;if(_<R){const q=qi[_],I=k[M]||new f(0);q&&I.gte(q)&&z.push(M)}}),z.length>0&&O(z)}},100),xn(()=>{const s=me.getState(),{autoBuyUnlocked:c,autoBuyEnabled:u,buyUpgrade:m}=s;c&&sr.forEach(g=>{u[g.id]&&m(g.id)})},100),xn(()=>{me.getState().checkToolAffordability()},2e3),null},X5=()=>{const{isFighting:t,currentPlayerHp:a,currentEnemyHp:i,enemyMaxHp:o,playerStats:s,activeTab:c,setActiveTab:u,fleeBattle:m,floatingStatusPosition:g,setFloatingStatusPosition:p,combatState:b}=me(xt(v=>({isFighting:v.combatState.isFighting,currentPlayerHp:v.combatState.currentPlayerHp,currentEnemyHp:v.combatState.currentEnemyHp,enemyMaxHp:v.combatState.enemyMaxHp,playerStats:v.playerStats,activeTab:v.activeTab,setActiveTab:v.setActiveTab,fleeBattle:v.fleeBattle,floatingStatusPosition:v.floatingStatusPosition,setFloatingStatusPosition:v.setFloatingStatusPosition,combatState:v.combatState}))),[x,w]=J.useState(!1),E=J.useRef(g||{x:window.innerWidth/2,y:window.innerHeight-100}),T=J.useRef({x:0,y:0}),k=J.useRef(null);J.useEffect(()=>{g&&k.current&&(E.current=g,k.current.style.left=`${g.x}px`,k.current.style.top=`${g.y}px`)},[g]);const O=v=>{if(v.button!==0)return;w(!0);const N=k.current?.getBoundingClientRect();N&&(T.current={x:v.clientX-N.left,y:v.clientY-N.top}),v.target.setPointerCapture(v.pointerId)},z=v=>{if(!x||!k.current)return;v.preventDefault();let N=v.clientX-T.current.x,B=v.clientY-T.current.y;const H=k.current.offsetWidth,U=k.current.offsetHeight;N=Math.max(H/2,Math.min(window.innerWidth-H/2,N+H/2))-H/2,B=Math.max(U/2,Math.min(window.innerHeight-U/2,B+U/2))-U/2,E.current={x:N+H/2,y:B+U/2},k.current.style.left=`${E.current.x}px`,k.current.style.top=`${E.current.y}px`},M=v=>{x&&(w(!1),v.target.releasePointerCapture(v.pointerId),p(E.current))},_=v=>{const N="/rejected_draft/",B=N.endsWith("/")?N:`${N}/`,H=v.startsWith("/")?v.slice(1):v;return`${B}${H}`};if(!t||c==="Ink War")return null;const R=va[b.enemyId||""],q=s.HP,I=q.isZero()?0:Math.max(0,Math.min(100,a.div(q).times(100).toNumber())),Y=o.isZero()?0:Math.max(0,Math.min(100,i.div(o).times(100).toNumber()));return d.jsxs("div",{ref:k,className:`
                fixed z-[60] flex flex-col gap-2 p-3 rounded-xl shadow-2xl transition-shadow select-none touch-none
                bg-white/95 dark:bg-neutral-900/95 backdrop-blur-md border border-neutral-200 dark:border-neutral-700
                ${x?"shadow-blue-500/20 ring-2 ring-blue-500/50":""}
                w-[340px]
            `,style:{left:E.current.x,top:E.current.y,transform:"translate(-50%, -50%)"},onPointerDown:O,onPointerMove:z,onPointerUp:M,children:[d.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-3 items-center",children:[R&&d.jsx("div",{className:"w-[100px] h-[100px] bg-neutral-50 dark:bg-black/20 rounded-xl border border-neutral-200 dark:border-neutral-700 p-2 flex items-center justify-center relative shadow-inner overflow-hidden",children:d.jsx("img",{src:_(R.imagePath),className:"w-full h-full object-contain drop-shadow-md contrast-125 dark:contrast-100 dark:invert dark:hue-rotate-180 transition-all duration-500",alt:"",onError:v=>{v.currentTarget.style.display="none",v.currentTarget.parentElement.innerHTML='<svg viewBox="0 0 100 100" class="w-full h-full text-neutral-800 dark:text-neutral-200" fill="currentColor"><path d="M50 20c-15 0-25 10-25 25 0 10 5 20 15 25v20h20V70c10-5 15-15 15-25 0-15-10-25-25-25z" opacity="0.5"/></svg>'}})}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"flex flex-col gap-0.5",children:[d.jsxs("div",{className:"flex justify-between items-end px-1 leading-none",children:[d.jsx("span",{className:"text-[13px] font-black text-red-500 uppercase tracking-tighter truncate max-w-[140px]",children:R?.name||"Enemy"}),d.jsx("span",{className:"text-[14px] font-mono font-black text-neutral-700 dark:text-neutral-300",children:ve(i)})]}),d.jsx("div",{className:"w-full h-3 bg-neutral-100 dark:bg-neutral-800 rounded-full overflow-hidden shadow-inner border border-neutral-200 dark:border-neutral-700",children:d.jsx("div",{className:"h-full bg-red-500 transition-all duration-300 ease-out shadow-[0_0_8px_rgba(239,68,68,0.4)]",style:{width:`${Y}%`}})})]}),d.jsxs("div",{className:"flex flex-col gap-0.5",children:[d.jsxs("div",{className:"flex justify-between items-end px-1 leading-none",children:[d.jsx("span",{className:"text-[13px] font-black text-green-500 uppercase tracking-tighter",children:"You"}),d.jsx("span",{className:"text-[14px] font-mono font-black text-neutral-700 dark:text-neutral-300",children:ve(a)})]}),d.jsx("div",{className:"w-full h-3 bg-neutral-100 dark:bg-neutral-800 rounded-full overflow-hidden shadow-inner border border-neutral-200 dark:border-neutral-700",children:d.jsx("div",{className:"h-full bg-green-500 transition-all duration-300 ease-out shadow-[0_0_8px_rgba(34,197,94,0.4)]",style:{width:`${I}%`}})})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-1 pt-1.5 border-t border-neutral-100 dark:border-neutral-800",children:[d.jsx("button",{onPointerDown:v=>v.stopPropagation(),onClick:()=>u("Ink War"),className:"py-2 px-3 border-2 border-neutral-800 dark:border-neutral-700 bg-white dark:bg-neutral-800 hover:bg-neutral-900 dark:hover:bg-neutral-100 hover:text-white dark:hover:text-black transition-all text-[11px] font-black uppercase tracking-tight shadow-sm active:translate-y-0.5 active:shadow-none",children:"To Battle"}),d.jsx("button",{onPointerDown:v=>v.stopPropagation(),onClick:()=>m(),className:"py-2 px-3 border-2 border-red-600/50 text-red-600 hover:bg-red-600 hover:text-white transition-all text-[11px] font-black uppercase tracking-tight shadow-sm active:translate-y-0.5 active:shadow-none",children:"Flee"})]})]})},Z5=({isLocked:t,onToggleLock:a})=>{const i=me(xt(q=>({autoChallengeUnlocked:!!q.autoChallengeUnlocked,autoRetryUnlocked:!!q.autoRetryUnlocked,autoAdvanceUnlocked:!!q.autoAdvanceUnlocked,autoHideMaxedUnlocked:!!q.autoHideMaxedUnlocked,conceptualBridgeUnlocked:!!q.conceptualBridgeUnlocked,autoChallengeActive:q.autoChallengeActive,autoRetryActive:q.autoRetryActive,autoAdvanceActive:q.autoAdvanceActive,autoHideMaxedActive:q.autoHideMaxedActive,conceptualBridgeActive:q.conceptualBridgeActive,toggleAutoChallenge:q.toggleAutoChallenge,toggleAutoRetry:q.toggleAutoRetry,toggleAutoAdvance:q.toggleAutoAdvance,toggleAutoHideMaxed:q.toggleAutoHideMaxed,toggleConceptualBridge:q.toggleConceptualBridge}))),{autoChallengeUnlocked:o,autoRetryUnlocked:s,autoAdvanceUnlocked:c,autoHideMaxedUnlocked:u,conceptualBridgeUnlocked:m,autoChallengeActive:g,autoRetryActive:p,autoAdvanceActive:b,autoHideMaxedActive:x,conceptualBridgeActive:w,toggleAutoChallenge:E,toggleAutoRetry:T,toggleAutoAdvance:k,toggleAutoHideMaxed:O,toggleConceptualBridge:z}=i,M={AUTO_CHALLENGE:o,AUTO_RETRY:s,AUTO_ADVANCE:c,AUTO_HIDE_MAXED:u,CONCEPTUAL_BRIDGE:m},_=Mn.filter(q=>q.type==="ACTIVE_PROTOCOL"&&M[q.id]),R=q=>{switch(q){case"AUTO_CHALLENGE":return{active:g,toggle:E};case"AUTO_RETRY":return{active:p,toggle:T};case"AUTO_ADVANCE":return{active:b,toggle:k};case"AUTO_HIDE_MAXED":return{active:x,toggle:O};case"CONCEPTUAL_BRIDGE":return{active:w,toggle:z};default:return{active:!1,toggle:()=>{}}}};return d.jsxs("div",{className:"h-full p-3 md:p-4 overflow-y-auto no-scrollbar bg-white dark:bg-neutral-950 transition-colors border-l border-neutral-300 dark:border-neutral-800",children:[d.jsxs("header",{className:"mb-4 md:mb-8 border-b-2 border-neutral-200 dark:border-neutral-800 pb-2 md:pb-4 flex justify-between items-start transition-colors",children:[d.jsx("button",{onClick:a,className:"text-neutral-400 dark:text-neutral-600 hover:text-neutral-900 dark:hover:text-neutral-100 p-1 hidden md:block transition-colors",title:t?"Unlock Sidebar":"Lock Sidebar Open",children:t?d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{d:"M10 2a5 5 0 00-5 5v2a2 2 0 00-2 2v5a2 2 0 002 2h10a2 2 0 002-2v-5a2 2 0 00-2-2H7V7a3 3 0 015.905-.75 1 1 0 001.937-.5A5.002 5.002 0 0010 2z"})})}),d.jsx("div",{className:"text-right",children:d.jsx("h2",{className:"text-xl font-black uppercase text-neutral-800 dark:text-neutral-100 tracking-tighter mb-1",children:"Protocols"})})]}),d.jsx("div",{className:"space-y-3",children:_.length===0?d.jsxs("div",{className:"text-center py-12 px-4 border-2 border-dashed border-neutral-200 dark:border-neutral-800 rounded-lg",children:[d.jsxs("p",{className:"text-xs text-neutral-400 uppercase font-bold tracking-widest leading-loose",children:["No active protocols",d.jsx("br",{}),"available."]}),d.jsx("p",{className:"text-[10px] text-neutral-500 font-serif italic mt-2",children:"Unlock tools in the shop to see them here."})]}):_.map(q=>{const{active:I,toggle:Y}=R(q.id);let v=ts;return q.icon==="Ink"&&(v=_n),q.icon==="Marker"&&(v=is),d.jsxs("button",{onClick:Y,className:`
                                    w-full text-left p-3 border-2 transition-all duration-200 flex flex-col group relative overflow-hidden
                                    ${I?"bg-green-50 dark:bg-green-900/10 border-green-600 dark:border-green-800 shadow-[2px_2px_0px_0px_rgba(22,163,74,0.3)]":"bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 hover:border-neutral-400 dark:hover:border-neutral-600"}
                                `,children:[d.jsxs("div",{className:"flex items-center justify-between mb-1 relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(v,{className:`w-4 h-4 ${I?"text-green-600 dark:text-green-400":"text-neutral-400 dark:text-neutral-600"}`}),d.jsx("span",{className:`font-black uppercase tracking-tighter text-xs ${I?"text-green-800 dark:text-green-200":"text-neutral-600 dark:text-neutral-400"}`,children:q.name})]}),d.jsx("div",{className:`w-2 h-2 rounded-full ${I?"bg-green-500 animate-pulse":"bg-neutral-200 dark:bg-neutral-800"}`})]}),d.jsx("p",{className:"text-[10px] text-neutral-500 dark:text-neutral-500 leading-tight mb-2 relative z-10 font-medium",children:q.description}),d.jsx("div",{className:`text-[9px] font-bold uppercase tracking-wider ${I?"text-green-700 dark:text-green-400":"text-neutral-400 dark:text-neutral-600"}`,children:I?" Active":" Disabled"}),I&&d.jsx("div",{className:"absolute top-0 right-0 w-12 h-12 bg-green-500/5 rotate-45 translate-x-6 -translate-y-6"})]},q.id)})}),d.jsx("div",{className:"mt-8 pt-6 border-t border-neutral-200 dark:border-neutral-900"})]})};function Q5(){const{unlockedStories:t,viewedStories:a,completeStory:i}=me(xt(b=>({unlockedStories:b.unlockedStories,viewedStories:b.viewedStories,completeStory:b.completeStory}))),[o,s]=J.useState(""),c=J.useRef(null),u=rx.find(b=>t.includes(b.id)&&!a.includes(b.id));if(J.useEffect(()=>{if(!u)return;s("");const b=u.text;let x=0;return c.current=setInterval(()=>{x<b.length?(s(b.slice(0,x+1)),x++):c.current&&(clearInterval(c.current),c.current=null)},30),()=>{c.current&&(clearInterval(c.current),c.current=null)}},[u]),!u)return null;const m=()=>{c.current&&(clearInterval(c.current),c.current=null),s(u.text)},g=()=>{i(u.id)},p=o===u.text;return d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm transition-colors",children:d.jsxs("div",{className:"bg-white dark:bg-neutral-900 border-4 border-black dark:border-neutral-800 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-8 max-w-2xl w-full mx-8 transition-colors",children:[d.jsx("h2",{className:"text-4xl italic text-neutral-800 dark:text-neutral-100 mb-6 border-b-2 border-neutral-200 dark:border-neutral-800 pb-4 transition-colors",style:{fontFamily:"Crimson Text, serif",fontWeight:600},children:u.title}),d.jsx("div",{className:"mb-8 min-h-[120px]",children:d.jsxs("p",{className:"text-2xl italic text-neutral-700 dark:text-neutral-300 leading-relaxed transition-colors",style:{fontFamily:"Crimson Text, serif",visibility:o?"visible":"hidden"},children:[o,!p&&d.jsx("span",{className:"animate-pulse",children:"|"})]})}),d.jsxs("div",{className:"flex justify-end gap-4",children:[!p&&d.jsx("button",{onClick:m,className:"px-6 py-2 text-sm font-bold uppercase tracking-wider border-2 border-neutral-300 dark:border-neutral-700 text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-all",children:"Skip"}),p&&d.jsx("button",{onClick:g,className:"px-6 py-2 text-sm font-bold uppercase tracking-wider border-2 border-black dark:border-neutral-700 bg-white dark:bg-neutral-800 text-black dark:text-neutral-100 hover:bg-black dark:hover:bg-neutral-700 hover:text-white dark:hover:text-white transition-all",children:"Continue"})]})]})})}const W5=(t,a)=>{const i=ox(t),o={};return Object.entries(i).forEach(([s,c])=>{c&&c.gt(0)&&(o[s]=c.times(a))}),o},J5=(t,a)=>{const i={},{concepts:o,conceptMilestones:s}=t;return dr.forEach((c,u)=>{const m=o[c]||new f(0),g=s[c]||0;if(g>0&&m.gt(0)){const p=new f(1e3).pow(g-1),x=m.times(p).times(a);if(x.gt(0))if(u===0)i["Pending Quintessence"]=(i["Pending Quintessence"]||new f(0)).plus(x);else{const w=dr[u-1];i[w]=(i[w]||new f(0)).plus(x)}}}),i},$y={Graphite:rs,Wax:yc,Charcoal:xc,Coffee:bc,Ink:_n,Marker:is,Acrylic:i0,Spray:o0,Photon:s0,"Gold Leaf":l0},eT=({gains:t,conceptGains:a,elapsedSeconds:i,onClose:o})=>{const s=Object.entries(t).filter(([w,E])=>E.gt(0)),c=Object.entries(a).filter(([w,E])=>E.gt(0)),u=Math.floor(i/86400),m=Math.floor(i%86400/3600),g=Math.floor(i%3600/60),p=Math.floor(i%60),b=[];u>0&&b.push(`${u}d`),m>0&&b.push(`${m}h`),g>0&&b.push(`${g}m`),(p>0||b.length===0)&&b.push(`${p}s`);const x=b.join(" ");return s.length===0&&c.length===0?null:d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-80 backdrop-blur-sm p-4 animate-in fade-in duration-300 transition-colors",children:d.jsxs("div",{className:"bg-white dark:bg-neutral-900 max-w-4xl w-full border-4 border-black dark:border-neutral-800 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative animate-in zoom-in-95 duration-300 flex flex-col max-h-[90vh] transition-colors",children:[d.jsx("h2",{className:"text-2xl font-black uppercase tracking-tighter mb-2 text-center text-neutral-900 dark:text-neutral-100",children:"Welcome Back"}),d.jsxs("p",{className:"text-neutral-500 dark:text-neutral-400 font-serif italic text-center mb-6",children:["While you were away for ",d.jsx("span",{className:"font-bold not-italic text-black dark:text-neutral-100",children:x}),", your currency generators continued their work."]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8 overflow-hidden min-h-0 flex-1",children:[d.jsxs("div",{className:"flex flex-col min-h-0",children:[d.jsxs("h4",{className:"text-xs font-bold uppercase text-neutral-500 dark:text-neutral-400 tracking-widest mb-3 pb-2 border-b-2 border-neutral-100 dark:border-neutral-800 flex items-center justify-between transition-colors",children:[d.jsx("span",{children:"Currency Generation"}),d.jsxs("span",{className:"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400 px-2 py-0.5 rounded-full text-[10px] transition-colors",children:[s.length," Items"]})]}),s.length>0?d.jsx("div",{className:"border border-neutral-200 dark:border-neutral-800 rounded-lg overflow-hidden overflow-y-auto scrollbar-thin scrollbar-thumb-neutral-300 dark:scrollbar-thumb-neutral-700 flex-1 transition-colors",children:s.map(([w,E],T)=>{const k=$y[w]||_n;return d.jsxs("div",{className:`flex items-center justify-between p-4 bg-white dark:bg-neutral-800 ${T!==s.length-1?"border-b border-neutral-100 dark:border-neutral-700":""} transition-colors`,children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-neutral-100 dark:bg-neutral-900 flex items-center justify-center text-neutral-500 dark:text-neutral-400 transition-colors",children:d.jsx(k,{className:"w-6 h-6"})}),d.jsx("span",{className:"font-bold uppercase tracking-wider text-sm text-neutral-600 dark:text-neutral-300 transition-colors",children:w})]}),d.jsxs("span",{className:"font-black font-mono text-xl text-neutral-900 dark:text-neutral-100 transition-colors",children:["+",ve(E)]})]},w)})}):d.jsx("div",{className:"flex-1 flex items-center justify-center text-neutral-400 dark:text-neutral-500 italic font-serif bg-neutral-50 dark:bg-neutral-950/50 rounded-lg border border-neutral-100 dark:border-neutral-800 border-dashed transition-colors",children:"No currency gains"})]}),d.jsxs("div",{className:"flex flex-col min-h-0",children:[d.jsxs("h4",{className:"text-xs font-bold uppercase text-neutral-500 dark:text-neutral-400 tracking-widest mb-3 pb-2 border-b-2 border-neutral-100 dark:border-neutral-800 flex items-center justify-between transition-colors",children:[d.jsx("span",{children:"Conceptual Synthesis"}),d.jsxs("span",{className:"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400 px-2 py-0.5 rounded-full text-[10px] transition-colors",children:[c.length," Items"]})]}),c.length>0?d.jsx("div",{className:"border border-neutral-200 dark:border-neutral-800 rounded-lg overflow-hidden overflow-y-auto scrollbar-thin scrollbar-thumb-neutral-300 dark:scrollbar-thumb-neutral-700 flex-1 transition-colors",children:c.map(([w,E],T)=>{const k=w==="Quintessence"||w==="Pending Quintessence",O=k?os:$y[w]||_n;return d.jsxs("div",{className:`flex items-center justify-between p-4 bg-white dark:bg-neutral-800 ${T!==c.length-1?"border-b border-neutral-100 dark:border-neutral-700":""} transition-colors`,children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-black dark:bg-neutral-950 flex items-center justify-center transition-colors",children:d.jsx(O,{className:`w-6 h-6 ${k?"text-purple-400 dark:text-purple-300":""}`,color:k?void 0:"#C084FC"})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-bold uppercase tracking-wider text-sm text-neutral-900 dark:text-neutral-100 transition-colors",children:k?"Pending Quintessence":`${w}`}),!k&&d.jsx("div",{className:"text-[10px] uppercase font-bold text-neutral-400 dark:text-neutral-500 transition-colors",children:"Concept"})]})]}),d.jsxs("span",{className:"font-black font-mono text-xl text-neutral-900 dark:text-neutral-100 transition-colors",children:["+",ve(E)]})]},w)})}):d.jsx("div",{className:"flex-1 flex items-center justify-center text-neutral-400 dark:text-neutral-500 italic font-serif bg-neutral-50 dark:bg-neutral-950/50 rounded-lg border border-neutral-100 dark:border-neutral-800 border-dashed transition-colors",children:"No concept gains"})]})]}),d.jsx("button",{onClick:o,className:"w-full py-3 bg-black dark:bg-neutral-700 text-white font-black uppercase tracking-widest hover:bg-neutral-800 dark:hover:bg-neutral-600 transition-colors border-2 border-transparent hover:border-black dark:hover:border-neutral-500",children:"Collect Resources"})]})})},oc=[{targetId:"tutorial-sidebar-portrait",title:"Your Rejected Draft",text:"This is what your draft looked like when it got rejected - but don't worry, we will find a way to improve it! Also you can click it to review the storyline.",tab:"Gallery",position:"right",scrollBlock:"start"},{targetId:"tutorial-sidebar-stats",title:"Battle Stats",text:"These are your current battle stats. There will be many more that you unlock as you progress. Hover over them to get more insight about what each does.",tab:"Gallery",position:"right"},{targetId:"tutorial-sidebar-fundamentals",title:"Fundamentals",text:"Think of these as global boosts that can improve every aspect of the game. They are unlocked through the Masterpiece Archive (aka Prestige, more on that later).",tab:"Gallery",position:"right",dialogueVAlign:"top",scrollBlock:"start"},{targetId:"tutorial-gallery",title:"The Gallery",text:"This is the Gallery. Here you can discover and challenge The Artist's other sketches to gain stats and currencies.",tab:"Gallery",position:"left"},{targetId:"tutorial-gallery-sketch-stats",title:"Sketch Stats",text:"Each sketch has its own stats. Compare them with your own in the sidebar to gauge your chances of victory.",tab:"Gallery",position:"right"},{title:"Rewards & Diminishing Returns",targetId:"tutorial-gallery-card-rewards",tab:"Gallery",position:"top",text:"Victory grants these rewards. Each time you are victorious over a sketch you gain both Stats (Left) and Currencies (Right). Rewards shown are the base value - they get multiplied by all sorts of multipliers that you can unlock. However, rewards diminish with each victory (90% base) - so keep finding new victims!",noScroll:!0},{targetId:"tutorial-gallery-sketch-challenge",title:"The Challenge",text:"Click Challenge to enter battle! You can freely navigate to other in-game screens; the fight will continue in the background! You can freely challenge again after wins, but losing will trigger a cooldown (10s for loss, 5s for escape).",tab:"Gallery",position:"right"},{targetId:"tutorial-tab-shop",title:"The Shop",text:"This is where you spend your all your currencies. The first one you will find is Graphite.",tab:"Shop",position:"bottom"},{targetId:"tutorial-shop-market",title:"The Market",text:"Purchase special tools here. These are one-time unlocks that provide powerful capabilities like automation or passive income.",tab:"Shop",subTab:"tools",position:"left",noScroll:!0,dialogueVAlign:"top"},{targetId:"tutorial-shop-protocols",title:"Active Protocols",text:"Some unlocked tools appear here as toggleable protocols. Be sure to toggle them in a way that helps optimize your progress!",tab:"Shop",subTab:"tools",position:"left",noScroll:!0,dialogueVAlign:"top"},{targetId:"tutorial-shop-upgrades",title:"Stat Upgrades",text:"Infinitely scaling upgrades for your battle stats. Focus on these to push past tougher enemies. Leveling them may require some clicking but you will soon automate them!",tab:"Shop",subTab:"upgrades",position:"left",dialogueVAlign:"top",scrollBlock:"start"},{targetId:"tutorial-tab-archive",title:"The Archive",text:"The Archive is where you reflect on your progress and unlock global improvements.",tab:"Archive",position:"bottom"},{targetId:"tutorial-archive-synthesizer",title:"Conceptual Synthesizer",text:"View your milestones and concepts here. This is the heart of your prestige progression. Milestones are driven by your total currency gained, so don't be afraid to spend in the Shop!",tab:"Archive",subTab:"synthesis",position:"left"},{targetId:"tutorial-archive-graphite-row",title:"Milestones & Concepts",text:"Your first milestone will come at 1618 total Graphite gained. This will turn on the Graphite Concept production which generates Quintessence. Each milestone after that will increase production per count by 1000x!",tab:"Archive",subTab:"synthesis",position:"bottom",scrollBlock:"center"},{targetId:"tutorial-archive-secondary-concepts",title:"Exponential Growth",text:"Wax and subsequent Concepts work differently. Rather than generating Quintessence, they generate count for the Concept immediately above them. This leads to truly exponential gains!",tab:"Archive",subTab:"synthesis",position:"bottom"},{targetId:"tutorial-archive-prestige-panel",title:"The Redraw (Prestige)",text:'The Quintessence generated by your Concepts remains "Pending" until you perform a Redraw. You can prestige at a minimum of 10 Quintessence, but aiming for 300+ for your first run is recommended!',tab:"Archive",subTab:"synthesis",position:"left"},{targetId:"tutorial-archive-masterpiece",title:"Masterpiece Archive",text:"The Skill Tree! There are only good choices and better choices. This one will make a lot more sense after your first Redraw. And remember, you can always gain more Quintessence through another Redraw.",tab:"Archive",subTab:"masterpiece",position:"left",dialogueVAlign:"top"},{title:"The Glossary",targetId:"tutorial-archive-glossary",tab:"Archive",subTab:"glossary",position:"top",text:"On the Glossary you can view all sketches. Each sketch you are victorious over will be permanently shown here (preserved across Prestiges) and will increase your Glossary Multiplier (boosting HP & ATK). Higher rarity sketches give a bigger boost!",noScroll:!0},{targetId:"tutorial-sidebar-portrait",title:"The Journey Begins",text:"That's pretty much it. Enjoy the game!",tab:"Gallery",position:"right",dialogueVAlign:"top"}],tT=()=>{const{tutorialStep:t,setTutorialStep:a,setActiveTab:i,setArchiveActiveSubTab:o,setShopActiveSubTab:s}=me(xt(M=>({tutorialStep:M.tutorialStep,setTutorialStep:M.setTutorialStep,setActiveTab:M.setActiveTab,setArchiveActiveSubTab:M.setArchiveActiveSubTab,setShopActiveSubTab:M.setShopActiveSubTab}))),[c,u]=J.useState(null);if(J.useEffect(()=>{if(t===null){u(null);return}const M=oc[t-1];if(!M)return;i(M.tab),M.subTab&&(M.tab==="Archive"?o(M.subTab):M.tab==="Shop"&&s(M.subTab));let _;const R=()=>{const I=document.getElementById(M.targetId);if(I){const Y=I.getBoundingClientRect();u(v=>v&&Math.abs(v.x-Y.left)<.5&&Math.abs(v.y-Y.top)<.5&&Math.abs(v.w-Y.width)<.5&&Math.abs(v.h-Y.height)<.5?v:{x:Y.left,y:Y.top,w:Y.width,h:Y.height})}_=requestAnimationFrame(R)},q=setTimeout(()=>{const I=document.getElementById(M.targetId);I&&!M.noScroll&&I.scrollIntoView({behavior:"smooth",block:M.scrollBlock||"center"})},150);return _=requestAnimationFrame(R),()=>{cancelAnimationFrame(_),clearTimeout(q)}},[t,i,o,s]),t===null||!c)return null;const m=oc[t-1],g=t===1,p=t===oc.length,b=()=>{p?(a(null),me.setState({hasSeenTutorial:!0})):a(t+1)},x=()=>{g||a(t-1)},w=()=>{a(null),me.setState({hasSeenTutorial:!0})};let E={};const T=20,k=(M,_)=>M.dialogueVAlign==="top"?T:M.dialogueVAlign==="bottom"?_.h-T:_.h/2,O=M=>M.dialogueVAlign==="top"?"none":M.dialogueVAlign==="bottom"?"translateY(-100%)":"translateY(-50%)",z=typeof window<"u"&&window.innerWidth<768;return z?E={left:"50%",bottom:"20px",transform:"translateX(-50%)",width:"90%",maxWidth:"400px"}:m.position==="right"?E={left:c.x+c.w+T,top:c.y+k(m,c),transform:O(m)}:m.position==="left"?E={left:c.x-T,top:c.y+k(m,c),transform:`translate(-100%, ${m.dialogueVAlign==="top"?"0":m.dialogueVAlign==="bottom"?"-100%":"-50%"})`}:m.position==="bottom"?E={left:c.x+c.w/2,top:c.y+c.h+T,transform:"translateX(-50%)"}:m.position==="top"?E={left:c.x+c.w/2,top:c.y-T,transform:"translate(-50%, -100%)"}:E={left:"50%",top:"50%",transform:"translate(-50%, -50%)"},d.jsxs("div",{className:"fixed inset-0 z-[200] pointer-events-none",children:[d.jsx("div",{className:"absolute inset-0 bg-black/60 transition-opacity duration-300",style:{clipPath:`polygon(
                        0% 0%, 0% 100%, ${c.x}px 100%, 
                        ${c.x}px ${c.y}px, 
                        ${c.x+c.w}px ${c.y}px, 
                        ${c.x+c.w}px ${c.y+c.h}px, 
                        ${c.x}px ${c.y+c.h}px, 
                        ${c.x}px 100%, 100% 100%, 100% 0%
                    )`}}),d.jsx("div",{className:"absolute border-4 border-amber-400 rounded-lg shadow-[0_0_20px_rgba(251,191,36,0.5)] transition-all duration-300",style:{left:c.x-4,top:c.y-4,width:c.w+8,height:c.h+8}}),d.jsxs("div",{className:"absolute bg-white dark:bg-neutral-900 border-4 border-black dark:border-neutral-800 p-4 md:p-6 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] w-full md:w-80 pointer-events-auto animate-in fade-in slide-in-from-bottom-4 duration-300 z-[210] transition-colors",style:E,children:[d.jsxs("div",{className:"text-amber-600 font-bold uppercase text-[10px] md:text-xs tracking-widest mb-1",children:["Tutorial: ",t," / ",oc.length]}),d.jsx("h3",{className:"text-lg md:text-xl font-black uppercase text-neutral-800 dark:text-neutral-100 mb-2 md:mb-3 leading-tight font-sans transition-colors",children:m.title}),d.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 font-serif italic text-xs md:text-sm leading-relaxed mb-4 md:mb-6 transition-colors",children:m.text}),d.jsxs("div",{className:"flex justify-between items-center mb-4 md:mb-6",children:[d.jsx("button",{onClick:x,disabled:g,className:`text-[10px] md:text-xs font-bold uppercase tracking-wider transition-colors ${g?"text-neutral-300 dark:text-neutral-700 cursor-not-allowed":"text-neutral-500 dark:text-neutral-400 hover:text-black dark:hover:text-white"}`,children:"Previous"}),d.jsx("button",{onClick:b,className:"px-4 md:px-6 py-2 bg-black dark:bg-neutral-800 text-white text-[10px] md:text-xs font-bold uppercase tracking-widest hover:bg-neutral-800 dark:hover:bg-neutral-700 transition-colors shadow-[4px_4px_0px_0px_rgba(0,0,0,0.2)] dark:shadow-none",children:p?"Finish":"Next"})]}),d.jsxs("div",{className:"pt-4 border-t border-neutral-100 dark:border-neutral-800 flex flex-col items-center transition-colors",children:[d.jsx("button",{onClick:w,className:"text-red-600 dark:text-red-500 font-bold uppercase text-[10px] tracking-tighter hover:bg-red-50 dark:hover:bg-red-950/30 px-2 py-1 rounded transition-colors",children:"Skip Tutorial"}),d.jsx("div",{className:"text-[9px] text-neutral-400 dark:text-neutral-500 font-serif italic mt-1 transition-colors",children:"(You can revisit the guide from Settings)"})]}),!z&&d.jsx("div",{className:`absolute w-0 h-0 border-transparent transition-all
                        ${m.position==="right"?"border-r-white dark:border-r-neutral-900 border-[10px] -left-5 top-1/2 -translate-y-1/2":""}
                        ${m.position==="left"?"border-l-white dark:border-l-neutral-900 border-[10px] -right-5 top-1/2 -translate-y-1/2":""}
                        ${m.position==="top"?"border-t-white dark:border-t-neutral-900 border-[10px] -bottom-5 left-1/2 -translate-x-1/2":""}
                        ${m.position==="bottom"?"border-b-white dark:border-b-neutral-900 border-[10px] -top-5 left-1/2 -translate-x-1/2":""}
                    `})]})]})},nT=()=>{const t=me(g=>g.tipInterval),a=me(g=>g.tipScrollSpeed),i=me(g=>g.enabledTipCategories),[o,s]=J.useState(null),[c,u]=J.useState(!1),m=()=>{if(t===0)return;const g=Z4.filter(b=>i[b.category]);if(g.length===0)return;const p=g[Math.floor(Math.random()*g.length)];s(p.text),u(!0),setTimeout(()=>{u(!1),s(null)},a*1e3)};return xn(()=>{c||m()},t>0?t*1e3:null),J.useEffect(()=>{const g=setTimeout(()=>{me.getState().tipInterval>0&&m()},2e3);return()=>clearTimeout(g)},[]),d.jsx("div",{className:"hidden md:flex items-center justify-center w-[360px] lg:w-[540px] h-8 overflow-hidden relative mx-2 pointer-events-none self-center",children:c&&o&&d.jsx("div",{className:"whitespace-nowrap font-serif italic text-[12px] text-neutral-600 dark:text-neutral-300 animate-tip-scroll absolute top-1/2 -translate-y-1/2",style:{animationDuration:`${a}s`},children:o})})};function aT(){const{viewedStories:t,themeChosen:a,markThemeChosen:i,setDarkMode:o}=me(xt(c=>({viewedStories:c.viewedStories,themeChosen:c.themeChosen,markThemeChosen:c.markThemeChosen,setDarkMode:c.setDarkMode})));if(!t.includes("THE_PREMISE")||a)return null;const s=c=>{o(c),i()};return d.jsxs("div",{className:"fixed inset-0 z-[110] flex flex-col items-center justify-center bg-black transition-all",children:[d.jsxs("div",{className:"absolute inset-0 flex flex-row",children:[d.jsxs("button",{onClick:()=>s(!1),className:"flex-1 bg-neutral-100 hover:bg-white transition-colors flex flex-col items-center justify-center p-8 group overflow-hidden relative",children:[d.jsx("div",{className:"absolute top-8 left-1/2 -translate-x-1/2 opacity-20 group-hover:opacity-40 transition-opacity whitespace-nowrap",children:d.jsx("span",{className:"text-8xl font-black uppercase tracking-tighter text-neutral-400",children:"Pristine"})}),d.jsxs("div",{className:"z-10 text-center",children:[d.jsx("h2",{className:"text-5xl md:text-7xl font-black uppercase tracking-tighter text-neutral-900 mb-4 group-hover:scale-110 transition-transform",children:"Normal"}),d.jsx("p",{className:"text-neutral-500 font-serif italic text-lg max-w-xs mx-auto",children:"The Artist's light. Blinding. Honest."})]}),d.jsx("div",{className:"mt-8 border-4 border-black px-6 py-2 bg-white text-black font-bold uppercase tracking-widest group-hover:bg-black group-hover:text-white transition-all shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:"Select"})]}),d.jsxs("button",{onClick:()=>s(!0),className:"flex-1 bg-neutral-900 hover:bg-black transition-colors flex flex-col items-center justify-center p-8 group overflow-hidden relative",children:[d.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 opacity-20 group-hover:opacity-40 transition-opacity whitespace-nowrap",children:d.jsx("span",{className:"text-8xl font-black uppercase tracking-tighter text-neutral-600",children:"Void"})}),d.jsxs("div",{className:"z-10 text-center",children:[d.jsx("h2",{className:"text-5xl md:text-7xl font-black uppercase tracking-tighter text-white mb-4 group-hover:scale-110 transition-transform",children:"Dark"}),d.jsx("p",{className:"text-neutral-400 font-serif italic text-lg max-w-xs mx-auto",children:"The wastebasket's comfort. Cool. Quiet."})]}),d.jsx("div",{className:"mt-8 border-4 border-white px-6 py-2 bg-black text-white font-bold uppercase tracking-widest group-hover:bg-white group-hover:text-black transition-all shadow-[8px_8px_0px_0px_rgba(255,255,255,0.5)]",children:"Select"})]})]}),d.jsxs("div",{className:"z-20 pointer-events-none absolute bottom-12 text-center bg-black/50 backdrop-blur-md border-2 border-white/20 px-8 py-4 rounded-full",children:[d.jsx("p",{className:"text-white font-bold uppercase tracking-widest text-sm md:text-base",children:"Select your preferred theme"}),d.jsx("p",{className:"text-neutral-400 text-[12px] uppercase tracking-tighter mt-1",children:"This can be changed in settings at any point"})]})]})}const rT=()=>me(a=>{const{currencies:i,shopLevels:o,totalEarnedCurrencies:s,fundamentals:c}=a;return Mn.some(m=>{if(!!a[m.unlockKey]||m.currency!=="Graphite"&&(s[m.currency]?.eq(0)??!0))return!1;const b=An(m.cost,m.currency,c);return(i[m.currency]||new f(0)).gte(b)})?!0:sr.some(m=>{const g=o[m.id]?.toNumber()||0;if(m.currency!=="Graphite"&&(s[m.currency]?.eq(0)??!0))return!1;const b=An(Gi(m,new f(g),a),m.currency,c);return(i[m.currency]||new f(0)).gte(b)})})?d.jsxs("span",{className:"absolute -top-1 -right-1 flex h-2 w-2 md:h-3 md:w-3",children:[d.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-75"}),d.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 md:h-3 md:w-3 bg-amber-500"})]}):null,iT=()=>me(a=>{const{glossaryUnlocks:i,seenGlossaryItems:o,totalEarnedCurrencies:s,conceptMilestones:c}=a;return i.length>o.length?!0:dr.some(u=>{const m=s[u]||new f(0),g=c[u]||0,p=qi[g];return p&&m.gte(p)})})?d.jsxs("span",{className:"absolute -top-1 -right-1 flex h-2 w-2 md:h-3 md:w-3",children:[d.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-75"}),d.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 md:h-3 md:w-3 bg-amber-500"})]}):null;function oT(){const t=me(I=>I.unlockedTabs),a=me(I=>I.activeTab),i=me(I=>I.setActiveTab),o=me(I=>I.combatState.isFighting),[s,c]=J.useState(window.innerWidth<768);J.useEffect(()=>{const I=()=>c(window.innerWidth<768);return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]);const u=()=>{switch(a){case"Rejected Draft":return d.jsx("div",{className:"h-full bg-white dark:bg-neutral-950 transition-colors",children:d.jsx(Ug,{isLocked:!0,onToggleLock:()=>{}})});case"Gallery":return d.jsx(Hg,{});case"Shop":return d.jsx(A2,{});case"Archive":return d.jsx(B4,{});case"Ink War":return d.jsx(N2,{});case"Settings":return d.jsx(Q4,{});default:return d.jsx(Hg,{})}},[m,g]=J.useState(!0),p=s?["Rejected Draft",...t.filter(I=>I!=="Rejected Draft")]:t.filter(I=>I!=="Rejected Draft"),[b,x]=J.useState(null),[w,E]=J.useState(null),[T,k]=J.useState(0),O=J.useCallback(()=>{const I=me.getState(),Y=Date.now(),v=I.lastSaveTime;if(v){const N=(Y-v)/1e3;if(N>60){const B=W5(I,N),H=J5(I,N);(Object.values(B).some(F=>F.gt(0))||Object.values(H).some(F=>F.gt(0)))&&(x(B),E(H),k(N))}}},[]);J.useEffect(()=>{O()},[O]),J.useEffect(()=>{const I=()=>{document.visibilityState==="hidden"?me.getState().setLastSaveTime(Date.now()):document.visibilityState==="visible"&&O()};return document.addEventListener("visibilitychange",I),()=>document.removeEventListener("visibilitychange",I)},[O]),xn(()=>{document.visibilityState==="visible"&&me.getState().setLastSaveTime(Date.now())},3e4);const z=()=>{b&&w&&(me.getState().grantOfflineGains(b,w),me.getState().setLastSaveTime(Date.now()),x(null),E(null))},{darkMode:M,showProtocolSidebar:_,isProtocolSidebarLocked:R,setIsProtocolSidebarLocked:q}=me(xt(I=>({darkMode:I.darkMode,showProtocolSidebar:I.showProtocolSidebar,isProtocolSidebarLocked:I.isProtocolSidebarLocked,setIsProtocolSidebarLocked:I.setIsProtocolSidebarLocked})));return J.useEffect(()=>{M?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[M]),d.jsxs("div",{className:`h-screen w-screen flex font-sans overflow-hidden transition-colors duration-300 ${M?"dark bg-neutral-950 text-neutral-100":"bg-neutral-100 text-neutral-800"}`,children:[d.jsx(tT,{}),b&&w&&d.jsx(eT,{gains:b,conceptGains:w,elapsedSeconds:T,onClose:z}),d.jsx(Q5,{}),d.jsx(aT,{}),d.jsx(W4,{}),d.jsx($5,{}),d.jsx(X5,{}),d.jsxs("aside",{id:"tutorial-sidebar",className:`
            transition-[width] duration-300 ease-out h-full shadow-[4px_0_24px_rgba(0,0,0,0.1)] z-30 relative overflow-hidden group border-r border-neutral-300 bg-white
            dark:bg-neutral-950 dark:border-neutral-800
            ${m?"w-[320px]":"w-12 hover:w-[320px]"}
        `,children:[!m&&d.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-12 flex flex-col items-center justify-center pointer-events-none group-hover:opacity-0 transition-opacity duration-200",children:d.jsx("div",{className:"uppercase font-black text-neutral-400 tracking-widest text-xs whitespace-nowrap rotate-[-90deg]",children:"Rejected Draft"})}),d.jsx("div",{className:`w-[320px] h-full transition-opacity duration-300 delay-75 ${m?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:d.jsx(Ug,{isLocked:m,onToggleLock:()=>g(!m)})})]}),d.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-neutral-50 dark:bg-neutral-950",children:[d.jsx("header",{className:"bg-white dark:bg-neutral-900 border-b-4 border-neutral-800 dark:border-neutral-900 p-2 md:p-4 shadow-sm shrink-0 z-20 transition-all",children:d.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4 px-2 md:px-4",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("button",{onClick:me(I=>I.toggleTimeAcceleration),className:`
                        px-2 md:px-3 py-1 md:py-1.5 rounded text-[10px] md:text-xs font-mono font-bold border transition-colors
                        ${me(I=>I.devSpeedEnabled)?"bg-amber-100 border-amber-300 text-amber-800":"bg-neutral-50 border-neutral-200 text-neutral-400 hover:text-neutral-600"}
                    `,title:"Toggle Dev Mode (10x Speed, 1s Cooldowns)",children:me(I=>I.devSpeedEnabled)?"Dev: ON":"Dev: OFF"})}),d.jsxs("nav",{className:"flex gap-1 md:gap-2 flex-wrap justify-center overflow-x-auto no-scrollbar pb-1 pt-2 max-w-full",children:[d.jsx(nT,{}),o&&d.jsx("button",{onClick:()=>i("Ink War"),className:`
                    px-3 md:px-4 py-1.5 md:py-2 text-[10px] md:text-sm font-bold uppercase tracking-wide border-2 transition-all duration-200 shrink-0
                    ${a==="Ink War"?"bg-red-600 text-white border-red-800 shadow-[2px_2px_0px_0px_rgba(185,28,28,0.4)] md:shadow-[4px_4px_0px_0px_rgba(185,28,28,0.4)] transform -translate-y-1":"bg-white text-red-600 border-red-600 hover:bg-red-50 hover:shadow-[2px_2px_0px_0px_rgba(185,28,28,0.2)]"}
                  `,children:" Battle"}),p.map(I=>d.jsxs("button",{id:I==="Shop"?"tutorial-tab-shop":I==="Archive"?"tutorial-tab-archive":void 0,onClick:()=>i(I),className:`
                    px-3 md:px-4 py-1.5 md:py-2 text-[10px] md:text-sm font-bold uppercase tracking-wide border-2 transition-all duration-200 relative shrink-0
                    ${a===I?"bg-black text-white border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,0.3)] transform -translate-y-1 dark:bg-neutral-100 dark:text-neutral-900 dark:border-neutral-100":"bg-white text-black border-neutral-400 hover:border-black hover:text-black hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,0.1)] dark:bg-neutral-800 dark:text-neutral-300 dark:border-neutral-700 dark:hover:border-neutral-500"}
                  `,children:[I==="Rejected Draft"&&s?"Draft":I,I==="Shop"&&d.jsx(rT,{}),I==="Archive"&&d.jsx(iT,{})]},I))]})]})}),d.jsx("main",{className:"flex-1 p-2 md:p-8 overflow-y-auto bg-neutral-100 dark:bg-neutral-950 scrollbar-thin scrollbar-thumb-neutral-400 scrollbar-track-transparent transition-colors",children:d.jsx("div",{className:"h-full max-w-7xl mx-auto w-full bg-white dark:bg-neutral-950 border-2 border-neutral-200 dark:border-neutral-800 rounded-xl shadow-sm overflow-hidden relative min-h-[600px] transition-colors",children:u()})})]}),_&&d.jsxs("aside",{className:`
              transition-[width] duration-300 ease-out h-full shadow-[-4px_0_24px_rgba(0,0,0,0.1)] z-30 relative overflow-hidden group border-l border-neutral-300 bg-white
              dark:bg-neutral-950 dark:border-neutral-800
              ${R?"w-[210px]":"w-12 hover:w-[210px]"}
          `,children:[!R&&d.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-12 flex flex-col items-center justify-center pointer-events-none group-hover:opacity-0 transition-opacity duration-200",children:d.jsx("div",{className:"uppercase font-black text-neutral-400 tracking-widest text-[10px] whitespace-nowrap rotate-[90deg]",children:"Active Protocols"})}),d.jsx("div",{className:`w-[210px] h-full transition-opacity duration-300 delay-75 ${R?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:d.jsx(Z5,{isLocked:R,onToggleLock:()=>q(!R)})})]})]})}yv.createRoot(document.getElementById("root")).render(d.jsx(oT,{}));
